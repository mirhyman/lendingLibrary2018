if (self.CavalryLogger) { CavalryLogger.start_js(["cSdZr"]); }

__d("FunFactStrings",["fbt"],(function a(b,c,d,e,f,g,h){"use strict";var i={SINGLE_PROMPT_ANSWER_QUESTION:h._("Add an Answer"),SINGLE_PROMPT_ANSWER_TAB:h._("Answer"),SINGLE_PROMPT_ASK_QUESTION_PLACEHOLDER:h._("What are you curious about?"),SINGLE_PROMPT_ASK_TAB:h._("Ask"),SINGLE_PROMPT_DIALOG_TITLE:h._("Did you know?"),SINGLE_PROMPT_RANDOMIZE_QUESTION:h._("New Question"),SINGLE_PROMPT_SAVE_AND_TAG:h._("Save And Tag Friends"),MANAGE_QUESTIONS_DELETE_DIALOG_CONTENT:h._("Are you sure you want to delete this question?"),MANAGE_QUESTIONS_DELETE_DIALOG_TITLE:h._("Delete Question")};f.exports=i}),null);
__d("ProfileFunFactsEntryPoint",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CTA:"cta",SELF_CTA:"self_cta",COLLECTION:"collection",NEWSFEED_COMPOSER:"newsfeed_composer",TIMELINE_COMPOSER:"timeline_composer",SELF_PROTILE:"self_protile",SELF_PROTILE_NULL:"self_protile_null",UNKNOWN:"unknown"})}),null);
__d("ProfileFunFactsTestIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COLLECTION_ENTRY_POINT:"profile_fun_facts_collection_entry",COMPOSER_TAGGER:"profile_fun_facts_composer_tagger",DIALOG:"profile_fun_facts_dialog",SELECTOR_RANDOMIZE:"profile_fun_facts_selector_randomize",SELECTOR_SELECT:"profile_fun_facts_selector_select"})}),null);
__d("XProfileFunFactsSinglePromptFetchController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/profile/fun_facts/single_prompt/fetch/",{cursor:{type:"String"},fetch_amount:{type:"Int"},pinned_prompt_id:{type:"FBID"},random_seed:{type:"Int"}})}),null);
__d("FunFactSinglePromptSelector.react",["ix","cx","AsyncRequest","CurrentUser","FlexLayout.react","FunFactStrings","Image.react","ProfileEngagementTypedLogger","ProfileFunFactsEntryPoint","ProfileFunFactsTestIDs","Random","React","TextWithEmoticons.react","XProfileFunFactsSinglePromptFetchController","XUIButton.react","XUISpinner.react","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=10;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={cursor:null,isLoading:true,prompts:[],selectedIndex:-1},this.$FunFactSinglePromptSelector1=c("Random").uint32(),this.$FunFactSinglePromptSelector2=null,this.$FunFactSinglePromptSelector5=function(){var s=this.state.selectedIndex;if(s<this.state.prompts.length-1)this.setState({selectedIndex:s+1});else if(this.state.cursor)this.$FunFactSinglePromptSelector3();else this.setState({selectedIndex:0});this.$FunFactSinglePromptSelector4("refresh",this.state.prompts[s].id)}.bind(this),this.$FunFactSinglePromptSelector6=function(){this.props.onSelect(this.state.prompts[this.state.selectedIndex]);new(c("ProfileEngagementTypedLogger"))().setProductBucket("fun_facts").setProfileIDDummy(c("CurrentUser").getID()).setSurface("unknown").setEngagementType("exit").setItemType("answer_tab").setItemSubtype("single_prompt").setEventMetadata({entry_point:this.props.entryPoint,tap_target:"add_content"}).log()}.bind(this),o}m.prototype.componentDidMount=function(){this.$FunFactSinglePromptSelector3(this.props.pinnedPromptID)};m.prototype.componentWillUnmount=function(){this.$FunFactSinglePromptSelector2&&this.$FunFactSinglePromptSelector2.abandon()};m.prototype.componentWillUpdate=function(n,o){if(this.state.selectedIndex!==o.selectedIndex)this.$FunFactSinglePromptSelector4("impression",o.prompts[o.selectedIndex].id)};m.prototype.$FunFactSinglePromptSelector4=function(n,o){new(c("ProfileEngagementTypedLogger"))().setProductBucket("fun_facts").setProfileIDDummy(c("CurrentUser").getID()).setSurface("unknown").setEngagementType(n).setItemType("question_prompt").setItemSubtype("single_prompt").setEventMetadata({entry_point:this.props.entryPoint,prompt_id:o}).log()};m.prototype.$FunFactSinglePromptSelector3=function(n){__p&&__p();var o=c("XProfileFunFactsSinglePromptFetchController").getURIBuilder().setInt("fetch_amount",l).setInt("random_seed",this.$FunFactSinglePromptSelector1);if(n)o.setFBID("pinned_prompt_id",n.toString());if(this.state.cursor)o.setString("cursor",this.state.cursor);this.setState({isLoading:true});this.$FunFactSinglePromptSelector2=new(c("AsyncRequest"))(o.getURI()).setHandler(function(p){var q=p.getPayload(),r=this.state.selectedIndex+1,s=this.state.prompts.concat(q.prompts);this.setState({cursor:q.cursor,isLoading:false,prompts:s,selectedIndex:r})}.bind(this));this.$FunFactSinglePromptSelector2.send()};m.prototype.$FunFactSinglePromptSelector7=function(){var n=null,o=[];if(this.state.isLoading)o.push(c("React").createElement(c("XUISpinner.react"),{key:"spinner",size:"large"}));else{var p=this.state.prompts[this.state.selectedIndex];n=p.socialProof?c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_pti",direction:"vertical",justify:"start"},c("React").createElement("div",{className:"_ptm _3-8n",key:"socialProof"},p.socialProof)):null;o.push(c("React").createElement(c("TextWithEmoticons.react"),{key:"emoji",size:32,text:p.emoji}));o.push(c("React").createElement("div",{className:"_ptn _3-8y",key:"title"},p.title))}return c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_64nv",direction:"vertical",justify:"start"},n,c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_64nx",direction:"vertical",justify:"center"},o))};m.prototype.$FunFactSinglePromptSelector8=function(){return c("React").createElement(c("FlexLayout.react"),{className:"_2ph_",direction:"horizontal",justify:this.props.entryPoint===c("ProfileFunFactsEntryPoint").COLLECTION?"center":"end"},c("React").createElement(c("XUIButton.react"),{className:"_3-8_","data-testid":c("ProfileFunFactsTestIDs").SELECTOR_RANDOMIZE,disabled:this.state.isLoading,image:c("React").createElement(c("Image.react"),{src:h("411715")}),label:c("FunFactStrings").SINGLE_PROMPT_RANDOMIZE_QUESTION,onClick:this.$FunFactSinglePromptSelector5,size:"large"}),c("React").createElement(c("XUIButton.react"),{"data-testid":c("ProfileFunFactsTestIDs").SELECTOR_SELECT,disabled:this.state.isLoading,image:c("React").createElement(c("Image.react"),{src:h("382316")}),label:c("FunFactStrings").SINGLE_PROMPT_ANSWER_QUESTION,onClick:this.$FunFactSinglePromptSelector6,size:"large",use:"confirm"}))};m.prototype.render=function(){return c("React").createElement("div",null,this.$FunFactSinglePromptSelector7(),this.$FunFactSinglePromptSelector8())};f.exports=m}),null);
__d("XProfileFunFactsSelectorController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/profile/fun_facts/selector/",{entry_point:{type:"Enum",defaultValue:"unknown",enumType:1},pinned_prompt_id:{type:"FBID"},skip_selector:{type:"Bool",defaultValue:false}})}),null);
__d("FunFactSinglePromptSelectorContainer.react",["cx","AsyncRequest","FunFactSinglePromptSelector.react","ProfileFunFactsEntryPoint","React","XProfileFunFactsSelectorController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$FunFactSinglePromptSelectorContainer1=function(l){var m=c("XProfileFunFactsSelectorController").getURIBuilder().setEnum("entry_point",c("ProfileFunFactsEntryPoint").COLLECTION).setFBID("pinned_prompt_id",l.id.toString()).setBool("skip_selector",true).getURI();new(c("AsyncRequest"))().setURI(m).send()};k.prototype.render=function(){return c("React").createElement("div",{className:"_64nu"},c("React").createElement(c("FunFactSinglePromptSelector.react"),{entryPoint:c("ProfileFunFactsEntryPoint").COLLECTION,onSelect:this.$FunFactSinglePromptSelectorContainer1}))};function k(){i.apply(this,arguments)}f.exports=k}),null);