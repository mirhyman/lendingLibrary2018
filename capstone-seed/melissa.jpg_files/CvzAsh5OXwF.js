if (self.CavalryLogger) { CavalryLogger.start_js(["Nt+HV"]); }

__d("CommerceSelfServeUI",[],(function a(b,c,d,e,f,g){f.exports={MIN_SHIPPING_OPTIONS:1,MAX_SHIPPING_OPTIONS:5}}),null);
__d("ExpirationTypeToExpirationTypeApiMap",[],(function a(b,c,d,e,f,g){f.exports={0:"none",1:"expire_and_delete",2:"expire_only",3:"expire_to_only_me"}}),null);
__d("InstreamAdsBlockListCategoryMaps",[],(function a(b,c,d,e,f,g){f.exports={CategoryTypeToNameMap:{0:"CATEGORY_ARTS",1:"CATEGORY_AUTOS_AND_VEHICLES",2:"CATEGORY_AUTOS",3:"CATEGORY_BOATS",4:"CATEGORY_MOTORCYCLES",5:"CATEGORY_BEAUTY_AND_FASHION",6:"CATEGORY_FASHION",7:"CATEGORY_PERSONAL_CARE",8:"CATEGORY_BOOKS_AND_LITERATURE",9:"CATEGORY_BUSINESS",10:"CATEGORY_SERVICES",11:"CATEGORY_INDUSTRIAL",12:"CATEGORY_SMALL_BUSINESS_DEPRECATED",13:"CATEGORY_COMPUTERS",14:"CATEGORY_DATING",15:"CATEGORY_EDUCATION",16:"CATEGORY_COMPUTERS_AND_ELECTRONICS",17:"CATEGORY_AUDIO_AND_VIDEO_EQUIPMENT",18:"CATEGORY_CAMERA_PHOTO",19:"CATEGORY_GAME_SYSTEMS_DEPRECATED",20:"CATEGORY_PORTABLE_ELECTRONICS",21:"CATEGORY_VIDEO_EQUIPMENT_DEPRECATED",22:"CATEGORY_ARTS_AND_ENTERTAINMENT",23:"CATEGORY_MOVIE",24:"CATEGORY_TELEVISION",25:"CATEGORY_MUSIC",26:"CATEGORY_RADIO",27:"CATEGORY_PERFORMING_ARTS",28:"CATEGORY_EVENT_LISTINGS",29:"CATEGORY_FINANCE",30:"CATEGORY_BANKING",31:"CATEGORY_CREDIT_CARD",32:"CATEGORY_LOANS",33:"CATEGORY_INSURANCE",34:"CATEGORY_INVESTING",35:"CATEGORY_FOOD",36:"CATEGORY_BEVERAGES",37:"CATEGORY_ALCOHOL",38:"CATEGORY_CUISINE",39:"CATEGORY_RESTAURANTS",40:"CATEGORY_GAMBLING",41:"CATEGORY_GAMES",42:"CATEGORY_HEALTH_AND_FITNESS",43:"CATEGORY_DRUGS_AND_SUPPLEMENTS",44:"CATEGORY_REPRODUCTIVE_HEALTH",45:"CATEGORY_FITNESS",46:"CATEGORY_HOBBIES_AND_LEISURE",47:"CATEGORY_SPECIAL_OCCASIONS",48:"CATEGORY_HOME_AND_GARDEN",49:"CATEGORY_INTERNET_TELECOM",50:"CATEGORY_JOBS",51:"CATEGORY_LAW_GOVERNMENT_POLITICS",52:"CATEGORY_NEWS",53:"CATEGORY_PARENTING",54:"CATEGORY_CHILDCARE",55:"CATEGORY_PREGNANCY",56:"CATEGORY_RELIGION_AND_SPIRITUAL",57:"CATEGORY_SOCIAL_ISSUES_AND_ADVOCACY",58:"CATEGORY_PETS_AND_ANIMAL_CARE",59:"CATEGORY_REAL_ESTATE",60:"CATEGORY_SHOPPING",61:"CATEGORY_APPAREL",62:"CATEGORY_JEWELRY_AND_ACCESSORIES",63:"CATEGORY_ACCESSORIES_DEPRECATED",64:"CATEGORY_FOOTWEAR",65:"CATEGORY_ENTERTAINMENT_MEDIA_DEPRECATED",66:"CATEGORY_LUXURY_GOODS_DEPRECATED",67:"CATEGORY_TOYS",68:"CATEGORY_SPORTS",69:"CATEGORY_TRAVEL",70:"CATEGORY_HOTELS",71:"CATEGORY_AIR_TRAVEL",72:"CATEGORY_BUS_RAIL",73:"CATEGORY_CAR_RENTAL_TAXI",74:"CATEGORY_CRUISES",75:"CATEGORY_SPECIALTY_TRAVEL_DEPRECATED",76:"CATEGORY_DESTINATION_SERVICES",77:"CATEGORY_OTHER",78:"CATEGORY_APPLICATIONS_AND_SOFTWARE",79:"CATEGORY_PHONE",80:"CATEGORY_PAYMENT_PROCESSORS",81:"CATEGORY_DIGITAL_GAMES",82:"CATEGORY_NON_DIGITAL_GAMES",83:"CATEGORY_REAL_ESTATE_HOME",84:"CATEGORY_REAL_ESTATE_RENTAL",85:"CATEGORY_GIFT_CARDS_AND_DISCOUNTS",86:"CATEGORY_LAST"},CategoryParentToChildMap:{1:[2,3,4],5:[6,7],9:[10,11],16:[17,18,13,79,20],22:[0,23,24,25,26,27,28],29:[30,31,32,33,34,80],35:[36,37,38,39],42:[43,44,45],53:[54,55],60:[61,62,64,67,85],69:[70,71,72,73,74,76],41:[81,82],59:[83,84],8:[],14:[],15:[],40:[],46:[],47:[],48:[],49:[],50:[],51:[],52:[],56:[],57:[],58:[],68:[],77:[],78:[]},CategoryChildToParentMap:{2:1,3:1,4:1,6:5,7:5,10:9,11:9,17:16,18:16,13:16,79:16,20:16,0:22,23:22,24:22,25:22,26:22,27:22,28:22,30:29,31:29,32:29,33:29,34:29,80:29,36:35,37:35,38:35,39:35,43:42,44:42,45:42,54:53,55:53,61:60,62:60,64:60,67:60,70:69,71:69,72:69,73:69,74:69,76:69,81:41,82:41,83:59,84:59,85:60},NotCategorized:77}}),null);
__d("PagesManagerProductToolsConstants",[],(function a(b,c,d,e,f,g){f.exports={MAX_FEATURED_ITEM_COUNT:10}}),null);
__d("VideoBroadcastType",[],(function a(b,c,d,e,f,g){f.exports={VALUE_TO_NAME:["REGULAR","AMBIENT"]}}),null);
__d("VideoFeedType",[],(function a(b,c,d,e,f,g){f.exports={NOT_HIGHLIGHTED:{name:"NOT_HIGHLIGHTED",index:0},HIGHLIGHTED:{name:"HIGHLIGHTED",index:1}}}),null);
__d("AdBreakPortalInstreamAdsBlockListNameCell.react",["cx","fbt","Link.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$AdBreakPortalInstreamAdsBlockListNameCell1=function(event){this.props.onClick(this.props.blockList);event.stopPropagation()}.bind(this)}l.prototype.render=function(){var m=null,n=c("React").createElement("span",null," \xb7 ",i._({"*":"Applied to {number} Pages","_1":"Applied to 1 Page"},[i.plural(this.props.blockList.numPagesApplied,"number")]));if(this.props.blockList.numPagesApplied===0)m=i._("Not yet applied.");else if(this.props.blockList.isPageLevel)m=c("React").createElement("span",null,i._("Page-level block list"),n);else m=c("React").createElement("span",null,i._("Video-level block list"),n);return c("React").createElement("div",{className:"_4oj7"},c("React").createElement("div",{className:"_4oj8"},c("React").createElement(c("Link.react"),{className:"_4l80",onClick:this.$AdBreakPortalInstreamAdsBlockListNameCell1},this.props.blockList.name),c("React").createElement("div",{className:"_4l8k"},m)))};f.exports=l}),null);
__d("PagesSettingsInstreamAdsBlockListDataTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({INIT:null,DELETE_BLOCK_LISTS:null,DID_DELETE_BLOCK_LISTS:null,DELETE_BLOCK_LISTS_FAILURE:null,LOAD_ALL:null,RECEIVE_DATA:null,SELECT_BLOCK_LIST:null,APPLY_BLOCK_LIST:null,UNAPPLY_BLOCK_LIST:null,ASYNC_REQUEST_ERROR:null,EXPORT_SINGLE_BLOCK_LIST:null,EXPORT_ALL_BLOCK_LISTS:null,IMPORT_BLOCK_LISTS:null,DID_IMPORT_BLOCK_LISTS:null,IMPORT_DID_FAIL:null}),i=c("keyMirror")({INIT_CONTENT:null,LOAD_CATEGORIES:null,UPDATE_NAME:null,UPDATE_PAGE_LEVEL_CHECKBOX:null,ADD_CATEGORY_TO_UI:null,REMOVE_CATEGORY_FROM_UI:null,ADD_PAGE_TO_UI:null,REMOVE_PAGE_FROM_UI:null,LOAD_CONTENT:null,RECEIVE_CONTENT_DATA:null,UPDATE_BLOCK_LIST_CONTENT:null,DID_UPDATE_BLOCK_LIST_CONTENT:null,ASYNC_REQUEST_ERROR:null,ADD_TARGET_PAGE_TO_UI:null,REMOVE_TARGET_PAGE_FROM_UI:null});f.exports={BlockListActionTypes:h,BlockListContentActionTypes:i}}),null);
__d("PagesSettingsInstreamAdsBlockListDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("PagesSettingsInstreamAdsBlockListContentActions",["PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListDataTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListContentActionTypes,i={setPageID:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.INIT_CONTENT,currentPageId:k})},setBusinessID:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.INIT_CONTENT,currentBusinessId:k})},loadCategories:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.LOAD_CATEGORIES,enableSubcategories:k})},updateName:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.UPDATE_NAME,name:k})},updatePageLevelCheckbox:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.UPDATE_PAGE_LEVEL_CHECKBOX,checked:k})},addCategoryToUI:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ADD_CATEGORY_TO_UI,categoryId:k,categoryName:l})},removeCategoryFromUI:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.REMOVE_CATEGORY_FROM_UI,categoryId:k})},addPageToUI:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ADD_PAGE_TO_UI,pageId:k,pageTitle:l})},removePageFromUI:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.REMOVE_PAGE_FROM_UI,pageId:k})},addTargetPageToUI:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ADD_TARGET_PAGE_TO_UI,pageId:k,pageTitle:l})},removeTargetPageFromUI:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.REMOVE_TARGET_PAGE_FROM_UI,pageId:k})},receiveContentData:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.RECEIVE_CONTENT_DATA,data:k})},createOrUpdateBlockListContent:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.UPDATE_BLOCK_LIST_CONTENT})},didUpdateBlockListContent:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DID_UPDATE_BLOCK_LIST_CONTENT})},asyncRequestError:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ASYNC_REQUEST_ERROR,response:k})}};f.exports=i}),null);
__d("InstreamAdsBlockListCategory$FbtEnum",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({CATEGORY_ARTS:"Arts",CATEGORY_AUTOS_AND_VEHICLES:"Autos & Vehicles",CATEGORY_AUTOS:"Autos",CATEGORY_BOATS:"Boats",CATEGORY_MOTORCYCLES:"Motorcycles",CATEGORY_BEAUTY_AND_FASHION:"Beauty & Fashion",CATEGORY_FASHION:"Fashion",CATEGORY_PERSONAL_CARE:"Personal Care",CATEGORY_BOOKS_AND_LITERATURE:"Books & Literature",CATEGORY_BUSINESS:"Business",CATEGORY_SERVICES:"Services",CATEGORY_INDUSTRIAL:"Industrial",CATEGORY_SMALL_BUSINESS_DEPRECATED:"Small Business",CATEGORY_COMPUTERS:"Computers",CATEGORY_DATING:"Dating",CATEGORY_EDUCATION:"Education",CATEGORY_COMPUTERS_AND_ELECTRONICS:"Computers & Electronics",CATEGORY_AUDIO_AND_VIDEO_EQUIPMENT:"Audio & Video Equipment",CATEGORY_CAMERA_PHOTO:"Camera Photo",CATEGORY_GAME_SYSTEMS_DEPRECATED:"Game Systems",CATEGORY_PORTABLE_ELECTRONICS:"Portable Electronics",CATEGORY_VIDEO_EQUIPMENT_DEPRECATED:"Video Equipment",CATEGORY_ARTS_AND_ENTERTAINMENT:"Art & Entertainment",CATEGORY_MOVIE:"Movie",CATEGORY_TELEVISION:"Television",CATEGORY_MUSIC:"Music",CATEGORY_RADIO:"Radio",CATEGORY_PERFORMING_ARTS:"Performing Arts",CATEGORY_EVENT_LISTINGS:"Event Listings",CATEGORY_FINANCE:"Finance",CATEGORY_BANKING:"Banking",CATEGORY_CREDIT_CARD:"Credit Card",CATEGORY_LOANS:"Loans",CATEGORY_INSURANCE:"Insurance",CATEGORY_INVESTING:"Investing",CATEGORY_FOOD:"Food",CATEGORY_BEVERAGES:"Beverages",CATEGORY_ALCOHOL:"Alcohol",CATEGORY_CUISINE:"Cuisine",CATEGORY_RESTAURANTS:"Restaurants",CATEGORY_GAMBLING:"Gambling",CATEGORY_GAMES:"Games",CATEGORY_HEALTH_AND_FITNESS:"Health & Fitness",CATEGORY_DRUGS_AND_SUPPLEMENTS:"Drugs & Supplements",CATEGORY_REPRODUCTIVE_HEALTH:"Reproductive Health",CATEGORY_FITNESS:"Fitness",CATEGORY_HOBBIES_AND_LEISURE:"Hobbies & Leisure",CATEGORY_SPECIAL_OCCASIONS:"Special Occasions",CATEGORY_HOME_AND_GARDEN:"Home & Garden",CATEGORY_INTERNET_TELECOM:"Internet Telecom",CATEGORY_JOBS:"Jobs",CATEGORY_LAW_GOVERNMENT_POLITICS:"Law Government Politics",CATEGORY_NEWS:"News",CATEGORY_PARENTING:"Parenting",CATEGORY_CHILDCARE:"Childcare",CATEGORY_PREGNANCY:"Pregnancy",CATEGORY_RELIGION_AND_SPIRITUAL:"Religion & Spiritual",CATEGORY_SOCIAL_ISSUES_AND_ADVOCACY:"Social Issues & Advocacy",CATEGORY_PETS_AND_ANIMAL_CARE:"Pets & Animal Care",CATEGORY_REAL_ESTATE:"Real Estate",CATEGORY_SHOPPING:"Shopping",CATEGORY_APPAREL:"Apparel",CATEGORY_JEWELRY_AND_ACCESSORIES:"Jewelry & Accessories",CATEGORY_ACCESSORIES_DEPRECATED:"Accessories",CATEGORY_FOOTWEAR:"Footwear",CATEGORY_ENTERTAINMENT_MEDIA_DEPRECATED:"Entertainment Media",CATEGORY_LUXURY_GOODS_DEPRECATED:"Luxury Goods",CATEGORY_TOYS:"Toys",CATEGORY_SPORTS:"Sports",CATEGORY_TRAVEL:"Travel",CATEGORY_HOTELS:"Hotels",CATEGORY_AIR_TRAVEL:"Air Travel",CATEGORY_BUS_RAIL:"Bus Rail",CATEGORY_CAR_RENTAL_TAXI:"Car Rental Taxi",CATEGORY_CRUISES:"Cruises",CATEGORY_SPECIALTY_TRAVEL_DEPRECATED:"Specialty Travel",CATEGORY_DESTINATION_SERVICES:"Destination Services",CATEGORY_OTHER:"Not Categorized",CATEGORY_APPLICATIONS_AND_SOFTWARE:"Applications & Software",CATEGORY_PHONE:"Phone",CATEGORY_PAYMENT_PROCESSORS:"Payment Processors",CATEGORY_DIGITAL_GAMES:"Digital Games",CATEGORY_NON_DIGITAL_GAMES:"Non-Digital Games",CATEGORY_REAL_ESTATE_HOME:"Real Estate Home",CATEGORY_REAL_ESTATE_RENTAL:"Real Estate Rental",CATEGORY_GIFT_CARDS_AND_DISCOUNTS:"Gift Cards & Discounts",CATEGORY_LAST:"Last"});f.exports=h}),null);
__d("XPagesSettingsInstreamAdsBlockListContentQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/content/",{block_list_id:{type:"FBID",required:true}})}),null);
__d("XPagesSettingsInstreamAdsBlockListMutationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/mutation/",{page_id:{type:"FBID"},blocked_page_ids:{type:"FBIDSet",defaultValue:[]},blocked_categories:{type:"IntSet",defaultValue:[]},block_list_name:{type:"String",required:true},is_active:{type:"Bool",defaultValue:false},is_profile_level:{type:"Bool",defaultValue:false},block_list_id:{type:"FBID"},business_id:{type:"FBID"},target_pages:{type:"FBIDSet",defaultValue:[]}})}),null);
__d("PagesSettingsInstreamAdsBlockListContentRequestHandler",["PagesSettingsInstreamAdsBlockListContentActions","AsyncRequest","XPagesSettingsInstreamAdsBlockListContentQueryController","XPagesSettingsInstreamAdsBlockListMutationController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={requestBlockListContentData:function i(j){var k=c("XPagesSettingsInstreamAdsBlockListContentQueryController").getURIBuilder().setFBID("block_list_id",j).getURI();new(c("AsyncRequest"))(k).setHandler(function(l){return c("PagesSettingsInstreamAdsBlockListContentActions").receiveContentData(l.payload.data)}).setErrorHandler(function(l){return c("PagesSettingsInstreamAdsBlockListContentActions").asyncRequestError(l)}).send()},createOrUpdateBlockListContent:function i(j,k,l,m,n,o,p,q,r){var s=c("XPagesSettingsInstreamAdsBlockListMutationController").getURIBuilder().setFBID("page_id",j).setFBIDSet("blocked_page_ids",k).setIntSet("blocked_categories",l).setString("block_list_name",m).setBool("is_active",n).setBool("is_profile_level",o).setFBID("block_list_id",p).setFBID("business_id",q).setFBIDSet("target_pages",r).getURI();new(c("AsyncRequest"))(s).setHandler(function(t){return c("PagesSettingsInstreamAdsBlockListContentActions").didUpdateBlockListContent()}).setErrorHandler(function(t){return c("PagesSettingsInstreamAdsBlockListContentActions").asyncRequestError(t)}).send()}};f.exports=h}),null);
__d("PagesSettingsInstreamAdsBlockListContentStoreState",["fbt","immutable"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k={allCategories:[],allContentLoaded:false,blockedCategories:[],blockedPages:[],blockListId:null,blockListName:String(h._("Default")),businessId:null,enableSubcategories:false,errorInfo:null,isBusinessLevel:false,isPageLevel:true,pageId:null,requestSent:false,targetPages:[],updatedBlockListContent:false};i=babelHelpers.inherits(l,c("immutable").Record(k));j=i&&i.prototype;function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("PagesSettingsInstreamAdsBlockListContentStore",["fbt","invariant","FluxReduceStore","InstreamAdsBlockListCategory$FbtEnum","InstreamAdsBlockListCategoryMaps","PagesSettingsInstreamAdsBlockListContentRequestHandler","PagesSettingsInstreamAdsBlockListContentStoreState","PagesSettingsInstreamAdsBlockListDataTypes","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListStore"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("InstreamAdsBlockListCategoryMaps").CategoryParentToChildMap,m=c("InstreamAdsBlockListCategoryMaps").CategoryTypeToNameMap,n=c("InstreamAdsBlockListCategoryMaps").CategoryChildToParentMap,o=c("InstreamAdsBlockListCategoryMaps").NotCategorized,p=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListActionTypes,q=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListContentActionTypes;j=babelHelpers.inherits(r,c("FluxReduceStore"));k=j&&j.prototype;function r(s){k.constructor.call(this,s)}r.prototype.getInitialState=function(){return new(c("PagesSettingsInstreamAdsBlockListContentStoreState"))()};r.prototype.reduce=function(s,t){__p&&__p();switch(t.type){case q.INIT_CONTENT:return this.$PagesSettingsInstreamAdsBlockListContentStore1(s,t);case q.LOAD_CATEGORIES:return this.$PagesSettingsInstreamAdsBlockListContentStore2(s,t);case q.UPDATE_NAME:return this.$PagesSettingsInstreamAdsBlockListContentStore3(s,t);case q.UPDATE_PAGE_LEVEL_CHECKBOX:return this.$PagesSettingsInstreamAdsBlockListContentStore4(s,t);case q.RECEIVE_CONTENT_DATA:return this.$PagesSettingsInstreamAdsBlockListContentStore5(s,t);case q.ADD_PAGE_TO_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore6(s,t);case q.REMOVE_PAGE_FROM_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore7(s,t);case q.ADD_CATEGORY_TO_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore8(s,t);case q.REMOVE_CATEGORY_FROM_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore9(s,t);case q.ADD_TARGET_PAGE_TO_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore10(s,t);case q.REMOVE_TARGET_PAGE_FROM_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore11(s,t);case q.UPDATE_BLOCK_LIST_CONTENT:return this.$PagesSettingsInstreamAdsBlockListContentStore12(s,t);case q.DID_UPDATE_BLOCK_LIST_CONTENT:return this.$PagesSettingsInstreamAdsBlockListContentStore13(s,t);case q.ASYNC_REQUEST_ERROR:return this.$PagesSettingsInstreamAdsBlockListContentStore14(s,t);case p.SELECT_BLOCK_LIST:c("PagesSettingsInstreamAdsBlockListDispatcher").waitFor([c("PagesSettingsInstreamAdsBlockListStore").getDispatchToken()]);return this.$PagesSettingsInstreamAdsBlockListContentStore15(s,t)}return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore1=function(s,t){s=this.getInitialState();s=s.set("pageId",t.currentPageId);s=s.set("businessId",t.currentBusinessId);return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore2=function(s,t){s=s.set("enableSubcategories",t.enableSubcategories);s=s.set("allCategories",this.$PagesSettingsInstreamAdsBlockListContentStore16(t.enableSubcategories));return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore17=function(s){var t=this.getInitialState();t=t.set("pageId",s.pageId);t=t.set("businessId",s.businessId);t=t.set("enableSubcategories",s.enableSubcategories);t=t.set("allCategories",s.allCategories);return t};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore3=function(s,t){return s.set("blockListName",t.name)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore4=function(s,t){return s.set("isPageLevel",t.checked)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore15=function(s,t){var u=t.blockList?t.blockList.id:null,v=this.$PagesSettingsInstreamAdsBlockListContentStore17(s);v=v.set("blockListId",u);if(v.blockListId){v=v.set("requestSent",true);v=v.set("allContentLoaded",false);c("PagesSettingsInstreamAdsBlockListContentRequestHandler").requestBlockListContentData(v.blockListId)}else v=v.set("allContentLoaded",true);return v};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore5=function(s,t){__p&&__p();if(!t.data)return s;Array.isArray(t.data.blockedPages)||i(0);s=s.set("requestSent",false);s=s.set("allContentLoaded",true);s=s.set("blockedPages",Array.from(t.data.blockedPages));s=s.set("blockedCategories",Array.from(t.data.blockedCategories.map(function(u){return this.$PagesSettingsInstreamAdsBlockListContentStore18(u.toString())}.bind(this))));s=s.set("targetPages",Array.from(t.data.targetPages));s=s.set("blockListName",t.data.blockListName);s=s.set("isPageLevel",t.data.isPageLevel);s=s.set("isBusinessLevel",t.data.isBusinessLevel);return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore7=function(s,t){var u=Array.from(s.blockedPages).filter(function(v){return v.id!==t.pageId});return s.set("blockedPages",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore6=function(s,t){var u=Array.from(s.blockedPages),v=u.find(function(w){return w.id==t.pageId});if(!v)u.push({id:t.pageId,title:t.pageTitle});return s.set("blockedPages",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore9=function(s,t){var u=this.$PagesSettingsInstreamAdsBlockListContentStore19(t.categoryId),v=Array.from(s.blockedCategories).filter(function(w){if(!u)return w.id!==t.categoryId&&w.id!==this.$PagesSettingsInstreamAdsBlockListContentStore20(t.categoryId);else return w.id!==t.categoryId&&!u.includes(w.id)}.bind(this));return s.set("blockedCategories",v)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore8=function(s,t){__p&&__p();var u=Array.from(s.blockedCategories),v=this.$PagesSettingsInstreamAdsBlockListContentStore19(t.categoryId),w=u.find(function(x){return x.id==t.categoryId});if(!w&&v){u.push(this.$PagesSettingsInstreamAdsBlockListContentStore18(t.categoryId));v.map(function(x){return u.push(this.$PagesSettingsInstreamAdsBlockListContentStore18(x))}.bind(this))}else if(!w)u.push({id:t.categoryId,name:t.categoryName});return s.set("blockedCategories",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore11=function(s,t){var u=Array.from(s.targetPages).filter(function(v){return v.id!==t.pageId});return s.set("targetPages",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore10=function(s,t){var u=Array.from(s.targetPages),v=u.find(function(w){return w.id==t.pageId});if(!v)u.push({id:t.pageId,title:t.pageTitle});return s.set("targetPages",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore12=function(s,t){if(!s.blockListName)return s.set("errorInfo",h._("Failed to update block list. Block list name is required."));s=s.set("requestSent",true);s=s.set("errorInfo",null);c("PagesSettingsInstreamAdsBlockListContentRequestHandler").createOrUpdateBlockListContent(s.pageId,s.blockedPages.map(function(u){return u.id}),s.blockedCategories.map(function(u){return Number(u.id)}),s.blockListName,true,s.isPageLevel,s.blockListId,s.businessId,s.targetPages.map(function(u){return u.id}));return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore13=function(s,t){s=s.set("requestSent",false);s=s.set("updatedBlockListContent",true);return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore14=function(s,t){s=s.set("requestSent",false);s=s.set("errorInfo",t.response.errorDescription);return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore16=function(s){__p&&__p();var t=[];Object.keys(l).sort(function(u,v){if(u===v)return 0;if(parseInt(u,10)===o)return 1;if(parseInt(v,10)===o)return-1;return this.$PagesSettingsInstreamAdsBlockListContentStore18(u).name.toString()<this.$PagesSettingsInstreamAdsBlockListContentStore18(v).name.toString()?-1:1}.bind(this)).map(function(u){t.push(this.$PagesSettingsInstreamAdsBlockListContentStore18(u));if(s)t=t.concat(l[u].map(function(v){return this.$PagesSettingsInstreamAdsBlockListContentStore18(v.toString())}.bind(this)).sort(function(v,w){if(v===w)return 0;return v.name.toString()<w.name.toString()?-1:1}))}.bind(this));return t};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore20=function(s){return n[s]?n[s].toString():null};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore19=function(s){return l[s]?l[s].map(function(t){return t.toString()}):null};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore18=function(s){return{id:s,name:h._({"CATEGORY_ACCESSORIES_DEPRECATED":"Accessories","CATEGORY_AIR_TRAVEL":"Air travel","CATEGORY_ALCOHOL":"Alcohol","CATEGORY_APPAREL":"Clothing","CATEGORY_APPLICATIONS_AND_SOFTWARE":"Applications & Software","CATEGORY_ARTS":"Arts","CATEGORY_ARTS_AND_ENTERTAINMENT":"Art & Entertainment","CATEGORY_AUDIO_AND_VIDEO_EQUIPMENT":"Audio & Video Equipment","CATEGORY_AUTOS":"Cars","CATEGORY_AUTOS_AND_VEHICLES":"Cars & vehicles","CATEGORY_BANKING":"Banking","CATEGORY_BEAUTY_AND_FASHION":"Beauty & Fashion","CATEGORY_BEVERAGES":"Drinks","CATEGORY_BOATS":"Boats","CATEGORY_BOOKS_AND_LITERATURE":"Books & literature","CATEGORY_BUSINESS":"Business","CATEGORY_BUS_RAIL":"Bus & rail","CATEGORY_CAMERA_PHOTO":"Camera photo","CATEGORY_CAR_RENTAL_TAXI":"Car rental & taxis","CATEGORY_CHILDCARE":"Childcare","CATEGORY_COMPUTERS":"Computers","CATEGORY_COMPUTERS_AND_ELECTRONICS":"Computers & Electronics","CATEGORY_CREDIT_CARD":"Credit\/debit card","CATEGORY_CRUISES":"Cruises","CATEGORY_CUISINE":"Cuisine","CATEGORY_DATING":"Dating","CATEGORY_DESTINATION_SERVICES":"Destination Services","CATEGORY_DIGITAL_GAMES":"Digital Games","CATEGORY_DRUGS_AND_SUPPLEMENTS":"Drugs & Supplements","CATEGORY_EDUCATION":"Education","CATEGORY_ENTERTAINMENT_MEDIA_DEPRECATED":"Entertainment & media","CATEGORY_EVENT_LISTINGS":"Event listings","CATEGORY_FASHION":"Fashion","CATEGORY_FINANCE":"Finance","CATEGORY_FITNESS":"Fitness","CATEGORY_FOOD":"Food","CATEGORY_FOOTWEAR":"Footwear","CATEGORY_GAMBLING":"Gambling","CATEGORY_GAMES":"Games","CATEGORY_GAME_SYSTEMS_DEPRECATED":"Game systems","CATEGORY_GIFT_CARDS_AND_DISCOUNTS":"Gift Cards & Discounts","CATEGORY_HEALTH_AND_FITNESS":"Health & Fitness","CATEGORY_HOBBIES_AND_LEISURE":"Hobbies & Leisure","CATEGORY_HOME_AND_GARDEN":"Home & garden","CATEGORY_HOTELS":"Hotels","CATEGORY_INDUSTRIAL":"Industrial","CATEGORY_INSURANCE":"Insurance","CATEGORY_INTERNET_TELECOM":"Internet telecommunications","CATEGORY_INVESTING":"Investing","CATEGORY_JEWELRY_AND_ACCESSORIES":"Jewelry & Accessories","CATEGORY_JOBS":"Jobs","CATEGORY_LAST":"Last","CATEGORY_LAW_GOVERNMENT_POLITICS":"Law, government & politics","CATEGORY_LOANS":"Loans","CATEGORY_LUXURY_GOODS_DEPRECATED":"Luxury goods","CATEGORY_MOTORCYCLES":"Motorbikes","CATEGORY_MOVIE":"Film","CATEGORY_MUSIC":"Music","CATEGORY_NEWS":"News","CATEGORY_NON_DIGITAL_GAMES":"Non-Digital Games","CATEGORY_OTHER":"Not categorised","CATEGORY_PARENTING":"Parenting","CATEGORY_PAYMENT_PROCESSORS":"Payment Processors","CATEGORY_PERFORMING_ARTS":"Performing arts","CATEGORY_PERSONAL_CARE":"Personal care","CATEGORY_PETS_AND_ANIMAL_CARE":"Pets & Animal Care","CATEGORY_PHONE":"Phone","CATEGORY_PORTABLE_ELECTRONICS":"Portable electronics","CATEGORY_PREGNANCY":"Pregnancy","CATEGORY_RADIO":"Radio","CATEGORY_REAL_ESTATE":"Property","CATEGORY_REAL_ESTATE_HOME":"Real Estate Home","CATEGORY_REAL_ESTATE_RENTAL":"Real Estate Rental","CATEGORY_RELIGION_AND_SPIRITUAL":"Religion & Spiritual","CATEGORY_REPRODUCTIVE_HEALTH":"Reproductive health","CATEGORY_RESTAURANTS":"Restaurants","CATEGORY_SERVICES":"Services","CATEGORY_SHOPPING":"Shopping","CATEGORY_SMALL_BUSINESS_DEPRECATED":"Small business","CATEGORY_SOCIAL_ISSUES_AND_ADVOCACY":"Social Issues & Advocacy","CATEGORY_SPECIALTY_TRAVEL_DEPRECATED":"Specialist travel","CATEGORY_SPECIAL_OCCASIONS":"Special occasions","CATEGORY_SPORTS":"Sport","CATEGORY_TELEVISION":"Television","CATEGORY_TOYS":"Toys","CATEGORY_TRAVEL":"Travel","CATEGORY_VIDEO_EQUIPMENT_DEPRECATED":"Video equipment"},[h["enum"](m[s],c("InstreamAdsBlockListCategory$FbtEnum"))])}};r.prototype.getAllCategories=function(){return this.getState().allCategories};f.exports=new r(c("PagesSettingsInstreamAdsBlockListDispatcher"))}),null);
__d("InstreamAdsBlockListState",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({APPLIED:"APPLIED",PARTIALLY_APPLIED:"PARTIALLY_APPLIED",NOT_APPLIED:"NOT_APPLIED"})}),null);
__d("PagesSettingsInstreamAdsBlockListActions",["PagesSettingsInstreamAdsBlockListContentActions","PagesSettingsInstreamAdsBlockListDataTypes","PagesSettingsInstreamAdsBlockListDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListActionTypes,i={initializeBlockLists:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.INIT,currentPageId:k,targetIsVideoAssetIds:l});c("PagesSettingsInstreamAdsBlockListContentActions").setPageID(k);i.loadAllData()},initializeBlockListsOnBusinessLevel:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.INIT,currentBusinessId:k});c("PagesSettingsInstreamAdsBlockListContentActions").setBusinessID(k);i.loadAllData()},deleteBlockLists:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DELETE_BLOCK_LISTS,blockListIds:k})},didDeleteBlockLists:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DID_DELETE_BLOCK_LISTS})},deleteBlockListsFailure:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DELETE_BLOCK_LISTS_FAILURE,blockListIds:k})},loadAllData:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.LOAD_ALL})},receiveData:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.RECEIVE_DATA,data:k})},selectBlockList:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.SELECT_BLOCK_LIST,blockList:k})},applyBlockList:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.APPLY_BLOCK_LIST,blockListId:k})},unapplyBlockList:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.UNAPPLY_BLOCK_LIST,blockListId:k})},asyncRequestError:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ASYNC_REQUEST_ERROR,response:k})},exportSingleBlockList:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.EXPORT_SINGLE_BLOCK_LIST,blockListId:k})},exportAllBlockLists:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.EXPORT_ALL_BLOCK_LISTS})},importBlockLists:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.IMPORT_BLOCK_LISTS,replaceBlockLists:k,fileInput:l})},didImportBlockLists:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DID_IMPORT_BLOCK_LISTS})},importDidFail:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.IMPORT_DID_FAIL})}};f.exports=i}),null);
__d("XPagesSettingsInstreamAdsBlockListDeletionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list_deletion/",{page_id:{type:"FBID"},block_list_ids:{type:"FBIDVector",required:true},business_id:{type:"FBID"}})}),null);
__d("XPagesSettingsInstreamAdsBlockListExportCSVController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/export_csv/",{page_id:{type:"FBID",required:true},block_list_id:{type:"FBID"}})}),null);
__d("XPagesSettingsInstreamAdsBlockListImportCSVController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/import_csv/",{profile_id:{type:"FBID",required:true},replace_block_lists:{type:"Bool",defaultValue:false}})}),null);
__d("XPagesSettingsInstreamAdsBlockListQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/",{page_id:{type:"FBID"},is_video_asset_ids:{type:"FBIDVector"},business_id:{type:"FBID"}})}),null);
__d("PagesSettingsInstreamAdsBlockListRequestHandler",["PagesSettingsInstreamAdsBlockListActions","AsyncRequest","FileInputUploader","goURI","XPagesSettingsInstreamAdsBlockListDeletionController","XPagesSettingsInstreamAdsBlockListExportCSVController","XPagesSettingsInstreamAdsBlockListImportCSVController","XPagesSettingsInstreamAdsBlockListQueryController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={requestBlockListData:function i(j,k,l){var m=c("XPagesSettingsInstreamAdsBlockListQueryController").getURIBuilder().setFBID("page_id",j).setFBIDVector("is_video_asset_ids",k).setFBID("business_id",l).getURI();new(c("AsyncRequest"))(m).setHandler(function(n){return c("PagesSettingsInstreamAdsBlockListActions").receiveData(n.payload)}).setErrorHandler(function(n){return c("PagesSettingsInstreamAdsBlockListActions").asyncRequestError(n)}).send()},deleteBlockLists:function i(j,k,l){var m=c("XPagesSettingsInstreamAdsBlockListDeletionController").getURIBuilder().setFBID("page_id",j).setFBIDVector("block_list_ids",k).setFBID("business_id",l).getURI();new(c("AsyncRequest"))(m).setHandler(function(n){return c("PagesSettingsInstreamAdsBlockListActions").didDeleteBlockLists()}).setErrorHandler(function(n){return c("PagesSettingsInstreamAdsBlockListActions").deleteBlockListsFailure(k)}).send()},exportBlockLists:function i(j,k){var l=c("XPagesSettingsInstreamAdsBlockListExportCSVController").getURIBuilder().setFBID("page_id",j).setFBID("block_list_id",k).getURI();c("goURI")(l,true,true)},importBlockLists:function i(j,k,l){var m=c("XPagesSettingsInstreamAdsBlockListImportCSVController").getURIBuilder().setFBID("profile_id",j).setBool("replace_block_lists",k).getURI(),n=new(c("FileInputUploader"))(l);n.setURI(m);n.subscribe("success",function(o,p){if(p.response.payload.is_succeeded)c("PagesSettingsInstreamAdsBlockListActions").didImportBlockLists();else c("PagesSettingsInstreamAdsBlockListActions").importDidFail()});n.send()}};f.exports=h}),null);
__d("PagesSettingsInstreamAdsBlockListStoreState",["immutable","Map"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={allBlockListsLoaded:false,blockLists:[],blockListStates:new(c("Map"))(),businessId:null,didImportBlockLists:false,editable:false,enableSubcategories:false,initialBlockListStates:new(c("Map"))(),pageId:null,requestSent:false,selectedBlockList:null,showLowFillRateWarning:false,targetIsVideoAssetIds:[]};h=babelHelpers.inherits(k,c("immutable").Record(j));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("PagesSettingsInstreamAdsBlockListStore",["fbt","invariant","PagesSettingsInstreamAdsBlockListActions","PagesSettingsInstreamAdsBlockListDataTypes","PagesSettingsInstreamAdsBlockListContentStore","InstreamAdsBlockListState","PagesSettingsInstreamAdsBlockListStoreState","FluxReduceStore","Map","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListRequestHandler","React","SimpleXUIDialog","XUIDialogButton.react","XUIDialogCancelButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListActionTypes,m=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListContentActionTypes;j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(o){k.constructor.call(this,o)}n.prototype.getInitialState=function(){return new(c("PagesSettingsInstreamAdsBlockListStoreState"))()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case l.INIT:return this.$PagesSettingsInstreamAdsBlockListStore1(o,p);case l.APPLY_BLOCK_LIST:return this.$PagesSettingsInstreamAdsBlockListStore2(o,p);case l.UNAPPLY_BLOCK_LIST:return this.$PagesSettingsInstreamAdsBlockListStore3(o,p);case l.DELETE_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore4(o,p);case l.DID_DELETE_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore5(o,p);case l.DELETE_BLOCK_LISTS_FAILURE:return this.$PagesSettingsInstreamAdsBlockListStore6(o,p);case l.LOAD_ALL:return this.$PagesSettingsInstreamAdsBlockListStore5(o,p);case l.RECEIVE_DATA:return this.$PagesSettingsInstreamAdsBlockListStore7(o,p);case l.ASYNC_REQUEST_ERROR:return this.$PagesSettingsInstreamAdsBlockListStore8(o,p);case l.SELECT_BLOCK_LIST:return this.$PagesSettingsInstreamAdsBlockListStore9(o,p);case l.EXPORT_SINGLE_BLOCK_LIST:return this.$PagesSettingsInstreamAdsBlockListStore10(o,p);case l.EXPORT_ALL_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore10(o,p);case l.IMPORT_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore11(o,p);case l.DID_IMPORT_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore12(o,p);case l.IMPORT_DID_FAIL:return this.$PagesSettingsInstreamAdsBlockListStore13(o,p);case m.DID_UPDATE_BLOCK_LIST_CONTENT:c("PagesSettingsInstreamAdsBlockListDispatcher").waitFor([c("PagesSettingsInstreamAdsBlockListContentStore").getDispatchToken()]);return this.$PagesSettingsInstreamAdsBlockListStore5(o,p)}return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore1=function(o,p){o=this.getInitialState();o=o.set("pageId",p.currentPageId);o=o.set("businessId",p.currentBusinessId);var q=p.targetIsVideoAssetIds?Array.from(p.targetIsVideoAssetIds):[];o=o.set("targetIsVideoAssetIds",q);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore5=function(o,p){o=o.set("didImportBlockLists",false);o=o.set("allBlockListsLoaded",false);o=o.set("requestSent",true);c("PagesSettingsInstreamAdsBlockListRequestHandler").requestBlockListData(o.pageId,o.targetIsVideoAssetIds,o.businessId);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore7=function(o,p){__p&&__p();if(!p.data.blockLists)return this.$PagesSettingsInstreamAdsBlockListStore8(o,p);Array.isArray(p.data.blockLists)||i(0);var q=[],r=o.blockListStates,s=new(c("Map"))();p.data.blockLists.forEach(function(t){q.push(t);var o=r.has(t.id)?r.get(t.id):t.state;if(o)s.set(t.id,o)});o=o.set("allBlockListsLoaded",true);o=o.set("requestSent",false);o=o.set("blockLists",q);o=o.set("initialBlockListStates",new(c("Map"))(s));o=o.set("showLowFillRateWarning",p.data.showLowFillRateWarning);o=o.set("enableSubcategories",p.data.enableSubcategories);o=o.set("blockListStates",s);o=o.set("editable",p.data.editable);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore4=function(o,p){o=o.set("requestSent",true);c("PagesSettingsInstreamAdsBlockListRequestHandler").deleteBlockLists(o.pageId,p.blockListIds,o.businessId);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore2=function(o,p){var q=new(c("Map"))(o.blockListStates.set(p.blockListId,c("InstreamAdsBlockListState").APPLIED));return o.set("blockListStates",q)};n.prototype.$PagesSettingsInstreamAdsBlockListStore3=function(o,p){var q=new(c("Map"))(o.blockListStates.set(p.blockListId,c("InstreamAdsBlockListState").NOT_APPLIED));return o.set("blockListStates",q)};n.prototype.$PagesSettingsInstreamAdsBlockListStore10=function(o,p){c("PagesSettingsInstreamAdsBlockListRequestHandler").exportBlockLists(o.pageId,p.blockListId);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore11=function(o,p){o=o.set("requestSent",true);c("PagesSettingsInstreamAdsBlockListRequestHandler").importBlockLists(o.pageId,p.replaceBlockLists,p.fileInput);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore12=function(o,p){o=this.$PagesSettingsInstreamAdsBlockListStore5(o,p);return o.set("didImportBlockLists",true)};n.prototype.$PagesSettingsInstreamAdsBlockListStore13=function(o,p){o=o.set("didImportBlockLists",false);c("SimpleXUIDialog").show(h._("There was an issue with importing the CSV file. You can only import existing block lists that were exported from a Facebook Page. CSV files that were edited are not supported."),h._("Block list not imported"));return this.$PagesSettingsInstreamAdsBlockListStore5(o,p)};n.prototype.$PagesSettingsInstreamAdsBlockListStore9=function(o,p){return o.set("selectedBlockList",p.blockList)};n.prototype.$PagesSettingsInstreamAdsBlockListStore6=function(o,p){this.$PagesSettingsInstreamAdsBlockListStore14(h._("There was an issue with deleting one or more of your block lists."),h._("Try deleting again?"),function(){return c("PagesSettingsInstreamAdsBlockListActions").deleteBlockLists(p.blockListIds)});return o.set("requestSent",false)};n.prototype.$PagesSettingsInstreamAdsBlockListStore8=function(o,p){this.$PagesSettingsInstreamAdsBlockListStore14(h._("There was an issue with loading your block lists."),h._("Block lists not loading"),function(){return c("PagesSettingsInstreamAdsBlockListActions").loadAllData()});return o.set("requestSent",false)};n.prototype.$PagesSettingsInstreamAdsBlockListStore14=function(o,p,q){var r=c("React").createElement("div",null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogButton.react"),{label:h._("Try Again"),action:"cancel",use:"confirm",onClick:q}));c("SimpleXUIDialog").showEx(o,p,r)};n.prototype.getComposerBlockListIdsToApply=function(){if(!this.getState().allBlockListsLoaded)return null;var o=this.getState().blockListStates,p=Array.from(o.keys()).filter(function(q){return o.get(q)===c("InstreamAdsBlockListState").APPLIED});return p};n.prototype.getBlockListIdsToAdd=function(){var o=this.getState().blockListStates;return Array.from(o.keys()).filter(function(p){return o.get(p)===c("InstreamAdsBlockListState").APPLIED})};n.prototype.getBlockListIdsToRemove=function(){var o=this.getState().blockListStates;return Array.from(o.keys()).filter(function(p){return o.get(p)===c("InstreamAdsBlockListState").NOT_APPLIED})};n.prototype.getBlockListStatesHasChanged=function(){var o=this.getState().blockListStates,p=this.getState().initialBlockListStates;return!Array.from(o.keys()).every(function(q){return p.get(q)===o.get(q)})};n.prototype.getTargetVideoAssets=function(){return this.getState().targetIsVideoAssetIds};f.exports=new n(c("PagesSettingsInstreamAdsBlockListDispatcher"))}),null);
__d("PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem.react",["ix","cx","InstreamAdsBlockListCategoryMaps","React","ReactDOM","SUIGlyphIcon.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("InstreamAdsBlockListCategoryMaps").CategoryParentToChildMap;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem1=function(event){this.props.onSelect(this.props.entry,event)}.bind(this),this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem2=function(event){if(this.props.onHighlight)this.props.onHighlight(this.props.entry,event)}.bind(this),this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem5=function(event){this.props.toggleExpand(this.props.entry.getUniqueID())}.bind(this),o}m.prototype.shouldComponentUpdate=function(n){return this.props.entry.getUniqueID()!==n.entry.getUniqueID()||this.props.highlighted!==n.highlighted||this.props.selected!==n.selected||this.props.disabled!==n.disabled||this.props.expand!==n.expand};m.prototype.componentDidMount=function(){var n=this.props.onRenderHighlight;if(this.props.highlighted&&n)n(c("ReactDOM").findDOMNode(this))};m.prototype.componentDidUpdate=function(){var n=this.props.onRenderHighlight;if(this.props.highlighted&&n)n(c("ReactDOM").findDOMNode(this))};m.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem3=function(){if(l[this.props.entry.getUniqueID()])return false;return true};m.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem4=function(){if(l[this.props.entry.getUniqueID()]&&l[this.props.entry.getUniqueID()].length>0)return false;return true};m.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem6=function(){if(this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem4()||!this.props.enableSubcategories)return null;else if(this.props.expand)return c("React").createElement("span",{className:"_61n2"},c("React").createElement(c("SUIGlyphIcon.react"),{onClick:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem5,srcDefault:h("125305")}));return c("React").createElement("span",{className:"_61n2"},c("React").createElement(c("SUIGlyphIcon.react"),{onClick:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem5,srcDefault:h("125313")}))};m.prototype.render=function(){var n="_2cal"+(this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem3.bind(this)()?" _61n3":"")+(this.props.highlighted&&!this.props.disabled?" _5-rn":"")+(this.props.disabled?" _5-ro":"");return c("React").createElement("div",{className:n},this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem6(),c("React").createElement("li",{className:"_61n4",key:this.props.key,"aria-selected":this.props.highlighted,onMouseDown:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem1,onMouseEnter:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem2,role:this.props.role},this.props.entry.getTitle()))};m.defaultProps={role:"option"};f.exports=m}),null);
__d("PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadView.react",["cx","PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.renderItem=function(q){var r=this.props.addedEntries.findIndex(function(s){return s==q.getUniqueID()});return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem.react"),{disabled:r>=0,enableSubcategories:this.props.enableSubcategories,entry:q,expand:this.props.expandStates.get(q.getUniqueID()),key:q.getUniqueID(),onSelect:this.props.onSelect,toggleExpand:this.props.toggleExpand})}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_3rtv"},c("React").createElement("ul",null,this.props.entries.map(this.renderItem,this)))};f.exports=k}),null);
__d("PagesSettingsInstreamAdsBlockListContentCategoryTypeahead.react",["cx","fbt","PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadView.react","PagesSettingsInstreamAdsBlockListContentStore","Map","React","InstreamAdsBlockListCategoryMaps","SearchableEntry","StaticSearchSource","SearchableTextInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){__p&&__p();k.constructor.call(this,m);this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead4=function(event){this.props.onShowView();event.stopPropagation()}.bind(this);this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead9=function(n){this.setState({entries:n},function(){return this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead14()}.bind(this))}.bind(this);this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead13=function(n){var o=this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead16(n),p=this.state.expandStates;p.set(n,!p.get(n));o.map(function(q){p.set(q,!p.get(q))});this.setState({expandStates:p},function(){return this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead9(this.state.entries)}.bind(this))}.bind(this);this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead12=function(n){if(this.props.onSelected)this.props.onSelected(n.getUniqueID(),n.getTitle())}.bind(this);this.state={entries:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead1(),entriesToShow:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead1(),excludedEntries:this.props.blockedCategories,expandStates:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead2.bind(this)(),focused:false,queryString:"",searchSource:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead3.bind(this)()}}l.prototype.render=function(){var m=null;if(this.props.editable||this.props.isBusinessLevel)m=i._("Search categories");else m=i._("Only admins can add or remove blocked categories.");return c("React").createElement("div",{onClick:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead4,role:"presentation"},c("React").createElement("div",{className:"_5-6o"+(this.state.focused?" _5-6p":"")+(!this.props.editable||this.props.processing?" _17g0":"")},c("React").createElement(c("SearchableTextInput.react"),{disabled:!this.props.editable||this.props.processing,onBlur:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead5.bind(this),onChange:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead6.bind(this),onClear:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead7.bind(this),onFocus:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead8.bind(this),placeholder:m,queryString:this.state.queryString,searchOnFocus:true,searchSource:this.state.searchSource,onEntriesFound:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead9})),this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead10.bind(this)())};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead10=function(){if(this.props.viewHidden)return null;return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadView.react"),{entries:this.state.entriesToShow,addedEntries:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead11(),expandStates:this.state.expandStates,enableSubcategories:this.props.enableSubcategories,onSelect:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead12,toggleExpand:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead13})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead11=function(){return this.state.excludedEntries.concat(this.props.blockedCategories).map(function(m){return m.id})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead14=function(){__p&&__p();var m=c("InstreamAdsBlockListCategoryMaps").CategoryParentToChildMap,n=c("PagesSettingsInstreamAdsBlockListContentStore").getAllCategories(),o=this.state.entries.map(function(r){return r.getUniqueID().toString()}),p=[],q=[];n.map(function(r,s){__p&&__p();if(m[r.id]&&o.includes(r.id)){q.push(new(c("SearchableEntry"))({uniqueID:r.id,title:r.name,order:s}));this.state.queryString?this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead15(r.id):null}else if(m[r.id])this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead16(r.id).some(function(t,u){if(o.includes(t)){q.push(new(c("SearchableEntry"))({uniqueID:r.id,title:r.name,order:s}));this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead15(r.id);p.push(r);return true}this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead17(r.id);return false}.bind(this));else if(o.includes(r.id)&&this.state.expandStates.get(r.id))q.push(new(c("SearchableEntry"))({uniqueID:r.id,title:r.name,order:s}))}.bind(this));this.setState({excludedEntries:p,entriesToShow:q})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead2=function(){var m=c("PagesSettingsInstreamAdsBlockListContentStore").getAllCategories(),n=new(c("Map"))();m.map(function(o){n.set(o.id,false)});return n};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead15=function(m){var n=this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead16(m),o=this.state.expandStates;o.set(m,true);n.map(function(p){o.set(p,true)});this.setState({expandStates:o})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead17=function(m){var n=this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead16(m),o=this.state.expandStates;o.set(m,false);n.map(function(p){o.set(p,false)});this.setState({expandStates:o})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead6=function(event){var m=this.state.expandStates;if(event.target.value.length===0)m.forEach(function(n,o){m.set(o,false)});this.setState({queryString:event.target.value,expandStates:m})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead7=function(event){this.setState({queryString:""})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead8=function(){this.setState({queryString:"",focused:true})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead5=function(){this.setState({queryString:"",focused:false})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead1=function(){var m=c("PagesSettingsInstreamAdsBlockListContentStore").getAllCategories();return m.map(function(n,o){return new(c("SearchableEntry"))({uniqueID:n.id,title:n.name,order:o})})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead3=function(){return new(c("StaticSearchSource"))(this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead1())};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead16=function(m){return c("InstreamAdsBlockListCategoryMaps").CategoryParentToChildMap[m].map(function(n){return n.toString()})};f.exports=l}),null);
__d("PagesSettingsInstreamAdsBlockListContentCategoryItem.react",["cx","InstreamAdsBlockListCategoryMaps","React","XUICloseButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.state={isActive:false}}k.prototype.render=function(){var l=null;if(this.state.isActive&&this.props.editable)l=c("React").createElement(c("XUICloseButton.react"),{className:"_19tb",onClick:this.$PagesSettingsInstreamAdsBlockListContentCategoryItem1.bind(this),size:"small"});var m="_19ru"+(this.$PagesSettingsInstreamAdsBlockListContentCategoryItem2.bind(this)()?" _em7":"")+(this.props.disabled?" _em8":"");return c("React").createElement("li",{key:this.props.categoryId,className:m,onMouseEnter:this.$PagesSettingsInstreamAdsBlockListContentCategoryItem3.bind(this),onMouseLeave:this.$PagesSettingsInstreamAdsBlockListContentCategoryItem4.bind(this)},c("React").createElement("div",{className:"_19t1"},this.props.name),l)};k.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryItem1=function(){this.props.onDeleteItem(this.props.categoryId)};k.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryItem3=function(){this.setState({isActive:true})};k.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryItem4=function(){this.setState({isActive:false})};k.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryItem2=function(){var l=c("InstreamAdsBlockListCategoryMaps").CategoryParentToChildMap;if(l[this.props.categoryId])return false;return true};f.exports=k}),null);
__d("PagesSettingsInstreamAdsBlockListContentCategoryView.react",["cx","PagesSettingsInstreamAdsBlockListContentStore","InstreamAdsBlockListCategoryMaps","PagesSettingsInstreamAdsBlockListContentCategoryItem.react","React","ScrollableArea.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.renderItem=function(m){var n=this.props.categories.findIndex(function(o){return o.id==m.id});return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentCategoryItem.react"),{blockListId:this.props.blockListId,categoryId:m.id,disabled:n<0,editable:this.props.editable&&n>=0,key:m.id,name:m.name,onDeleteItem:this.props.onDeleteItem})}.bind(this)}k.prototype.render=function(){if(this.props.categories.length===0)return null;return c("React").createElement(c("ScrollableArea.react"),{className:"_19rq"+(!this.props.editable?" _17g0":""),maxHeight:180,shadow:false},c("React").createElement("ul",{className:"_19te"},this.$PagesSettingsInstreamAdsBlockListContentCategoryView1().map(this.renderItem,this)))};k.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryView1=function(){__p&&__p();var l=c("InstreamAdsBlockListCategoryMaps").CategoryParentToChildMap,m=c("PagesSettingsInstreamAdsBlockListContentStore").getAllCategories(),n=this.props.categories.map(function(p){return p.id}),o=[];m.map(function(p,q){__p&&__p();if(l[p.id]&&n.includes(p.id))o.push(p);else if(l[p.id])l[p.id].some(function(r,s){if(n.includes(r.toString())&&this.props.enableSubcategories){o.push(p);return true}return false}.bind(this));else if(n.includes(p.id))o.push(p)}.bind(this));return o};f.exports=k}),null);
__d("PagesSettingsInstreamAdsBlockListContentPageTypeahead.react",["cx","fbt","CurrentUser","React","WebAsyncSearchSource","XUITypeahead.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.state={queryString:null,searchSource:this.$PagesSettingsInstreamAdsBlockListContentPageTypeahead1.bind(this)(),focused:false}}l.prototype.render=function(){var m=null;if(this.props.editable||this.props.isBusinessLevel)m=i._("Search Pages");else m=i._("Only admins can add or remove blocked Pages.");return c("React").createElement("div",{className:"_5-6o"+(this.state.focused?" _5-6p":"")+(!this.props.editable||this.props.processing?" _17g0":"")},c("React").createElement(c("XUITypeahead.react"),{disabled:!this.props.editable||this.props.processing,excludedEntries:this.props.blockedPages.reduce(function(n,o){n[o.id]=o.id;return n},{}),onBlur:this.$PagesSettingsInstreamAdsBlockListContentPageTypeahead2.bind(this),onChange:this.$PagesSettingsInstreamAdsBlockListContentPageTypeahead3.bind(this),onClear:this.$PagesSettingsInstreamAdsBlockListContentPageTypeahead4.bind(this),onFocus:this.$PagesSettingsInstreamAdsBlockListContentPageTypeahead5.bind(this),onSelectAttempt:this.$PagesSettingsInstreamAdsBlockListContentPageTypeahead6.bind(this),placeholder:m,queryString:this.state.queryString,searchSource:this.state.searchSource,viewStyle:"rich"}))};l.prototype.$PagesSettingsInstreamAdsBlockListContentPageTypeahead6=function(m){if(this.props.onSelected)this.props.onSelected(m.getUniqueID(),m.getTitle());this.setState({queryString:null})};l.prototype.$PagesSettingsInstreamAdsBlockListContentPageTypeahead3=function(event){this.setState({queryString:event.target.value})};l.prototype.$PagesSettingsInstreamAdsBlockListContentPageTypeahead4=function(event){this.setState({queryString:null})};l.prototype.$PagesSettingsInstreamAdsBlockListContentPageTypeahead5=function(){this.setState({queryString:"",focused:true})};l.prototype.$PagesSettingsInstreamAdsBlockListContentPageTypeahead2=function(){this.setState({queryString:"",focused:false})};l.prototype.$PagesSettingsInstreamAdsBlockListContentPageTypeahead1=function(){var m=this.props.pageId;if(this.props.businessId)m=c("CurrentUser").getID();var n={filter:["page"],viewer:m,rsp:"mentions",bsp:"true"};return new(c("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/search.php",data:babelHelpers["extends"]({is_bootstrap:false},n)}],bootstrapRequests:[{uri:"/ajax/typeahead/first_degree.php",data:babelHelpers["extends"]({is_bootstrap:true},n)}],auxiliaryFields:{verified:"is_verified"}})};f.exports=l}),null);
__d("PagesSettingsInstreamAdsBlockListContentPageItem.react",["cx","React","XUICloseButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.state={isActive:false}}k.prototype.render=function(){var l=null;if(this.state.isActive&&this.props.editable)l=c("React").createElement(c("XUICloseButton.react"),{className:"_19tb",onClick:this.$PagesSettingsInstreamAdsBlockListContentPageItem1.bind(this),size:"small"});return c("React").createElement("li",{key:this.props.pageId,className:"_19ru",onMouseEnter:this.$PagesSettingsInstreamAdsBlockListContentPageItem2.bind(this),onMouseLeave:this.$PagesSettingsInstreamAdsBlockListContentPageItem3.bind(this)},c("React").createElement("div",{className:"_19t1"},this.props.title),l)};k.prototype.$PagesSettingsInstreamAdsBlockListContentPageItem1=function(){this.props.onDeleteItem(this.props.pageId)};k.prototype.$PagesSettingsInstreamAdsBlockListContentPageItem2=function(){this.setState({isActive:true})};k.prototype.$PagesSettingsInstreamAdsBlockListContentPageItem3=function(){this.setState({isActive:false})};f.exports=k}),null);
__d("PagesSettingsInstreamAdsBlockListContentPageView.react",["cx","PagesSettingsInstreamAdsBlockListContentPageItem.react","React","ScrollableArea.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l)}k.prototype.renderItem=function(l){return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentPageItem.react"),{blockListId:this.props.blockListId,editable:this.props.editable,key:l.id,onDeleteItem:this.props.onDeleteItem,pageId:l.id,title:l.title})};k.prototype.render=function(){if(this.props.pages.length===0)return null;var l=this.renderItem.bind(this);return c("React").createElement(c("ScrollableArea.react"),{className:"_19rq"+(!this.props.editable?" _17g0":""),maxHeight:180,shadow:false},c("React").createElement("ul",{className:"_19te"},this.props.pages.map(l)))};f.exports=k}),null);
__d("XPagesSettingsInstreamAdsBlockListTargetPageQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/adbreaks/block_list/query/target_page/",{business_id:{type:"FBID",required:true},value:{type:"String"},offset:{type:"Int",defaultValue:0},limit:{type:"Int",defaultValue:100}})}),null);
__d("PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead.react",["cx","fbt","React","SearchableEntry","WebAsyncSearchSource","XPagesSettingsInstreamAdsBlockListTargetPageQueryController","XUITypeahead.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.state={queryString:null,searchSource:this.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead1.bind(this)(),focused:false}}l.prototype.render=function(){var m=null;if(this.props.editable)m=i._("Search Pages");else m=i._("Only programme admins can add or remove blocked Pages.");return c("React").createElement("div",{className:"_5-6o"+(this.state.focused?" _5-6p":"")+(!this.props.editable||this.props.processing?" _17g0":"")},c("React").createElement(c("XUITypeahead.react"),{disabled:!this.props.editable||this.props.processing,excludedEntries:this.props.targetPages.reduce(function(n,o){n[o.id]=o.id;return n},{}),onBlur:this.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead2.bind(this),onChange:this.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead3.bind(this),onClear:this.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead4.bind(this),onFocus:this.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead5.bind(this),onSelectAttempt:this.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead6.bind(this),placeholder:m,queryString:this.state.queryString,searchSource:this.state.searchSource,showEntriesOnFocus:true}))};l.prototype.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead6=function(m){if(this.props.onSelected)this.props.onSelected(m.getUniqueID(),m.getTitle());this.setState({queryString:null})};l.prototype.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead3=function(event){this.setState({queryString:event.target.value})};l.prototype.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead4=function(event){this.setState({queryString:null})};l.prototype.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead5=function(){this.setState({queryString:"",focused:true})};l.prototype.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead2=function(){this.setState({queryString:"",focused:false})};l.prototype.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead1=function(){var m=c("XPagesSettingsInstreamAdsBlockListTargetPageQueryController").getURIBuilder().setFBID("business_id",this.props.businessId).getURI().toString();return new(c("WebAsyncSearchSource"))({queryRequests:[{uri:m}],bootstrapRequests:[{uri:m}],packageFn:function n(o,p){return new(c("SearchableEntry"))({uniqueID:o.uid,title:o.text,photo:o.photo})},getAllForEmptyQuery:true})};f.exports=l}),null);
__d("PagesSettingsInstreamAdsBlockListContentView.react",["cx","fbt","ix","AbstractTextInput.react","Image.react","LayerFadeOnHide","LoadingDialog.react","PagesSettingsInstreamAdsBlockListContentCategoryTypeahead.react","PagesSettingsInstreamAdsBlockListContentCategoryView.react","PagesSettingsInstreamAdsBlockListContentPageTypeahead.react","PagesSettingsInstreamAdsBlockListContentPageView.react","PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead.react","React","Tooltip.react","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUINotice.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n);this.$PagesSettingsInstreamAdsBlockListContentView3=function(){this.setState({categoryViewHidden:true})}.bind(this);this.$PagesSettingsInstreamAdsBlockListContentView4=function(){this.setState({categoryViewHidden:false})}.bind(this);this.$PagesSettingsInstreamAdsBlockListContentView2=function(){this.setState({categoryViewHidden:true})}.bind(this);this.state={categoryViewHidden:true}}m.prototype.render=function(){if(!this.props.allContentLoaded)return c("React").createElement(c("LoadingDialog.react"),{onToggle:this.props.onToggle});var n=c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",use:"default",label:i._("Cancel")}),o=null;if(this.$PagesSettingsInstreamAdsBlockListContentView1())o=c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",use:"confirm",disabled:this.props.requestSent||!this.props.editable,label:i._("Create"),onClick:this.props.onClickConfirmButton});else o=c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",use:"confirm",disabled:this.props.requestSent||!this.props.editable,label:i._("Save"),onClick:this.props.onClickConfirmButton});return c("React").createElement("div",null,c("React").createElement(c("XUIDialog.react"),{shown:!this.props.updatedBlockListContent,behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},titleID:"block-list-content-dialog-title",width:600,onToggle:this.props.onToggle,layerHideOnBlur:false},c("React").createElement(c("XUIDialogTitle.react"),null,this.renderTitle.bind(this)()),c("React").createElement(c("XUIDialogBody.react"),{className:"_5-6r",onClick:this.$PagesSettingsInstreamAdsBlockListContentView2},this.renderError.bind(this)(),this.renderDescription.bind(this)(),this.renderBizEditMessage.bind(this)(),this.renderPageContent.bind(this)(),this.renderCategoryContent.bind(this)(),this.renderNameInputContent.bind(this)(),this.renderBusinessFeatures.bind(this)(),this.renderPageLevelCheckbox.bind(this)()),c("React").createElement(c("XUIDialogFooter.react"),null,n,o)))};m.prototype.renderTitle=function(){if(this.$PagesSettingsInstreamAdsBlockListContentView1())return c("React").createElement("div",null,i._("Create block list for ad breaks"));return c("React").createElement("div",null,i._("Edit block list for ad breaks"))};m.prototype.renderDescription=function(){if(this.props.businessId)return c("React").createElement(c("XUIText.react"),{className:"_5-6t"},i._("Prevent ads from specific Pages or categories from appearing in the videos on your Pages. You can add block lists to specific Pages to make it available for your admins to use. Ads for alcohol, gambling, dating and adult health products are restricted by default. Ad restrictions don't apply to adjacent content."));return c("React").createElement(c("XUIText.react"),{className:"_5-6t"},i._("Prevent ads from specific Pages or categories from appearing in your videos. Ads for alcohol, gambling, dating and adult health products are restricted by default. Ad restrictions don't apply to adjacent content."))};m.prototype.renderBizEditMessage=function(){if(this.props.businessId||!this.props.isBusinessLevel||this.props.editable)return null;return c("React").createElement(c("XUINotice.react"),{className:"_17nx",use:"notify",size:"small"},c("React").createElement(c("XUIText.react"),{weight:"bold",size:"header4"},i._("Block list can't be edited")),c("React").createElement("br",null),i._("This block list was added in Business Manager and can only be edited by an admin in Business Manager."))};m.prototype.renderPageContent=function(){var n=c("React").createElement("div",{className:"_sup"},c("React").createElement("div",{className:"_5-6y"},i._("Blocked Pages"),this.renderTooltip(i._("This prevents ads from specific Pages from appearing in your videos.")))),o=c("React").createElement("div",{className:"_suq"},c("React").createElement("div",{className:"_sur"},c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentPageView.react"),{allLoaded:this.props.allContentLoaded,blockListId:this.props.blockListId,editable:this.props.editable&&!this.props.requestSent,pages:this.props.blockedPages,onDeleteItem:this.props.onDeletePage}),c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentPageTypeahead.react"),{blockedPages:this.props.blockedPages,blockListId:this.props.blockListId,businessId:this.props.businessId,editable:this.props.editable,isBusinessLevel:this.props.isBusinessLevel,pageId:this.props.pageId,processing:this.props.requestSent,onSelected:this.props.onAddPage})));return c("React").createElement("div",{className:"_5-6z"},n,o)};m.prototype.renderCategoryContent=function(){var n=c("React").createElement("div",{className:"_sup"},c("React").createElement("div",{className:"_5-6y"},i._("Blocked categories"),this.renderTooltip(i._("Prevent ads that contain specific content from appearing in your videos. Choose the categories to block or select \"Not categorised\" if you want to exclude videos that haven't been categorised yet. We can't guarantee that all videos related to each category can be avoided completely.")))),o=c("React").createElement("div",{className:"_suq"},c("React").createElement("div",{className:"_sur"},c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentCategoryView.react"),{allLoaded:this.props.allContentLoaded,blockListId:this.props.blockListId,categories:this.props.blockedCategories,editable:this.props.editable&&!this.props.requestSent,enableSubcategories:this.props.enableSubcategories,onDeleteItem:this.props.onDeleteCategory}),c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentCategoryTypeahead.react"),{blockedCategories:this.props.blockedCategories,blockListId:this.props.blockListId,businessId:this.props.businessId,editable:this.props.editable,enableSubcategories:this.props.enableSubcategories,isBusinessLevel:this.props.isBusinessLevel,pageId:this.props.pageId,processing:this.props.requestSent,viewHidden:this.state.categoryViewHidden,onHideView:this.$PagesSettingsInstreamAdsBlockListContentView3,onShowView:this.$PagesSettingsInstreamAdsBlockListContentView4,onSelected:this.props.onAddCategory})));return c("React").createElement("div",{className:"_5-6z"},n,o)};m.prototype.renderBusinessFeatures=function(){if(!this.props.businessId)return null;var n=c("React").createElement("div",{className:"_sup"},c("React").createElement("div",{className:"_5-6y"},i._("Add to specific pages"),this.renderTooltip(i._("Add this block list to specific Pages in your business to make it available for your Page admins to use.")))),o=c("React").createElement("div",{className:"_suq"},c("React").createElement("div",{className:"_sur"},c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentPageView.react"),{allLoaded:this.props.allContentLoaded,blockListId:this.props.blockListId,editable:this.props.editable&&!this.props.requestSent,pages:this.props.targetPages,onDeleteItem:this.props.onDeleteTargetPage}),c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead.react"),{blockListId:this.props.blockListId,businessId:this.props.businessId,editable:this.props.editable,pageId:this.props.pageId,processing:this.props.requestSent,onSelected:this.props.onAddTargetPage,targetPages:this.props.targetPages})));return c("React").createElement("div",{className:"_5-6z"},n,o)};m.prototype.renderNameInputContent=function(){var n=c("React").createElement("div",{className:"_sup"},c("React").createElement("div",{className:"_5-6y"},i._("Block list name"),this.renderTooltip(i._("Give your block list a name that describes the Pages or categories you're blocking.")))),o=c("React").createElement("div",{className:"_suq"},c("React").createElement("div",{className:"_sur"},c("React").createElement(c("AbstractTextInput.react"),{className:"_12hn"+(!this.props.editable||this.props.requestSent?" _17g0":""),disabled:!this.props.editable||this.props.requestSent,placeholder:i._("Enter a name"),useLabel:false,value:this.props.blockListName,onChange:this.onNameInputChanged.bind(this)})));return c("React").createElement("div",{className:"_5-6z"},n,o)};m.prototype.renderPageLevelCheckbox=function(){var n=c("React").createElement("div",{className:"_sup"},c("React").createElement("div",{className:"_5-6y"},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.props.isPageLevel,disabled:this.props.requestSent||!this.props.editable,onChange:this.onCheckboxChanged.bind(this)}))),o=null;if(this.props.businessId)o=c("React").createElement("div",{className:"_suq"},c("React").createElement("div",{className:"_sur"},c("React").createElement(c("XUIText.react"),{display:"block",size:"meta1",weight:"bold"},i._("Save as a Page-level block list and apply to all videos.")),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},i._({"*":"This block list will be applied to all videos on the Pages you've added.","_1":"This block list will be applied to all videos on the Page you've added."},[i.plural(this.props.targetPages.length)]))));else o=c("React").createElement("div",{className:"_suq"},c("React").createElement("div",{className:"_sur"},c("React").createElement(c("XUIText.react"),{display:"block",size:"meta1",weight:"bold"},i._("Make this block list a default for this Page.")),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},i._("Default block lists are automatically applied to all videos on this Page."))));return c("React").createElement("div",{className:"_5-6z"},n,o)};m.prototype.renderError=function(){if(!this.props.errorInfo)return null;return c("React").createElement(c("XUINotice.react"),{className:"_17nx",use:"warn",size:"small"},c("React").createElement(c("XUIText.react"),{weight:"bold",size:"header4"},i._("Failed to update block list.")),c("React").createElement("br",null),this.props.errorInfo)};m.prototype.renderTooltip=function(n){return c("React").createElement(c("Tooltip.react"),{className:"_2pir",tooltip:n},c("React").createElement(c("Image.react"),{className:"_5-6u",src:j("28631")}))};m.prototype.onNameInputChanged=function(event){this.props.onChangeNameInput(event.target.value)};m.prototype.onCheckboxChanged=function(event){this.props.onChangePageLevelCheckbox(event.target.checked)};m.prototype.$PagesSettingsInstreamAdsBlockListContentView1=function(){return this.props.blockListId===null};f.exports=m}),null);
__d("PagesSettingsInstreamAdsBlockListContentContainer",["FluxContainer","PagesSettingsInstreamAdsBlockListContentActions","PagesSettingsInstreamAdsBlockListContentStore","PagesSettingsInstreamAdsBlockListContentView.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("PagesSettingsInstreamAdsBlockListContentStore")]};j.calculateState=function(k){var l=c("PagesSettingsInstreamAdsBlockListContentStore").getState();return{allContentLoaded:l.allContentLoaded,blockedCategories:Array.from(l.blockedCategories),blockedPages:Array.from(l.blockedPages),blockListId:l.blockListId,blockListName:l.blockListName,enableSubcategories:l.enableSubcategories,errorInfo:l.errorInfo,isBusinessLevel:l.isBusinessLevel,isPageLevel:l.isPageLevel,pageId:l.pageId,requestSent:l.requestSent,targetPages:Array.from(l.targetPages),updatedBlockListContent:l.updatedBlockListContent}};j.prototype.render=function(){return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentView.react"),{allContentLoaded:this.state.allContentLoaded,blockedCategories:this.state.blockedCategories,blockedPages:this.state.blockedPages,blockListId:this.state.blockListId,blockListName:this.state.blockListName,businessId:this.props.businessId,editable:this.props.editable,enableSubcategories:this.state.enableSubcategories,errorInfo:this.state.errorInfo,isBusinessLevel:this.state.isBusinessLevel,isPageLevel:this.state.isPageLevel,pageId:this.state.pageId,requestSent:this.state.requestSent,targetPages:this.state.targetPages,updatedBlockListContent:this.state.updatedBlockListContent,onAddPage:c("PagesSettingsInstreamAdsBlockListContentActions").addPageToUI,onAddCategory:c("PagesSettingsInstreamAdsBlockListContentActions").addCategoryToUI,onAddTargetPage:c("PagesSettingsInstreamAdsBlockListContentActions").addTargetPageToUI,onChangeNameInput:c("PagesSettingsInstreamAdsBlockListContentActions").updateName,onChangePageLevelCheckbox:c("PagesSettingsInstreamAdsBlockListContentActions").updatePageLevelCheckbox,onClickConfirmButton:c("PagesSettingsInstreamAdsBlockListContentActions").createOrUpdateBlockListContent,onDeleteCategory:c("PagesSettingsInstreamAdsBlockListContentActions").removeCategoryFromUI,onDeletePage:c("PagesSettingsInstreamAdsBlockListContentActions").removePageFromUI,onDeleteTargetPage:c("PagesSettingsInstreamAdsBlockListContentActions").removeTargetPageFromUI,onToggle:this.props.onToggle})};j.prototype.componentWillMount=function(){c("PagesSettingsInstreamAdsBlockListContentActions").loadCategories(this.props.enableSubcategories)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{pure:false})}),null);
__d("AdBreakPortalInstreamAdsBlockListView.react",["ix","cx","fbt","AdBreakPortalInstreamAdsBlockListNameCell.react","BIGAdoptionConfig","Date.react","PagesSettingsInstreamAdsBlockListContentContainer","React","SimpleXUIDialog","SUIButton.react","SUICard.react","SUICardHeader.react","SUIGlyphIcon.react","SUISelector.react","SUISelectorOption.react","SUISpinner.react","SUITable.react","SUITableTypes","asset","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("SUITableTypes").ORDER_DIRECTION;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){__p&&__p();l.constructor.call(this,o);this.$AdBreakPortalInstreamAdsBlockListView11=function(p){if(p==="delete")this.$AdBreakPortalInstreamAdsBlockListView12()}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView6=function(p,q){var r;this.setState({orderBy:p,orderDirection:babelHelpers["extends"]({},this.state.orderDirection,(r={},r[p]=q===m.ASCENDING?m.DESCENDING:m.ASCENDING,r))})}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView5=function(p){var q=babelHelpers["extends"]({},this.state.isSelectedByItemID);p.map(function(r){return q[r.id]=true});this.setState({isSelectedByItemID:q})}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView7=function(p){var q=babelHelpers["extends"]({},this.state.isSelectedByItemID);p.map(function(r){return q[r.id]=false});this.setState({isSelectedByItemID:q})}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView13=function(p,q,r){return c("React").createElement(c("AdBreakPortalInstreamAdsBlockListNameCell.react"),{blockList:p,isHovering:r,isSelected:q,onClick:this.$AdBreakPortalInstreamAdsBlockListView18})}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView18=function(p){this.props.onSelectBlockList(p);this.setState({showBlockListContentDialog:true})}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView19=function(p){this.setState({showBlockListContentDialog:p})}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView10=function(){this.props.onSelectBlockList(null);this.setState({showBlockListContentDialog:true})}.bind(this);this.state={showBlockListContentDialog:false,orderBy:"numPagesApplied",orderDirection:{dateCreated:m.ASCENDING,dateModified:m.ASCENDING,isPageLevel:m.ASCENDING,name:m.ASCENDING,numPagesApplied:m.ASCENDING},isSelectedByItemID:{}}}n.prototype.render=function(){return c("React").createElement("div",null,this.$AdBreakPortalInstreamAdsBlockListView1())};n.prototype.$AdBreakPortalInstreamAdsBlockListView1=function(){if(this.props.isLoading)return c("React").createElement("div",{className:"_5_1x"},c("React").createElement(c("SUISpinner.react"),{size:"large"}));return c("React").createElement(c("SUICard.react"),null,c("React").createElement(c("SUICardHeader.react"),null,this.$AdBreakPortalInstreamAdsBlockListView2()),c("React").createElement(c("SUITable.react"),{borders:["top","inner"],columns:this.$AdBreakPortalInstreamAdsBlockListView3(),isSelectedByItemID:this.state.isSelectedByItemID,items:this.$AdBreakPortalInstreamAdsBlockListView4(),noItemsMessage:j._("No block lists created yet!"),selectionType:"rowWithCheckbox",totalItemCount:this.props.blockLists.length,onSelectItems:this.$AdBreakPortalInstreamAdsBlockListView5,onSortClick:this.$AdBreakPortalInstreamAdsBlockListView6,onUnselectItems:this.$AdBreakPortalInstreamAdsBlockListView7}),this.$AdBreakPortalInstreamAdsBlockListView8())};n.prototype.$AdBreakPortalInstreamAdsBlockListView2=function(){var o=this.$AdBreakPortalInstreamAdsBlockListView9(),p=c("React").createElement(c("SUISelectorOption.react"),{disabled:o===0,value:"delete"},j._("Delete ({Number of block lists to delete})",[j.param("Number of block lists to delete",o)]));return c("React").createElement("div",null,c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:c("BIGAdoptionConfig").ads_fbicon_adoption?h("378289"):h("123418"),srcDisabled:c("BIGAdoptionConfig").ads_fbicon_adoption?h("407431"):h("126622")}),label:j._("Create Block List"),use:"default",onClick:this.$AdBreakPortalInstreamAdsBlockListView10}),c("React").createElement("div",{className:"_60t-"},c("React").createElement(c("SUISelector.react"),{placeholder:j._("Actions"),value:null,onChange:this.$AdBreakPortalInstreamAdsBlockListView11},p)))};n.prototype.$AdBreakPortalInstreamAdsBlockListView4=function(){var o=this.state.orderBy,p=this.state.orderDirection[o];return this.props.blockLists.sort(function(q,r){if(p===m.ASCENDING&&o==="name")return q[o].localeCompare(r[o]);else if(o==="name")return r[o].localeCompare(q[o]);else if(p===m.ASCENDING)return q[o]-r[o];else return r[o]-q[o]})};n.prototype.$AdBreakPortalInstreamAdsBlockListView9=function(){var o=0;Object.keys(this.state.isSelectedByItemID).map(function(p){if(this.state.isSelectedByItemID[p])o++}.bind(this));return o};n.prototype.$AdBreakPortalInstreamAdsBlockListView3=function(){return[{id:"name",label:j._("Name"),renderItem:this.$AdBreakPortalInstreamAdsBlockListView13,orderBy:"name",orderDirection:this.state.orderDirection.name,widthWeight:2},{id:"numPagesApplied",label:j._("Pages applied"),widthWeight:1,orderBy:"numPagesApplied",orderDirection:this.state.orderDirection.numPagesApplied,renderItem:this.$AdBreakPortalInstreamAdsBlockListView14},{id:"isPageLevel",label:j._("Block list type"),widthWeight:1,orderBy:"isPageLevel",orderDirection:this.state.orderDirection.isPageLevel,renderItem:this.$AdBreakPortalInstreamAdsBlockListView15},{id:"dateCreated",label:j._("Date created"),widthWeight:1,orderBy:"dateCreated",orderDirection:this.state.orderDirection.dateCreated,renderItem:this.$AdBreakPortalInstreamAdsBlockListView16},{id:"dateModified",label:j._("Date modified"),widthWeight:1,orderBy:"dateModified",orderDirection:this.state.orderDirection.dateModified,renderItem:this.$AdBreakPortalInstreamAdsBlockListView17}]};n.prototype.$AdBreakPortalInstreamAdsBlockListView14=function(o){return c("React").createElement("div",null,o.numPagesApplied)};n.prototype.$AdBreakPortalInstreamAdsBlockListView15=function(o){var p=null;if(o.isPageLevel)p=j._("Page");else p=j._("Video");return c("React").createElement("div",null,p)};n.prototype.$AdBreakPortalInstreamAdsBlockListView16=function(o){return c("React").createElement("div",null,c("React").createElement(c("Date.react"),{date:o.dateCreated,format:"M j, Y"}))};n.prototype.$AdBreakPortalInstreamAdsBlockListView17=function(o){return c("React").createElement("div",null,c("React").createElement(c("Date.react"),{date:o.dateModified,format:"M j, Y"}))};n.prototype.$AdBreakPortalInstreamAdsBlockListView8=function(){if(!this.state.showBlockListContentDialog)return null;var o=this.props.editable,p=null;if(this.props.selectedBlockList){o=this.props.selectedBlockList.editable&&this.props.editable;p=this.props.selectedBlockList.id}return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentContainer"),{blockListId:p,businessId:this.props.businessId,editable:o,enableSubcategories:this.props.enableSubcategories,onToggle:this.$AdBreakPortalInstreamAdsBlockListView19})};n.prototype.$AdBreakPortalInstreamAdsBlockListView12=function(){var o=c("React").createElement("div",{className:"_4xfq"},j._({"*":"Are you sure that you want to delete {number} block lists?","_1":"Are you sure that you want to delete 1 block list?"},[j.plural(this.$AdBreakPortalInstreamAdsBlockListView9(),"number")]));c("SimpleXUIDialog").showConfirm(o,j._("Delete"),function(p){if(p)this.$AdBreakPortalInstreamAdsBlockListView20()}.bind(this))};n.prototype.$AdBreakPortalInstreamAdsBlockListView20=function(){var o=[];Object.keys(this.state.isSelectedByItemID).map(function(p){if(this.state.isSelectedByItemID[p])o.push(p)}.bind(this));this.props.onDeleteBlockLists(o);this.setState({isSelectedByItemID:{}})};f.exports=n}),null);
__d("SponsorTagsOptInActionTypes",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({SHOW:"sponsorTagsOptIn/show",NEXT:"sponsorTagsOptIn/next",ACCEPT:"sponsorTagsOptIn/accept",CANCEL:"sponsorTagsOptIn/cancel",QUERY_STATUS:"sponsorTagsOptIn/query_status",QUERY_OPT_IN:"sponsorTagsOptIn/query_opt_in",HANDLE_STATUS:"sponsorTagsOptIn/handle_status",HANDLE_OPT_IN:"sponsorTagsOptIn/handle_opt_in"});f.exports=h}),null);
__d("SponsorTagsOptInDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("SponsorTagsOptInOptions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({QUERY_STATUS:"query_status",OPT_IN:"opt_in",OPT_OUT:"opt_out"})}),null);
__d("XSponsorTagsOptInController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/branded_content/optin/",{profile_id:{type:"Int"},option:{type:"String"}})}),null);
__d("SponsorTagsOptInDataManager",["AsyncRequest","SponsorTagsOptInActionTypes","SponsorTagsOptInDispatcher","SponsorTagsOptInOptions","XSponsorTagsOptInController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={queryStatus:function i(j){var k=c("XSponsorTagsOptInController").getURIBuilder().setString("option",c("SponsorTagsOptInOptions").QUERY_STATUS);if(j)k.setInt("profile_id",j);new(c("AsyncRequest"))().setMethod("POST").setReadOnly(false).setURI(k.getURI()).setHandler(this._handleStatusSuccess).setErrorHandler(this._handleStatusError).send()},_handleStatusSuccess:function i(j){var k=j.getPayload();c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").HANDLE_STATUS,payload:k})},_handleStatusError:function i(j){},queryOptIn:function i(j){var k=c("XSponsorTagsOptInController").getURIBuilder().setString("option",c("SponsorTagsOptInOptions").OPT_IN);if(j)k.setInt("profile_id",j);new(c("AsyncRequest"))().setMethod("POST").setReadOnly(false).setURI(k.getURI()).setHandler(this._handleOptInSuccess).setErrorHandler(this._handleOptInError).send()},_handleOptInSuccess:function i(j){var k=j.getPayload();c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").HANDLE_OPT_IN,payload:k})},_handleOptInError:function i(j){}};f.exports=h}),null);
__d("SponsorTagsOptInStepHowItWorks.react",["ix","cx","fbt","Image.react","React","Text.react","XUIButton.react","XUICloseButton.react","XUIDialogBody.react","XUIDialogFooter.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").Component;k=babelHelpers.inherits(n,m);l=k&&k.prototype;n.prototype.render=function(){var o=[{imageSrc:h("134446"),textTitle:j._("Find and tag business partners"),textContent:j._("If your post features another brand or product then search forthe business partner's Page and tag them. A \"Paid\" label will appear on these posts.")},{imageSrc:h("134453"),textTitle:j._("Amplify your posts"),textContent:j._("A notification will be sent the Pages tagged. These partners can then view the post's metrics as well as boost the post.")},{imageSrc:h("134914"),textTitle:j._("Track performance"),textContent:j._("You can both see how much budget is spent and the CPM metrics.")}],p=o.map(function(q,r){return c("React").createElement("div",{className:"_y1a",key:r},c("React").createElement("div",{className:"_y1c"},c("React").createElement(c("Image.react"),{src:q.imageSrc})),c("React").createElement("div",{className:"_y1g"},c("React").createElement(c("Text.react"),{className:"_y1h"},q.textTitle),c("React").createElement(c("Text.react"),{className:"_y1j"},q.textContent)))});return c("React").createElement("div",null,c("React").createElement("div",{className:"_8s2"},c("React").createElement(c("XUICloseButton.react"),{label:j._("Close"),className:"layerCancel _51-t"})),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_424x"},c("React").createElement(c("Text.react"),{className:"_y1l"},j._("How it works")),p)),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{use:"confirm",onClick:this.props.onClickNext,label:j._("Continue"),className:"_y1m"})))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("SponsorTagsOptInStepIntro.react",["cx","fbt","ix","Image.react","React","Text.react","XUIButton.react","XUICloseButton.react","XUIDialogBody.react","XUIDialogFooter.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").Component,n=j("26925");k=babelHelpers.inherits(o,m);l=k&&k.prototype;o.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_8s2"},c("React").createElement(c("XUICloseButton.react"),{label:i._("Close"),className:"layerCancel _51-t"})),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_424x"},c("React").createElement(c("Image.react"),{src:n}),c("React").createElement(c("Text.react"),{className:"_424z"},i._("Tagging Business Partners")),c("React").createElement(c("Text.react"),{className:"_4250"},i._("Tell meaningful stories with the businesses you partner with. Tag your business partners when you're posting branded content.")))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{use:"confirm",onClick:this.props.onClickNext,label:i._("How it works"),className:"_4252"})))};function o(){k.apply(this,arguments)}f.exports=o}),null);
__d("SponsorTagsOptInTCContent",["cx","Link.react","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createElement("div",{className:"_47o7"},c("React").createElement("p",null,c("React").createElement("b",null,"Facebook Branded Content Policies")),c("React").createElement("p",null,"Our Branded Content Policies apply to Verified Pages and Verified Profiles (with the blue badge) on Facebook. Branded content may only be posted by Verified Pages and Verified Profiles. Branded content is defined as content originating from a Page or Profile that features third party products, brands, or sponsors that differ from the Profile or Page. When posting permitted branded content integrations, Verified Profiles and Verified Pages must use the Branded Content tool to tag the featured third party product, brand, or sponsor."),c("React").createElement("ol",null,c("React").createElement("li",null,"Don't include pre, mid or post-roll ads in videos."),c("React").createElement("li",null,"Don't include banner ads in videos or images."),c("React").createElement("li",null,"Don't include third party products, brands or sponsors within your Profile or Page's cover photo or profile picture."),c("React").createElement("li",null,"Don't include title cards within a video's first three seconds. Interstitial ad cards outside of a video's first three seconds, such as mid cards or end cards, must not persist for longer than five consecutive seconds and must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"Don't include graphical overlays, logos or watermarks within a video's first three seconds. Graphical overlays, logos or watermarks included outside of a video's first three seconds must be tagged appropriately using the Branded Content tool. Ad elements and logos included in videos by virtue of being recorded during the subject matter's filming, such as stadium signage in sports related content, do not need to be tagged."),c("React").createElement("li",null,"Graphical overlays, logos or watermarks included on image content must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"Promotions, such as sweepstakes or giveaways, must be tagged appropriately using the Branded Content tool and must comply with section III. E. of the"," ",c("React").createElement(c("Link.react"),{href:"https://www.facebook.com/page_guidelines.php",target:"_blank"},"Facebook Pages Terms"),"."),c("React").createElement("li",null,"Third party images or videos promoting brands, products or sponsors that are unassociated with your Profile or Page, such as full-length third party video commercials, must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"Product placement in images or videos must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"Profile and Page posts clearly disclosed as being sponsored or provided by a third party, such as self-disclosure within a post's text, must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"You must comply with all applicable laws and regulations, including by ensuring that you provide all necessary disclosures to people using Facebook, such as any disclosures needed to indicate the commercial nature of content posted by you.")));f.exports=i}),null);
__d("SponsorTagsOptInStepTerms.react",["cx","fbt","React","ScrollableArea.react","SponsorTagsOptInTCContent","Text.react","XUIButton.react","XUICloseButton.react","XUIDialogBody.react","XUIDialogFooter.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;m.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_8s2"},c("React").createElement(c("XUICloseButton.react"),{label:i._("Close"),className:"layerCancel _51-t"})),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_5vvo"},c("React").createElement(c("Text.react"),{className:"_y1l"},i._("Business Partner Tags Terms & Conditions")),c("React").createElement(c("ScrollableArea.react"),{maxHeight:280,fade:false},c("SponsorTagsOptInTCContent")))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{use:"default",onClick:this.props.onClickCancel,label:i._("Cancel"),className:"_82v"}),c("React").createElement(c("XUIButton.react"),{use:"confirm",onClick:this.props.onClickAccept,label:i._("Accept"),className:"_82v"})))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("SponsorTagsOptInDialog.react",["cx","LayerFadeOnHide","React","SponsorTagsOptInStepHowItWorks.react","SponsorTagsOptInStepIntro.react","SponsorTagsOptInStepTerms.react","XUIDialog.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){if(!this.props.isShown)return null;var m=[c("React").createElement(c("SponsorTagsOptInStepIntro.react"),{onClickNext:this.props.onClickNext}),c("React").createElement(c("SponsorTagsOptInStepHowItWorks.react"),{onClickNext:this.props.onClickNext}),c("React").createElement(c("SponsorTagsOptInStepTerms.react"),{onClickAccept:this.props.onClickAccept,onClickCancel:this.props.onClickCancel})],n=m[this.props.step];return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},fixedTopPosition:120,hideOnEscape:false,layerHideOnBlur:false,onToggle:this.$SponsorTagsOptInDialog1.bind(this),shown:true,width:550,className:"_2um5"},n)};l.prototype.$SponsorTagsOptInDialog1=function(m){if(!m)this.props.onClickCancel()};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("SponsorTagsOptInStore",["FluxReduceStore","immutable","SponsorTagsOptInActionTypes","SponsorTagsOptInDataManager","SponsorTagsOptInDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={step:0,profileID:0,isShown:false,isOptedIn:null};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("SponsorTagsOptInActionTypes").NEXT:return o.set("step",o.step+1);case c("SponsorTagsOptInActionTypes").SHOW:return o.set("isShown",true).set("step",0);case c("SponsorTagsOptInActionTypes").CANCEL:return o.set("isShown",false).set("step",0);case c("SponsorTagsOptInActionTypes").ACCEPT:c("SponsorTagsOptInDataManager").queryOptIn(o.profileID);return o.set("isShown",false);case c("SponsorTagsOptInActionTypes").QUERY_STATUS:c("SponsorTagsOptInDataManager").queryStatus(p.profileID);return o.set("profileID",p.profileID);case c("SponsorTagsOptInActionTypes").QUERY_OPT_IN:c("SponsorTagsOptInDataManager").queryOptIn(o.profileID);return o;case c("SponsorTagsOptInActionTypes").HANDLE_STATUS:return o.set("isOptedIn",p.payload.isOptedIn);case c("SponsorTagsOptInActionTypes").HANDLE_OPT_IN:return o.set("isOptedIn",p.payload.isOptedIn);default:return o}};function n(){j.apply(this,arguments)}f.exports=new n(c("SponsorTagsOptInDispatcher"))}),null);
__d("SponsorTagsOptInDialogContainer.react",["FluxContainer","React","SponsorTagsOptInActionTypes","SponsorTagsOptInDialog.react","SponsorTagsOptInDispatcher","SponsorTagsOptInStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return[c("SponsorTagsOptInStore")]};k.calculateState=function(){return{isShown:c("SponsorTagsOptInStore").getState().isShown,step:c("SponsorTagsOptInStore").getState().step}};function k(){i.constructor.call(this);this.state={isShown:false,step:0}}k.prototype.render=function(){return c("React").createElement(c("SponsorTagsOptInDialog.react"),babelHelpers["extends"]({},this.state,{onClickNext:this.$SponsorTagsOptInDialogContainer1.bind(this),onClickAccept:this.$SponsorTagsOptInDialogContainer2.bind(this),onClickCancel:this.$SponsorTagsOptInDialogContainer3.bind(this)}))};k.prototype.$SponsorTagsOptInDialogContainer3=function(){c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").CANCEL})};k.prototype.$SponsorTagsOptInDialogContainer2=function(){c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").ACCEPT})};k.prototype.$SponsorTagsOptInDialogContainer1=function(){c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").NEXT})};f.exports=c("FluxContainer").create(k)}),null);
__d("CommerceSelfServeProductTaxRatesTable.react",["ix","cx","fbt","invariant","xuiglyph","AdsNumberInput.react","CommerceUSAStates","Image.react","React","SUIAtlasTheme","SUICheckboxInput.react","SUITextInput.react","XUIButton.react","XUITable.react"],(function a(b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m,n,o=c("React").PropTypes;m=babelHelpers.inherits(p,c("React").Component);n=m&&m.prototype;function p(){__p&&__p();var q,r;"use strict";for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=n.constructor).call.apply(q,[this].concat(t)),this.state={newRateLocationError:false,newTaxRateLocation:"",newTaxRatePercentage:0,newIsAppliedToShipping:false,showNewRateRow:false},this.$CommerceSelfServeProductTaxRatesTable1=function(v,w){return c("React").createElement("tr",{key:"tax_rate_"+v},c("React").createElement("td",null,c("React").createElement("span",null,v)),c("React").createElement("td",null,c("React").createElement(c("AdsNumberInput.react"),{value:this.$CommerceSelfServeProductTaxRatesTable3(w.tax_rate,3),suffix:"%",className:"_2263",onChange:function(x){if(x!==null){x=this.$CommerceSelfServeProductTaxRatesTable4(x,3);this.$CommerceSelfServeProductTaxRatesTable5(v,x,w.is_applied_to_shipping)}}.bind(this)})),c("React").createElement("td",null,c("React").createElement(c("SUICheckboxInput.react"),{label:w.is_applied_to_shipping?j._("Yes"):j._("No"),onChange:function(x){this.$CommerceSelfServeProductTaxRatesTable5(v,w.tax_rate,x)}.bind(this),theme:c("SUIAtlasTheme"),value:w.is_applied_to_shipping})),c("React").createElement("td",{className:"_5rpt"},c("React").createElement(c("Image.react"),{className:"_ksy _3-9b",src:h("88982"),onClick:function(){this.$CommerceSelfServeProductTaxRatesTable6(v)}.bind(this)})))}.bind(this),this.$CommerceSelfServeProductTaxRatesTable2=function(){return c("React").createElement("tr",{key:"new_tax_rate_row"},c("React").createElement("td",null,c("React").createElement(c("SUITextInput.react"),{className:"_2263",onChange:function(v){this.setState({newTaxRateLocation:v.toUpperCase()})}.bind(this),theme:c("SUIAtlasTheme"),value:this.state.newTaxRateLocation})),c("React").createElement("td",null,c("React").createElement(c("AdsNumberInput.react"),{value:this.$CommerceSelfServeProductTaxRatesTable3(this.state.newTaxRatePercentage,3),suffix:"%",className:"_2263",onChange:function(v){if(v!==null){v=this.$CommerceSelfServeProductTaxRatesTable4(v,3);this.setState({newTaxRatePercentage:v})}}.bind(this)})),c("React").createElement("td",null,c("React").createElement(c("SUICheckboxInput.react"),{label:this.state.newIsAppliedToShipping?j._("Yes"):j._("No"),onChange:function(v){this.setState({newIsAppliedToShipping:v})}.bind(this),theme:c("SUIAtlasTheme"),value:this.state.newIsAppliedToShipping})),c("React").createElement("td",{className:"_5rpt"},c("React").createElement(c("XUIButton.react"),{label:j._("Confirm"),use:"confirm",disabled:!this.$CommerceSelfServeProductTaxRatesTable7(this.state.newTaxRateLocation),onClick:this.$CommerceSelfServeProductTaxRatesTable8})))}.bind(this),this.$CommerceSelfServeProductTaxRatesTable6=function(v){var w=this.$CommerceSelfServeProductTaxRatesTable9(v),x=this.props.taxRates;delete x[w][v];this.props.onChangeTaxRates(x)}.bind(this),this.$CommerceSelfServeProductTaxRatesTable5=function(v,w,x){var y=this.$CommerceSelfServeProductTaxRatesTable9(v),z=this.props.taxRates;z[y][v]={tax_rate:w,is_applied_to_shipping:x};this.props.onChangeTaxRates(z)}.bind(this),this.$CommerceSelfServeProductTaxRatesTable8=function(){var v=this.state.newTaxRateLocation;this.$CommerceSelfServeProductTaxRatesTable5(v,this.state.newTaxRatePercentage,this.state.newIsAppliedToShipping);this.setState({newTaxRatePercentage:0,newTaxRateLocation:"",newIsAppliedToShipping:false})}.bind(this),this.$CommerceSelfServeProductTaxRatesTable9=function(v){this.$CommerceSelfServeProductTaxRatesTable7(v)||k(0);if(this.$CommerceSelfServeProductTaxRatesTable10(v))return"zip_code";else return"state_abbr"}.bind(this),this.$CommerceSelfServeProductTaxRatesTable3=function(v,w){var x=Math.round(v*Math.pow(10,w+2));return x/Math.pow(10,w)},this.$CommerceSelfServeProductTaxRatesTable4=function(v,w){var x=Math.round(v*Math.pow(10,w));return x/Math.pow(10,w+2)},this.$CommerceSelfServeProductTaxRatesTable7=function(v){return this.$CommerceSelfServeProductTaxRatesTable10(v)||this.$CommerceSelfServeProductTaxRatesTable11(v)}.bind(this),this.$CommerceSelfServeProductTaxRatesTable10=function(v){var w=/^[0-9]{5}$/;return v.match(w)!==null},this.$CommerceSelfServeProductTaxRatesTable11=function(v){var w="STATE_";return w+v in c("CommerceUSAStates")},r}p.prototype.render=function(){"use strict";var q=[];for(var r in this.props.taxRates){var s=this.props.taxRates[r];for(var t in s)q[q.length]=this.$CommerceSelfServeProductTaxRatesTable1(t,s[t])}q[q.length]=this.$CommerceSelfServeProductTaxRatesTable2();return c("React").createElement("div",null,c("React").createElement(c("XUITable.react"),{outerBorder:true},c("React").createElement("thead",null,c("React").createElement("tr",null,c("React").createElement("th",null,j._("Location")),c("React").createElement("th",null,j._("Tax rate")),c("React").createElement("th",null,j._("Apply tax to delivery cost?")),c("React").createElement("th",null))),c("React").createElement("tbody",null,q)))};p.propTypes={taxRates:o.object.isRequired,onChangeTaxRates:o.func.isRequired};f.exports=p}),null);
__d("FBCircularGlyph.react",["cx","Image.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.circleSize,o=m.glyph,p=m.glyphSize,q=babelHelpers.objectWithoutProperties(m,["circleSize","glyph","glyphSize"]);return c("React").createElement("div",babelHelpers["extends"]({},q,{className:c("joinClasses")("_32qy",q.className),style:babelHelpers["extends"]({width:n,height:n},q.style)}),c("React").createElement("div",{className:"_32qz"},c("React").createElement("div",{className:"_32q-"},c("React").createElement(c("Image.react"),{src:o,width:p,height:p}))))};function l(){i.apply(this,arguments)}l.propTypes={circleSize:k.number,glyph:k.oneOfType([k.object,k.string])};f.exports=l}),null);
__d("FBDraggableBar.react",["cx","invariant","DOMDimensions","React","ReactDOM","Rect","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(m){__p&&__p();k.constructor.call(this,m);this.$FBDraggableBar6=function(n){if(n)n.init(this)}.bind(this);this.onGrab=function(n,o){this.$FBDraggableBar1=n;this.$FBDraggableBar2=o;var p=c("DOMDimensions").getElementDimensions(this.$FBDraggableBar2),q=p.width,r=p.height;this.setState({elementWidth:q,elementHeight:r});this.onDrag()}.bind(this);this.onDrag=function(){var n=new(c("Rect"))(this.$FBDraggableBar2),o=(n.l+n.r)/2,p=this.$FBDraggableBar7(o);this.setState({toIndex:p})}.bind(this);this.onDrop=function(){var n=this.$FBDraggableBar1;n!==undefined&&n!==null||i(0);var o=this.state.toIndex;o!==undefined&&o!==null||i(0);this.$FBDraggableBar8();this.props.onReorder&&this.props.onReorder(n,o);this.$FBDraggableBar4()}.bind(this);this.onCancelDrag=function(){this.$FBDraggableBar8()}.bind(this);this.state={toIndex:null,elementWidth:null,elementHeight:null}}l.prototype.$FBDraggableBar4=function(){var m=c("ReactDOM").findDOMNode(this);!!m||i(0);var n=m.childNodes,o=[];for(var p=0;p<n.length;p++){var q=n[p];q instanceof Element||i(0);o.push(new(c("Rect"))(q))}this.$FBDraggableBar3=o};l.prototype.$FBDraggableBar5=function(){__p&&__p();var m=c("ReactDOM").findDOMNode(this);m instanceof Element||i(0);var n=m.childNodes,o=0;for(var p=0;p<n.length;p++){var q=n[p];q instanceof Element||i(0);var r=new(c("Rect"))(q);o+=r.r-r.l}m.clientWidth>=o||i(0)};l.prototype.componentDidMount=function(){this.$FBDraggableBar5();this.$FBDraggableBar4()};l.prototype.render=function(){var m=c("React").Children.map(this.props.children,function(q,r){var s={ref:this.$FBDraggableBar6,index:r};return c("React").cloneElement(q,s)}.bind(this)),n=this.state.toIndex;if(n!==null&&n!==undefined){var o=c("React").createElement("div",{className:"_63ax",key:"placeholder",style:{width:this.state.elementWidth,height:this.state.elementHeight}}),p=n<=this.$FBDraggableBar1?n:n+1;m.splice(p,0,o)}return c("React").createElement("span",{className:c("joinClasses")(this.props.className,"_42l3")},m)};l.prototype.$FBDraggableBar7=function(m){for(var n=0;n<this.$FBDraggableBar3.length;n++){var o=this.$FBDraggableBar3[n];if(o.l<=m&&m<o.r)return n}return this.$FBDraggableBar3.length};l.prototype.$FBDraggableBar8=function(){delete this.$FBDraggableBar1;delete this.$FBDraggableBar2;this.setState({elementWidth:null,elementHeight:null,toIndex:null})};f.exports=l}),null);
__d("FBDraggableItem.react",["cx","invariant","Draggable","Event","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Keys","React","ReactDOM","Rect","getScrollPosition","getViewportDimensions","nullthrows"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=10,m=250;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={dragging:false},this.$FBDraggableItem6=function(t){if(!t)return;var u=c("ReactDOM").findDOMNode(t);u instanceof Element||i(0);var v=c("ReactDOM").findDOMNode(this);v instanceof Element||i(0);this.$FBDraggableItem3=u;this.$FBDraggableItem4=v}.bind(this),this.init=function(t){this.$FBDraggableItem1=t}.bind(this),this.$FBDraggableItem9=function(){__p&&__p();if(this.state.dragging)return;var t=this.props,u=t.onGrab,v=t.index;if(u)if(v||v===0)u(v);else u();this.$FBDraggableItem5=c("Event").listen(document,"keydown",function(w){if(w.keyCode===c("Keys").ESC){this.$FBDraggableItem12();w.preventDefault()}}.bind(this));this.setState({dragging:true});this.$FBDraggableItem1.onGrab(c("nullthrows")(this.props.index),this.$FBDraggableItem4)}.bind(this),this.$FBDraggableItem10=function(){var t=this.$FBDraggableItem4.parentNode;if(!(t instanceof Element))return;var u=new(c("Rect"))(t),v=c("getViewportDimensions")(),w=c("getScrollPosition")(window),x=Math.max(v.width,l),y=new(c("Rect"))(w.y,Math.min(x,u.r+m),v.height+w.y,Math.max(0,u.l-m));this.$FBDraggableItem2&&this.$FBDraggableItem2.setBoundingBox(y);this.$FBDraggableItem1.onDrag()}.bind(this),this.$FBDraggableItem11=function(){this.$FBDraggableItem13();this.$FBDraggableItem1.onDrop()}.bind(this),p}n.prototype.$FBDraggableItem7=function(){"use strict";var o=c("React").Children.map(this.props.children,function(p){return p});o.length>0&&o.length<=2||i(0);return o};n.prototype.componentDidMount=function(){"use strict";this.$FBDraggableItem7();this.$FBDraggableItem8(true)};n.prototype.componentWillUnmount=function(){"use strict";this.$FBDraggableItem8(false)};n.prototype.render=function(){"use strict";var o=this.$FBDraggableItem7(),p=o.length!=2?null:c("React").createElement(c("FBOverlayElement.react"),{className:"_13uq",horizontal:"right",vertical:"top"},c("React").createElement("div",null,o[1]));return c("React").createElement(c("FBOverlayContainer.react"),{className:"_2rh6"+(this.state.dragging?" _2rjy":"")},c("React").createElement(c("FBOverlayBase.react"),null,o[0]),c("React").createElement(c("FBOverlayElement.react"),{horizontal:"left",ref:this.$FBDraggableItem6,vertical:"fit"},c("React").createElement("div",{className:"_2rjz"})),p)};n.prototype.$FBDraggableItem8=function(o){"use strict";__p&&__p();var p=this.$FBDraggableItem2;if(o&&!p)this.$FBDraggableItem2=new(c("Draggable"))(this.$FBDraggableItem4).setNamespace("FBDraggableItem").setUseAbsolute(true).setGrabHandler(this.$FBDraggableItem9).setDragHandler(this.$FBDraggableItem10).setDropHandler(this.$FBDraggableItem11).addHandle(this.$FBDraggableItem3);else if(!o&&p){if(p.active)this.$FBDraggableItem12();p.destroy();this.$FBDraggableItem2=null}};n.prototype.$FBDraggableItem12=function(){"use strict";this.$FBDraggableItem2&&this.$FBDraggableItem2.killDrag();this.$FBDraggableItem13();this.$FBDraggableItem1.onCancelDrag()};n.prototype.$FBDraggableItem13=function(){"use strict";this.$FBDraggableItem2&&this.$FBDraggableItem2.resetPosition();this.setState({dragging:false});this.$FBDraggableItem5&&this.$FBDraggableItem5.remove();delete this.$FBDraggableItem5};f.exports=n}),null);
__d("BUIFormButton.react",["invariant","BUIForm.react","React","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.density,n=babelHelpers.objectWithoutProperties(l,["density"]),o=void 0;switch(m){case"breathy":case"svelt":o="xlarge";break;case"snug":o="large";break;case"taut":o="medium";break}return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},n,{size:o}))};function k(){i.apply(this,arguments)}k.propTypes=babelHelpers["extends"]({},c("XUIButton.react").propTypes,{density:c("BUIForm.react").propTypes.density});f.exports=k}),null);
__d("FreeformSearchSource",["AbstractSearchSource","RegexMatchSearchSource","SearchableEntry","SearchSourceQueryStatus"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k,l,m){"use strict";i.constructor.call(this);this.$FreeformSearchSource1=k;this.$FreeformSearchSource2=new(c("RegexMatchSearchSource"))("\\S+");this.$FreeformSearchSource3=l;this.$FreeformSearchSource4=m}j.prototype.getBootstrappedEntries=function(k){"use strict";return typeof this.$FreeformSearchSource1.getBootstrappedEntries==="function"?this.$FreeformSearchSource1.getBootstrappedEntries(k):null};j.prototype.bootstrapImpl=function(k){"use strict";this.$FreeformSearchSource1.bootstrapImpl(k)};j.prototype.validateQuery=function(k){"use strict";return k.length>=this.$FreeformSearchSource4};j.prototype.searchImpl=function(k,l,m){"use strict";__p&&__p();this.$FreeformSearchSource2.searchImpl(k,function(n,o){var p=[];if(n.length===1&&this.validateQuery(o)){p=[new(c("SearchableEntry"))({uniqueID:n[0].getUniqueID(),title:this.$FreeformSearchSource3(n[0].getTitle().trim())})];l(p,k)}this.$FreeformSearchSource1.searchImpl(k,function(n,o){if(n.length>0)l(n.concat(p),o,c("SearchSourceQueryStatus").COMPLETE)},m)}.bind(this),m)};f.exports=j}),null);
__d("TimelineInfoReviewParam",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTION:"action",ENTITY_ID:"ent",EXISTING_ERROR:"error",ITEM_TYPE:"type",ITEM_TOKEN:"i_token",MULTI_CHOICE_OPTION:"option",QUERY:"query",REPLACE_ID:"replace_id",SURFACE:"profile_question_surface",QUESTION_SESSION:"session",QUESTION_TOKEN:"token",CURSOR:"cursor",DATE:"date",DAY:"day",END_DAY:"end_day",END_MONTH:"end_month",END_YEAR:"end_year",ENTITY_IDS:"ents",ENTITY_IDS_TYPEAHEAD:"ents_ta",GENERIC_TEXT:"generic_text",HUB_ID:"hub_id",LIKED:"liked",LOCATION_ID:"location_id",TITLE:"title",MONTH:"month",NO_VALID_ANSWER_ID:"no_answer",PREVIOUS_PROGRESS:"prev_prog",START_DAY:"start_day",START_MONTH:"start_month",START_YEAR:"start_year",TEXT:"text",TEXT_TYPE:"text_type",YEAR:"year",LOCATION:"location",RENDER_TIME:"render_t",REQUEST_ID:"request",RETHROW_ERRORS:"rethrow_errors",OTHER_ID:"other_id",FIELD_TYPE:"field_type",BIRTHDAY:"birthday",CITY_ID:"city_id",COLLEGE_ID:"college_id",COLLEGE_TEXT:"college_text",CONTAINER_ID:"container_id",COUNTRY_CODE:"country",EMAIL_ADDRESS:"email",EMAIL_FBID:"email_fbid",EMAIL_FBIDS:"email_fbids",ENTITY_ID_TYPEAHEAD:"ent_ta",FAMILY_ANNIVERSARIES:"family_anniversaries",FAMILY_ANNIVERSARIES_IN_MS:"family_anniversaries_in_ms",FAMILY_ANNIVERSARY_DAYS:"family_anniversary_days",FAMILY_ANNIVERSARY_MONTHS:"family_anniversary_months",FAMILY_ANNIVERSARY_YEARS:"family_anniversary_years",FAMILY_BIRTHDAYS:"family_birthdays",FAMILY_BIRTHDAY_DAYS:"family_birthday_days",FAMILY_BIRTHDAY_MONTHS:"family_birthday_months",FAMILY_BIRTHDAY_YEARS:"family_birthday_years",FAMILY_BIRTHDAYS_IN_MS:"family_birthdays_in_ms",FAMILY_IDS:"family_ids",FAMILY_RELATIONS:"family_relations",FAMILY_TEXT_NAMES:"family_text_names",GRAD_SCHOOL_ID:"grad_id",GRAD_SCHOOL_TEXT:"grad_text",HIGH_SCHOOL_ID:"hs_id",HIGH_SCHOOL_TEXT:"hs_text",NAME_PRONUNCIATION_FIRSTNAME_RADIO:"first_radio",NAME_PRONUNCIATION_LASTNAME_RADIO:"last_radio",NAME_PRONUNCIATION_FIRSTNAME_CUSTOM:"first_input",NAME_PRONUNCIATION_LASTNAME_CUSTOM:"last_input",NEIGHBORHOOD:"neighborhood",ONLY_SHARE_WITH:"only_share",PHONE_FBIDS:"phone_fbids",PHONE_FBID:"phone_fbid",PHONE_NUMBER:"phone",PHONE_TYPE:"phone_type",POSTAL_CODE:"postal_code",PRIVACY_X:"priv_x",STREET_ADDRESS:"address",USE_EXISTING:"existing",SAVE:"save",SKIP:"skip"})}),null);
__d("ProgressiveDatepickerMixin",["DateConsts","React","TimelineInfoReviewParam"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i={propTypes:{descendingYears:h.bool,initialDay:function j(k,l,m){var n=k.initialYear,o=k.initialMonth,j=k.initialDay;if(!j)return;var p=o&&n&&j<=c("DateConsts").getDaysInMonth(n,o);if(!p)return new Error("A valid initialYear and initialMonth must be provided if initialDay is set.");return h.number.apply(this,arguments)},initialMonth:function j(k,l,m){if(k.initialMonth&&!k.initialYear)return new Error("A valid initialYear must be provided if initialMonth is set.");return h.number.apply(this,arguments)},initialYear:h.number,inputPrefix:h.string,maxTime:h.number.isRequired,minTime:h.number.isRequired,minTimeUnit:h.oneOf(["day","month","year"]),onDateChange:h.func,setDateTo:h.object,supressDaySelector:h.bool,forceYearSelection:h.bool,className:h.string,wrapperClassName:h.string,reverseOrder:h.bool},getDefaultProps:function j(){return{descendingYears:false,initialYear:0,initialMonth:0,initialDay:0,inputPrefix:"",minTimeUnit:"year",supressDaySelector:false,forceYearSelection:false,reverseOrder:false}},getInitialState:function j(){if(this.props.setDateTo!=null)return this.props.setDateTo;else return{day:this.props.initialDay,month:this.props.initialMonth,year:this.props.initialYear}},clearDate:function j(){this.setState(this.getInitialState())},_getDayName:function j(){return this.props.inputPrefix===""?c("TimelineInfoReviewParam").DAY:this.props.inputPrefix+"_"+c("TimelineInfoReviewParam").DAY},_getMonthName:function j(){return this.props.inputPrefix===""?c("TimelineInfoReviewParam").MONTH:this.props.inputPrefix+"_"+c("TimelineInfoReviewParam").MONTH},_getYearName:function j(){return this.props.inputPrefix===""?c("TimelineInfoReviewParam").YEAR:this.props.inputPrefix+"_"+c("TimelineInfoReviewParam").YEAR},_getMinDate:function j(){return new Date(this.props.minTime*c("DateConsts").MS_PER_SEC)},_getMinYear:function j(){return this._getMinDate().getFullYear()},_getMinMonth:function j(){return this._getMinDate().getMonth()+1},_getMinDay:function j(){return this._getMinDate().getDate()},_isMinYear:function j(){return this.state.year===this._getMinYear()},_isMinYearAndMonth:function j(){return this._isMinYear()&&this.state.month===this._getMinMonth()},_getMaxDate:function j(){return new Date(this.props.maxTime*c("DateConsts").MS_PER_SEC)},_getMaxYear:function j(){return this._getMaxDate().getFullYear()},_getMaxMonth:function j(){return this._getMaxDate().getMonth()+1},_getMaxDay:function j(){return this._getMaxDate().getDate()},_isMaxYear:function j(){return this.state.year===this._getMaxYear()},_isMaxYearAndMonth:function j(){return this._isMaxYear()&&this.state.month===this._getMaxMonth()},_getCurrentDate:function j(){return new Date(this.state.year,!this.state.month?0:this.state.month-1,this.state.year&&!this.state.day?1:this.state.day).getTime()},getCurrentDateInSeconds:function j(){return this._getCurrentDate()/c("DateConsts").MS_PER_SEC},getCurrentDateWithoutAutoCorrection:function j(){if(this.state.year===0||this.state.month===0||this.state.day===0)return new Date(0,0,0).getTime();return this.getCurrentDateInSeconds()},getMaxPossibleDateInSeconds:function j(){__p&&__p();var k={year:this.state.year,month:this.state.month,day:this.state.day};if(!k.day)if(k.month)k.month+=1;else if(k.year){k.year+=1;k.day=1}var l=new Date(k.year,!k.month?0:k.month-1,k.day);return l.getTime()/c("DateConsts").MS_PER_SEC},_onYearChange:function j(event){var k=event.target?event.target.value:event.value;this._onDateChange({year:parseInt(k,10),month:this.state.month,day:this.state.day})},_onMonthChange:function j(event){var k=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:parseInt(k,10),day:this.state.day})},_onDayChange:function j(event){var k=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:this.state.month,day:parseInt(k,10)})},_onDateChange:function j(k){var l=this._getValidDate(k);this.setState(l,function(){this.props.onDateChange&&this.props.onDateChange(l)}.bind(this))},_getValidDate:function j(k,l,m){__p&&__p();if(typeof l==="undefined")l=new Date(this.props.minTime*c("DateConsts").MS_PER_SEC);if(typeof m==="undefined")m=new Date(this.props.maxTime*c("DateConsts").MS_PER_SEC);var n=k.year,o=k.month,p=k.day;if(n){if(n<=l.getFullYear()){n=l.getFullYear();if(o&&o<=l.getMonth()+1){o=l.getMonth()+1;if(p&&p<l.getDate())p=l.getDate()}}else if(n>=m.getFullYear()){n=m.getFullYear();if(o&&o>=m.getMonth()+1){o=m.getMonth()+1;if(p&&p>m.getDate())p=m.getDate()}}if(o){if(p&&p>c("DateConsts").getDaysInMonth(n,o))p=c("DateConsts").getDaysInMonth(n,o)}else p=0}else o=p=0;return{year:n,month:o,day:p}},componentWillReceiveProps:function j(k){var l=new Date(k.minTime*c("DateConsts").MS_PER_SEC),m=new Date(k.maxTime*c("DateConsts").MS_PER_SEC);if(k.setDateTo!=null)this.setState(k.setDateTo);else this.setState(this._getValidDate(this.state,l,m))}};f.exports=i}),null);
__d("XUIProgressiveDatepicker.react",["cx","DateConsts","DateStrings","ProgressiveDatepickerMixin","React","InlineBlock.react","XUISelector.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("XUISelector.react").Option,j=c("React").createClass({displayName:"TimelineProgressiveDatepicker",mixins:[c("ProgressiveDatepickerMixin")],render:function k(){__p&&__p();var l=[];for(var m=this._getMinYear();m<=this._getMaxYear();m++){var n=c("React").createElement(i,{key:m,title:m,value:m},m);this.props.descendingYears?l.unshift(n):l.push(n)}l.unshift(c("React").createElement(i,{key:0,title:c("DateStrings").getYearLabel(),value:0},c("DateStrings").getYearLabel()));var o=null;if(this.state.year||this.props.minTimeUnit!=="year"){var p=[c("React").createElement(i,{key:0,title:c("DateStrings").getMonthLabel(),value:0},c("DateStrings").getMonthLabel())],q=1,r=c("DateConsts").MONTHS_PER_YEAR;if(this._isMinYear())q=this._getMinMonth();if(this._isMaxYear())r=this._getMaxMonth();for(var s=q;s<=r;s++){var t=c("DateStrings").getMonthName(s);p.push(c("React").createElement(i,{key:s,title:t,value:s},t))}o=c("React").createElement(c("XUISelector.react"),{className:"_5vu1","data-testid":"ProgressiveDatepicker/monthSelector",disabled:this.props.disabled||!this.state.year,maxheight:this.props.menuMaxHeight,name:this._getMonthName(),onChange:this._onMonthChange,value:this.state.month},p)}var u=null;if(this.state.month||this.props.minTimeUnit==="day"){var v=[c("React").createElement(i,{key:0,title:c("DateStrings").getDayLabel(),value:0},c("DateStrings").getDayLabel())],w=1,x=c("DateConsts").getDaysInMonth(this.state.year,this.state.month);if(this._isMinYearAndMonth())w=this._getMinDay();if(this._isMaxYearAndMonth())x=this._getMaxDay();for(var y=w;y<=x;y++)v.push(c("React").createElement(i,{key:y,title:y,value:y},y));u=c("React").createElement(c("XUISelector.react"),{className:"_5vu1","data-testid":"ProgressiveDatepicker/daySelector",disabled:this.props.disabled||!this.state.month,maxheight:this.props.menuMaxHeight,name:this._getDayName(),onChange:this._onDayChange,value:this.state.day},v)}return c("React").createElement(c("InlineBlock.react"),null,c("React").createElement(c("XUISelector.react"),{"data-testid":"ProgressiveDatepicker/yearSelector",disabled:this.props.disabled,maxheight:this.props.menuMaxHeight,name:this._getYearName(),onChange:this._onYearChange,value:this.state.year},l),o,u)}});f.exports=j}),null);
__d("VideoComposerDialogMode",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VIDEO_CROSSPOST:"video_crosspost",VIDEO_EDIT:"video_edit",VIDEO_UPLOAD:"video_upload"})}),null);
__d("VideoComposerDialogUIEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CONFIRMATION_DIALOG_CLOSE:"confirmation_dialog_close",DIALOG_OPENED:"dialog_opened",DIALOG_REQUESTED:"dialog_requested",EDIT_TABS_LOADED:"edit_tabs_loaded",EXIT_COMPOSER_ATTEMPT:"exit_composer_attempt",EXIT_COMPOSER_CANCEL:"exit_composer_cancel",EXIT_COMPOSER_CONFIRM:"exit_composer_confirm",EXIT_COMPOSER_REPLACE_FILE:"exit_composer_replace_file",EXIT_COMPOSER_SAVE_DRAFT:"exit_composer_save_draft",FILE_REPLACED:"file_replaced",METADATA_LOAD_FAILED:"metadata_load_failed",METADATA_LOAD_SUCCESS:"metadata_load_success",NAVIGATED_FROM_PAGE:"navigated_from_page",POST_BACKDATE_ATTEMPT:"post_backdate_attempt",POST_CAPTIONS_FAILURE:"post_captions_failure",POST_DRAFT_ATTEMPT:"post_draft_attempt",POST_FAILURE:"post_failure",POST_PUBLISH_ATTEMPT:"post_publish_attempt",POST_SCHEDULE_ATTEMPT:"post_schedule_attempt",POST_SUCCESS:"post_success",RIGHTS_DIALOG_SHOWN:"rights_dialog_shown",RIGHTS_DIALOG_CONFIRM:"rights_dialog_confirm",SAVE_EDITED_VIDEO_ATTEMPT:"save_edited_video_attempt",SAVE_EDITED_VIDEO_FAILURE:"save_edited_video_failure",SAVE_EDITED_VIDEO_SUCCESS:"save_edited_video_success",SELECT_EDITING_PUBLISH_ACTION:"select_editing_publish_action",TAB_LOAD_ERROR:"tab_load_error",TAB_SWITCHED:"tab_switched",UPLOAD_FAILURE:"upload_failure",UPLOAD_FINISHED:"upload_finished",USER_PLAYED_VIDEO_PREVIEW:"user_played_video_preview"})}),null);
__d("VideoComposerDialogUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoComposerDialogUILoggerConfig",this.$VideoComposerDialogUITypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoComposerDialogUILoggerConfig",this.$VideoComposerDialogUITypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:VideoComposerDialogUILoggerConfig",this.$VideoComposerDialogUITypedLogger1,{signal:true})};h.prototype.clear=function(){this.$VideoComposerDialogUITypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$VideoComposerDialogUITypedLogger1)};h.prototype.updateData=function(j){this.$VideoComposerDialogUITypedLogger1=babelHelpers["extends"]({},this.$VideoComposerDialogUITypedLogger1,j);return this};h.prototype.setActorID=function(j){this.$VideoComposerDialogUITypedLogger1.actor_id=j;return this};h.prototype.setComposerDialogVersion=function(j){this.$VideoComposerDialogUITypedLogger1.composer_dialog_version=j;return this};h.prototype.setComposerEntryPoint=function(j){this.$VideoComposerDialogUITypedLogger1.composer_entry_point=j;return this};h.prototype.setCurrentTab=function(j){this.$VideoComposerDialogUITypedLogger1.current_tab=j;return this};h.prototype.setDialogMode=function(j){this.$VideoComposerDialogUITypedLogger1.dialog_mode=j;return this};h.prototype.setEditSource=function(j){this.$VideoComposerDialogUITypedLogger1.edit_source=j;return this};h.prototype.setErrorMessage=function(j){this.$VideoComposerDialogUITypedLogger1.error_message=j;return this};h.prototype.setEvent=function(j){this.$VideoComposerDialogUITypedLogger1.event=j;return this};h.prototype.setHasBeenReset=function(j){this.$VideoComposerDialogUITypedLogger1.has_been_reset=j;return this};h.prototype.setNextTab=function(j){this.$VideoComposerDialogUITypedLogger1.next_tab=j;return this};h.prototype.setSessionID=function(j){this.$VideoComposerDialogUITypedLogger1.session_id=j;return this};h.prototype.setVC=function(j){this.$VideoComposerDialogUITypedLogger1.vc=j;return this};h.prototype.setVideoAssetID=function(j){this.$VideoComposerDialogUITypedLogger1.video_asset_id=j;return this};h.prototype.setVideoAssetWaterfallSource=function(j){this.$VideoComposerDialogUITypedLogger1.video_asset_waterfall_source=j;return this};h.prototype.setVideoID=function(j){this.$VideoComposerDialogUITypedLogger1.video_id=j;return this};var i={actor_id:true,composer_dialog_version:true,composer_entry_point:true,current_tab:true,dialog_mode:true,edit_source:true,error_message:true,event:true,has_been_reset:true,next_tab:true,session_id:true,vc:true,video_asset_id:true,video_asset_waterfall_source:true,video_id:true};f.exports=h}),null);
__d("VideoComposerDialogVersion",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({V1:"V1",V2:"V2"})}),null);
__d("XComposerXVideoUploadDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/video/dialog/",{target_id:{type:"FBID",required:true},source_id:{type:"String",required:true},entry_point:{type:"Enum",required:true,enumType:1},is_reference_video:{type:"Bool",defaultValue:false}})}),null);
__d("ComposerXVideoUploadDialogController",["ActorURI","Arbiter","AsyncDialog","AsyncRequest","Bootloader","ComposerEntryPointRef","ComposerXVideoUploadDialog.react","DOM","React","ReactDOM","ReactPagesComposerGlobalFlags","VideoComposerDialogMode","VideoComposerDialogUIEvent","VideoComposerDialogUITypedLogger","VideoComposerDialogVersion","XComposerXVideoUploadDialogController"],(function a(b,c,d,e,f,g){__p&&__p();var h={};function i(o){return h[o]}function j(o){h[o.getID()]=o}function k(o){delete h[o]}function l(o){return o in h}var m=c("ComposerEntryPointRef").TIMELINE;function n(o,p,q,r,s,t,u,v,w,x){"use strict";__p&&__p();this.$ComposerXVideoUploadDialogController1=o;this.$ComposerXVideoUploadDialogController2=p;this.$ComposerXVideoUploadDialogController3=q;this.$ComposerXVideoUploadDialogController4=r;this.$ComposerXVideoUploadDialogController5=s;this.$ComposerXVideoUploadDialogController6=t;this.$ComposerXVideoUploadDialogController7=u;this.$ComposerXVideoUploadDialogController8=v;this.$ComposerXVideoUploadDialogController9=w;this.$ComposerXVideoUploadDialogController10=x;this.$ComposerXVideoUploadDialogController11=n.$ComposerXVideoUploadDialogController12(this.$ComposerXVideoUploadDialogController1,this.$ComposerXVideoUploadDialogController4,this.$ComposerXVideoUploadDialogController8);this.$ComposerXVideoUploadDialogController13=false;this.$ComposerXVideoUploadDialogController14=c("DOM").create("span");c("DOM").appendContent(document.body,this.$ComposerXVideoUploadDialogController14);this.$ComposerXVideoUploadDialogController15()}n.prototype.getID=function(){"use strict";return this.$ComposerXVideoUploadDialogController11};n.prototype.setFileInput=function(o){"use strict";this.$ComposerXVideoUploadDialogController2=o};n.prototype.getFileInput=function(){"use strict";return this.$ComposerXVideoUploadDialogController2};n.prototype.setDroppedFiles=function(o){"use strict";this.$ComposerXVideoUploadDialogController3=o};n.prototype.getDroppedFiles=function(){"use strict";return this.$ComposerXVideoUploadDialogController3};n.prototype.$ComposerXVideoUploadDialogController16=function(o){"use strict";this.$ComposerXVideoUploadDialogController17=o;if(this.$ComposerXVideoUploadDialogController18)this.show()};n.prototype.$ComposerXVideoUploadDialogController19=function(){"use strict";if(c("ReactPagesComposerGlobalFlags").getIsObjectiveFirstPagesComposer())c("Bootloader").loadModules(["PagesPublishingLoggingActions","PagesPublishingFunnelLoggingAdditionalPostTypes"],function(o,p){o.setPostType(p.VIDEO)},"ComposerXVideoUploadDialogController")};n.prototype.$ComposerXVideoUploadDialogController15=function(){"use strict";var o=c("XComposerXVideoUploadDialogController").getURIBuilder().setFBID("target_id",this.$ComposerXVideoUploadDialogController1).setString("source_id",this.$ComposerXVideoUploadDialogController11).setEnum("entry_point",this.$ComposerXVideoUploadDialogController4).setBool("is_reference_video",this.$ComposerXVideoUploadDialogController9).getURI();o=c("ActorURI").create(o,this.$ComposerXVideoUploadDialogController1);c("AsyncDialog").send(new(c("AsyncRequest"))(o).setAbortHandler(function(){this.$ComposerXVideoUploadDialogController2.clear();k(this.$ComposerXVideoUploadDialogController11)}.bind(this)))};n.prototype.$ComposerXVideoUploadDialogController20=function(){"use strict";this.$ComposerXVideoUploadDialogController19();c("ReactDOM").render(c("React").createElement(c("ComposerXVideoUploadDialog.react"),{canShowOptimisticPost:this.$ComposerXVideoUploadDialogController7,composer:this.$ComposerXVideoUploadDialogController17,composerID:this.$ComposerXVideoUploadDialogController11,composerEntryPointRef:this.$ComposerXVideoUploadDialogController4,isProfileVideo:this.$ComposerXVideoUploadDialogController4==="profile_video",isReferenceVideo:this.$ComposerXVideoUploadDialogController9,showDialogCancelButton:this.$ComposerXVideoUploadDialogController5,showProcessingDialog:this.$ComposerXVideoUploadDialogController6,isPageTrailer:this.$ComposerXVideoUploadDialogController4===c("ComposerEntryPointRef").PAGE_TRAILER,onCancel:this.$ComposerXVideoUploadDialogController21.bind(this),onDone:this.$ComposerXVideoUploadDialogController22.bind(this)}),this.$ComposerXVideoUploadDialogController14);this.$ComposerXVideoUploadDialogController13=true};n.prototype.show=function(){"use strict";__p&&__p();if(this.$ComposerXVideoUploadDialogController17){this.$ComposerXVideoUploadDialogController18=false;if(this.$ComposerXVideoUploadDialogController2)c("Arbiter").inform("ComposerXFilesStore/filesAdded/"+this.$ComposerXVideoUploadDialogController11+"/videoupload",{fileInput:this.$ComposerXVideoUploadDialogController2},c("Arbiter").BEHAVIOR_PERSISTENT);else if(this.$ComposerXVideoUploadDialogController3)c("Arbiter").inform("ComposerXFilesStore/filesDropped/"+this.$ComposerXVideoUploadDialogController11+"/videoupload",{files:this.$ComposerXVideoUploadDialogController3},c("Arbiter").BEHAVIOR_PERSISTENT);this.$ComposerXVideoUploadDialogController20()}else this.$ComposerXVideoUploadDialogController18=true};n.prototype.$ComposerXVideoUploadDialogController21=function(){"use strict";c("Arbiter").inform("videoUpload/cancel",{composerID:this.$ComposerXVideoUploadDialogController11});this.hide()};n.prototype.$ComposerXVideoUploadDialogController22=function(o){"use strict";c("Arbiter").inform("videoUpload/"+this.$ComposerXVideoUploadDialogController11+"/done");c("Arbiter").inform("Pages/composeFinished",{composerID:this.$ComposerXVideoUploadDialogController11});this.hide()};n.prototype.hide=function(){"use strict";c("ReactDOM").unmountComponentAtNode(this.$ComposerXVideoUploadDialogController14);this.$ComposerXVideoUploadDialogController13=false};n.getComposerInstance=function(o){"use strict";return i(o)};n.$ComposerXVideoUploadDialogController12=function(o,p,q){"use strict";if(q)return q;else return p+"_"+o};n.clearInstances=function(){"use strict";h={}};n.showDialog=function(o){"use strict";__p&&__p();o.composerEntryPointRef=o.composerEntryPointRef||m;var p=n.$ComposerXVideoUploadDialogController12(o.targetID,o.composerEntryPointRef,o.originalComposerID);if(!o.fileInput&&!o.files)return;if(!l(p))j(new n(o.targetID,o.fileInput||null,o.files||null,o.composerEntryPointRef,o.showDialogCancelButton||false,o.showProcessingDialog||false,o.canShowOptimisticPost||false,o.originalComposerID||"",o.isReferenceVideoUpload||false));else{new(c("VideoComposerDialogUITypedLogger"))().setEvent(c("VideoComposerDialogUIEvent").DIALOG_REQUESTED).setActorID(o.targetID).setComposerDialogVersion(c("VideoComposerDialogVersion").V1).setComposerEntryPoint(o.composerEntryPointRef).setDialogMode(c("VideoComposerDialogMode").VIDEO_UPLOAD).log();if(o.fileInput)i(p).setFileInput(o.fileInput);else if(o.files)i(p).setDroppedFiles(o.files)}i(p).show()};n.setVideoComposer=function(o,p){"use strict";if(h[o])h[o].$ComposerXVideoUploadDialogController16(p)};f.exports=n}),null);
__d("ExpirationType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:0,DELETE:1,HIDE:2,ONLY_ME:3})}),null);
__d("VideoEditMentionsTextArea.react",["cx","AtSignMentionsStrategy","DocumentCompositeMentionsSource","DocumentMentionsSource","EditorState","MentionsInput.react","MentionsInputUtility","MentionsInputTypeaheadView.react","React","joinClasses","getMentionsInputDecorator"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";__p&&__p();j.constructor.call(this,m);this.$VideoEditMentionsTextArea1=function(r){if(this.props.disabled)return;this.setState({editorState:r});this.props.onChange(r)}.bind(this);this.focus=function(){this.refs.mentionsInput.focus()}.bind(this);var n=new(c("DocumentMentionsSource"))(c("AtSignMentionsStrategy"),m.searchSource),o=new(c("DocumentCompositeMentionsSource"))([n]),p=m.textWithMentions,q;if(m.editorState)q=m.editorState;else if(p)q=c("MentionsInputUtility").createFromTextWithMentions(p,c("getMentionsInputDecorator")());else q=c("EditorState").createEmpty(c("getMentionsInputDecorator")());m.onChange(q);this.state={compositeMentionsSource:o,editorState:q}}l.prototype.render=function(){"use strict";var m=c("joinClasses")("_2oc3",this.props.className);return c("React").createElement(c("MentionsInput.react"),{className:m,editorState:this.state.editorState,mentionsSource:this.state.compositeMentionsSource,placeholder:this.props.placeholder,typeaheadView:c("MentionsInputTypeaheadView.react"),typeaheadViewProps:{},onChange:this.$VideoEditMentionsTextArea1,ref:"mentionsInput"})};l.propTypes={disabled:k.bool};l.defaultProps={disabled:false};f.exports=l}),null);
__d("VideoScheduleAnnouncementPostSection.react",["cx","fbt","React","XUICheckboxInput.react","Image.react","InputLabel.react","Layout.react","EditorState","MentionsInputUtility","getMentionsInputDecorator","getMentionsTextForContentState","VideoEditMentionsTextArea.react","WebAsyncSearchSource"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Layout.react").Column,m=c("Layout.react").FillColumn;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.onMessageChange=function(p){var q=c("getMentionsTextForContentState")(p.getCurrentContent());this.setState({messageEditorState:p});this.props.onChange(this.state.announcementToggle,q)}.bind(this);this.state={announcementToggle:true,messageEditorState:this.$VideoScheduleAnnouncementPostSection1(o.message)}}n.prototype.$VideoScheduleAnnouncementPostSection1=function(o){if(o)return c("MentionsInputUtility").createFromTextWithMentions(o,c("getMentionsInputDecorator")());return c("EditorState").createEmpty(c("getMentionsInputDecorator")())};n.prototype.render=function(){var o=c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.announcementToggle,onChange:function(){this.props.onChange(!this.state.announcementToggle);this.setState({announcementToggle:!this.state.announcementToggle})}.bind(this)});return c("React").createElement("div",{className:"_3-8-"},c("React").createElement(c("InputLabel.react"),{label:i._("Announcement post")},o),this.$VideoScheduleAnnouncementPostSection2())};n.prototype.$VideoScheduleAnnouncementPostSection2=function(){if(!this.state.announcementToggle)return null;return c("React").createElement("div",{className:"_3-8x _t0j"},c("React").createElement(c("Layout.react"),{className:"_2rgz"},c("React").createElement(l,{className:"_2rg-"},c("React").createElement(c("Image.react"),{src:this.props.profilePic})),c("React").createElement(m,null,c("React").createElement(c("VideoEditMentionsTextArea.react"),{className:"_2rg_",placeholder:i._("Say something about this upcoming video..."),searchSource:this.props.mentionsSource,editorState:this.state.messageEditorState,onChange:this.onMessageChange,textWithMentions:this.props.message}))))};f.exports=n}),null);
__d("PostScheduleAndPostEndDialog.react",["ix","cx","fbt","DatePickerRestraints","ExpirationType","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","React","ReactLayeredComponentMixin_DEPRECATED","XUIAmbientNUX.react","XUICheckboxInput.react","XUIDateTimePicker.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIGrayText.react","XUINotice.react","XUIText.react","InputLabel.react","Image.react","Layout.react","VideoScheduleAnnouncementPostSection.react","VideoScheduleAnnouncementPostPreview.react","fbglyph","gkx"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=c("Layout.react").Column,l=c("Layout.react").FillColumn,m=c("React").PropTypes,n=60*1e3,o=60*n,p=24*60*60*1e3,q=30,r=6*q*p,s=11,t=450,u=857,v=325,w=c("React").createClass({displayName:"PostScheduleAndPostEndDialog",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{initialPublishDate:m.instanceOf(Date),initialPostEndDate:m.instanceOf(Date),isReschedule:m.bool,timezoneStr:m.string.isRequired,onSubmit:m.func.isRequired,defaultScheduledTimeDelta:m.number,showPostEndDate:m.bool,showExpire:m.bool,showExpireNux:m.bool,showPremiereOption:m.bool,onNuxAcked:m.func,submitLabel:m.string,canCreateAnnouncementPost:m.bool,announcementPostConfig:m.object,composerID:m.string},getDefaultProps:function x(){return{defaultScheduledTimeDelta:s*n,showPostEndDate:true}},getInitialState:function x(){return{shown:false,publishDate:this.props.initialPublishDate?this.props.initialPublishDate:new Date(Date.now()+this.props.defaultScheduledTimeDelta),postEndDate:this.props.initialPostEndDate?this.props.initialPostEndDate:new Date(Date.now()+o),scheduleToggle:true,postEndToggle:false,premiereToggle:false,expireDate:new Date(Date.now()+o),expireToggle:false,expirationType:c("ExpirationType").HIDE,showNux:false,announcementToggle:this.props.canCreateAnnouncementPost,announcementTitle:this.props.announcementPostConfig?this.props.announcementPostConfig.defaultMessage:""}},show:function x(){var y=this.getInitialState();y.showNux=this.props.showExpireNux;y.shown=true;this.setState(y)},_onNuxClose:function x(){this.setState({showNux:false});this.props.onNuxAcked&&this.props.onNuxAcked()},renderLayers:function x(){var y=this.props.isReschedule?j._("Reschedule Post"):j._("Schedule Post"),z=this.props.submitLabel?this.props.submitLabel:this.state.scheduleToggle?this.props.isReschedule?j._("Reschedule"):j._("Schedule"):j._("Publish"),A=null;if(this.state.showNux&&this.refs.expirationToggle)A=c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:this._getContextRef,onCloseButtonClick:this._onNuxClose,position:"left",shown:true},j._("You can now choose when your post will be unpublished."));var B=this._renderInvalidTimeNotice();return c("React").createElement("div",null,c("React").createElement(c("XUIDialog.react"),{shown:this.state.shown,width:this.props.canCreateAnnouncementPost?u:t,fixedTopPosition:v,className:"_yjl"},c("React").createElement(c("XUIDialogTitle.react"),null,y),c("React").createElement(c("XUIDialogBody.react"),{className:"_hg8"},this._renderBody(B)),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),{className:"_3-90"}),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",label:z,onClick:this._onSubmitClick,disabled:B!==null,use:"confirm"}))),A)},_renderBody:function x(y){if(this.props.canCreateAnnouncementPost)return c("React").createElement(c("Layout.react"),null,c("React").createElement(k,null,this._renderScheduledForm(y)),c("React").createElement(l,null,this._renderAnnouncementPostPreview()));return this._renderScheduledForm(y)},_renderAnnouncementPostPreview:function x(){return c("React").createElement("div",{className:"_yjn"},c("React").createElement("div",null,c("React").createElement(c("Image.react"),{src:h("126073")}),c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold",className:"_yko"},j._("Announcement preview"))),c("React").createElement(c("VideoScheduleAnnouncementPostPreview.react"),{config:this.props.announcementPostConfig||{},showPreview:this.state.announcementToggle,title:this.state.announcementTitle,scheduledTime:this.state.publishDate.getTime(),composerID:this.props.composerID}))},_renderPremiereOption:function x(){if(!this.props.showPremiereOption)return null;return c("React").createElement(c("InputLabel.react"),{label:j._("Premeire")},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.premiereToggle,onChange:function(){return this.setState({premiereToggle:!this.state.premiereToggle})}.bind(this)}))},_renderScheduledForm:function x(y){return c("React").createElement("div",{className:"_ykp"},this._renderPremiereOption(),c("React").createElement("div",{className:"_t0h"},c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},j._("Publishing schedule"))),c("React").createElement(c("InputLabel.react"),{label:j._("Publication")},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.scheduleToggle,onChange:function(){return this.setState({scheduleToggle:!this.state.scheduleToggle})}.bind(this)})),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"block",className:"_t0j"},j._("Select a date and time in the future for when you want your post to be published.")),this._renderSchedule(),this._renderAnnouncementPostSection(),this._renderExpireSection(),this._renderPostEndSection(),y)},_isPublishTimeValid:function x(){if(!this.state.scheduleToggle||c("gkx")("AT7DIs1sasYeDs-lAH5LYTc-LKuDRwN_QBSFBbeeu0ipZ8rv2LCgieDZGjVfXsNogY_7dh4u5dh3G-fLkOUgBjombJlqzYXfgz6mf-qVUsbF6g"))return true;var y=this.state.publishDate.getTime(),z=Date.now()+10*n,A=Date.now()+r;return y>z&&y<A},_isPostEndOrExpireTimeValid:function x(y){var z=this.state.publishDate.getTime(),A=Date.now()+10*n,B=Date.now()+r;if(this.state.scheduleToggle)A=z+10*n;return y>=A&&y<=B},_renderSchedule:function x(){if(!this.state.scheduleToggle)return null;return c("React").createElement("div",null,c("React").createElement(c("XUIDateTimePicker.react"),{allowEmpty:false,dateRestraints:[c("DatePickerRestraints").enforceDateIsNoEarlierThan(new Date(Date.now()-p)),c("DatePickerRestraints").enforceDateIsNoLaterThan(new Date(Date.now()+r))],className:"_3-8x _t0j",date:this.state.publishDate,onChange:function(y){return this.setState({publishDate:y})}.bind(this),timezone:this.props.timezoneStr}))},_renderAnnouncementPostSection:function x(){if(!this.props.canCreateAnnouncementPost||!this.state.scheduleToggle)return null;var y=this.props.announcementPostConfig||{};return c("React").createElement(c("VideoScheduleAnnouncementPostSection.react"),{message:this.state.announcementTitle,mentionsSource:y.mentionsSource,profilePic:y.profilePic,onChange:this._onAnnouncementChange})},_onAnnouncementChange:function x(y,z){if(z!==undefined)this.setState({announcementTitle:z,announcementToggle:y});else this.setState({announcementToggle:y})},_renderExpireSection:function x(){if(!this.props.showExpire)return null;var y=c("React").createElement(c("XUICheckboxInput.react"),{ref:"expirationToggle",checked:this.state.expireToggle,onChange:function(){return this.setState({expireToggle:!this.state.expireToggle,showNux:false})}.bind(this)});return c("React").createElement("div",{className:"_3-8-"},c("React").createElement(c("InputLabel.react"),{label:j._("Expiry")},y),c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"block",className:"_t0j"},j._("When a post expires, it will no longer be visible to the public. Page admins can still view unpublished posts and their Insights."))),this._renderExpire())},_renderExpire:function x(){if(!this.state.expireToggle)return null;return c("React").createElement("div",{className:"_3-8x _t0j"},c("React").createElement(c("XUIDateTimePicker.react"),{allowEmpty:false,dateRestraints:[c("DatePickerRestraints").enforceDateIsNoEarlierThan(new Date(Date.now()-p)),c("DatePickerRestraints").enforceDateIsNoLaterThan(new Date(Date.now()+r))],date:this.state.expireDate,onChange:function(y){return this.setState({expireDate:y})}.bind(this),timezone:this.props.timezoneStr}),c("React").createElement(c("InputLabel_DEPRECATED.react"),{className:"_3-8x"},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.expirationType===c("ExpirationType").DELETE,onChange:this._handleExpirationTypeChanged}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",weight:"normal"},j._("Delete the post. Permanently remove the post and its insights at the scheduled time.")))))},_renderPostEndSection:function x(){if(!this.props.showPostEndDate)return null;var y=c("React").createElement(c("XUICheckboxInput.react"),{ref:"postEndToggle",checked:this.state.postEndToggle,onChange:function(){return this.setState({postEndToggle:!this.state.postEndToggle})}.bind(this)});return c("React").createElement("div",null,c("React").createElement("div",{className:"_t0k"},c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},j._("Distribution schedule"))),c("React").createElement(c("InputLabel.react"),{label:j._("Stop News Feed Distribution")},y),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"block",className:"_t0j"},j._("Select a date and time in the future for when you want your post to stop being shown in News Feed. The post will still be visible, but News Feed distribution will end.")),this._renderPostEndDate())},_renderPostEndDate:function x(){if(!this.state.postEndToggle)return null;return c("React").createElement("div",{className:"_3-8x _t0j"},c("React").createElement(c("XUIDateTimePicker.react"),{allowEmpty:false,dateRestraints:[c("DatePickerRestraints").enforceDateIsNoEarlierThan(new Date(Date.now()-p)),c("DatePickerRestraints").enforceDateIsNoLaterThan(new Date(Date.now()+r))],date:this.state.postEndDate,onChange:function(y){return this.setState({postEndDate:y})}.bind(this),timezone:this.props.timezoneStr}))},_renderInvalidTimeNotice:function x(){__p&&__p();var y=this._isPublishTimeValid(),z=!this.state.postEndToggle||this._isPostEndOrExpireTimeValid(this.state.postEndDate.getTime()),A=!this.state.expireToggle||this._isPostEndOrExpireTimeValid(this.state.expireDate.getTime()),B=y&&z&&A;if(B)return null;var C=null;if(!y)C=j._("Scheduled posts need to be shared between 10 minutes and 6 months from when you create them.");else if(!z&&this.state.scheduleToggle)C=j._("News Feed distribution can only end between 10 minutes from when a post is published and 6 months from now.");else if(!z)C=j._("News Feed distribution can only end between 10 minutes and 6 months from when you create a post.");else if(!A&&this.state.scheduleToggle)C=j._("Posts need to expire between 10 minutes from when they are published and 6 months from now.");else if(!A)C=j._("Posts need to expire between 10 minutes and 6 months from when you create them.");return c("React").createElement(c("XUINotice.react"),{use:"warn",className:"_3-8y"},C)},render:function x(){return c("React").createElement("div",null)},_handleExpirationTypeChanged:function x(event){var y=event.target.checked?c("ExpirationType").DELETE:c("ExpirationType").HIDE;this.setState({expirationType:y})},_onSubmitClick:function x(){__p&&__p();var y=null,z=null,A=null,B=null,C=null;if(this.state.scheduleToggle){y=this.state.publishDate;if(this.props.canCreateAnnouncementPost&&this.state.announcementToggle)C=this.state.announcementTitle}if(this.state.postEndToggle)z=this.state.postEndDate;if(this.state.expireToggle){A=this.state.expireDate;B=this.state.expirationType}this.props.onSubmit(y,z,A,B,C,this.state.premiereToggle);this.setState({shown:false})},_getContextRef:function x(){return this.refs.expirationToggle}});f.exports=w}),null);
__d("ModernScheduledVideoAnnouncementSubscribeMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"ScheduledVideoAnnouncementSubscribeData!",defaultValue:null}],j=[{kind:"LinkedField",alias:null,name:"scheduled_video_announcement_subscribe",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"ScheduledVideoAnnouncementSubscribeData!"}],concreteType:"ScheduledVideoAnnouncementSubscribeResponsePayload",plural:false,selections:[{kind:"ScalarField",alias:null,name:"subscribed",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"mutation",name:"ModernScheduledVideoAnnouncementSubscribeMutation",id:"1625878820778072",text:null,metadata:{},fragment:{kind:"Fragment",name:"ModernScheduledVideoAnnouncementSubscribeMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:j},operation:{kind:"Operation",name:"ModernScheduledVideoAnnouncementSubscribeMutation",argumentDefinitions:i,selections:j}}}();f.exports=h}),null);
__d("ModernScheduledVideoAnnouncementSubscribeMutation",["RelayModern","ModernScheduledVideoAnnouncementSubscribeMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("ModernScheduledVideoAnnouncementSubscribeMutation.graphql")};function k(l,m,n){return h(l,{mutation:j,variables:{input:{actor_id:m.actorID,video_announcement_id:m.announcementID,subscribe:m.subscribe}},onCompleted:n&&n.onCompleted,onError:n&&n.onError})}f.exports={commit:k}}),null);
__d("ScheduledVideoAnnouncementAttachment.react",["ix","cx","fbt","CssBackgroundImage.react","Image.react","React","ModernScheduledVideoAnnouncementSubscribeMutation","VideoLink.react","RelayFBEnvironment","XUIButton.react","CurrentUser","fbglyph","formatDate","idx"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){"use strict";__p&&__p();l.constructor.call(this,n);this.$ScheduledVideoAnnouncementAttachment1=function(){var o=this.props.announcementID;if(!o)return;c("ModernScheduledVideoAnnouncementSubscribeMutation").commit(c("RelayFBEnvironment"),{actorID:c("CurrentUser").getAccountID(),announcementID:o,subscribe:!this.state.isSubscribed},{onCompleted:function(p){var q,r=((q=p)!=null?(q=q.scheduled_video_announcement_subscribe)!=null?q.subscribed:q:q)||false;this.setState({buttonDisabled:false,isSubscribed:r})}.bind(this)})}.bind(this);this.$ScheduledVideoAnnouncementAttachment2=function(){if(this.props.videoLinkData)return;this.setState({buttonDisabled:true},this.$ScheduledVideoAnnouncementAttachment1)}.bind(this);this.state={buttonDisabled:false,isSubscribed:n.isSubscribed}}m.prototype.$ScheduledVideoAnnouncementAttachment3=function(){"use strict";__p&&__p();var n=Boolean(this.props.videoLinkData),o=this.state.isSubscribed,p=null,q=null;if(n)p=j._("Watch Now");else if(o){p=j._("Reminder Set");q=c("React").createElement(c("Image.react"),{src:h("114568")})}else p=j._("Remind Me");var r=c("React").createElement(c("XUIButton.react"),{className:"_23za"+(o?" _23zc":"")+(n?" _23zd":""),disabled:this.state.buttonDisabled,image:q,label:p,onClick:this.$ScheduledVideoAnnouncementAttachment2});if(n)return c("React").createElement(c("VideoLink.react"),this.props.videoLinkData,r);else return r};m.prototype.$ScheduledVideoAnnouncementAttachment4=function(){"use strict";if(this.props.videoLinkData)return j._("Now released");return c("formatDate")(this.props.scheduledTime,"g:ia M j")};m.prototype.$ScheduledVideoAnnouncementAttachment5=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_23zh"},c("React").createElement(c("Image.react"),{className:"_23zj",src:this.props.showmarkURI}),c("React").createElement("div",{className:"_23zk"},this.$ScheduledVideoAnnouncementAttachment4()),c("React").createElement("div",{className:"_23zl"},this.props.title)),c("React").createElement("div",{className:"_23zm"},this.$ScheduledVideoAnnouncementAttachment3()))};m.prototype.render=function(){"use strict";return c("React").createElement(c("CssBackgroundImage.react"),{className:"_23zn"+(this.props.isPreview?" _3q2v":""),imageURI:this.props.backgroundImageURI},c("React").createElement("div",{className:"_23zo"},c("React").createElement("div",{className:"_23zp"},this.$ScheduledVideoAnnouncementAttachment5())))};f.exports=m}),null);
__d("VideoScheduleAnnouncementPostPreview.react",["cx","fbt","React","XUIText.react","XUIGrayText.react","StoryProfile.react","ComposerVideoUploadStore","ScheduledVideoAnnouncementAttachment.react","CenteredContainer.react","PrivacyConst"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){if(!this.props.showPreview)return c("React").createElement(c("CenteredContainer.react"),{className:"_3xz4",fullHeight:true,vertical:true},c("React").createElement(c("XUIGrayText.react"),{size:"meta1"},i._("Select Announcement post in order to see a preview")));var m=this.props.config,n=m.profilePic,o=m.profileURL,p=m.profileName,q=this.props.composerID,r=c("ComposerVideoUploadStore").getTitle(q),s=c("ComposerVideoUploadStore").getThumbnail(q);return c("React").createElement("div",{className:"_3xz5"},c("React").createElement(c("StoryProfile.react"),{profilePicture:n,profileURL:o,username:p,uploadTime:i._("Just now"),description:i._("scheduled a new video"),privacySetting:c("PrivacyConst").BaseValue.EVERYONE}),c("React").createElement(c("XUIText.react"),{className:"_3-8o",display:"block"},this.props.title),c("React").createElement(c("ScheduledVideoAnnouncementAttachment.react"),{isSubscribed:false,scheduledTime:this.props.scheduledTime/1e3,title:r,backgroundImageURI:s.getURL(),isPreview:true}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({BACKDATE_CONFIRM:"",BOOTLOAD_PARAMETERS:"",CLOSE_CONFIRM_DIALOG:"",CLOSE_PRIMARY_ERROR_DIALOG:"",EDIT_EXPIRATION:"",EDIT_TABS_LOADED:"",EDIT_SCHEDULED_TIME:"",EDIT_SHOULD_EXPIRE:"",EDIT_SHOULD_PUBLISH:"",EXIT_DIALOG:"",EXIT_DIALOG_ATTEMPT:"",EXIT_DIALOG_REPLACE_FILE:"",EXIT_DIALOG_SAVE_DRAFT:"",FILE_ADDED:"",INITIALIZE_COMPOSER:"",INITIALIZE_CROSSPOST_COMPOSER:"",INITIALIZE_EDIT_COMPOSER:"",INIT_VIDEO_UPLOADER:"",LOAD_VIDEO_DATA_FOR_ID:"",NAVIGATED_FROM_PAGE:"",METADATA_LOADED_FROM_HTML_PLAYER:"",METADATA_LOADED_FROM_VIDEO_UPLOADER:"",POST_FAILED:"",POST_FINISHED:"",PUBLISH_POST:"",RESET_COMPOSER:"",SELECT_TAB:"",UPDATE_IS_FEATURED_VIDEO:"",UPDATE_SHOW_VIDEO_TYPE:"",UPDATE_TITLE:"",UPLOAD_FAILED:"",UPLOAD_FINISHED:"",UPLOAD_PROGRESSED:"",VIDEO_TYPE_CHANGED:"",CLOSE_PUBLISH_CONFIRM_DIALOG:"",SAVE_EDITED_VIDEO:"",SAVE_EDITED_VIDEO_FAILURE:"",SAVE_EDITED_VIDEO_SUCCESS:"",SCHEDULE_CONFIRM:"",SAVE_AS_DRAFT_ATTEMPT:"",SAVE_AS_DRAFT_ABORT:"",SAVE_AS_DRAFT_CONFIRM:"",SELECT_EDITING_PUBLISH_ACTION:"",TAB_LOAD_ERROR:"",CANCEL_UPLOAD:"",CONFIRM_RIGHTS:"",BOOTLOAD_DEFAULT_TAB_PARAMETERS:"",BOOTLOAD_CROSSPOST_DEFAULT_TAB:"",BOOTLOAD_DEFAULT_EDIT_PARAMS:"",TOGGLE_CROSSPOST_TO_PARENT:"",UPDATE_CONTENT_TAGS:"",UPDATE_DESCRIPTION_EDITOR_STATE:"",UPDATE_PLAYLIST_IDS:"",UPDATE_SEASON_ID:"",UPDATE_VIDEO_LIST_OPTIONS:"",UPDATE_VIDEO_PREVIEW_CONTROLLER:"",USER_PLAYED_VIDEO_PREVIEW:"",AGREE_VIDEO_RIGHTS:"",BOOTLOAD_AD_BREAK_PARAMETERS:"",DELETE_AD_BREAK:"",FETCH_AD_BREAK_EDIT_PARAMETERS:"",INSERT_AD_BREAK:"",SET_CURRENT_AD_BREAK:"",SET_CURRENT_PREVIEW_INDEX:"",SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:"",SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:"",SET_IS_BRANDED_CONTENT_VIDEO:"",START_PAGE_ONBOARDING:"",UPDATE_AD_BREAK_STATUS:"",UPDATE_HOLDOUT_TEST_STATUS:"",UPDATE_THUMBNAIL_URL:"",UPDATE_VPC:"",ADD_CAPTION_ENTRY:"",REMOVE_CAPTION_ENTRY:"",EDIT_CAPTION_ENTRY:"",SET_PREVIEW_ENTRY:"",SET_EDITOR_LANGUAGE:"",SET_EDITOR_LOCALE:"",SET_DEFAULT_CAPTION_LOCALE:"",SET_CAPTIONS:"",SET_NEXT_ENTRY:"",PLAY_PREVIEW_ENTRY:"",CONFIRM_CLOSE_DIALOG:"",CANCEL_CLOSE_DIALOG:"",SHOW_EXIT_DIALOG:"",START_SAVE_CAPTION_CHANGESET:"",FINISH_SAVE_CAPTION_CHANGESET:"",INITIALIZE_EDITOR_LANGUAGE:"",RESET_CAPTION_EDITOR:"",RESET_PLAYER:"",SET_CURRENT_PLAY_POSITION:"",SET_VPC:"",SET_DURATION:"",SET_PLAYER_STATE:"",SHOW_CAPTION_EDITOR:"",HIDE_CAPTION_EDITOR:"",INITIALIZE_CAPTION_LANDING_SCREEN:"",GENERATE:"",CANCEL_GENERATE:"",CREATE:"",EDIT_CAPTIONS_DRAFT:"",DELETE_CAPTIONS_DRAFT:"",START_SRT_UPLOAD:"",FINISH_SRT_UPLOAD:"",GENERATE_COMPLETE:"",CREATE_COMPLETE:"",SELECT_SPOKEN_LANGUAGE:"",SELECT_SPOKEN_LOCALE:"",FINISHED_FETCH_DRAFTS:"",GENERATE_PROGRESS_UPDATE:"",UPDATE_CAPTION_FILES:"",UPDATE_ERROR_STATE:"",SET_AUTO_GENERATED_CAPTIONS:"",RESET_CAPTIONS_LANDING_TAB:"",RETRY_AUTO_GENERATION:"",RESUME_AUTO_GENERATION:"",RESET_AUTO_GENERATING_LOCALE:"",TRY_RESUME_AUTO_GENERATION:"",INITIALIZE_ALL_CAPTION_FILES:"",BOOTLOAD_PARAMETERS_CAPTIONS_TAB:"",CHANGE_PUBLISHED_STATE:"",PENDING_TO_PUBLISHED:"",CAPTION_LANDING_SCREEN_OPEN_EVENT:"",OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT:"",RESET_OPEN_LANDING_SCREEN_STATE:"",FETCH_CAPTION_EDITOR_CROSSPOST_PARAMS:"",CHANGE_PUBLISHED_STATE_URL:"",DELETE_CAPTIONS_URL:"",BOOTLOAD_DISTRIBUTION_TAB:"",BOOTLOAD_DISTRIBUTION_TAB_FOR_EDIT:"",TOGGLE_NEWS_FEED:"",TOGGLE_EMBEDDING:"",TOGGLE_SECRET_VIDEO:"",CROSSPOST_PAGES_FETCHED:"",TOGGLE_CROSSPOST_PAGE:"",TOGGLE_GRAPHIC_WARNING:"",TOGGLE_BLOCK_SOCIAL:"",CROSSPOST_LINK_CLICKED:"",REFRESH_CROSSPOST_PAGES:"",BOOTLOAD_RIGHTS_PARAMETERS:"",BOOTLOAD_EDIT_RIGHTS_PARAMETERS:"",UPDATE_ATTRIBUTION:"",UPDATE_CATEGORY:"",UPDATE_CATEGORY_REQUIRED_ERROR:"",UPDATE_FB_WHITELISTED_USERS:"",UPDATE_IG_WHITELISTED_USERS:"",UPDATE_MONITORING_TYPE:"",UPDATE_OWNERSHIP_COUNTRIES:"",UPDATE_SHOULD_DETECT_MATCHES:"",UPDATE_MATCH_RULE:"",BOOTLOAD_SPHERICAL_CONTEXT_CONFIG:"",BOOTLOAD_SPHERICAL_DIRECTOR_CROSSPOST_PARAMETERS:"",BOOTLOAD_SPHERICAL_DIRECTOR_EDIT_PARAMETERS:"",BOOTLOAD_SPHERICAL_DIRECTOR_UPLOAD_PARAMETERS:"",PARSE_SPHERICAL_METADATA:"",TOGGLE_SPHERICAL:"",BOOTLOAD_CROSSPOST_THUMBNAILS:"",BOOTLOAD_THUMBNAILS_FOR_EDIT:"",GENERATED_THUMBNAILS:"",SELECT_SECTION:"",TOGGLE_SELECTED_GENERATED_THUMBNAIL:"",UPDATE_CUSTOM_THUMBNAIL:"",UPDATE_SCRUBBED_THUMBNAIL:"",UPDATE_SELECTED_THUMBNAIL:"",BOOTLOAD_TRACKING_EDIT_PARAMS:"",UPDATE_CUSTOM_LABELS:"",UPDATE_UNIVERSAL_ID:"",UPDATE_MOMENTS_OF_INTEREST:""});f.exports=h}),null);
__d("VideoComposerDialogDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("VideoComposerDialogActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoUploadProgressBar"],(function aa(ba,a,ca,da,ea,fa){"use strict";__p&&__p();var b=function b(U,V,W,X){var Y={type:a("VideoComposerDialogActionTypes").BACKDATE_CONFIRM,year:U,month:V,day:W,hideFromNewsFeed:X};a("VideoComposerDialogDispatcher").dispatch(Y)},c=function c(U){var V={type:a("VideoComposerDialogActionTypes").BOOTLOAD_PARAMETERS,data:U};a("VideoComposerDialogDispatcher").dispatch(V)},d=function d(){var U={type:a("VideoComposerDialogActionTypes").CLOSE_CONFIRM_DIALOG};a("VideoComposerDialogDispatcher").dispatch(U)},e=function e(){var U={type:a("VideoComposerDialogActionTypes").CLOSE_PRIMARY_ERROR_DIALOG};a("VideoComposerDialogDispatcher").dispatch(U)},f=function f(){var U={type:a("VideoComposerDialogActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG};a("VideoComposerDialogDispatcher").dispatch(U)},g=function g(U){var V={type:a("VideoComposerDialogActionTypes").POST_FAILED,errorMessage:U.message};a("VideoComposerDialogDispatcher").dispatch(V)},h=function h(){var U={type:a("VideoComposerDialogActionTypes").POST_FINISHED,data:null};a("VideoComposerDialogDispatcher").dispatch(U)},i=function i(U,V){var W={type:a("VideoComposerDialogActionTypes").EDIT_EXPIRATION,expirationTime:U,expirationType:V};a("VideoComposerDialogDispatcher").dispatch(W)},j=function j(){var U={type:a("VideoComposerDialogActionTypes").EDIT_TABS_LOADED};a("VideoComposerDialogDispatcher").dispatch(U)},k=function k(U){var V={type:a("VideoComposerDialogActionTypes").EDIT_SCHEDULED_TIME,scheduleDate:U};a("VideoComposerDialogDispatcher").dispatch(V)},l=function l(U){var V={type:a("VideoComposerDialogActionTypes").EDIT_SHOULD_EXPIRE,expire:U};a("VideoComposerDialogDispatcher").dispatch(V)},m=function m(U){var V={type:a("VideoComposerDialogActionTypes").EDIT_SHOULD_PUBLISH,publish:U};a("VideoComposerDialogDispatcher").dispatch(V)},n=function n(){var U={type:a("VideoComposerDialogActionTypes").EXIT_DIALOG};a("VideoComposerDialogDispatcher").dispatch(U)},o=function o(){var U={type:a("VideoComposerDialogActionTypes").EXIT_DIALOG_ATTEMPT};a("VideoComposerDialogDispatcher").dispatch(U)},p=function p(){var U={type:a("VideoComposerDialogActionTypes").EXIT_DIALOG_REPLACE_FILE};a("VideoComposerDialogDispatcher").dispatch(U)},q=function q(){var U={type:a("VideoComposerDialogActionTypes").EXIT_DIALOG_SAVE_DRAFT};a("VideoComposerDialogDispatcher").dispatch(U)},r=function r(U,V){var W={type:a("VideoComposerDialogActionTypes").FILE_ADDED,file:U,fileInput:V};a("VideoComposerDialogDispatcher").dispatch(W)},s=function s(U){var V={type:a("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_HTML_PLAYER,videoPlayer:U};a("VideoComposerDialogDispatcher").dispatch(V)},t=function t(U){var V={type:a("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER,data:U};a("VideoComposerDialogDispatcher").dispatch(V)},u=function u(U,V,W,X,Y,Z,$,ja){var ka={type:a("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER,actorID:U,targetID:V,oneClickPublish:W,composerEntryPointRef:X,composerID:Y,fileInput:Z,file:$,isVideoShowPage:ja};a("VideoComposerDialogDispatcher").dispatch(ka)},v=function v(U){var V={type:a("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER,editParams:U};a("VideoComposerDialogDispatcher").dispatch(V)},w=function w(U){var V={type:a("VideoComposerDialogActionTypes").INITIALIZE_CROSSPOST_COMPOSER,params:U};a("VideoComposerDialogDispatcher").dispatch(V)},x=function x(U){var V={type:a("VideoComposerDialogActionTypes").INIT_VIDEO_UPLOADER,videoUploader:U};a("VideoComposerDialogDispatcher").dispatch(V)},y=function y(U){var V={type:a("VideoComposerDialogActionTypes").LOAD_VIDEO_DATA_FOR_ID,videoData:U};a("VideoComposerDialogDispatcher").dispatch(V)},z=function z(){var U={type:a("VideoComposerDialogActionTypes").NAVIGATED_FROM_PAGE};a("VideoComposerDialogDispatcher").dispatch(U)},A=function A(event,U){var V={type:a("VideoComposerDialogActionTypes").POST_FAILED,errorMessage:U.error_summary+": "+U.error_description};a("VideoComposerDialogDispatcher").dispatch(V)},B=function B(event,U){var V={type:a("VideoComposerDialogActionTypes").POST_FINISHED,data:U};a("VideoComposerDialogDispatcher").dispatch(V)},C=function C(){var U={type:a("VideoComposerDialogActionTypes").PUBLISH_POST};a("VideoComposerDialogDispatcher").dispatch(U)},D=function D(){var U={type:a("VideoComposerDialogActionTypes").RESET_COMPOSER};a("VideoComposerDialogDispatcher").dispatch(U)},E=function E(){var U={type:a("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ABORT};a("VideoComposerDialogDispatcher").dispatch(U)},F=function F(){var U={type:a("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ATTEMPT};a("VideoComposerDialogDispatcher").dispatch(U)},G=function G(){var U={type:a("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_CONFIRM};a("VideoComposerDialogDispatcher").dispatch(U)},H=function H(){var U={type:a("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO};a("VideoComposerDialogDispatcher").dispatch(U)},I=function I(U){var V={type:a("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_FAILURE,errorMessage:U};a("VideoComposerDialogDispatcher").dispatch(V)},J=function J(){var U={type:a("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_SUCCESS};a("VideoComposerDialogDispatcher").dispatch(U)},K=function K(U){var V={type:a("VideoComposerDialogActionTypes").SELECT_EDITING_PUBLISH_ACTION,publishAction:U};a("VideoComposerDialogDispatcher").dispatch(V)},L=function L(){var U={type:a("VideoComposerDialogActionTypes").CANCEL_UPLOAD};a("VideoComposerDialogDispatcher").dispatch(U)},M=function M(U,V,W,X,Y,Z){var $={type:a("VideoComposerDialogActionTypes").SCHEDULE_CONFIRM,scheduleDate:U,postEndDate:V,expireDate:W,expirationType:X,announcementPostTitle:Y,shouldPremiere:Z};a("VideoComposerDialogDispatcher").dispatch($)},N=function N(U){var V={type:a("VideoComposerDialogActionTypes").SELECT_TAB,tab:U};a("VideoComposerDialogDispatcher").dispatch(V)},O=function O(U){var V={type:a("VideoComposerDialogActionTypes").TAB_LOAD_ERROR,error:U};a("VideoComposerDialogDispatcher").dispatch(V)},P=function P(){var U={type:a("VideoComposerDialogActionTypes").UPDATE_IS_FEATURED_VIDEO};a("VideoComposerDialogDispatcher").dispatch(U)},Q=function Q(U){var V={type:a("VideoComposerDialogActionTypes").UPDATE_SHOW_VIDEO_TYPE,showVideoType:U};a("VideoComposerDialogDispatcher").dispatch(V)},R=function R(U){var V={type:a("VideoComposerDialogActionTypes").UPDATE_TITLE,title:U};a("VideoComposerDialogDispatcher").dispatch(V)},S=function S(event,U){var V={type:a("VideoComposerDialogActionTypes").UPLOAD_FAILED,errorData:U};a("VideoComposerDialogDispatcher").dispatch(V)},T=function T(){var U={type:a("VideoComposerDialogActionTypes").UPLOAD_FINISHED};a("VideoComposerDialogDispatcher").dispatch(U)},ga=function ga(event,U){var V=a("VideoUploadProgressBar").computeProgress(U.start_offset,U.sent_bytes,U.file_size,0,0),W={type:a("VideoComposerDialogActionTypes").UPLOAD_PROGRESSED,progress:Math.round(10*V)/10};a("VideoComposerDialogDispatcher").dispatch(W)},ha=function ha(){var U={type:a("VideoComposerDialogActionTypes").CONFIRM_RIGHTS};a("VideoComposerDialogDispatcher").dispatch(U)},ia=function ia(U){var V={type:a("VideoComposerDialogActionTypes").VIDEO_TYPE_CHANGED,videoType:U};a("VideoComposerDialogDispatcher").dispatch(V)};ea.exports={backdateConfirm:b,bootloadParameters:c,cancelUpload:L,closeConfirmDialog:d,closePrimaryErrorDialog:e,closePublishConfirmDialog:f,confirmRights:ha,crosspostFailed:g,crosspostFinished:h,editExpiration:i,editTabsLoaded:j,editScheduledTime:k,editShouldExpire:l,editShouldPublish:m,exitDialog:n,exitDialogAttempt:o,exitDialogReplaceFile:p,exitDialogSaveDraft:q,fileAdded:r,initializeComposer:u,initializeCrosspostComposer:w,initializeEditComposer:v,initVideoUploader:x,loadVideoDataForID:y,navigatedFromPage:z,metadataLoadedFromHTMLPlayer:s,metadataLoadedFromVideoUploader:t,postFailed:A,postFinished:B,publishPost:C,resetComposer:D,saveAsDraftAbort:E,saveAsDraftAttempt:F,saveAsDraftConfirm:G,saveEditedVideo:H,saveEditedVideoFailure:I,saveEditedVideoSuccess:J,scheduleConfirm:M,selectEditPublishAction:K,selectTab:N,tabLoadError:O,updateIsFeaturedVideo:P,updateShowVideoType:Q,updateTitle:R,uploadFailed:S,uploadFinished:T,uploadProgressed:ga,videoTypeChanged:ia}}),null);
__d("VideoComposerDialogConstants",[],(function a(b,c,d,e,f,g){"use strict";var h=16/9,i=664,j=20,k=300,l=i-2*j,m={SIXTEEN_NINE:h,DIALOG_WIDTH:i+k,SECONDARY_DIALOG_WIDTH:680,LEFT_SECTION_WIDTH:i,LEFT_SECTION_PADDING:j,RIGHT_SECTION_WIDTH:k,GENERATED_THUMBNAILS:10,PLAYER_HEIGHT:l/h,PLAYER_WIDTH:l,THUMBNAIL_HEIGHT:100,THUMBNAIL_WIDTH:178};f.exports=m}),null);
__d("VideoComposerDialogTab",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BASIC:"basic",DISTRIBUTION:"distribution",CAPTIONS:"captions",AD_BREAKS:"ad_breaks",RIGHTS:"rights",TRACKING:"tracking",THUMBNAILS:"thumbnails",SPHERICAL_DIRECTOR:"spherical_director",MOMENTS_OF_INTEREST:"moments_of_interest",OLD_ADBREAKS:"old_ad-breaks-tab",OLD_ATTRIBUTIONS:"old_attributions-tab",OLD_BASIC:"old_basic-tab",OLD_DESTINATION:"old_destination-tab",OLD_ADVANCED:"old_advanced-tab",OLD_CAPTIONS:"old_captions-tab",OLD_SPHERICAL:"old_spherical-controls-tab",OLD_PERMISSIONS:"old_permissions-tab",OLD_RIGHTS:"old_rights-tab",OLD_WHITELIST:"old_whitelist-tab",OLD_SUMMARY:"old_summary-tab"})}),null);
__d("VideoComposerDialogBodySection.react",["cx","fbt","ErrorBoundary.react","React","VideoComposerDialogActions","VideoComposerDialogConstants","VideoComposerDialogTab","VideoComposerDialogTabs","XUINotice.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogBodySection1=function(){return c("React").createElement(c("XUINotice.react"),{use:"warn"},i._("Sorry, something went wrong when loading this tab. Please try again later."))};l.prototype.$VideoComposerDialogBodySection2=function(m){c("VideoComposerDialogActions").tabLoadError(m&&m.message+m.stack)};l.prototype.render=function(){var m=c("VideoComposerDialogTabs").get(this.props.selectedTab).bodyContainer,n=c("VideoComposerDialogConstants").LEFT_SECTION_WIDTH-c("VideoComposerDialogConstants").LEFT_SECTION_PADDING;return c("React").createElement("div",{className:"_65jy"},c("React").createElement("div",{style:{width:n},className:"_3_7b"+(this.props.selectedTab===c("VideoComposerDialogTab").SPHERICAL_DIRECTOR?" _1ktk":"")+(this.props.selectedTab===c("VideoComposerDialogTab").BASIC||this.props.selectedTab===c("VideoComposerDialogTab").SPHERICAL_DIRECTOR?" _65ub":"")+(this.props.selectedTab===c("VideoComposerDialogTab").SPHERICAL_DIRECTOR?" _nqq":"")+(this.props.selectedTab===c("VideoComposerDialogTab").BASIC||this.props.selectedTab===c("VideoComposerDialogTab").SPHERICAL_DIRECTOR?" _1ktm":"")},c("React").createElement(c("ErrorBoundary.react"),{fallbackComponent:this.$VideoComposerDialogBodySection1,key:this.props.selectedTab,onHandleError:this.$VideoComposerDialogBodySection2},c("React").createElement(m,null))))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("XEmbeddedVideoEmbedDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/embed/async/dialog/",{url:{type:"String",required:true},source:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);
__d("VideoComposerDialogFooterEditActions.react",["cx","fbt","ContextualLayerAutoFlip","FlexLayout.react","LayerFadeOnHide","PopoverMenu.react","React","ReactXUIMenu","Tooltip","VideoComposerDialogActions","VideoComposerDialogEditUtils","VideoComposerDialogUtils","VideoEditPublishingAction","VideoEditPublishingStatus","VideoPublishingState","VideoPublishingStateIndicator.react","VideoPublishingStateIndicatorUtils","XEmbeddedVideoEmbedDialogController","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISingleSelector.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("XUISingleSelector.react").Option,m=c("ReactXUIMenu").Item,n=1e3;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={featuredVideoSuccessDialogURI:null,featuredVideoSuccessDialogVisible:false},this.$VideoComposerDialogFooterEditActions2=function(u){c("VideoComposerDialogActions").updateIsFeaturedVideo();this.setState({featuredVideoSuccessDialogURI:u.page_uri,featuredVideoSuccessDialogVisible:true})}.bind(this),this.$VideoComposerDialogFooterEditActions3=function(){this.setState({featuredVideoSuccessDialogURI:null,featuredVideoSuccessDialogVisible:false})}.bind(this),q}o.prototype.$VideoComposerDialogFooterEditActions1=function(){c("VideoComposerDialogActions").saveEditedVideo()};o.prototype.$VideoComposerDialogFooterEditActions4=function(p){var q=this.props.publishingConfig,r=this.props.creationTime,s=q.expirationTime,t=q.scheduledPublishTime;return c("VideoPublishingStateIndicatorUtils").getStateToolTip(p,{creationTime:r,expirationTime:s&&s/n,isVideoAsset:false,postsCount:1,publishTime:t&&t/n||r})};o.prototype.$VideoComposerDialogFooterEditActions5=function(){__p&&__p();return this.props.publishingConfig.options.map(function(p){__p&&__p();var q=p.type,r=p.value,s=void 0,t=void 0,u=void 0;if(q=="status"){s=c("VideoEditPublishingStatus")[r];t=s.value;u=this.$VideoComposerDialogFooterEditActions4(t)}else{s=c("VideoEditPublishingAction")[r];switch(r.toLowerCase()){case c("VideoEditPublishingAction").MAKE_DRAFT.value:t=c("VideoPublishingState").DRAFT;break;case c("VideoEditPublishingAction").SCHEDULE_PUBLISH.value:t=c("VideoPublishingState").SCHEDULED;break;case c("VideoEditPublishingAction").PUBLISH.value:t=c("VideoPublishingState").PUBLISHED;break;case c("VideoEditPublishingAction").SCHEDULE_EXPIRATION.value:t=c("VideoPublishingState").EXPIRING;break;case c("VideoEditPublishingAction").EXPIRE.value:t=c("VideoPublishingState").EXPIRED;break;default:t="unknown";break}}return c("React").createElement(l,{key:s.value,value:s.value},c("React").createElement(c("VideoPublishingStateIndicator.react"),{className:"_669w",state:t,toolTip:u,toolTipAlignH:"center",toolTipPosition:"above"}),s.label)}.bind(this))};o.prototype.$VideoComposerDialogFooterEditActions6=function(){var p=c("XEmbeddedVideoEmbedDialogController").getURIBuilder().setString("url",this.props.embedURL).getURI();return c("React").createElement(c("ReactXUIMenu"),null,this.props.downloadHDUrl?c("React").createElement(m,c("VideoComposerDialogEditUtils").getDownloadMenuItemProps(this.props.downloadHDUrl),i._("Download HD")):null,this.props.downloadSDUrl?c("React").createElement(m,c("VideoComposerDialogEditUtils").getDownloadMenuItemProps(this.props.downloadSDUrl),i._("Download SD")):null,this.props.allowEmbedding?c("React").createElement(m,{href:p,rel:"dialog"},i._("Get Embed Link")):null,this.props.canMakeFeatured&&!this.props.isFeaturedVideo?c("React").createElement(m,{onClick:function(){c("VideoComposerDialogEditUtils").onMakeFeaturedVideo(this.props.videoID,this.props.pageID,this.$VideoComposerDialogFooterEditActions2)}.bind(this)},i._("Make Featured Video")):null)};o.prototype.$VideoComposerDialogFooterEditActions7=function(){var p=this.state.featuredVideoSuccessDialogURI?c("React").createElement(c("XUIDialogButton.react"),{action:"button",label:i._("Go To Your Videos Tab"),use:"default",href:this.state.featuredVideoSuccessDialogURI,target:"_blank"}):null;return c("React").createElement(c("XUIDialog.react"),{shown:this.state.featuredVideoSuccessDialogVisible,behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},width:445,key:"featureSuccessDialog"},c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement("span",null,i._("You've selected your featured video"))),c("React").createElement(c("XUIDialogBody.react"),null,i._("Your featured video is now displayed at the top of your Page's Videos tab. You can always choose a different featured video or decide not to show one.")),c("React").createElement(c("XUIDialogFooter.react"),null,p,c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",label:i._("Got It"),use:"confirm",onClick:this.$VideoComposerDialogFooterEditActions3})))};o.prototype.render=function(){var p=this.props.isMissingTitle||this.props.isSaving||!this.props.tabsLoaded,q=this.props.isMissingTitle?i._("To save your video, give it a title"):null;return c("React").createElement(c("FlexLayout.react"),{direction:"horizontal"},c("React").createElement(c("PopoverMenu.react"),{className:"_3-90",alignv:"baseline",menu:this.$VideoComposerDialogFooterEditActions6(),alignh:"right",layerBehaviors:[c("ContextualLayerAutoFlip")]},c("React").createElement(c("XUIButton.react"),{label:i._("..."),size:"xlarge"})),c("React").createElement(c("XUIButton.react"),{className:"_3-90",label:i._("View Post"),href:c("VideoComposerDialogUtils").getVideoPermalinkURL(this.props.videoID),target:"_blank",size:"xlarge"}),c("React").createElement(c("XUISingleSelector.react"),{className:"_3-90",onChange:function(event){c("VideoComposerDialogEditUtils").onPublishingChange(event,this.props.publishingConfig)}.bind(this),size:"xlarge",value:this.props.selectedPublishingAction},this.$VideoComposerDialogFooterEditActions5()),c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(q,"above"),{className:"_3fao",onClick:this.$VideoComposerDialogFooterEditActions1,size:"xlarge",use:"confirm",label:i._("Save"),labelIsHidden:this.props.isSaving,disabled:p,image:this.props.isSaving?c("React").createElement(c("XUISpinner.react"),{background:"dark"}):null})),this.$VideoComposerDialogFooterEditActions7())};f.exports=o}),null);
__d("VideoComposerDialogFooterSection.react",["cx","Image.react","LeftRight.react","React","Tooltip","VideoComposerDialogFooterEditActions.react","VideoComposerDialogFooterUploadActions.react","VideoComposerDialogMode"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=null;switch(this.props.dialogMode){case c("VideoComposerDialogMode").VIDEO_UPLOAD:case c("VideoComposerDialogMode").VIDEO_CROSSPOST:l=c("React").createElement(c("VideoComposerDialogFooterUploadActions.react"),{boostedPostButtonConfig:this.props.boostedPostButtonConfig,bootloaded:this.props.bootloaded,composerID:this.props.composerID,disablePublish:this.props.disablePublish,hasInsertedAdBreak:this.props.hasInsertedAdBreak,isAdBreakPrereviewVisible:this.props.isAdBreakPrereviewVisible,isMissingTitle:this.props.isMissingTitle,isSavingAsDraft:this.props.isSavingAsDraft,isPublishing:this.props.isPublishing,isSchedulingOrBackdating:this.props.isSchedulingOrBackdating,oneClickPublish:this.props.oneClickPublish,saveAsDraftDialogShown:this.props.saveAsDraftDialogShown,showPostEndDate:this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD,showRightsConfirmationDialog:this.props.showRightsConfirmationDialog,minBackdateTime:this.props.minBackdateTime});break;case c("VideoComposerDialogMode").VIDEO_EDIT:l=c("React").createElement(c("VideoComposerDialogFooterEditActions.react"),{allowEmbedding:this.props.allowEmbedding,canMakeFeatured:this.props.canMakeFeatured,creationTime:this.props.creationTime,downloadHDUrl:this.props.downloadHDUrl,downloadSDUrl:this.props.downloadSDUrl,embedURL:this.props.embedURL,isFeaturedVideo:this.props.isFeaturedVideo,isMissingTitle:this.props.isMissingTitle,isSaving:this.props.isEditSaving,pageID:this.props.pageID,publishingConfig:this.props.publishingConfig,selectedPublishingAction:this.props.editPublishingAction,tabsLoaded:this.props.editTabsLoaded,videoID:this.props.videoID||""});break}return c("React").createElement("div",{className:"_4egq"},c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",{className:"_665v"},this.props.profilePictureURI?c("React").createElement(c("Image.react"),babelHelpers["extends"]({className:"_665w",src:this.props.profilePictureURI,height:30,width:30},c("Tooltip").propsFor(this.props.profileDisplayName))):null,this.props.userProfilePictureURI?c("React").createElement(c("Image.react"),babelHelpers["extends"]({className:"_665x",src:this.props.userProfilePictureURI,height:30,width:30},c("Tooltip").propsFor(this.props.userName))):null),l))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("PostBackdateDialog.react",["cx","fbt","Arbiter","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","React","ReactLayeredComponentMixin_DEPRECATED","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIDialogButton.react","XUIGrayText.react","XUIProgressiveDatepicker.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=250,l=c("React").createClass({displayName:"PostBackdateDialog",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{minTime:j.number.isRequired,maxTime:j.number.isRequired,onSubmit:j.func.isRequired},getInitialState:function m(){return{shown:false,hideFromNewsFeed:false,year:null,month:null,day:null}},render:function m(){return c("React").createElement("div",null)},renderLayers:function m(){return c("React").createElement(c("XUIDialog.react"),{width:343,shown:this.state.shown},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Backdate Post")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_5pk"},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"block"},i._("Backdate your post so that it appears in the past on your Page Timeline. Backdated posts are published immediately.")),c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("XUIProgressiveDatepicker.react"),{className:"_3-8x",maxTime:this.props.maxTime,menuMaxHeight:k,minTime:this.props.minTime,minTimeUnit:"day",onDateChange:this._onDateChange})),c("React").createElement(c("InputLabel_DEPRECATED.react"),{className:"_3-8x"},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.hideFromNewsFeed,onChange:this._hideFromNewsFeedChanged}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",weight:"normal"},i._("Hide from News Feed")))))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("Cancel"),onClick:this._onCancelClick}),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:!this.state.year||!this.state.month||!this.state.day,label:i._("Backdate"),onClick:this._onSubmitClick,use:"confirm"})))},show:function m(){this.setState({shown:true})},_onCancelClick:function m(){c("Arbiter").inform("PAB/defaultToPost")},_onSubmitClick:function m(){this.props.onSubmit(this.state.year,this.state.month,this.state.day,this.state.hideFromNewsFeed);this.setState({shown:false})},_onDateChange:function m(n){this.setState({year:n.year,month:n.month,day:n.day})},_hideFromNewsFeedChanged:function m(event){this.setState({hideFromNewsFeed:event.target.checked})}});f.exports=l}),null);
__d("ReactComposerBoostedPostLazyButton.react",["Bootloader","React","ReactDOM"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.componentDidMount=function(){"use strict";c("Bootloader").loadModules(["BoostedPostDialogButton.react"],function(k){c("ReactDOM").render(c("React").createElement(k,this.props),c("ReactDOM").findDOMNode(this.refs.boostButtonContainer))}.bind(this),"ReactComposerBoostedPostLazyButton.react")};j.prototype.render=function(){"use strict";return c("React").createElement("span",{ref:"boostButtonContainer"})};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("VideoComposerDialogSaveAsDraftPrompt.react",["cx","fbt","React","VideoComposerDialogActions","VideoComposerDialogConstants","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{isStrictlyControlled:true,onHide:c("VideoComposerDialogActions").saveAsDraftAbort,shown:this.props.shown,width:c("VideoComposerDialogConstants").SECONDARY_DIALOG_WIDTH},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Save as draft")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_31yu"},i._("Save video post as draft and close")),c("React").createElement("div",{className:"_31yv"},i._("Save your video post as a draft. Your video will finish processing and can be found in Publishing tools > Video library or your Page's timeline tools."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{size:"xlarge",onClick:c("VideoComposerDialogActions").saveAsDraftAbort,label:i._("Cancel")}),c("React").createElement(c("XUIButton.react"),{size:"xlarge",use:"confirm",onClick:c("VideoComposerDialogActions").saveAsDraftConfirm,label:i._("Save as Draft")})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogFooterUploadActions.react",["cx","fbt","invariant","AutoScheduleUtils","DOM","FlexLayout.react","PopoverMenu.react","PostBackdateDialog.react","PostScheduleAndPostEndDialog.react","React","ReactComposerVideoCopyrightDialog.react","ReactDOM","ReactXUIMenu","Tooltip","VideoComposerDialogActions","ReactComposerBoostedPostLazyButton.react","VideoComposerDialogSaveAsDraftPrompt.react","XUIButton.react","XUIButtonGroup.react","XUIPopoverButton.react","XUISelector.react","XUISpinner.react","gkx","LiftTimeUtils"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item,n=c("XUISelector.react").Option,o=c("LiftTimeUtils").MS_IN_SEC;k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$VideoComposerDialogFooterUploadActions1=function(){var v=c("ReactDOM").render(c("React").createElement(c("PostScheduleAndPostEndDialog.react"),{timezoneStr:c("AutoScheduleUtils").getTimezoneString(),showExpire:true,showPostEndDate:this.props.showPostEndDate,showPremiereOption:c("gkx")("AT49WK5m8RrfJMpUMPZv0e3SwF0nvDoH82FzLxVCPA9Ln9K6ZuEGodnBFBHyv5Nu8Q31YuHOJv_ad857Q8QvXgRu"),onSubmit:c("VideoComposerDialogActions").scheduleConfirm}),c("DOM").create("div"));v instanceof c("PostScheduleAndPostEndDialog.react")||j(0);v.show()}.bind(this),this.$VideoComposerDialogFooterUploadActions2=function(){if(this.props.showRightsConfirmationDialog)c("VideoComposerDialogActions").cancelUpload()}.bind(this),this.$VideoComposerDialogFooterUploadActions5=function(){var v=c("ReactDOM").render(c("React").createElement(c("PostBackdateDialog.react"),{maxTime:Date.now()/o,minTime:this.props.minBackdateTime,onSubmit:c("VideoComposerDialogActions").backdateConfirm}),c("DOM").create("div"));v instanceof c("PostBackdateDialog.react")||j(0);v.show()}.bind(this),this.$VideoComposerDialogFooterUploadActions7=function(v){switch(v.value){case"schedule":this.$VideoComposerDialogFooterUploadActions1();break;case"backdate":this.$VideoComposerDialogFooterUploadActions5();break}}.bind(this),r}p.prototype.$VideoComposerDialogFooterUploadActions3=function(){c("VideoComposerDialogActions").confirmRights()};p.prototype.$VideoComposerDialogFooterUploadActions4=function(){c("VideoComposerDialogActions").publishPost()};p.prototype.$VideoComposerDialogFooterUploadActions6=function(){c("VideoComposerDialogActions").saveAsDraftAttempt()};p.prototype.render=function(){__p&&__p();var q=this.props.isPublishing||this.props.isSchedulingOrBackdating,r=this.props.disablePublish||this.props.isMissingTitle||this.props.isSavingAsDraft||q||!this.props.bootloaded,s=this.props.isMissingTitle?i._("To publish your video, give it a title"):null,t=this.props.isMissingTitle?i._("To save as draft, give it a title"):null,u=function(){if(this.props.isMissingTitle)return i._("To save submit for review, give it a title");else if(!this.props.hasInsertedAdBreak)return i._("To save submit for review, insert an ad break");return null}.bind(this),v=c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(t,"above"),{className:"_2cpj _3-9a",image:this.props.isSavingAsDraft?c("React").createElement(c("XUISpinner.react"),null):null,size:"xlarge",label:i._("Save as Draft"),labelIsHidden:this.props.isSavingAsDraft,onClick:this.$VideoComposerDialogFooterUploadActions6,disabled:r})),w=c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(u(),"above"),{className:"_p2g _3-9a",size:"xlarge",label:i._("Submit for Review"),disabled:r||!this.props.hasInsertedAdBreak})),x=i._("Schedule"),y=i._("Backdate"),z=void 0;if(this.props.oneClickPublish)z=c("React").createElement(c("XUIButtonGroup.react"),{className:"_3-9a"},c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({size:"xlarge",use:"confirm",className:"_4z7a",disabled:r,onClick:this.$VideoComposerDialogFooterUploadActions4},c("Tooltip").propsFor(s,"above"),{label:i._("Publish"),labelIsHidden:this.props.isPublishing,image:this.props.isPublishing?c("React").createElement(c("XUISpinner.react"),{background:"dark"}):null})),c("React").createElement(c("XUISelector.react"),{value:"default",position:"above",alignh:"right",size:"xlarge",className:"_1nt7"+(this.props.isSchedulingOrBackdating?" _4z7b":""),disabled:r,customButton:this.$VideoComposerDialogFooterUploadActions8(r,this.props.isSchedulingOrBackdating),onChange:this.$VideoComposerDialogFooterUploadActions7},c("React").createElement(n,{value:"default",disabled:true}),c("React").createElement(n,{size:"xlarge",value:"schedule"},x),c("React").createElement(n,{size:"xlarge",value:"backdate"},y)));else{var A=c("React").createElement(c("ReactXUIMenu"),{className:"_1qnj"},c("React").createElement(m,{onclick:this.$VideoComposerDialogFooterUploadActions4},i._("Publish Now")),c("React").createElement(m,{onclick:this.$VideoComposerDialogFooterUploadActions1},x),c("React").createElement(m,{onclick:this.$VideoComposerDialogFooterUploadActions5},y));z=c("React").createElement(c("PopoverMenu.react"),{className:"_3-9a",alignh:"right",position:"above",alignv:"baseline",menu:A,disabled:r},c("React").createElement(c("XUIPopoverButton.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(s,"above"),{className:"_2cqv",haschevron:!q,image:q?c("React").createElement(c("XUISpinner.react"),{background:"dark"}):null,use:"confirm",size:"xlarge",label:i._("Publish"),labelIsHidden:q,disabled:r})))}return c("React").createElement("div",null,c("React").createElement(c("FlexLayout.react"),{direction:"horizontal"},this.props.boostedPostButtonConfig?c("React").createElement(c("ReactComposerBoostedPostLazyButton.react"),babelHelpers["extends"]({},this.props.boostedPostButtonConfig,{size:"xlarge",reactComposerID:this.props.composerID})):null,v,this.props.isAdBreakPrereviewVisible?w:null,z),c("React").createElement(c("VideoComposerDialogSaveAsDraftPrompt.react"),{shown:this.props.saveAsDraftDialogShown}),c("React").createElement(c("ReactComposerVideoCopyrightDialog.react"),{shown:this.props.showRightsConfirmationDialog&&q,onCancel:this.$VideoComposerDialogFooterUploadActions2,onConfirm:this.$VideoComposerDialogFooterUploadActions3}))};p.prototype.$VideoComposerDialogFooterUploadActions8=function(q,r){return c("React").createElement(c("XUIPopoverButton.react"),{size:"xlarge",use:"confirm",label:"menu",className:"_4z7l",labelIsHidden:true,disabled:q,haschevron:!r,image:r?c("React").createElement(c("XUISpinner.react"),{background:"dark"}):null})};f.exports=p}),null);
__d("VideoComposerDialogLeftSection.react",["cx","React","VideoComposerDialogBodySectionContainer.react","VideoComposerDialogConstants","VideoComposerDialogFooterSectionContainer.react","VideoComposerDialogTitleSectionContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_2gly",style:{width:c("VideoComposerDialogConstants").LEFT_SECTION_WIDTH}},c("React").createElement(c("VideoComposerDialogTitleSectionContainer.react"),null),c("React").createElement(c("VideoComposerDialogBodySectionContainer.react"),null),c("React").createElement(c("VideoComposerDialogFooterSectionContainer.react"),null))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogRightSection.react",["cx","React","VideoComposerDialogConstants","VideoComposerDialogTabSectionContainer.react","VideoComposerDialogVideoTypeSectionContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_kwk",style:{width:c("VideoComposerDialogConstants").RIGHT_SECTION_WIDTH}},c("React").createElement(c("VideoComposerDialogVideoTypeSectionContainer.react"),null),c("React").createElement(c("VideoComposerDialogTabSectionContainer.react"),null))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdjustHeightBehavior",["csx","DOM","Event","Style","SubscriptionsHandler","Vector","throttle"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=800,j=720,k=660,l=80;function m(n){"use strict";__p&&__p();this.$VideoComposerDialogAdjustHeightBehavior4=function(){var o=c("Vector").getViewportDimensions().y,p=void 0;if(o>=i+l)p=i;else if(o>=j+l)p=j;else p=k;c("Style").set(this.$VideoComposerDialogAdjustHeightBehavior3,"height",p+"px");this.$VideoComposerDialogAdjustHeightBehavior2.updatePosition()}.bind(this);this.$VideoComposerDialogAdjustHeightBehavior2=n}m.prototype.enable=function(){"use strict";this.$VideoComposerDialogAdjustHeightBehavior1=new(c("SubscriptionsHandler"))();this.$VideoComposerDialogAdjustHeightBehavior1.addSubscriptions(this.$VideoComposerDialogAdjustHeightBehavior2.subscribe("beforeshow",this.$VideoComposerDialogAdjustHeightBehavior4),c("Event").listen(window,"resize",c("throttle")(this.$VideoComposerDialogAdjustHeightBehavior4)));this.$VideoComposerDialogAdjustHeightBehavior3=c("DOM").find(this.$VideoComposerDialogAdjustHeightBehavior2.getRoot(),"._2rjf")};m.prototype.disable=function(){"use strict";this.$VideoComposerDialogAdjustHeightBehavior1&&this.$VideoComposerDialogAdjustHeightBehavior1.release();this.$VideoComposerDialogAdjustHeightBehavior1=null};f.exports=m}),null);
__d("VideoComposerDialogUploadExitConfirmDialog.react",["cx","fbt","FileInput.react","React","VideoComposerDialogActions","VideoComposerDialogConstants","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogButton.react","XUIDialogCancelButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogUploadExitConfirmDialog1=function(event,m){var n=event.currentTarget.files;if(!n||n.length!==1)return;c("VideoComposerDialogActions").exitDialogReplaceFile();c("VideoComposerDialogActions").fileAdded(n[0],m)};l.prototype.render=function(){var m=this.props.showSaveDraftButton?i._("Your video will not be uploaded and will be deleted. You can save your video as a draft or replace the video file if you want to include a different one."):i._("Your video will not be uploaded and will be deleted. You can replace the video file if you want to include a different one.");return c("React").createElement(c("XUIDialog.react"),{className:"_2rjw",isStrictlyControlled:true,width:c("VideoComposerDialogConstants").SECONDARY_DIALOG_WIDTH,onHide:c("VideoComposerDialogActions").closeConfirmDialog,onCancel:c("VideoComposerDialogActions").closeConfirmDialog,shown:this.props.shown},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Exit session")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_1hko"},i._("Are you sure you want to exit?")),c("React").createElement("div",{className:"_1hkp"},m)),c("React").createElement(c("XUIDialogFooter.react"),{leftContent:c("React").createElement(c("XUIDialogCancelButton.react"),{size:"xlarge"})},this.props.showSaveDraftButton?c("React").createElement(c("XUIDialogButton.react"),{label:i._("Save as Draft"),action:"button",size:"xlarge",onClick:c("VideoComposerDialogActions").exitDialogSaveDraft}):null,c("React").createElement(c("FileInput.react"),{onChange:this.$VideoComposerDialogUploadExitConfirmDialog1},c("React").createElement(c("XUIDialogButton.react"),{action:"button",className:"_zpu",label:i._("Replace Video File"),size:"xlarge"})),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",className:"_zpv",size:"xlarge",use:"confirm",label:i._("Exit Without Saving"),onClick:c("VideoComposerDialogActions").exitDialog})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogRoot.react",["ix","cx","fbt","FBConfirmDialog.react","FlexLayout.react","Image.react","Link.react","React","VideoComposerDialogActions","VideoComposerDialogAdjustHeightBehavior","VideoComposerDialogConstants","VideoComposerDialogMode","VideoComposerDialogUploadExitConfirmDialog.react","VideoComposerDialogLeftSection.react","VideoComposerDialogRightSection.react","XUIDialog.react","XUIDialogBody.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.$VideoComposerDialogRoot1=function(n){if(!n)c("VideoComposerDialogActions").closeConfirmDialog()};m.prototype.render=function(){var n=c("React").createElement(c("XUIDialogBody.react"),{className:"_2rjf"},c("React").createElement(c("FlexLayout.react"),{justify:"all",align:"stretch",className:"_2rjg"},c("React").createElement(c("VideoComposerDialogLeftSection.react"),null),c("React").createElement(c("VideoComposerDialogRightSection.react"),null)));return c("React").createElement(c("XUIDialog.react"),{className:"_2rjm",label:"placeholder",labelIsHidden:true,layerHideOnBlur:false,behaviors:{VideoComposerDialogAdjustHeightBehavior:c("VideoComposerDialogAdjustHeightBehavior")},shown:this.props.shown,width:c("VideoComposerDialogConstants").DIALOG_WIDTH},n,c("React").createElement(c("Link.react"),{href:"#",onClick:this.props.onCloseButtonClick,className:"_2rjv"},c("React").createElement(c("Image.react"),{alt:j._("Close"),src:h("125923")})),this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD?c("React").createElement(c("VideoComposerDialogUploadExitConfirmDialog.react"),{shown:this.props.showExitConfirmDialog,showSaveDraftButton:this.props.showSaveDraftButton}):c("React").createElement(c("FBConfirmDialog.react"),{className:"_2rjw",title:j._("Exit session"),content:j._("Are you sure you want to leave?"),onConfirm:c("VideoComposerDialogActions").exitDialog,onCancel:c("VideoComposerDialogActions").closeConfirmDialog,onToggle:this.$VideoComposerDialogRoot1,shown:this.props.showExitConfirmDialog}))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogTabSection.react",["cx","React","ScrollableArea.react","VideoComposerDialogTabUtils"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_1k_f"},c("VideoComposerDialogTabUtils").getTabContainers(this.props.displayedTabs))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogPrimaryActionErrorDialog.react",["cx","fbt","ix","FlexLayout.react","Image.react","LeftRight.react","React","VideoComposerDialogActions","VideoComposerDialogConstants","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=this.props.isEditSaving?i._("There was an error when saving your video"):i._("There was an error when processing your video");return c("React").createElement(c("XUIDialog.react"),{isStrictlyControlled:true,label:"primary action error dialog",shown:this.props.shown,width:c("VideoComposerDialogConstants").SECONDARY_DIALOG_WIDTH},c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",null),c("React").createElement(c("Image.react"),{style:{cursor:"pointer"},src:j("363596"),onClick:c("VideoComposerDialogActions").closePrimaryErrorDialog})),c("React").createElement(c("FlexLayout.react"),{direction:"vertical",align:"center"},c("React").createElement(c("Image.react"),{src:j("467078"),className:"_4dge"}),c("React").createElement("div",{className:"_om4"},n),c("React").createElement("div",{className:"_om5"},this.props.errorMessage?this.props.errorMessage:i._("Sorry, something went wrong. Please try again later.")))),c("React").createElement("div",null,c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{size:"xlarge",use:"confirm",onClick:c("VideoComposerDialogActions").closePrimaryErrorDialog,label:i._("Continue")}))))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogPublishConfirmDialog.react",["cx","fbt","ix","FlexLayout.react","Image.react","LeftRight.react","List.react","React","VideoComposerDialogActions","VideoComposerDialogConstants","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","formatDate","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=0,n=100,o=5e3,p=400,q=o/p,r=n/p;k=babelHelpers.inherits(s,c("React").Component);l=k&&k.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=l.constructor).call.apply(t,[this].concat(w)),this.state={progressValue:m},this.$VideoComposerDialogPublishConfirmDialog1=null,this.$VideoComposerDialogPublishConfirmDialog4=function(){if(this.state.progressValue<n)this.setState({progressValue:this.state.progressValue+r});else c("VideoComposerDialogActions").closePublishConfirmDialog()}.bind(this),u}s.prototype.componentDidMount=function(){if(this.props.shown)this.$VideoComposerDialogPublishConfirmDialog2()};s.prototype.componentWillReceiveProps=function(t){if(this.props.shown===t.shown)return;if(t.shown)this.$VideoComposerDialogPublishConfirmDialog2();else this.$VideoComposerDialogPublishConfirmDialog3()};s.prototype.componentWillUnmount=function(){this.$VideoComposerDialogPublishConfirmDialog3()};s.prototype.$VideoComposerDialogPublishConfirmDialog2=function(){this.setState({progressValue:m});this.$VideoComposerDialogPublishConfirmDialog1=setInterval(this.$VideoComposerDialogPublishConfirmDialog4,q)};s.prototype.$VideoComposerDialogPublishConfirmDialog3=function(){if(this.$VideoComposerDialogPublishConfirmDialog1!=null)clearInterval(this.$VideoComposerDialogPublishConfirmDialog1)};s.prototype.render=function(){__p&&__p();var t=[],u=void 0;if(this.props.isDraft){u=j("429286");t.push(c("React").createElement("div",{className:"_kve"},c("React").createElement("div",{className:"_kvf _3-95"},i._("Your video post has been saved successfully!")),c("React").createElement("div",null,i._("It can be found in Publishing tools > Video library or your Page's timeline tools"))))}else if(this.props.scheduleDate){u=j("429287");t.push(c("React").createElement("div",{className:"_kve"},i._("Video post scheduled date:"),c("React").createElement("div",{className:"_kvf"},i._("{schedule date}",[i.param("schedule date",this.$VideoComposerDialogPublishConfirmDialog5(this.props.scheduleDate))]))))}else{u=j("425005");t.push(c("React").createElement("div",{className:"_kve"},c("React").createElement("div",{className:"_kvf _3-95"},i._("Your video post is processing")),c("React").createElement("div",null,i._("When finished, your video will be posted and you will be notified."))))}if(this.props.expireDate)t.push(c("React").createElement("div",{className:"_kve"},i._("Video post expiry date:"),c("React").createElement("div",{className:"_kvf"},i._("{expire date}",[i.param("expire date",this.$VideoComposerDialogPublishConfirmDialog5(this.props.expireDate))]))));if(this.props.postEndDate)t.push(c("React").createElement("div",{className:"_kve"},i._("News Feed distribution stop date:"),c("React").createElement("div",{className:"_kvf"},i._("{post end date}",[i.param("post end date",this.$VideoComposerDialogPublishConfirmDialog5(this.props.postEndDate))]))));return c("React").createElement(c("XUIDialog.react"),{isStrictlyControlled:true,label:"confirm dialog",shown:this.props.shown,width:c("VideoComposerDialogConstants").SECONDARY_DIALOG_WIDTH},c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",null),c("React").createElement(c("Image.react"),{style:{cursor:"pointer"},src:j("363596"),onClick:c("VideoComposerDialogActions").closePublishConfirmDialog})),c("React").createElement(c("FlexLayout.react"),{direction:"vertical",align:"center"},c("React").createElement(c("Image.react"),{src:u,className:"_4dge"}),c("React").createElement(c("List.react"),{className:"_kvc"},t.map(function(v,w){return c("React").createElement("li",{key:w},v)})))),c("React").createElement("div",null,c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{size:"xlarge",use:"confirm",onClick:c("VideoComposerDialogActions").closePublishConfirmDialog,label:i._("Continue")})),c("React").createElement("div",{className:"_3h9e",style:{width:this.state.progressValue+"%"}})))};s.prototype.$VideoComposerDialogPublishConfirmDialog5=function(t){if(!t)return"";return c("formatDate")(t,"F jS Y \\a\\t g:ia",{skipPatternLocalization:true})};f.exports=s}),null);
__d("VideoComposerDialogWrapper.react",["React","VideoComposerDialogMode","VideoComposerDialogPrimaryActionErrorDialog.react","VideoComposerDialogPublishConfirmDialog.react","VideoComposerDialogRootContainer.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.dialogShown?c("React").createElement(c("VideoComposerDialogRootContainer.react"),null):null;return c("React").createElement("div",null,k,c("React").createElement(c("VideoComposerDialogPublishConfirmDialog.react"),babelHelpers["extends"]({shown:this.props.publishConfirmDialogShown},this.props.publishConfirmDialogData)),c("React").createElement(c("VideoComposerDialogPrimaryActionErrorDialog.react"),{shown:this.props.primaryActionErrorDialogShown,errorMessage:this.props.primaryActionErrorMessage||"",isEditSaving:this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_EDIT}))};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("VideoComposerDialogCaptionEditorConstants",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h={SMALLEST_UNIT:.09,TOP:50,START_TIME_OFFSET_IN_MS:100,DURATION_TIME_IN_MS:1e3,DIALOG_WIDTH:970,MIN_HEIGHT:645,MAX_HEIGHT:645,LEFT_PANE_WIDTH:670,RIGHT_PANE_WIDTH:300,INITIAL_SPOKEN_LOCALE:"xx_XX",EMPTY_LOCALE:"",NO_LANGUAGE_SELECTED:"Select Language",AUTO_GENERATED:"AUTO_GENERATION",SPEECH_NON_SPEECH:"SPEECH_NON_SPEECH",SRT_UPLOAD:"SRT_UPLOAD",MANUAL:"MANUAL",AUTO_GENERATION:"AUTO_GENERATION",AUTO_GENERATE_RETRY_TEXT:"Error auto-generating captions. Retrying.",AUTO_GENERATABLE_HEAD_LOCALES:c("immutable").Set(["en_US","es_LA"]),GENERAL_LOCALES_TO_HEAD:c("immutable").Map({en_XX:"en_US",es_XX:"es_LA",fr_XX:"fr_FR",ja_XX:"ja_JP",nl_XX:"nl_NL",pt_XX:"pt_BR",tl_XX:"tl_PH"}),HEAD_TO_GENERAL_LOCALES:c("immutable").Map({en_US:"en_XX",es_LA:"es_XX",fr_FR:"fr_XX",ja_JP:"ja_XX",nl_NL:"nl_XX",pt_BR:"pt_XX",tl_PH:"tl_XX"}),NO_PAYLOAD:"NO_PAYLOAD",GENERATION_PILL_WIDTH:368,MAX_FAKE_POLL_ITERATIONS:6e3,POLL_FAKE_FREQUENCY_GENERATE_MS:1e3,DEFAULT_PROCESSING_SPEED:2,GENERATION_RETRY_THRESHOLD:{PCT:175,TIME_S:75},BUTTON_UNIFORM:{use:{"default":{normal:{background:"transparent"},tall:{background:"transparent"}}},padding:{normal:{onlyIcon:"0px"},tall:{onlyIcon:"0px"}},height:{normal:16,tall:20}},VIDEO_DURATION_PADDING:1e4,EMPTY_CAPTION_TEXT:" ",SEGMENT_LENGTH:76,RESUME_PLAYBACK_AFTER:1e3,AUTO_GEN_PROGRESS_RATE_FACTOR:.5};f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorDialog.react",["cx","React","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorPlayerSection.react","VideoComposerDialogCaptionEditorRightSectionContainer.react","XUIDialog.react","XUIDialogBody.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=c("React").createElement(c("XUIDialogBody.react"),{className:"_2gd1"},c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerSection.react"),{video_id:this.props.video_id}),c("React").createElement(c("VideoComposerDialogCaptionEditorRightSectionContainer.react"),{caption:this.props.caption}));return c("React").createElement(c("XUIDialog.react"),{className:"_2gd2",label:"captionEditor",labelIsHidden:true,layerHideOnBlur:false,shown:this.props.show_caption_editor,width:c("VideoComposerDialogCaptionEditorConstants").DIALOG_WIDTH},l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"caption_id",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"caption_id",type:"ID!"}],k={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery",id:"1860721543945586",text:null,metadata:{},fragment:{kind:"Fragment",name:"VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"FragmentSpread",name:"VideoComposerDialogCaptionEditorCaptionsListGenerator_node",args:null}]}]},operation:{kind:"Operation",name:"VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},k,{kind:"InlineFragment",type:"VideoSubtitle",selections:[{kind:"ScalarField",alias:null,name:"locale",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"process_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"review_expire_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"captions",storageKey:'captions(first:3000,orderby:["chronological"])',args:[{kind:"Literal",name:"first",value:3e3,type:"Int"},{kind:"Literal",name:"orderby",value:["chronological"],type:"[VideoSubtitleCaptionsOrdering]"}],concreteType:"VideoSubtitleCaptionsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"VideoSubtitleCaptionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"VideoSubtitleCaption",plural:false,selections:[k,{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_time_in_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"duration_in_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"confidence",args:null,storageKey:null}]}]}]}]}]}]}}}();f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorLoadingShimmer.react",["cssVar","cx","FBLoadShimmer.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("span",{className:"_176x"},c("React").createElement(c("FBLoadShimmer.react"),{style:{backgroundColor:"#e9ebee"},className:"_3-96",height:14,width:45}),c("React").createElement(c("FBLoadShimmer.react"),{style:{backgroundColor:"#e9ebee"},className:"_3-94",height:14,width:260}),c("React").createElement(c("FBLoadShimmer.react"),{style:{backgroundColor:"#e9ebee"},className:"_3-96",height:14,width:106}),c("React").createElement(c("FBLoadShimmer.react"),{style:{backgroundColor:"#e9ebee"},height:14,width:45}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorListLoading.react",["cx","React","VideoComposerDialogCaptionEditorLoadingShimmer.react","XUINotice.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$VideoComposerDialogCaptionEditorListLoading1=function(l){var m=[];for(var n=0;n<l;n++)m.push(c("React").createElement(c("VideoComposerDialogCaptionEditorLoadingShimmer.react"),{key:n}));return m};k.prototype.render=function(){var l=this.props.showShimmer?this.$VideoComposerDialogCaptionEditorListLoading1(4):null;return c("React").createElement("span",null,c("React").createElement("span",{className:"_176x"},c("React").createElement(c("XUINotice.react"),{use:"notify"},c("React").createElement("span",{className:"_177r"},this.props.header),c("React").createElement("span",{className:"_178h"},this.props.description))),l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorEditCaptions.react",["fbt","React","RelayFBEnvironment","RelayModern","VideoComposerDialogCaptionEditorCaptionsListGenerator.react","VideoComposerDialogCaptionEditorListLoading.react","VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery.graphql"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l=c("RelayModern").QueryRenderer,m=c("RelayModern").graphql;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){return c("React").createElement(l,{cacheConfig:{force:true},environment:c("RelayFBEnvironment"),query:i||(i=function i(){return c("VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery.graphql")}),variables:{caption_id:this.props.caption.id},render:function(o){var p=o.error,q=o.props;if(p)return c("React").createElement("div",null,h._("Loading failed"));else if(q)return c("React").createElement(c("VideoComposerDialogCaptionEditorCaptionsListGenerator.react"),{node:q.node,id:this.props.caption.id});return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogCaptionEditorListLoading.react"),{header:this.props.loadingStateHeader,description:this.props.loadingStateDescription,showShimmer:true}))}.bind(this)})};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("VideoComposerDialogCaptionEditorPlayerSection.react",["cx","React","VideoComposerDialogCaptionEditorFooterContainer.react","VideoComposerDialogCaptionEditorPlayerSectionBodyContainer.react","VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer.react","VideoComposerDialogCaptionEditorSubtitlesDragAreaContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("span",{className:"_647w"},c("React").createElement("div",{className:"_647x"},c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer.react"),null),c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerSectionBodyContainer.react"),this.props),c("React").createElement(c("VideoComposerDialogCaptionEditorSubtitlesDragAreaContainer.react"),null)),c("React").createElement("span",null,c("React").createElement(c("VideoComposerDialogCaptionEditorFooterContainer.react"),null)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorRightSection.react",["cx","fbt","React","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorLanguageSearchContainer.react","VideoComposerDialogCaptionEditorEditCaptions.react","VideoComposerDialogCaptionEditorListLoading.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogCaptionEditorRightSection1=function(m){if(m)return{header:i._("Creating Time Segments"),description:i._("You can write and edit your captions after we've finished creating the time segments."),showShimmer:m};else return{header:i._("Select a Language"),description:i._("Select a language for your captions to proceed."),showShimmer:m}};l.prototype.render=function(){var m=this.props.language!==c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED&&this.props.language!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE,n=this.$VideoComposerDialogCaptionEditorRightSection1(m),o=this.props.caption&&this.props.caption.id&&m?c("React").createElement(c("VideoComposerDialogCaptionEditorEditCaptions.react"),{caption:this.props.caption,loadingStateHeader:n.header,loadingStateDescription:n.description}):c("React").createElement(c("VideoComposerDialogCaptionEditorListLoading.react"),n);return c("React").createElement("div",{className:"_1qsh"},c("React").createElement(c("VideoComposerDialogCaptionEditorLanguageSearchContainer.react"),null),o)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleButtons.react",["ix","cx","fbt","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorUtils","React","FileInput.react","SUIBusinessTheme","SUIButton.react","SUIGlyphIcon.react","asset","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$VideoComposerDialogCaptionLandingAddSubtitleButtons2=function(event){var s=event.target;if(s.value){this.props.onUpload(s);this.refs.captionFileInput.getFileInput().clear()}}.bind(this),o}m.prototype.render=function(){var n=this.$VideoComposerDialogCaptionLandingAddSubtitleButtons1();return c("React").createElement("div",{style:{display:"flex"},className:this.props.disableSection?"_2sq3":""},n,c("React").createElement("span",{className:"_4qg7"},c("React").createElement(c("FileInput.react"),{accept:".srt",ref:"captionFileInput",multiple:true,onChange:this.$VideoComposerDialogCaptionLandingAddSubtitleButtons2,onClick:this.props.onUploadClick},c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("407716"),srcDisabled:h("126934")}),use:"default",label:j._("Upload"),theme:c("SUIBusinessTheme"),href:{url:"#"}}))))};m.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtons3=function(){return c("VideoComposerDialogCaptionEditorUtils").isAutoGenerateable(this.props.spokenLocale)};m.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtons1=function(){var n=this.props.shouldShowGenerate,o=this.props.enableFeatures?c("React").createElement("span",{className:"_2q5p"},c("React").createElement("span",{className:(n?"_4qg7":"")+(!n?" _4qg8":"")},c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("123226"),srcDisabled:h("126430")}),label:j._("Auto-generate"),disabled:!this.$VideoComposerDialogCaptionLandingAddSubtitleButtons3(),theme:c("SUIBusinessTheme"),onClick:this.props.onGenerate,width:144}),this.$VideoComposerDialogCaptionLandingAddSubtitleButtons4()),c("React").createElement("span",{className:"_4qg7"},c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("123350"),srcDisabled:h("126554")}),label:j._("Write"),theme:c("SUIBusinessTheme"),onClick:this.props.onCreate}))):null;return o};m.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtons4=function(){if(this.props.spokenLanguage==c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED)return null;if(this.$VideoComposerDialogCaptionLandingAddSubtitleButtons3())return null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_4omu"},c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("132174")})),c("React").createElement("div",{className:"_4om_"},j._("Auto-generate unavailable for this language")))};f.exports=m}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleSection.react",["cx","React","VideoComposerDialogCaptionLandingAddSubtitleDescriptionContainer.react","VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("span",{className:"_2a8-"},c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleDescriptionContainer.react"),null),c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer.react"),{shouldShowGenerate:this.props.shouldShowGenerate}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionLandingSection.react",["cx","fbt","React","immutable","XUINotice.react","XUIText.react","VideoComposerDialogCaptionLandingAddSubtitleSection.react","VideoComposerDialogLandingScreenDraftSection.react","VideoComposerDialogLandingScreenSpokenLanguageContainer.react","VideoComposerDialogLandingScreenDefaultLanguageContainer.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=this.props.shouldShowDrafts||this.props.isAutoGenerating,n=this.props.enableFeatures?c("React").createElement("span",{className:this.props.isVideoUploaded===false?"_41jb":""},c("React").createElement("span",{className:"_4s3o"},c("React").createElement(c("VideoComposerDialogLandingScreenSpokenLanguageContainer.react"),null)),c("React").createElement("span",{className:"_4s3o"},c("React").createElement(c("VideoComposerDialogLandingScreenDefaultLanguageContainer.react"),null))):null;return c("React").createElement("div",null,this.$VideoComposerDialogCaptionLandingSection1(),this.$VideoComposerDialogCaptionLandingSection2(),n,c("React").createElement("span",{className:this.props.isVideoUploaded===false&&this.props.enableFeatures?"_41jb":""},c("React").createElement("span",{className:(m?"_4s3o":"")+(!m?" _4s3p":"")},c("React").createElement(c("VideoComposerDialogLandingScreenDraftSection.react"),null)),c("React").createElement("span",null,c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleSection.react"),{shouldShowGenerate:!(this.props.hasAutoGenerated||this.props.isAutoGenerating||!this.props.enableFeatures)}))))};l.prototype.$VideoComposerDialogCaptionLandingSection1=function(){return this.props.isVideoUploaded===false&&this.props.enableFeatures?c("React").createElement(c("XUINotice.react"),{className:"_3-95",use:"notify"},c("React").createElement(c("XUIText.react"),{display:"block",size:"header4",weight:"bold"},i._("Your Video is Still Uploading")),c("React").createElement(c("XUIText.react"),{display:"block",size:"meta1"},i._("You can add captions after the video upload is complete."))):null};l.prototype.$VideoComposerDialogCaptionLandingSection2=function(){return this.props.errors.size>0?c("React").createElement(c("XUINotice.react"),{className:"_3-95",use:"warn"},this.$VideoComposerDialogCaptionLandingSection3()):null};l.prototype.$VideoComposerDialogCaptionLandingSection3=function(){var m=[];for(var n=0;n<this.props.errors.size;n++)m.push(this.$VideoComposerDialogCaptionLandingSection4(n,this.props.errors.get(n)));return m};l.prototype.$VideoComposerDialogCaptionLandingSection4=function(m,n){return c("React").createElement("div",{key:m},n)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogLandingScreenDraftSection.react",["cx","fbt","React","VideoComposerDialogLandingScreenDraftListContainer.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=i._("Manage captions"),n=i._("Captions that are set to be published will appear on your video once the post has been saved.");return c("React").createElement("div",{className:"_2a8-"},c("React").createElement("span",{className:"_1lt4"},c("React").createElement("span",{className:"_1lt5"},m),c("React").createElement("span",{className:"_1lt6"},n)),c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogLandingScreenDraftListContainer.react"),null)))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorScrubBarTimeRuler.react",["cssVar","cx","React","VideoComposerDialogCaptionEditorUtils"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.shouldComponentUpdate=function(m){return this.props.scale!==m.scale||this.props.duration!==m.duration};l.prototype.render=function(){__p&&__p();var m=c("VideoComposerDialogCaptionEditorUtils").getWidth(this.props.duration,this.props.scale),n=[],o=0,p=5,q=null,r="0%";for(var s=0;s<=this.props.duration;s+=200){o=c("VideoComposerDialogCaptionEditorUtils").getWidth(s,this.props.scale);if(s%1e3===0){if(s===0)r="0%";else r="50%";p=10;q=c("React").createElement("div",{className:"_647t"},c("React").createElement("div",{style:{right:r,position:"relative"}},c("VideoComposerDialogCaptionEditorUtils").getTimeStamp(s)))}else{p=5;q=null}n.push(c("React").createElement("div",{className:"_647u",key:s,style:{left:o,height:p}},q))}return c("React").createElement("div",{className:"_647v",style:{width:m}},n)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("Resizer.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l)}k.prototype.componentDidMount=function(){window.addEventListener("mousemove",this.onMouseMove.bind(this),false);window.addEventListener("mouseup",this.onMouseUp.bind(this),false)};k.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.onMouseMove.bind(this),false);window.removeEventListener("mouseup",this.onMouseUp.bind(this),false)};k.prototype.onMouseDown=function(l){this.props.updateStateResizing(this.props.id,true,l.clientX)};k.prototype.onMouseMove=function(l){if(this.props.isResizing)this.props.funcResizing(this.props.id,l.clientX,l.clientY)};k.prototype.onMouseUp=function(l){if(this.props.isResizing)this.props.updateStateResizing(this.props.id,false,l.clientX)};k.prototype.shouldComponentUpdate=function(l){return this.props!=l};k.prototype.render=function(){var l={width:this.props.resizerWidth,height:this.props.resizerHeight};return c("React").createElement("span",{ref:this.props.className,className:(this.props.className==="videoCaptionsScrubBar/left"&&this.props.isSelected?"_2tfo":"")+(this.props.className==="videoCaptionsScrubBar/left"&&!this.props.isSelected?" _34tz":"")+(this.props.className==="videoCaptionsScrubBar/right"&&this.props.isSelected?" _2tfp":"")+(this.props.className==="videoCaptionsScrubBar/right"&&!this.props.isSelected?" _34t_":""),isSelected:this.props.isSelected,style:l,onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this)})};f.exports=k}),null);
__d("DraggableResizableText.react",["cx","React","Resizer.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l)}k.prototype.onMouseDown=function(l){var m=document.elementFromPoint(l.clientX,l.clientY);if(m.className!=="_2tfo"&&m.className!==" _2tfp"&&!this.props.isRisizingLeft&&!this.props.isResizingRight)this.props.updateStateDragging(this.props.id,true)};k.prototype.onMouseUp=function(l){this.props.updateStateDragging(this.props.id,false)};k.prototype.onDragStart=function(l){if(this.props.isDragging&&!this.props.isResizingLeft&&!this.props.isResizingRight){l.dataTransfer.setData("application/json",JSON.stringify({id:this.props.id,x:l.clientX,y:l.clientY}));l.dataTransfer.effectAllowed="move"}};k.prototype.onDragEnd=function(l){this.props.updateStateDragging(this.props.id,false)};k.prototype.shouldComponentUpdate=function(l){return JSON.stringify(this.props)!=JSON.stringify(l)};k.prototype.render=function(){var l={left:this.props.left,width:this.props.width};return c("React").createElement("div",{ref:"node",draggable:this.props.isDragging,id:"item_"+this.props.id,className:(this.props.isSelected?"_2tfq":"")+(this.props.isDragging?" _2tfu":"")+(!this.props.isSelected?" _2tfv":""),style:l,onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this),onDragStart:this.onDragStart.bind(this),onDragEnd:this.onDragEnd.bind(this)},c("React").createElement(c("Resizer.react"),{ref:"resizerLeft",id:this.props.id,isResizing:this.props.isResizingLeft,isSelected:this.props.isSelected,resizerWidth:0,resizerHeight:"inherit",updateStateResizing:this.props.updateStateResizingLeft,className:"videoCaptionsScrubBar/left",funcResizing:this.props.funcResizingLeft}),c("React").createElement("span",{className:(this.props.isSelected?"_2tfx":"")+(!this.props.isSelected?" _2tfy":"")}),c("React").createElement("span",{className:(this.props.isSelected?"_2tfz":"")+(!this.props.isSelected?" _2tf-":"")},this.props.text),c("React").createElement(c("Resizer.react"),{ref:"resizerRight",id:this.props.id,isResizing:this.props.isResizingRight,isSelected:this.props.isSelected,resizerWidth:0,resizerHeight:"inherit",updateStateResizing:this.props.updateStateResizingRight,className:"videoCaptionsScrubBar/right",funcResizing:this.props.funcResizingRight}))};f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorActions",["immutable","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(y,z){var A={type:c("VideoComposerDialogActionTypes").ADD_CAPTION_ENTRY,caption:z,idx:y};c("VideoComposerDialogDispatcher").dispatch(A)},i=function i(y){var z={type:c("VideoComposerDialogActionTypes").REMOVE_CAPTION_ENTRY,idx:y};c("VideoComposerDialogDispatcher").dispatch(z)},j=function j(y,z){var A={type:c("VideoComposerDialogActionTypes").EDIT_CAPTION_ENTRY,caption:z,idx:y};c("VideoComposerDialogDispatcher").dispatch(A)},k=function k(y){var z={type:c("VideoComposerDialogActionTypes").SET_PREVIEW_ENTRY,idx:y};c("VideoComposerDialogDispatcher").dispatch(z)},l=function l(y){var z={type:c("VideoComposerDialogActionTypes").PLAY_PREVIEW_ENTRY,idx:y};c("VideoComposerDialogDispatcher").dispatch(z)},m=function m(y){var z={type:c("VideoComposerDialogActionTypes").SET_NEXT_ENTRY,idx:y};c("VideoComposerDialogDispatcher").dispatch(z)},n=function n(){var y={type:c("VideoComposerDialogActionTypes").CONFIRM_CLOSE_DIALOG};c("VideoComposerDialogDispatcher").dispatch(y)},o=function o(){var y={type:c("VideoComposerDialogActionTypes").CANCEL_CLOSE_DIALOG};c("VideoComposerDialogDispatcher").dispatch(y)},p=function p(y,z,A,B,C,D){var E={type:c("VideoComposerDialogActionTypes").SET_CAPTIONS,captions:y,captionID:z,captionLocale:A,videoID:B,appID:C,placement:D};c("VideoComposerDialogDispatcher").dispatch(E)},q=function q(y){var z={type:c("VideoComposerDialogActionTypes").SET_EDITOR_LANGUAGE,language:y};c("VideoComposerDialogDispatcher").dispatch(z)},r=function r(y){var z={type:c("VideoComposerDialogActionTypes").SET_EDITOR_LOCALE,locale:y};c("VideoComposerDialogDispatcher").dispatch(z)},s=function s(){var y={type:c("VideoComposerDialogActionTypes").INITIALIZE_EDITOR_LANGUAGE};c("VideoComposerDialogDispatcher").dispatch(y)},t=function t(){var y={type:c("VideoComposerDialogActionTypes").SHOW_EXIT_DIALOG};c("VideoComposerDialogDispatcher").dispatch(y)},u=function u(){var y={type:c("VideoComposerDialogActionTypes").START_SAVE_CAPTION_CHANGESET};c("VideoComposerDialogDispatcher").dispatch(y)},v=function v(y){var z={type:c("VideoComposerDialogActionTypes").FINISH_SAVE_CAPTION_CHANGESET,error:y};c("VideoComposerDialogDispatcher").dispatch(z)},w=function w(){var y={type:c("VideoComposerDialogActionTypes").RESET_CAPTION_EDITOR};c("VideoComposerDialogDispatcher").dispatch(y)},x=function x(y){var z={type:c("VideoComposerDialogActionTypes").FETCH_CAPTION_EDITOR_CROSSPOST_PARAMS,captions:y.captionFiles,spokenLanguage:y.spokenLanguageName,spokenLocale:y.spokenLanguageCode};c("VideoComposerDialogDispatcher").dispatch(z)};f.exports={addCaptionEntry:h,removeCaptionEntry:i,editingCaptionEntry:j,setPreviewEntry:k,selectLanguage:q,selectLocale:r,setCaptions:p,setNextEntry:m,playPreviewEntry:l,confirmCloseDialog:n,cancelCloseDialog:o,showExitDialog:t,startSaveCaptionChangeset:u,finishSaveCaptionChangeset:v,setLanguage:s,resetCaptionEditor:w,fetchCrosspostParams:x}}),null);
__d("VideoComposerDialogCaptionEditorSubtitlesDragArea.react",["cx","DraggableResizableText.react","React","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorPlayheadContainer.react","VideoComposerDialogCaptionEditorScrubBarTimeRuler.react","immutable","VideoComposerDialogCaptionEditorConstants"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;"use strict";i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){__p&&__p();j.constructor.call(this,l);this.state={list:this.props.list.map(function(m,n){return{isDragging:false,isResizingLeft:false,isResizingRight:false,initialLeft:0,top:c("VideoComposerDialogCaptionEditorConstants").TOP,left:this.props.list.get(n).node.left,width:this.props.list.get(n).node.width}}.bind(this))};this.onDrop=function(m){__p&&__p();var n=JSON.parse(m.dataTransfer.getData("application/json")),o=this.state.list,p=o.get(n.id),q=m.clientX-n.x;p.isDragging=false;if(this.checkForOverlap(n.id,p.left+q,p.width))return;p.left+=q;var r=JSON.parse(JSON.stringify(this.props.list.get(n.id)));r.node.left=p.left;r.node.start_time_in_ms=p.left/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;c("VideoComposerDialogCaptionEditorActions").editingCaptionEntry(n.id,r);m.preventDefault()}.bind(this);this.updateStateDragging=function(m,n){var o=this.state.list,p=o.get(m);p.isDragging=n;var q={list:o};this.setState(q);if(n===false)c("VideoComposerDialogCaptionEditorActions").playPreviewEntry(m)}.bind(this);this.updateStateResizingLeft=function(m,n,o){__p&&__p();var p=this.state.list,q=p.get(m);q.isResizingLeft=n;q.initialLeft=o;var r={list:p};this.setState(r);if(n===false){var s=JSON.parse(JSON.stringify(this.props.list.get(m)));s.node.left=q.left;s.node.width=q.width;s.node.start_time_in_ms=q.left/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;s.node.duration_in_ms=q.width/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;c("VideoComposerDialogCaptionEditorActions").editingCaptionEntry(m,s);c("VideoComposerDialogCaptionEditorActions").playPreviewEntry(m)}}.bind(this);this.updateStateResizingRight=function(m,n,o){__p&&__p();var p=this.state.list,q=p.get(m);q.isResizingRight=n;q.initialLeft=o-q.width;var r={list:p};this.setState(r);if(n===false){var s=JSON.parse(JSON.stringify(this.props.list.get(m)));s.node.left=q.left;s.node.width=q.width;s.node.start_time_in_ms=q.left/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;s.node.duration_in_ms=q.width/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;c("VideoComposerDialogCaptionEditorActions").editingCaptionEntry(m,s);c("VideoComposerDialogCaptionEditorActions").playPreviewEntry(m)}}.bind(this);this.funcResizingLeft=function(m,n,o){var p=this.state.list,q=p.get(m),r=q.initialLeft-n,s=q.left-r;if(this.checkForOverlap(m,s,q.width))return;q.width+=r;q.initialLeft=n;q.left=s;var t={list:p};this.setState(t)}.bind(this);this.funcResizingRight=function(m,n,o){var p=this.state.list,q=p.get(m),r=n-(q.initialLeft+q.width);if(this.checkForOverlap(m,q.left,q.width+r))return;q.width+=r;var s={list:p};this.setState(s)}.bind(this)}k.prototype.componentWillReceiveProps=function(l){__p&&__p();if(this.props!=l){var m=JSON.stringify(this.props.list),n=JSON.stringify(l.list),o={list:c("immutable").List()};if(m!==n){if(this.state.list.size!==0&&l.list.size===this.state.list.size){var p=this.state.list;p=p.set(l.captionSelected,{isDragging:false,isResizingLeft:false,isResizingRight:false,initialLeft:0,top:c("VideoComposerDialogCaptionEditorConstants").TOP,left:l.list.get(l.captionSelected).node.left,width:l.list.get(l.captionSelected).node.width,height:25});o={list:p}}else o={list:l.list.map(function(q,r){return{isDragging:false,isResizingLeft:false,isResizingRight:false,initialLeft:0,top:c("VideoComposerDialogCaptionEditorConstants").TOP,left:q.node.left,width:q.node.width,height:25}})};this.setState(o)}}};k.prototype.shouldComponentUpdate=function(l,m){return this.props!=l||this.state!=m};k.prototype.checkForOverlap=function(l,m,n){var o=this.state.list,p=false,q=false;if(l>0)p=o.get(l-1).left+o.get(l-1).width>m;if(l+1<o.size)q=o.get(l+1).left<n+m;return p||q};k.prototype.onDragOver=function(l){l.dataTransfer.dropEffect="move";l.preventDefault();return false};k.prototype.render=function(){var l=[],m=c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT*this.props.duration;l=this.props.list.map(function(n,o){return c("React").createElement(c("DraggableResizableText.react"),{isSelected:o===this.props.captionSelected,ref:"node_"+o,text:n.node.text,key:o,id:o,top:this.state.list.get(o).top,left:this.state.list.get(o).left,width:this.state.list.get(o).width,isDragging:this.state.list.get(o).isDragging,isResizingLeft:this.state.list.get(o).isResizingLeft,isResizingRight:this.state.list.get(o).isResizingRight,updateStateDragging:this.updateStateDragging,updateStateResizingLeft:this.updateStateResizingLeft,updateStateResizingRight:this.updateStateResizingRight,funcResizingLeft:this.funcResizingLeft,funcResizingRight:this.funcResizingRight})}.bind(this));return c("React").createElement("div",{className:"_1coi",onDragOver:this.onDragOver,onDrop:this.onDrop},c("React").createElement(c("VideoComposerDialogCaptionEditorScrubBarTimeRuler.react"),{duration:this.props.duration,scale:1}),c("React").createElement("div",{className:"_1coj",style:{width:m}},c("React").createElement(c("VideoComposerDialogCaptionEditorPlayheadContainer.react"),null),l))};f.exports=k}),null);
__d("ComposerVideoUploadSphericalConstants",["keyMirror"],(function a(b,c,d,e,f,g){var h=c("keyMirror")({CROSSPOST_DIALOG_V1:"",CROSSPOST_DIALOG_V2:"",EDIT_DIALOG_V1:"",EDIT_DIALOG_V2:"",PAGE_COMPOSER_V1:"",PAGE_COMPOSER_V2:"",STANDALONE:"",UNKNOWN:""});f.exports={COMPONENT_SOURCE:h}}),null);
__d("VideoComposerDialogRadioButton.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={hovered:false},this.$VideoComposerDialogRadioButton1=function(){this.setState({hovered:true})}.bind(this),this.$VideoComposerDialogRadioButton2=function(){this.setState({hovered:false})}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_2wzp"+(this.props.checked?" _2e9y":""),this.props.className),onClick:this.props.onSelect,onMouseEnter:this.$VideoComposerDialogRadioButton1,onMouseLeave:this.$VideoComposerDialogRadioButton2,role:"presentation"},c("React").createElement("div",{className:"_2e9z"+(this.state.hovered&&!this.props.checked?" _2e9-":"")+(this.props.checked?" _2e9y":"")}),c("React").createElement("div",{className:"_2wzq"},this.props.label))};f.exports=k}),null);
__d("VideoComposerDialogSphericalDirectorInfo.react",["cx","fbt","React","SphericalVideoExperiments"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={title:i._("Set guide points"),subText:i._("Direct your audience's attention to the parts that you want them to see")},k={title:i._("Overlay text and images"),subText:i._("Add more detail to each frame of your video")},l={title:i._("Overlay text"),subText:i._("Add more detail to each frame of your video")},m={title:i._("Overlay images"),subText:i._("Add more detail to each frame of your video")},n={title:i._("Preview your video"),subText:i._("Your final 360 video with pan to the guide points that you've set")};function o(q){return c("React").createElement("div",{className:"_1wfj"},c("React").createElement("div",{className:"_1wfn"},q.num,". ",q.titleText),c("React").createElement("div",{className:"_1wfo"},q.subText))}function p(){__p&&__p();var q=[];q.push(j);if(c("SphericalVideoExperiments").enableTextHotspots&&c("SphericalVideoExperiments").enableImageHotspots)q.push(k);else if(c("SphericalVideoExperiments").enableTextHotspots)q.push(l);else if(c("SphericalVideoExperiments").enableImageHotspots)q.push(m);q.push(n);var r=q.map(function(s,t){return c("React").createElement(o,{key:t,num:t+1,titleText:s.title,subText:s.subText})});return c("React").createElement("div",{className:"_1mtr"},c("React").createElement("div",{className:"_2fb1"}),c("React").createElement("div",{className:"_1mts"},c("React").createElement("div",{className:"_1wfp"},i._("Get started")),r))}f.exports=p}),null);
__d("VideoComposerDialogSphericalDirectorSection.react",["cx","fbt","ComposerVideoUploadSphericalConstants","ComposerVideoUploadSphericalControlsTabContainer.react","FlexLayout.react","React","ReactComposerContextProviderMixin","VideoComposerDialogMode","VideoComposerDialogRadioButton.react","VideoComposerDialogSphericalDirectorInfo.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").createClass({displayName:"SphericalControlsContainerWrapper",mixins:[c("ReactComposerContextProviderMixin")],render:function n(){__p&&__p();var o=void 0;switch(this.props.dialogMode){case c("VideoComposerDialogMode").VIDEO_UPLOAD:o=c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.PAGE_COMPOSER_V2;break;case c("VideoComposerDialogMode").VIDEO_EDIT:o=c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.EDIT_DIALOG_V2;break;case c("VideoComposerDialogMode").VIDEO_CROSSPOST:o=c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.CROSSPOST_DIALOG_V2;break;default:o=c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.UNKNOWN;break}return c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalControlsTabContainer.react"),{componentSource:o,shown:true,showOmnistabSection:this.props.showOmnistabSection,startVisible:true,targetID:this.props.contextConfig.targetID,videoFile:this.props.videoFile,videoID:this.props.videoID}))}});j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=i._("360\u00b0 mode"),o=null;switch(this.props.dialogMode){case c("VideoComposerDialogMode").VIDEO_CROSSPOST:o=this.props.videoAssetID;break;case c("VideoComposerDialogMode").VIDEO_EDIT:o=this.props.videoID;break}var p=this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD,q=!!this.props.contextConfig&&(this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD?!!this.props.videoFile:!!o),r=q&&this.props.spherical;return c("React").createElement("div",null,c("React").createElement("div",{className:"_1xl9"}),c("React").createElement(c("FlexLayout.react"),{className:"_30d3",align:"start",justify:"all"},c("React").createElement("div",{className:"_21bg"},c("React").createElement("div",{className:"_30d5"},i._("360 Director tools")),!r&&c("React").createElement("div",{className:"_21bh"},i._("During playback, the viewer has control of the viewing direction such as a panorama."))),p&&c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:this.props.spherical,className:"_30d6",label:n,onSelect:function(){return this.props.ontoggleSpherical(!this.props.spherical)}.bind(this)})),r?c("React").createElement(l,{contextConfig:this.props.contextConfig,dialogMode:this.props.dialogMode,showOmnistabSection:this.props.showOmnistabSection,videoFile:this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD?this.props.videoFile:null,videoID:o}):c("React").createElement(c("VideoComposerDialogSphericalDirectorInfo.react"),null))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("AdBreakStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ENABLED:"enabled",DELETED:"deleted",DISABLED:"disabled"})}),null);
__d("VideoComposerDialogAdBreakActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes","VideoPlayerController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(){var w={type:c("VideoComposerDialogActionTypes").AGREE_VIDEO_RIGHTS};c("VideoComposerDialogDispatcher").dispatch(w)},i=function i(w){var x={type:c("VideoComposerDialogActionTypes").BOOTLOAD_AD_BREAK_PARAMETERS,data:w};c("VideoComposerDialogDispatcher").dispatch(x)},j=function j(w){var x={type:c("VideoComposerDialogActionTypes").DELETE_AD_BREAK,adBreakIndex:w};c("VideoComposerDialogDispatcher").dispatch(x)},k=function k(w){var x={type:c("VideoComposerDialogActionTypes").FETCH_AD_BREAK_EDIT_PARAMETERS,data:w};c("VideoComposerDialogDispatcher").dispatch(x)},l=function l(){var w={type:c("VideoComposerDialogActionTypes").INSERT_AD_BREAK};c("VideoComposerDialogDispatcher").dispatch(w)},m=function m(w){var x={type:c("VideoComposerDialogActionTypes").SET_CURRENT_AD_BREAK,adBreakTimeOffset:w};c("VideoComposerDialogDispatcher").dispatch(x)},n=function n(w){var x={type:c("VideoComposerDialogActionTypes").SET_CURRENT_PREVIEW_INDEX,currentPreviewIndex:w};c("VideoComposerDialogDispatcher").dispatch(x)},o=function o(w){var x={type:c("VideoComposerDialogActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED,isAdBreakAutoAdjustmentEnabled:w};c("VideoComposerDialogDispatcher").dispatch(x)},p=function p(w){var x={type:c("VideoComposerDialogActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED,isAdBreakAutoInsertionEnabled:w};c("VideoComposerDialogDispatcher").dispatch(x)},q=function q(w){var x={type:c("VideoComposerDialogActionTypes").SET_IS_BRANDED_CONTENT_VIDEO,isBrandedContentVideo:w};c("VideoComposerDialogDispatcher").dispatch(x)},r=function r(w){var x={type:c("VideoComposerDialogActionTypes").START_PAGE_ONBOARDING,pageID:w};c("VideoComposerDialogDispatcher").dispatch(x)},s=function s(w){var x={type:c("VideoComposerDialogActionTypes").UPDATE_AD_BREAK_STATUS,adBreaksDisabled:w};c("VideoComposerDialogDispatcher").dispatch(x)},t=function t(w){var x={type:c("VideoComposerDialogActionTypes").UPDATE_HOLDOUT_TEST_STATUS,enabled:w};c("VideoComposerDialogDispatcher").dispatch(x)},u=function u(w,x){var y={type:c("VideoComposerDialogActionTypes").UPDATE_THUMBNAIL_URL,adBreakTimeOffset:w,thumbnailURL:x};c("VideoComposerDialogDispatcher").dispatch(y)},v=function v(w){var x={type:c("VideoComposerDialogActionTypes").UPDATE_VPC,vpc:w};c("VideoComposerDialogDispatcher").dispatch(x)};f.exports={agreeVideoRights:h,bootloadParameters:i,deleteAdBreak:j,fetchEditParameters:k,insertAdBreak:l,setCurrentAdBreak:m,setCurrentPreviewIndex:n,setIsAdBreakAutoAdjustmentEnabled:o,setIsAdBreakAutoInsertionEnabled:p,setIsBrandedContentVideo:q,startPageOnboarding:r,updateAdBreakStatus:s,updateHoldoutTestStatus:t,updateThumbnailURL:u,updateVPC:v}}),null);
__d("AdBreakPageOnboardingType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_ENTRY_POINT:"composer_entry_point",PUBTOOLS_ENTRY_POINT:"pubtool_entry_point",SIGN_TOS_UPDATE:"sign_tos_update",ADD_PAYOUT_ACCOUNT_UPDATE:"add_payout_account_update",ONBOARDING_COMPLETE:"onboarding_complete",PAGE_ONBOARDING_AD_BREAK_ELIGIBILITY_NOTIFICATION:"page_onboarding_ad_break_eligibility_notification",SIGN_TOS_UPDATE_ERROR:"sign_tos_update_error",ADD_PAYOUT_ACCOUNT_UPDATE_ERROR:"add_payout_account_update_error"})}),null);
__d("AdBreakPageOnboardingTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:AdBreakPageOnboardingLoggerConfig",this.$AdBreakPageOnboardingTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:AdBreakPageOnboardingLoggerConfig",this.$AdBreakPageOnboardingTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$AdBreakPageOnboardingTypedLogger1={};return this};h.prototype.updateData=function(j){this.$AdBreakPageOnboardingTypedLogger1=babelHelpers["extends"]({},this.$AdBreakPageOnboardingTypedLogger1,j);return this};h.prototype.setAdBreakPageOnboardingEventType=function(j){this.$AdBreakPageOnboardingTypedLogger1.ad_break_page_onboarding_event_type=j;return this};h.prototype.setEligibilitySource=function(j){this.$AdBreakPageOnboardingTypedLogger1.eligibility_source=j;return this};h.prototype.setExceptionMessage=function(j){this.$AdBreakPageOnboardingTypedLogger1.exception_message=j;return this};h.prototype.setFinancialID=function(j){this.$AdBreakPageOnboardingTypedLogger1.financial_id=j;return this};h.prototype.setNotifSubtype=function(j){this.$AdBreakPageOnboardingTypedLogger1.notif_subtype=j;return this};h.prototype.setPageID=function(j){this.$AdBreakPageOnboardingTypedLogger1.page_id=j;return this};h.prototype.setPayoutAlreadyExists=function(j){this.$AdBreakPageOnboardingTypedLogger1.payout_already_exists=j;return this};var i={ad_break_page_onboarding_event_type:true,eligibility_source:true,exception_message:true,financial_id:true,notif_subtype:true,page_id:true,payout_already_exists:true};f.exports=h}),null);
__d("XAdBreakPageOnboardingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/instream_video/onboarding/pages/",{creator_id:{type:"FBID",required:true},entrypoint:{type:"Enum",enumType:1}})}),null);
__d("XVideoComposerDialogBootloadAdBreaksTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_ad_breaks/",{target_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogEditAdBreaksTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/ad_breaks/",{target_id:{type:"FBID",required:true},video_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogAdBreakUtils",["fbt","Promise","ActorURI","AdBreakPageOnboardingConstants","AdBreakPageOnboardingType","AdBreakPageOnboardingTypedLogger","AsyncRequest","AsyncResponse","SimpleXUIDialog","VideoComposerDialogAdBreakActions","XAdBreakPageOnboardingController","XVideoComposerDialogBootloadAdBreaksTabController","XVideoComposerDialogEditAdBreaksTabController","goURI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(m){var n=c("XVideoComposerDialogBootloadAdBreaksTabController").getURIBuilder().setFBID("target_id",m).getURI(),o=c("ActorURI").create(n,m);new(c("AsyncRequest"))(o).setHandler(function(p){c("VideoComposerDialogAdBreakActions").bootloadParameters(p.payload)}).send()},j=function j(m){var n=c("XVideoComposerDialogEditAdBreaksTabController").getURIBuilder().setFBID("target_id",m.actorID).setFBID("video_id",m.videoID).getURI(),o=c("ActorURI").create(n,m.actorID);return new(c("Promise"))(function(p,q){new(c("AsyncRequest"))(o).setHandler(function(r){p(r)}).send()}).then(function(p){c("VideoComposerDialogAdBreakActions").fetchEditParameters(p.payload)})},k=function k(m){c("SimpleXUIDialog").showConfirm(h._("If holdout testing is currently running for this video, turning off ad breaks will immediately end the holdout test and disable holdout testing permanently for this video."),h._("Turn Off Ad Breaks?"),function(n){return n&&m()})},l=function l(m){new(c("AdBreakPageOnboardingTypedLogger"))().setPageID(m).setAdBreakPageOnboardingEventType(c("AdBreakPageOnboardingType").COMPOSER_ENTRY_POINT).log();var n=c("XAdBreakPageOnboardingController").getURIBuilder().setFBID("creator_id",m).setEnum("entrypoint",c("AdBreakPageOnboardingConstants").FROM_COMPOSER).getURI();c("goURI")(n,true)};f.exports={beginBootloadingAdBreaksTab:i,fetchEditParameters:j,showHoldoutTestDisabledConfirmation:k,startPageOnboarding:l}}),null);
__d("VideoComposerDialogAdBreakStore",["Promise","AdBreakStatus","PagesSettingsInstreamAdsBlockListStore","DateConsts","VideoComposerDialogDispatcher","FluxReduceStore","immutable","PagesSettingsInstreamAdsBlockListActions","VideoComposerDialogActionTypes","VideoComposerDialogAdBreakActions","VideoComposerDialogAdBreakUtils","VideoPlayerController","flattenPHPQueryData","generateVideoThumbnails"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=1e3,m=44,n=60,o=78,p={adBreaksDisabled:false,currentAdBreakTimeOffset:0,currentPreviewIndex:null,hasGapRule:true,holdoutTestEnabled:false,holdoutTestPublicMetadata:{isEligibleCreator:false,isExpired:false,isNuxVisible:false,isStarted:false},holdoutTestRevenueLossThresholdInCents:1e4,insertedAdBreaks:c("immutable").List(),isAdBreakAutoAdjustmentEnabled:false,isAdBreakAutoInsertionEnabled:false,isAdBreakInsertionRedesignV1:false,isAdBreakInsertionRedesignV2:false,isAdBreakPrereviewVisible:false,isAdBreaksTabVisible:false,isBrandedContentVideo:false,isDemonetized:false,isPageOnboardingVisible:false,serverSideDisabledReasons:c("immutable").List(),videoRightsAgreed:false,vpc:null};h=babelHelpers.inherits(q,c("immutable").Record(p));i=h&&h.prototype;function q(){h.apply(this,arguments)}j=babelHelpers.inherits(r,c("FluxReduceStore"));k=j&&j.prototype;r.prototype.getInitialState=function(){return new q()};r.prototype.reduce=function(s,t){__p&&__p();switch(t.type){case c("VideoComposerDialogActionTypes").FILE_ADDED:return this.$VideoComposerDialogAdBreakStore1(s);case c("VideoComposerDialogActionTypes").RESET_COMPOSER:return this.$VideoComposerDialogAdBreakStore2();case c("VideoComposerDialogActionTypes").AGREE_VIDEO_RIGHTS:return this.$VideoComposerDialogAdBreakStore3(s);case c("VideoComposerDialogActionTypes").BOOTLOAD_AD_BREAK_PARAMETERS:return this.$VideoComposerDialogAdBreakStore4(s,t.data);case c("VideoComposerDialogActionTypes").DELETE_AD_BREAK:return this.$VideoComposerDialogAdBreakStore5(s,t.adBreakIndex);case c("VideoComposerDialogActionTypes").FETCH_AD_BREAK_EDIT_PARAMETERS:return this.$VideoComposerDialogAdBreakStore6(s,t.data);case c("VideoComposerDialogActionTypes").INSERT_AD_BREAK:return this.$VideoComposerDialogAdBreakStore7(s);case c("VideoComposerDialogActionTypes").SET_CURRENT_AD_BREAK:return this.$VideoComposerDialogAdBreakStore8(s,t.adBreakTimeOffset);case c("VideoComposerDialogActionTypes").SET_CURRENT_PREVIEW_INDEX:return this.$VideoComposerDialogAdBreakStore9(s,t.currentPreviewIndex);case c("VideoComposerDialogActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:return this.$VideoComposerDialogAdBreakStore10(s,t.isAdBreakAutoAdjustmentEnabled);case c("VideoComposerDialogActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:return this.$VideoComposerDialogAdBreakStore11(s,t.isAdBreakAutoInsertionEnabled);case c("VideoComposerDialogActionTypes").SET_IS_BRANDED_CONTENT_VIDEO:return this.$VideoComposerDialogAdBreakStore12(s,t.isBrandedContentVideo);case c("VideoComposerDialogActionTypes").START_PAGE_ONBOARDING:return this.$VideoComposerDialogAdBreakStore13(s,t.pageID);case c("VideoComposerDialogActionTypes").UPDATE_AD_BREAK_STATUS:return this.$VideoComposerDialogAdBreakStore14(s,t.adBreaksDisabled);case c("VideoComposerDialogActionTypes").UPDATE_HOLDOUT_TEST_STATUS:return this.$VideoComposerDialogAdBreakStore15(s,t.enabled);case c("VideoComposerDialogActionTypes").UPDATE_THUMBNAIL_URL:return this.$VideoComposerDialogAdBreakStore16(s,t.adBreakTimeOffset,t.thumbnailURL);case c("VideoComposerDialogActionTypes").UPDATE_VPC:return this.$VideoComposerDialogAdBreakStore17(s,t.vpc);default:return s}};r.prototype.getPostData=function(){__p&&__p();var s=this.getState(),t=s.adBreaksDisabled||s.isBrandedContentVideo,u=s.insertedAdBreaks.map(function(y){return{time_offset:y.timeOffset*c("DateConsts").MS_PER_SEC,status:t?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED}}).toArray(),v=c("PagesSettingsInstreamAdsBlockListStore").getComposerBlockListIdsToApply(),w=s.holdoutTestEnabled&&!t&&u.length>0,x={};x.ad_breaks=u;x.ad_breaks_experiment_revenue_loss_threshold=s.holdoutTestRevenueLossThresholdInCents;x.enable_ad_breaks_experiment=w;if(v){x.ad_breaks_block_lists=v;x.has_ad_breaks_block_lists=true}x.should_auto_adjust_manual_ad_breaks=s.isAdBreakAutoAdjustmentEnabled;x.should_auto_insert_ad_breaks=s.isAdBreakAutoInsertionEnabled&&!s.adBreaksDisabled;return c("Promise").resolve(x)};r.prototype.getEditRequestDataToSend=function(){var s=this.getPostData();return s.then(function(t){return c("flattenPHPQueryData")(t)})};r.prototype.$VideoComposerDialogAdBreakStore1=function(s){return s.merge({adBreaksDisabled:p.adBreaksDisabled,currentAdBreakTimeOffset:p.currentAdBreakTimeOffset,currentPreviewIndex:p.currentPreviewIndex,insertedAdBreaks:p.insertedAdBreaks,videoRightsAgreed:p.videoRightsAgreed,vpc:p.vpc})};r.prototype.$VideoComposerDialogAdBreakStore2=function(){return this.getInitialState()};r.prototype.$VideoComposerDialogAdBreakStore3=function(s){s=s.set("videoRightsAgreed",true);return s};r.prototype.$VideoComposerDialogAdBreakStore4=function(s,t){__p&&__p();var u=arguments.length<=2||arguments[2]===undefined?null:arguments[2];c("PagesSettingsInstreamAdsBlockListActions").initializeBlockLists(t.pageID,u?[u]:null);s=s.set("holdoutTestEnabled",t.holdoutTestPublicMetadata.isStarted);s=s.set("holdoutTestPublicMetadata",t.holdoutTestPublicMetadata);s=s.set("serverSideDisabledReasons",c("immutable").List(t.serverSideDisabledReasons));s=s.set("hasGapRule",t.hasGapRule);s=s.set("isAdBreakAutoAdjustmentEnabled",t.isAdBreakInsertionRedesignV1||t.isAdBreakInsertionRedesignV2);s=s.set("isAdBreakAutoInsertionEnabled",t.isAdBreakInsertionRedesignV2);s=s.set("isAdBreakInsertionRedesignV1",t.isAdBreakInsertionRedesignV1);s=s.set("isAdBreakInsertionRedesignV2",t.isAdBreakInsertionRedesignV2);s=s.set("isAdBreakPrereviewVisible",t.isAdBreakPrereviewVisible);s=s.set("isAdBreaksTabVisible",t.isAdBreaksTabVisible);s=s.set("isPageOnboardingVisible",t.isPageOnboardingVisible);s=s.set("videoRightsAgreed",t.isAdBreakInsertionRedesignV2);s=s.set("adBreaksDisabled",t.isAdBreakInsertionRedesignV2);return s};r.prototype.$VideoComposerDialogAdBreakStore5=function(s,t){s=s.set("insertedAdBreaks",s.insertedAdBreaks.splice(t,1));return s};r.prototype.$VideoComposerDialogAdBreakStore6=function(s,t){s=this.$VideoComposerDialogAdBreakStore4(s,t,t.videoAssetID);s=s.set("adBreaksDisabled",t.adBreaksDisabled);s=s.set("insertedAdBreaks",c("immutable").List(t.insertedAdBreaks));s=s.set("isAdBreakAutoAdjustmentEnabled",t.isAdBreakAutoAdjustmentEnabled);s=s.set("isAdBreakAutoInsertionEnabled",t.isAdBreakAutoInsertionEnabled);s=s.set("isDemonetized",t.isDemonetized);s=s.set("videoRightsAgreed",s.videoRightsAgreed||s.insertedAdBreaks.count()>0);this.$VideoComposerDialogAdBreakStore18(s);return s};r.prototype.$VideoComposerDialogAdBreakStore7=function(s){if(s.insertedAdBreaks.findIndex(function(t){return t.timeOffset===s.currentAdBreakTimeOffset})>=0)return s;s=s.set("insertedAdBreaks",s.insertedAdBreaks.push({status:s.adBreaksDisabled?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED,thumbnailURL:null,timeOffset:s.currentAdBreakTimeOffset}).sort(function(t,u){return t.timeOffset-u.timeOffset}));this.$VideoComposerDialogAdBreakStore18(s);return s};r.prototype.$VideoComposerDialogAdBreakStore8=function(s,t){var u=Math.round(t*l)/l;s=s.set("currentAdBreakTimeOffset",u);return s};r.prototype.$VideoComposerDialogAdBreakStore9=function(s,t){s=s.set("currentPreviewIndex",t);return s};r.prototype.$VideoComposerDialogAdBreakStore10=function(s,t){s=s.set("isAdBreakAutoAdjustmentEnabled",t);return s};r.prototype.$VideoComposerDialogAdBreakStore11=function(s,t){s=s.set("isAdBreakAutoInsertionEnabled",t);return s};r.prototype.$VideoComposerDialogAdBreakStore12=function(s,t){s=s.set("isBrandedContentVideo",t);return s};r.prototype.$VideoComposerDialogAdBreakStore13=function(s,t){c("VideoComposerDialogAdBreakUtils").startPageOnboarding(t);return s};r.prototype.$VideoComposerDialogAdBreakStore14=function(s,t){s=s.set("adBreaksDisabled",t);s=s.set("insertedAdBreaks",s.insertedAdBreaks.map(function(u){u.status=t?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED;return u}));return s};r.prototype.$VideoComposerDialogAdBreakStore15=function(s,t){s=s.set("holdoutTestEnabled",t);return s};r.prototype.$VideoComposerDialogAdBreakStore16=function(s,t,u){var v=s.insertedAdBreaks.findIndex(function(w){return w.timeOffset===t});if(v<0)return s;return s.updateIn(["insertedAdBreaks",v],function(w){return babelHelpers["extends"]({},w,{thumbnailURL:u})})};r.prototype.$VideoComposerDialogAdBreakStore17=function(s,t){s=s.set("vpc",t);this.$VideoComposerDialogAdBreakStore18(s);return s};r.prototype.$VideoComposerDialogAdBreakStore18=function(s){__p&&__p();var t,u=s.vpc,v=s.insertedAdBreaks;if(u&&u.getVideoNodeNullable()){var w=function w(x){var y=v.get(x);if(y.thumbnailURL!==null)return"continue";c("generateVideoThumbnails")(u.getVideoNode(),s.isAdBreakInsertionRedesignV2?o:n,s.isAdBreakInsertionRedesignV2?m:n,1,"cover",y.timeOffset).done(function(z){c("VideoComposerDialogAdBreakActions").updateThumbnailURL(y.timeOffset,z.thumbnails[0].getURL())},function(z){})};for(var x=0;x<v.count();x++){var t=w(x);if(t==="continue")continue}}};function r(){j.apply(this,arguments)}f.exports=new r(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogAdBreaksTabConfig",["ix","fbt","Promise","VideoComposerDialogAdBreakContainer.react","VideoComposerDialogAdBreaksTabContainer.react","VideoComposerDialogTab","VideoComposerDialogAdBreakStore","VideoComposerDialogAdBreakUtils","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").AD_BREAKS,glyphSelected:h("401205"),glyphUnselected:h("401215"),title:i._("Ad Breaks"),defaultDescription:null,tabContainer:c("VideoComposerDialogAdBreaksTabContainer.react"),bodyContainer:c("VideoComposerDialogAdBreakContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogAdBreakStore").getEditRequestDataToSend()},getPostData:function k(){return c("VideoComposerDialogAdBreakStore").getPostData()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("VideoComposerDialogAdBreakUtils").fetchEditParameters(l)}};f.exports=j}),null);
__d("InterestTaxonomyTypeaheadAppType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VIDEO_CREATION:1})}),null);
__d("VideoComposerDialogBasicActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_EDIT_PARAMS,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},i=function i(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_TAB_PARAMETERS,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},j=function j(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_DEFAULT_TAB,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},k=function k(){var s={type:c("VideoComposerDialogActionTypes").TOGGLE_CROSSPOST_TO_PARENT};c("VideoComposerDialogDispatcher").dispatch(s)},l=function l(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_CONTENT_TAGS,tags:s};c("VideoComposerDialogDispatcher").dispatch(t)},m=function m(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_DESCRIPTION_EDITOR_STATE,editorState:s};c("VideoComposerDialogDispatcher").dispatch(t)},n=function n(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_PLAYLIST_IDS,playlistIDs:s};c("VideoComposerDialogDispatcher").dispatch(t)},o=function o(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_SEASON_ID,seasonID:s};c("VideoComposerDialogDispatcher").dispatch(t)},p=function p(s,t){var u={type:c("VideoComposerDialogActionTypes").UPDATE_VIDEO_LIST_OPTIONS,playlistOptions:s,seasonOptions:t};c("VideoComposerDialogDispatcher").dispatch(u)},q=function q(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_VIDEO_PREVIEW_CONTROLLER,videoPreviewController:s};c("VideoComposerDialogDispatcher").dispatch(t)},r=function r(){var s={type:c("VideoComposerDialogActionTypes").USER_PLAYED_VIDEO_PREVIEW};c("VideoComposerDialogDispatcher").dispatch(s)};f.exports={bootloadDefaultEditParameters:h,bootloadDefaultTabParameters:i,bootloadCrosspostDefaultTabParameters:j,toggleCrosspostToParent:k,updateContentTags:l,updateDescriptionEditorState:m,updatePlaylistIDs:n,updateSeasonID:o,updateVideoListOptions:p,updateVideoPreviewController:q,userPlayedVideoPreview:r}}),null);
__d("VideoComposerDialogSphericalDirectorActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(m){var n={type:c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_CROSSPOST_PARAMETERS,data:m};c("VideoComposerDialogDispatcher").dispatch(n)},i=function i(m){var n={type:c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_EDIT_PARAMETERS,data:m};c("VideoComposerDialogDispatcher").dispatch(n)},j=function j(m){var n={type:c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_UPLOAD_PARAMETERS,data:m};c("VideoComposerDialogDispatcher").dispatch(n)},k=function k(m){var n={type:c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_CONTEXT_CONFIG,data:m};c("VideoComposerDialogDispatcher").dispatch(n)},l=function l(m){var n={type:c("VideoComposerDialogActionTypes").TOGGLE_SPHERICAL,data:m};c("VideoComposerDialogDispatcher").dispatch(n)};f.exports={bootloadCrosspostParameters:h,bootloadEditParameters:i,bootloadUploadParameters:j,bootloadSphericalContextConfig:k,toggleSpherical:l}}),null);
__d("XInterestTaxonomyTypeaheadDataSourceController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/datasource/search/interest_taxonomy/",{value:{type:"String"},filter_archived_interests:{type:"Bool",defaultValue:true},app:{type:"Enum",defaultValue:1,enumType:0}})}),null);
__d("XShowPagesVideoListsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/showpages/video_lists/",{page_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogBootloadDefaultTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_default/",{target_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogCrosspostBootloadDefaultController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/crosspost/bootload_default/",{video_asset_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogEditDefaultTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/default/",{video_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogBasicUtils",["fbt","Promise","ReactComposerTaggerStore","ActorURI","AnyTokenSearchSource","AsyncRequest","CompositeSearchSource","EditorState","InterestTaxonomyTypeaheadAppType","MentionsInputUtility","ReactComposerTaggerActions","ReactComposerTaggerType","SearchableEntry","VideoComposerDialogBasicActions","VideoComposerDialogSphericalDirectorActions","WebAsyncSearchSource","XInterestTaxonomyTypeaheadDataSourceController","XShowPagesVideoListsController","XVideoComposerDialogBootloadDefaultTabController","XVideoComposerDialogCrosspostBootloadDefaultController","XVideoComposerDialogEditDefaultTabController","getMentionsInputDecorator","isEmpty"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();c("ReactComposerTaggerStore");var i=function i(t){var u=c("XVideoComposerDialogBootloadDefaultTabController").getURIBuilder().setFBID("target_id",t).getURI(),v=c("ActorURI").create(u,t);new(c("AsyncRequest"))(v).send();m(t)},j=function j(t,u){var v=c("XVideoComposerDialogCrosspostBootloadDefaultController").getURIBuilder().setFBID("video_asset_id",u).getURI(),w=c("ActorURI").create(v,t);return new(c("AsyncRequest"))(w).exec()},k=function k(t,u){if(u&&!c("isEmpty")(u))return t.concat(u.map(function(v){return new(c("SearchableEntry"))({uniqueID:v,title:v,auxiliaryData:{isFreeForm:true}})}));return t},l=function l(t){var u=c("XVideoComposerDialogEditDefaultTabController").getURIBuilder().setFBID("video_id",t.videoID).getURI(),v=c("ActorURI").create(u,t.actorID);return new(c("Promise"))(function(w,x){new(c("AsyncRequest"))(v).setHandler(function(y){w(y)}).send()})},m=function m(t){var u=c("XShowPagesVideoListsController").getURIBuilder().setFBID("page_id",t).getURI();new(c("AsyncRequest"))(u).setHandler(function(v){var w=v.payload.seasonOptions||{},x=v.payload.playlistOptions||{};c("VideoComposerDialogBasicActions").updateVideoListOptions(x,w)}).send()},n=function n(t){if(t.length<=0)return[];return t.filter(function(u){return!u.getAuxiliaryData().isFreeForm}).map(function(u){return u.getUniqueID()})},o=function o(t){__p&&__p();var u={},v=c("ReactComposerTaggerStore").getTaggerData(t,c("ReactComposerTaggerType").PEOPLE)||[],w=v.map(function(F){return F.getUniqueID()});Object.assign(u,{tags:w});var x=c("ReactComposerTaggerStore").getTaggerData(t,c("ReactComposerTaggerType").LOCATION)||{};x=x?x.place:{};var y=x?x.getUniqueID():null,z=x&&!x.getUniqueID()?x.getTitle():null;if(y)Object.assign(u,{place_id:y});else if(z)Object.assign(u,{place_name:z});var A=c("ReactComposerTaggerStore").getTaggerData(t,c("ReactComposerTaggerType").BACKDATE);if(A.year)Object.assign(u,{backtime_year:A.year});if(A.month)Object.assign(u,{backtime_month:A.month});if(A.day)Object.assign(u,{backtime_day:A.day});if(A.hour)Object.assign(u,{backtime_hour:A.hour});if(A.minute)Object.assign(u,{backtime_minute:A.minute});var B=c("ReactComposerTaggerStore").getTaggerData(t,c("ReactComposerTaggerType").SPONSOR)||{},C={directShareStatus:B.directShareStatus,sponsorRelationship:B.sponsorRelationship,sponsors:[]};(B.sponsors||[]).map(function(F){C.sponsors.push(F.getUniqueID())});if(C&&C.sponsors)Object.assign(u,{sponsor_tags:C.sponsors,direct_share_status:C.directShareStatus,sponsor_relationship:C.sponsorRelationship});var D=c("ReactComposerTaggerStore").getTaggerData(t,c("ReactComposerTaggerType").PRODUCT)||[],E=D.map(function(F){return F.getUniqueID()});if(E)Object.assign(u,{product_tags:E});return u},p=function p(){var t=c("XInterestTaxonomyTypeaheadDataSourceController").getURIBuilder().setEnum("app",c("InterestTaxonomyTypeaheadAppType").VIDEO_CREATION).getURI();return new(c("CompositeSearchSource"))([new(c("WebAsyncSearchSource"))({queryRequests:[{uri:t}]}),new(c("AnyTokenSearchSource"))(function(u){var v=h._("Add a new tag \"{free form tag}\"",[h.param("free form tag",u)]);return new(c("SearchableEntry"))({uniqueID:u,title:v,auxiliaryData:{isFreeForm:true}})})])},q=function q(t){var u=c("MentionsInputUtility").createFromTextWithMentions(t,c("getMentionsInputDecorator")());c("EditorState").moveFocusToEnd(u);return u},r=function r(t){if(t.length<=0)return[];return t.filter(function(u){return u.getAuxiliaryData().isFreeForm}).map(function(u){return u.getUniqueID()})},s=function s(t,u,v,w,x,y){__p&&__p();c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(t,c("ReactComposerTaggerType").PEOPLE,u);v=v?new(c("SearchableEntry"))(v):null;v=v?{place:v,implicitLocation:{}}:null;if(v)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(t,c("ReactComposerTaggerType").LOCATION,v);if(w)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(t,c("ReactComposerTaggerType").BACKDATE,w);if(x)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(t,c("ReactComposerTaggerType").SPONSOR,x);if(y)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(t,c("ReactComposerTaggerType").PRODUCT,y)};f.exports={beginBootloadingDefaultTab:i,beginBootloadingCrosspostDefaultTab:j,bootloadDefaultTab:function t(u){c("VideoComposerDialogBasicActions").bootloadDefaultTabParameters(u);c("VideoComposerDialogSphericalDirectorActions").bootloadSphericalContextConfig(u.composerConfig.contextConfig)},bootloadCrosspostDefaultTab:function t(u){c("VideoComposerDialogBasicActions").bootloadCrosspostDefaultTabParameters(u)},bootloadDefaultEditParams:function t(u){c("VideoComposerDialogBasicActions").bootloadDefaultEditParameters(u)},convertVideoTagsToEntryArray:k,fetchDefaultEditParams:l,fetchVideoListOptions:function t(u){m(u)},getComposerTaggerData:o,getContentTagEntryIDs:n,getContentTagSearchSource:p,getEditorStateForText:q,getFreeFormContentTags:r,setComposerTaggerData:s}}),null);
__d("VideoComposerDialogBasicTabConfig",["ix","fbt","React","SimpleNUXMessageTypes","VideoComposerDialogBasicContainer.react","VideoComposerDialogBasicStore","VideoComposerDialogBasicTabContainer.react","VideoComposerDialogBasicUtils","VideoComposerDialogTab","XUIText.react","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").BASIC,glyphSelected:h("401220"),glyphUnselected:h("401227"),title:i._("Video details"),defaultDescription:i._("Add details to your video and create your video post."),tabContainer:c("VideoComposerDialogBasicTabContainer.react"),bodyContainer:c("VideoComposerDialogBasicContainer.react"),getCrosspostRequestDataToSend:function k(){return c("VideoComposerDialogBasicStore").getCrosspostRequestDataToSend()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogBasicStore").getEditRequestDataToSend()},getPostData:function k(){return c("VideoComposerDialogBasicStore").getPostData()},fetchCrosspostData:function k(l){return c("VideoComposerDialogBasicUtils").beginBootloadingCrosspostDefaultTab(l.actorID,l.videoAssetID)},fetchEditPostData:function k(l){return c("VideoComposerDialogBasicUtils").fetchDefaultEditParams(l)},nuxMessage:c("SimpleNUXMessageTypes").VIDEO_COMPOSER_V2_INTRO,nuxWidth:290,renderNuxMessage:function k(){return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{display:"block",size:"header4"},i._("Welcome to the new Video Uploader")),c("React").createElement(c("XUIText.react"),{size:"meta1"},i._("Access all of the tools you need to upload your video in one place.")))}};f.exports=j}),null);
__d("VideoComposerDialogCaptionsTabConfig",["ix","fbt","Promise","VideoComposerDialogCaptionEditorMasterContainer.react","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabContainer.react","VideoComposerDialogMode","VideoComposerDialogTab","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={key:c("VideoComposerDialogTab").CAPTIONS,glyphSelected:h("401199"),glyphUnselected:h("401202"),title:i._("Subtitles and captions (CC)"),defaultDescription:i._("Add subtitles to your video in multiple languages. You can upload existing files, transcribe or auto-generate subtitles."),tabContainer:c("VideoComposerDialogCaptionsTabContainer.react"),bodyContainer:c("VideoComposerDialogCaptionEditorMasterContainer.react"),getCrosspostRequestDataToSend:function k(){return c("VideoComposerDialogCaptionsStore").getCrosspostPostData()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogCaptionsStore").getPostData()},getPostData:function k(){return c("VideoComposerDialogCaptionsStore").getPostData()},fetchCrosspostData:function k(l){if(l.showCaptionsTab)return c("VideoComposerDialogCaptionEditorUtils").fetchCrosspostData(l);else return c("Promise").resolve()},fetchEditPostData:function k(l){if(l.showCaptionsTab)c("VideoComposerDialogCaptionsStore").initialize(c("VideoComposerDialogCaptionsStore").getState(),null,l.videoID,l.accessToken,null,"",null,c("VideoComposerDialogMode").VIDEO_EDIT,false);return c("Promise").resolve()}};f.exports=j}),null);
__d("VideoComposerDialogDistributionActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_DISTRIBUTION_TAB,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},i=function i(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_DISTRIBUTION_TAB_FOR_EDIT,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},j=function j(){var s={type:c("VideoComposerDialogActionTypes").TOGGLE_NEWS_FEED};c("VideoComposerDialogDispatcher").dispatch(s)},k=function k(){var s={type:c("VideoComposerDialogActionTypes").TOGGLE_EMBEDDING};c("VideoComposerDialogDispatcher").dispatch(s)},l=function l(){var s={type:c("VideoComposerDialogActionTypes").TOGGLE_SECRET_VIDEO};c("VideoComposerDialogDispatcher").dispatch(s)},m=function m(s){var t={type:c("VideoComposerDialogActionTypes").CROSSPOST_PAGES_FETCHED,pages:s};c("VideoComposerDialogDispatcher").dispatch(t)},n=function n(s){var t={type:c("VideoComposerDialogActionTypes").TOGGLE_CROSSPOST_PAGE,pageID:s};c("VideoComposerDialogDispatcher").dispatch(t)},o=function o(){var s={type:c("VideoComposerDialogActionTypes").TOGGLE_GRAPHIC_WARNING};c("VideoComposerDialogDispatcher").dispatch(s)},p=function p(){var s={type:c("VideoComposerDialogActionTypes").TOGGLE_BLOCK_SOCIAL};c("VideoComposerDialogDispatcher").dispatch(s)},q=function q(){var s={type:c("VideoComposerDialogActionTypes").CROSSPOST_LINK_CLICKED};c("VideoComposerDialogDispatcher").dispatch(s)},r=function r(){var s={type:c("VideoComposerDialogActionTypes").REFRESH_CROSSPOST_PAGES};c("VideoComposerDialogDispatcher").dispatch(s)};f.exports={bootloadTab:h,bootloadTabForEdit:i,toggleNewsFeed:j,toggleEmbedding:k,toggleSecretVideo:l,crosspostPagesFetched:m,toggleCrosspostPage:n,toggleGraphicWarning:o,toggleBlockSocial:p,crosspostLinkClicked:q,refreshCrosspostPages:r}}),null);
__d("XVideoComposerDialogBootloadDistributionTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_distribution_tab/",{})}),null);
__d("XVideoComposerDialogBootloadEditDistributionTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/distribution/",{video_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogDistributionUtils",["ActorURI","AsyncRequest","VideoComposerDialogDistributionActions","XVideoComposerDialogBootloadDistributionTabController","XVideoComposerDialogBootloadEditDistributionTabController"],(function a(b,c,d,e,f,g){"use strict";var h=function h(j){var k=c("XVideoComposerDialogBootloadDistributionTabController").getURIBuilder().getURI(),l=c("ActorURI").create(k,j);new(c("AsyncRequest"))(l).setHandler(function(m){c("VideoComposerDialogDistributionActions").bootloadTab(m.payload)}).send()},i=function i(j,k){var l=c("XVideoComposerDialogBootloadEditDistributionTabController").getURIBuilder().setFBID("video_id",k).getURI(),m=c("ActorURI").create(l,j);return new(c("AsyncRequest"))().setURI(m).exec().then(function(n){return c("VideoComposerDialogDistributionActions").bootloadTabForEdit(n.payload)})};f.exports={beginBootloadingDistributionTab:h,bootloadEditDistributionTab:i}}),null);
__d("VideoComposerDialogDistributionTabConfig",["ix","fbt","Promise","VideoComposerDialogDistributionContainer.react","VideoComposerDialogDistributionStore","VideoComposerDialogDistributionTabContainer.react","VideoComposerDialogDistributionUtils","VideoComposerDialogTab","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").DISTRIBUTION,glyphSelected:h("416637"),glyphUnselected:h("416644"),title:i._("Distribution"),defaultDescription:i._("Choose where your video will appear and who can watch or crosspost it."),tabContainer:c("VideoComposerDialogDistributionTabContainer.react"),bodyContainer:c("VideoComposerDialogDistributionContainer.react"),getCrosspostRequestDataToSend:function k(){return c("VideoComposerDialogDistributionStore").getCrosspostRequestDataToSend()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogDistributionStore").getEditRequestDataToSend()},getPostData:function k(){return c("VideoComposerDialogDistributionStore").getPostData()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("VideoComposerDialogDistributionUtils").bootloadEditDistributionTab(l.actorID,l.videoID)}};f.exports=j}),null);
__d("VideoComposerDialogMomentsOfInterestStore",["Promise","VideoComposerDialogActionTypes","FluxReduceStore","immutable","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={momentsOfInterest:[]};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){switch(p.type){case c("VideoComposerDialogActionTypes").UPDATE_MOMENTS_OF_INTEREST:o=o.set("momentsOfInterest",p.momentsOfInterest);return o;default:return o}};n.prototype.getPostData=function(){var o=this.getState(),p=o.momentsOfInterest;return c("Promise").resolve({moments_of_interest:p})};n.prototype.getEditRequestDataToSend=function(){return c("Promise").resolve({})};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogMomentsOfInterestTabConfig",["ix","fbt","Promise","VideoComposerDialogMomentsOfInterestContainer.react","VideoComposerDialogMomentsOfInterestStore","VideoComposerDialogMomentsOfInterestTabContainer.react","VideoComposerDialogTab","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").MOMENTS_OF_INTEREST,glyphSelected:h("469684"),glyphUnselected:h("469685"),title:i._("Moments Of Interest"),defaultDescription:i._("Add Moments of Interest to your video."),tabContainer:c("VideoComposerDialogMomentsOfInterestTabContainer.react"),bodyContainer:c("VideoComposerDialogMomentsOfInterestContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("Promise").resolve()},getPostData:function k(){return c("VideoComposerDialogMomentsOfInterestStore").getPostData()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("Promise").resolve()}};f.exports=j}),null);
__d("VideoComposerDialogRightsActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_RIGHTS_PARAMETERS,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},i=function i(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_EDIT_RIGHTS_PARAMETERS,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},j=function j(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_MONITORING_TYPE,monitoringType:s};c("VideoComposerDialogDispatcher").dispatch(t)},k=function k(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_SHOULD_DETECT_MATCHES,shouldDetectMatches:s};c("VideoComposerDialogDispatcher").dispatch(t)},l=function l(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_FB_WHITELISTED_USERS,fbWhitelistedUsers:s};c("VideoComposerDialogDispatcher").dispatch(t)},m=function m(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_IG_WHITELISTED_USERS,igWhitelistedUsers:s};c("VideoComposerDialogDispatcher").dispatch(t)},n=function n(s,t){var u={type:c("VideoComposerDialogActionTypes").UPDATE_OWNERSHIP_COUNTRIES,ownershipCountries:s,areCountriesIncluded:t};c("VideoComposerDialogDispatcher").dispatch(u)},o=function o(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_MATCH_RULE,matchRuleID:s};c("VideoComposerDialogDispatcher").dispatch(t)},p=function p(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_ATTRIBUTION,attributionID:s};c("VideoComposerDialogDispatcher").dispatch(t)},q=function q(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_CATEGORY,category:s};c("VideoComposerDialogDispatcher").dispatch(t)},r=function r(){var s={type:c("VideoComposerDialogActionTypes").UPDATE_CATEGORY_REQUIRED_ERROR};c("VideoComposerDialogDispatcher").dispatch(s)};f.exports={bootloadParameters:h,bootloadEditParameters:i,updateAttribution:p,updateCategory:q,updateFBWhitelistedUsers:l,updateIGWhitelistedUsers:m,updateMatchRule:o,updateMonitoringType:j,updateOwnershipCountries:n,updateShouldDetectMatches:k,updateShowCategoryRequiredError:r}}),null);
__d("XVideoComposerDialogBootloadRightsTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_rights/",{target_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogEditRightsTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/rights/",{actor_id:{type:"FBID",required:true},video_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogRightsUtils",["Promise","ActorURI","AsyncRequest","VideoComposerDialogRightsActions","XVideoComposerDialogBootloadRightsTabController","XVideoComposerDialogEditRightsTabController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(k){var l=c("XVideoComposerDialogBootloadRightsTabController").getURIBuilder().setFBID("target_id",k).getURI(),m=c("ActorURI").create(l,k);new(c("AsyncRequest"))(m).setHandler(function(n){c("VideoComposerDialogRightsActions").bootloadParameters(n.payload)}).send()},i=function i(k){c("VideoComposerDialogRightsActions").bootloadEditParameters(k)},j=function j(k){var l=c("XVideoComposerDialogEditRightsTabController").getURIBuilder().setFBID("actor_id",k.actorID).setFBID("video_id",k.videoID).getURI(),m=c("ActorURI").create(l,k.actorID);return new(c("Promise"))(function(n,o){new(c("AsyncRequest"))(m).setHandler(function(p){n(p)}).send()})};f.exports={beginBootloadingRightsTab:h,bootloadEditParams:i,fetchEditParams:j}}),null);
__d("VideoComposerDialogRightsTabConfig",["ix","fbt","Promise","VideoComposerDialogRightsContainer.react","VideoComposerDialogRightsStore","VideoComposerDialogRightsTabContainer.react","VideoComposerDialogRightsUtils","VideoComposerDialogTab","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").RIGHTS,glyphSelected:h("426191"),glyphUnselected:h("426199"),title:i._("Rights management"),defaultDescription:i._("This video is not being monitored for rights and matching uploads."),tabContainer:c("VideoComposerDialogRightsTabContainer.react"),bodyContainer:c("VideoComposerDialogRightsContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogRightsStore").getPostData()},getPostData:function k(){return c("VideoComposerDialogRightsStore").getPostData()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("VideoComposerDialogRightsUtils").fetchEditParams(l)}};f.exports=j}),null);
__d("ComposerVideoUploadSphericalActionType",[],(function a(b,c,d,e,f,g){f.exports={RESET_VIDEO_PLAYER_CONTROLLER:"RESET_VIDEO_PLAYER_CONTROLLER",SET_VIDEO_PLAYER_CONTROLLER:"SET_VIDEO_PLAYER_CONTROLLER",SET_VIDEO_UNAVAILABLE:"SET_VIDEO_UNAVAILABLE",UPDATE_ACTIVE_GUIDE_KEYFRAME:"UPDATE_ACTIVE_GUIDE_KEYFRAME",UPDATE_ADD_GUIDE_KEYFRAME:"UPDATE_ADD_GUIDE_KEYFRAME",UPDATE_SAVE_GUIDE_KEYFRAME:"UPDATE_SAVE_GUIDE_KEYFRAME",UPDATE_REMOVE_GUIDE_KEYFRAME:"UPDATE_REMOVE_GUIDE_KEYFRAME",UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES:"UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES",UPDATE_CLEAR_GUIDE_KEYFRAMES:"UPDATE_CLEAR_GUIDE_KEYFRAMES",UPDATE_CURRENT_VIEWPORT:"UPDATE_CURRENT_VIEWPORT",UPDATE_ENABLE_OMNISTAB:"UPDATE_ENABLE_OMNISTAB",UPDATE_ERROR_MESSAGE_INFO:"UPDATE_ERROR_MESSAGE_INFO",UPDATE_FOV:"UPDATE_FOV",UPDATE_GUIDE_ENABLED:"UPDATE_GUIDE_ENABLED",UPDATE_GUIDE_VISIBILITY:"UPDATE_GUIDE_VISIBILITY",UPDATE_GUIDE_KEYFRAMES:"UPDATE_GUIDE_KEYFRAMES",UPDATE_SUGGESTED_GUIDE_KEYFRAMES:"UPDATE_SUGGESTED_GUIDE_KEYFRAMES",UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION:"UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION",UPDATE_IS_EDITING_POINT_OF_INTEREST:"UPDATE_IS_EDITING_POINT_OF_INTEREST",UPDATE_SECTION_STATUS:"UPDATE_SECTION_STATUS",UPDATE_TAB_VISIBILITY:"UPDATE_TAB_VISIBILITY",UPDATE_ORIGINAL_SPHERICAL_METADATA:"UPDATE_ORIGINAL_SPHERICAL_METADATA",UPDATE_PROJECTION:"UPDATE_PROJECTION",UPDATE_STEREO_MODE:"UPDATE_STEREO_MODE",UPDATE_HAS_SPATIAL_AUDIO:"UPDATE_HAS_SPATIAL_AUDIO",UPDATE_ADD_HOTSPOT:"UPDATE_ADD_HOTSPOT",UPDATE_DELETE_HOTSPOT:"UPDATE_DELETE_HOTSPOT",UPDATE_HOTSPOTS:"UPDATE_HOTSPOTS"}}),null);
__d("ComposerVideoUploadSphericalAction",["ComposerVideoUploadSphericalActionType","ReactComposerDispatcher","ComposerVideoUploadSphericalStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ComposerVideoUploadSphericalStore");h.prototype.updateCurrentViewport=function(i,j,k){"use strict";var l={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_CURRENT_VIEWPORT,pitch:j,yaw:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateFOV=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_FOV,fov:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGuideEnabled=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_ENABLED,guideEnabled:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGuideVisibility=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_VISIBILITY,guideVisible:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateEnableOmnistab=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ENABLE_OMNISTAB,enableOmnistab:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGuideKeyframes=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_KEYFRAMES,guideKeyframes:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateSuggestedGuideKeyframes=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_SUGGESTED_GUIDE_KEYFRAMES,suggestedGuideKeyframes:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateAddGuideKeyframe=function(i,j,k){"use strict";var l={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ADD_GUIDE_KEYFRAME,guideKeyframe:j,enableComposerRedesign:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateSaveGuideKeyframe=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_SAVE_GUIDE_KEYFRAME,guideKeyframe:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateRemoveGuideKeyframe=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_REMOVE_GUIDE_KEYFRAME,timestamp:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateClearGuideKeyframes=function(i){"use strict";var j={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_CLEAR_GUIDE_KEYFRAMES};c("ReactComposerDispatcher").dispatch(j)};h.prototype.updateTabVisibility=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_TAB_VISIBILITY,visible:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setVideoPlayerController=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").SET_VIDEO_PLAYER_CONTROLLER,controller:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setVideoUnavailable=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").SET_VIDEO_UNAVAILABLE,unavailable:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.resetVideoPlayerController=function(i){"use strict";var j={composerID:i,type:c("ComposerVideoUploadSphericalActionType").RESET_VIDEO_PLAYER_CONTROLLER};c("ReactComposerDispatcher").dispatch(j)};h.prototype.updateSectionStatus=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_SECTION_STATUS,sectionName:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateActiveGuideKeyframe=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ACTIVE_GUIDE_KEYFRAME,timestamp:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateIsEditingPointOfInterest=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_IS_EDITING_POINT_OF_INTEREST,value:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateErrorMessage=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ERROR_MESSAGE_INFO,error:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateToggleGuideKeyframeForDeletion=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION,timestamp:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateDeleteSelectedGuideKeyframes=function(i){"use strict";var j={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES};c("ReactComposerDispatcher").dispatch(j)};h.prototype.updateOriginalSphericalMetadata=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ORIGINAL_SPHERICAL_METADATA,originalSphericalMetadata:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateProjection=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_PROJECTION,projection:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateStereoMode=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_STEREO_MODE,stereoMode:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateHasSpatialAudio=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_HAS_SPATIAL_AUDIO,hasSpatialAudio:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateAddHotspot=function(i,j,k){"use strict";var l={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ADD_HOTSPOT,hotspotData:j,shouldIncrementId:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateDeleteHotspot=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_DELETE_HOTSPOT,hotspotId:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateHotspots=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_HOTSPOTS,hotspots:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("SphericalVideoGuideAnimationConfig",[],(function a(b,c,d,e,f,g){var h=Object.freeze({MIN_INTERVAL_MS:2e3,MS_PER_SECOND:1e3});f.exports=h}),null);
__d("ComposerVideoUploadSphericalGuideKeyframeData",["immutable","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,k={fieldOfViewDegrees:60,isSelected:false,isSelectedForDeletion:false,pitch:0,thumbnailURI:"",timestamp:0,yaw:0};h=babelHelpers.inherits(l,c("immutable").Record(k));i=h&&h.prototype;l.getFromLegacyParams=function(m){return new l({timestamp:m[0],pitch:m[1],yaw:m[2]})};l.prototype.compare=function(m){return this.get("timestamp")-m.get("timestamp")};l.prototype.getLegacyParams=function(){return[this.timestamp,this.pitch,this.yaw]};l.prototype.isTooCloseTo=function(m){var n=Math.abs(this.get("timestamp")-m.get("timestamp"));return n<j};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("ComposerVideoUploadSphericalGuideUtils",["fbt","SimpleXUIDialog","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h){var i=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,j=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,k=h._("Points of interest need to be at least {seconds} seconds apart.",[h.param("seconds",j/i+1)]),l=h._("Guide points need to be at least {seconds} seconds apart.",[h.param("seconds",j/i+1)]),m=h._("Not enough time between points"),n=h._("Not enough time between guide points"),o={getAddPointMessage:function p(q){return q?l:k},getAddPointTitle:function p(q){return q?n:m},showAddPointDialog:function p(q,r){c("SimpleXUIDialog").show(this.getAddPointMessage(r),this.getAddPointTitle(r),q);return}};f.exports=o}),null);
__d("FBHotspotMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({hotspots:[]});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalStore",["fbt","ComposerVideoUploadSphericalActionType","ComposerVideoUploadSphericalAction","ReactComposerStoreBase","FBHotspotMetadata","ComposerVideoUploadSphericalGuideKeyframeData","ComposerVideoUploadSphericalGuideUtils","immutable","VideoProjection","VideoStereoFormat","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("immutable").Set,l=c("immutable").List,m=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,n=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS;i=babelHelpers.inherits(o,c("ReactComposerStoreBase"));j=i&&i.prototype;function o(){"use strict";__p&&__p();var p=void 0;j.constructor.call(this,function(){return{guideEnabled:false,guideVisibility:true,guideKeyframes:l([c("ComposerVideoUploadSphericalGuideKeyframeData").getFromLegacyParams([0,0,0])]),suggestedGuideKeyframes:l([c("ComposerVideoUploadSphericalGuideKeyframeData").getFromLegacyParams([0,0,0])]),hotspots:new(c("FBHotspotMetadata"))({hotspots:[]}),nextHotspotId:0,fov:60,projection:c("VideoProjection").EQUIRECTANGULAR,stereoMode:c("VideoStereoFormat").MONO,hasSpatialAudio:false,currentViewport:{yaw:0,pitch:0},enableOmnistab:false,visible:false,controller:null,unavailable:false,expandedSections:k(),isEditingPointOfInterest:false,originalSphericalMetadata:{},errorInfo:null}},function(q){__p&&__p();switch(q.type){case c("ComposerVideoUploadSphericalActionType").UPDATE_CURRENT_VIEWPORT:p&&p.$ComposerVideoUploadSphericalStore1(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_FOV:p&&p.$ComposerVideoUploadSphericalStore2(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_ENABLED:p&&p.$ComposerVideoUploadSphericalStore3(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_VISIBILITY:p&&p.$ComposerVideoUploadSphericalStore4(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_KEYFRAMES:p&&p.$ComposerVideoUploadSphericalStore5(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_SUGGESTED_GUIDE_KEYFRAMES:p&&p.$ComposerVideoUploadSphericalStore6(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ADD_GUIDE_KEYFRAME:p&&p.$ComposerVideoUploadSphericalStore7(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_SAVE_GUIDE_KEYFRAME:p&&p.$ComposerVideoUploadSphericalStore8(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_REMOVE_GUIDE_KEYFRAME:p&&p.$ComposerVideoUploadSphericalStore9(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES:p&&p.$ComposerVideoUploadSphericalStore10(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_CLEAR_GUIDE_KEYFRAMES:p&&p.$ComposerVideoUploadSphericalStore11(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ENABLE_OMNISTAB:p&&p.$ComposerVideoUploadSphericalStore12(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_TAB_VISIBILITY:p&&p.$ComposerVideoUploadSphericalStore13(q);break;case c("ComposerVideoUploadSphericalActionType").SET_VIDEO_PLAYER_CONTROLLER:p&&p.$ComposerVideoUploadSphericalStore14(q);break;case c("ComposerVideoUploadSphericalActionType").SET_VIDEO_UNAVAILABLE:p&&p.$ComposerVideoUploadSphericalStore15(q);break;case c("ComposerVideoUploadSphericalActionType").RESET_VIDEO_PLAYER_CONTROLLER:p&&p.$ComposerVideoUploadSphericalStore16(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_SECTION_STATUS:p&&p.$ComposerVideoUploadSphericalStore17(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ACTIVE_GUIDE_KEYFRAME:p&&p.$ComposerVideoUploadSphericalStore18(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION:p&&p.$ComposerVideoUploadSphericalStore19(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_IS_EDITING_POINT_OF_INTEREST:p&&p.$ComposerVideoUploadSphericalStore20(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ERROR_MESSAGE_INFO:p&&p.$ComposerVideoUploadSphericalStore21(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ORIGINAL_SPHERICAL_METADATA:p&&p.$ComposerVideoUploadSphericalStore22(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_PROJECTION:p&&p.$ComposerVideoUploadSphericalStore23(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_STEREO_MODE:p&&p.$ComposerVideoUploadSphericalStore24(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_HAS_SPATIAL_AUDIO:p&&p.$ComposerVideoUploadSphericalStore25(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ADD_HOTSPOT:p&&p.$ComposerVideoUploadSphericalStore26(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_DELETE_HOTSPOT:p&&p.$ComposerVideoUploadSphericalStore27(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_HOTSPOTS:p&&p.$ComposerVideoUploadSphericalStore28(q)}});p=this}o.prototype.getErrorMessageInfo=function(p){"use strict";return this.getComposerData(p).errorInfo};o.prototype.getCurrentViewport=function(p){"use strict";return this.getComposerData(p).currentViewport};o.prototype.getFOV=function(p){"use strict";return this.getComposerData(p).fov};o.prototype.getIsEditingPointOfInterest=function(p){"use strict";return this.getComposerData(p).isEditingPointOfInterest};o.prototype.getGuideEnabled=function(p){"use strict";return this.getComposerData(p).guideEnabled};o.prototype.getGuideVisibility=function(p){"use strict";return this.getComposerData(p).guideVisible};o.prototype.getEnableOmnistab=function(p){"use strict";return this.getComposerData(p).enableOmnistab};o.prototype.getGuideKeyframesLegacy=function(p){"use strict";return this.getComposerData(p).guideKeyframes.map(function(q){return q.getLegacyParams()}).toJS()};o.prototype.getActiveGuideKeyframe=function(p){"use strict";__p&&__p();var q=this.getGuideKeyframes(p);for(var r=q,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u;if(v.isSelected)return v}return null};o.prototype.getGuideKeyframes=function(p){"use strict";return this.getComposerData(p).guideKeyframes};o.prototype.getSuggestedGuideKeyframes=function(p){"use strict";return this.getComposerData(p).suggestedGuideKeyframes};o.prototype.getSphericalHotspots=function(p){"use strict";return this.getComposerData(p).hotspots};o.prototype.getNextHotspotId=function(p){"use strict";return this.getComposerData(p).nextHotspotId};o.prototype.getTabVisibility=function(p){"use strict";return this.getComposerData(p).visible};o.prototype.getVideoPlayerController=function(p){"use strict";return this.getComposerData(p).controller};o.prototype.getVideoUnavailable=function(p){"use strict";return this.getComposerData(p).unavailable};o.prototype.getExpandedSections=function(p){"use strict";return this.getComposerData(p).expandedSections};o.prototype.getOriginalSphericalMetadata=function(p){"use strict";return this.getComposerData(p).originalSphericalMetadata};o.prototype.getProjection=function(p){"use strict";return this.getComposerData(p).projection};o.prototype.getStereoMode=function(p){"use strict";return this.getComposerData(p).stereoMode};o.prototype.getHasSpatialAudio=function(p){"use strict";return this.getComposerData(p).hasSpatialAudio};o.prototype.$ComposerVideoUploadSphericalStore1=function(p){"use strict";var q=this.getComposerData(p.composerID);q.currentViewport.pitch=p.pitch;q.currentViewport.yaw=p.yaw;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore2=function(p){"use strict";var q=this.getComposerData(p.composerID);q.fov=p.fov;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore3=function(p){"use strict";var q=this.getComposerData(p.composerID);q.guideEnabled=p.guideEnabled;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore4=function(p){"use strict";var q=this.getComposerData(p.composerID);q.guideVisible=p.guideVisible;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore12=function(p){"use strict";var q=this.getComposerData(p.composerID);q.enableOmnistab=p.enableOmnistab;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore5=function(p){"use strict";var q=this.getComposerData(p.composerID);q.guideKeyframes=p.guideKeyframes;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore6=function(p){"use strict";var q=this.getComposerData(p.composerID);q.suggestedGuideKeyframes=p.suggestedGuideKeyframes;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore11=function(p){"use strict";var q=this.getComposerData(p.composerID);q.guideKeyframes=l([]);this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore9=function(p){"use strict";var q=this.getComposerData(p.composerID),r=q.guideKeyframes,s=r.findIndex(function(t){return t.timestamp===p.timestamp});if(r.get(s).isSelected)q.isEditingPointOfInterest=false;r=r.splice(s,1);q.guideKeyframes=r;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore7=function(p){"use strict";__p&&__p();var q=this.getComposerData(p.composerID),r=q.guideKeyframes,s=p.guideKeyframe;r=r.map(function(v){return v.set("isSelected",false)});var t=r.findIndex(function(v,w){return v.compare(s)>0});if(t<0)t=r.size;if(this.$ComposerVideoUploadSphericalStore29(r,s,t)){var u=r.splice(t,0,s);q.guideKeyframes=u;q.isEditingPointOfInterest=true}else q.errorInfo={text:c("ComposerVideoUploadSphericalGuideUtils").getAddPointMessage(p.enableComposerRedesign),title:c("ComposerVideoUploadSphericalGuideUtils").getAddPointTitle(p.enableComposerRedesign),callback:function v(){},confirmOnly:true};this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore8=function(p){"use strict";var q=this.getComposerData(p.composerID),r=q.guideKeyframes,s=p.guideKeyframe;r=r.map(function(t){return t.compare(s)===0?s:t});q.guideKeyframes=r;q.isEditingPointOfInterest=false;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore29=function(p,q,r){"use strict";var s=r<p.size?!p.get(r).isTooCloseTo(q):true,t=r>0?!p.get(r-1).isTooCloseTo(q):true;return s&&t};o.prototype.$ComposerVideoUploadSphericalStore13=function(p){"use strict";var q=this.getComposerData(p.composerID);q.visible=p.visible;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore14=function(p){"use strict";var q=this.getComposerData(p.composerID);q.controller=p.controller;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore15=function(p){"use strict";var q=this.getComposerData(p.composerID);q.unavailable=p.unavailable;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore16=function(p){"use strict";var q=this.getComposerData(p.composerID);if(q.controller){q.controller.destroy();q.controller=null}q.unavailable=false};o.prototype.$ComposerVideoUploadSphericalStore17=function(p){"use strict";var q=this.getComposerData(p.composerID);if(q.expandedSections.has(p.sectionName))q.expandedSections=q.expandedSections.remove(p.sectionName);else q.expandedSections=q.expandedSections.add(p.sectionName);this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore18=function(p){"use strict";var q=p.composerID,r=p.timestamp,s=this.getComposerData(q),t=s.guideKeyframes;t=t.map(function(u){return u.set("isSelected",u.timestamp===r)});s.guideKeyframes=t;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore19=function(p){"use strict";var q=p.composerID,r=p.timestamp,s=this.getComposerData(q),t=s.guideKeyframes;t=t.map(function(u){if(u.timestamp===r)return u.set("isSelectedForDeletion",!u.isSelectedForDeletion);else return u});s.guideKeyframes=t;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore20=function(p){"use strict";var q=p.composerID,r=p.value,s=this.getComposerData(q);s.isEditingPointOfInterest=r;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore21=function(p){"use strict";var q=p.composerID,r=p.error,s=this.getComposerData(q);s.errorInfo=r;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore10=function(p){"use strict";var q=p.composerID,r=this.getComposerData(q),s=r.guideKeyframes;s=s.filter(function(t){if(t.isSelected&&t.isSelectedForDeletion)r.isEditingPointOfInterest=false;return!t.isSelectedForDeletion});r.guideKeyframes=s;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore22=function(p){"use strict";var q=this.getComposerData(p.composerID);q.originalSphericalMetadata=p.originalSphericalMetadata;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore23=function(p){"use strict";var q=this.getComposerData(p.composerID);q.projection=p.projection;if(q.projection!==c("VideoProjection").EQUIRECTANGULAR)q.stereoMode=c("VideoStereoFormat").MONO;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore24=function(p){"use strict";var q=this.getComposerData(p.composerID);q.stereoMode=p.stereoMode;if(q.stereoMode!==c("VideoStereoFormat").MONO)q.enableOmnistab=false;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore25=function(p){"use strict";var q=this.getComposerData(p.composerID);q.hasSpatialAudio=p.hasSpatialAudio;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore26=function(p){"use strict";var q=this.getComposerData(p.composerID);q.hotspots=q.hotspots.set("hotspots",q.hotspots.hotspots.concat([p.hotspotData]));if(p.shouldIncrementId)q.nextHotspotId+=1;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore27=function(p){"use strict";var q=this.getComposerData(p.composerID),r=q.hotspots.hotspots.findIndex(function(s){return s.content.id===p.hotspotId});if(r!==-1)q.hotspots.hotspots.splice(r,1);this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore28=function(p){"use strict";var q=this.getComposerData(p.composerID),r=-1;p.hotspots.hotspots.forEach(function(s){return r=Math.max(r,s.content.id)});r++;q.nextHotspotId=r;q.hotspots=p.hotspots;this.emitChange(p.composerID)};o.prototype.clearComposerData=function(p){"use strict";var q=this.getComposerData(p);if(q.controller)q.controller.destroy();j.clearComposerData.call(this,p)};o.prototype.getPostData=function(p){"use strict";var q=this.getComposerData(p),r=this.getGuideKeyframesLegacy(p),s=r[0][1],t=r[0][2];r.shift();var u={initialHeading:Math.round(t),initialPitch:Math.round(s),fov:Math.round(q.fov),guide_enabled:r.length>0,guide_keyframes:r,enable_omnistab:q.enableOmnistab,projection:q.projection,stereoMode:q.stereoMode,hotspots:q.hotspots.hotspots.length>0?q.hotspots:null,hasSpatialAudio:q.hasSpatialAudio};return u};f.exports=new o()}),null);
__d("SphericalVideoHotspotAnimation",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NO_ANIM:"no_anim"})}),null);
__d("SphericalVideoHotspotTextAlignment",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LEFT:"left",CENTER:"center",RIGHT:"right"})}),null);
__d("SphericalVideoHotspotType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({TEXT:"text",IMAGE:"image"})}),null);
__d("FBHotspot",["immutable","SphericalVideoHotspotAnimation","SphericalVideoHotspotTextAlignment","SphericalVideoHotspotType"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({yaw:0,pitch:0,startTime:0,endTime:0,content:{id:-1,width:0,height:0,animation:c("SphericalVideoHotspotAnimation").NO_ANIM,type:c("SphericalVideoHotspotType").TEXT,text:"",alignment:c("SphericalVideoHotspotTextAlignment").CENTER,color:"",fontWeight:"",fontSize:0,fontFamily:"",backgroundColor:""}});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalMetadataUtils",["ComposerVideoUploadSphericalAction","FBHotspot","FBHotspotMetadata","ComposerVideoUploadSphericalGuideKeyframeData","immutable","ComposerVideoUploadSphericalStore","SphericalVideoHotspotType"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("immutable").List,i=40,j=90,k={convertHotspotRawDataToFBHotspot:function l(m){__p&&__p();var n={};n.yaw=m.yaw;n.pitch=m.pitch;n.startTime=m.start_time;n.endTime=m.end_time;if(Object.prototype.hasOwnProperty.call(m,"text_content")&&m.text_content)n.content=this.formatHotspotRawTextContent(m.text_content);else if(Object.prototype.hasOwnProperty.call(m,"image_content")&&m.image_content)n.content=this.formatHotspotRawImageContent(m.image_content);return new(c("FBHotspot"))(n)},formatHotspotRawImageContent:function l(m){__p&&__p();var n={};n.type=c("SphericalVideoHotspotType").IMAGE;n.id=parseInt(m.id,10);n.width=m.width;n.height=m.height;n.animation=m.animation;n.imageData=m.image_data;if(Object.prototype.hasOwnProperty.call(m,"link_action")&&m.link_action)n.linkAction=m.link_action;return n},formatHotspotRawTextContent:function l(m){__p&&__p();var n={};n.type=c("SphericalVideoHotspotType").TEXT;n.id=parseInt(m.id,10);n.width=m.width;n.height=m.height;n.animation=m.animation;n.alignment=m.alignment;n.color=m.color;n.fontWeight=m.font_weight;n.fontSize=m.font_size;n.fontFamily=m.font_family;n.backgroundColor=m.background_color;n.text=m.text;if(Object.prototype.hasOwnProperty.call(m,"link_action")&&m.link_action)n.linkAction=m.link_action;return n},convertHotspotsRawDataToFBHotspotMetadata:function l(m){var n=m.map(function(o){return this.convertHotspotRawDataToFBHotspot(o)}.bind(this));return new(c("FBHotspotMetadata"))({hotspots:n})},initWithParams:function l(m,n,o,p,q,r,s,t,u,v,w){__p&&__p();c("ComposerVideoUploadSphericalStore").clearComposerData(m);c("ComposerVideoUploadSphericalAction").updateEnableOmnistab(m,v);c("ComposerVideoUploadSphericalAction").updateFOV(m,p);c("ComposerVideoUploadSphericalAction").updateCurrentViewport(m,o,n);c("ComposerVideoUploadSphericalAction").updateGuideEnabled(m,q);c("ComposerVideoUploadSphericalAction").updateProjection(m,s);c("ComposerVideoUploadSphericalAction").updateStereoMode(m,t);c("ComposerVideoUploadSphericalAction").updateHasSpatialAudio(m,u);var x=[[0,o,n]].concat(r).map(function(y){return c("ComposerVideoUploadSphericalGuideKeyframeData").getFromLegacyParams(y)});c("ComposerVideoUploadSphericalAction").updateGuideKeyframes(m,h(x));if(w)c("ComposerVideoUploadSphericalAction").updateHotspots(m,w);else c("ComposerVideoUploadSphericalAction").updateHotspots(m,new(c("FBHotspotMetadata"))({hotspots:[]}))},initWithOriginalSphericalMetadata:function l(m,n){__p&&__p();if(n.stereoMode)c("ComposerVideoUploadSphericalAction").updateStereoMode(m,n.stereoMode);if(n.projectionType)c("ComposerVideoUploadSphericalAction").updateProjection(m,n.projectionType);if(n.fbSpatialAudioMetadata||n.ytSpatialAudioMetadata)c("ComposerVideoUploadSphericalAction").updateHasSpatialAudio(m,true);if(n.initialFOV&&n.initialFOV>=i&&n.initialFOV<=j)c("ComposerVideoUploadSphericalAction").updateFOV(m,n.initialFOV);var o=n.initialPitch&&Number.isFinite(n.initialPitch)?n.initialPitch:0,p=n.initialYaw&&Number.isFinite(n.initialYaw)?n.initialYaw:0;c("ComposerVideoUploadSphericalAction").updateCurrentViewport(m,o,p);var q=new(c("ComposerVideoUploadSphericalGuideKeyframeData"))({timestamp:0,yaw:Math.round(p),pitch:Math.round(o),thumbnailURI:null,isSelected:true});c("ComposerVideoUploadSphericalAction").updateSaveGuideKeyframe(m,q);var r=void 0;if(n.guideData){var s=n.guideData.keyframes.map(function(t){return new(c("ComposerVideoUploadSphericalGuideKeyframeData"))({timestamp:t.timestamp,yaw:t.yaw,pitch:t.pitch,thumbnailURI:null,isSelected:false})});r=h([q].concat(s));c("ComposerVideoUploadSphericalAction").updateGuideKeyframes(m,r)}else r=h([q]);if(n.fbHotspotMetadata)c("ComposerVideoUploadSphericalAction").updateHotspots(m,n.fbHotspotMetadata);else c("ComposerVideoUploadSphericalAction").updateHotspots(m,new(c("FBHotspotMetadata"))({hotspots:[]}));c("ComposerVideoUploadSphericalAction").updateOriginalSphericalMetadata(m,n)}};f.exports=k}),null);
__d("ISOVideoBoxFieldDefinition",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({NUMBER:10,FIELD:11,REMAINING_SPACE:12}),i=Object.freeze({NUMBER:100,STRING:101,ARRAY_OF_NUMBERS:102,ARRAY_OF_STRINGS:103,ARRAY_BUFFER:104}),j=Object.freeze({INT_8_SIZE:1,INT_16_SIZE:2,ATOM_LENGTH_BYTES:4,ATOM_NAME_BYTES:4,INT_32_SIZE:4});f.exports=Object.freeze({ISOVideoBoxFieldType:i,ISOVideoBoxFieldSize:j,ISOVideoBoxFieldLength:h})}),null);
__d("ISOVideoBoxUtils",["ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i={readString:function j(k,l,m){var n=[];for(var o=0;o<m;o++)n.push(String.fromCharCode(k.getUint8(l+o)));return n.join("")},readNumber:function j(k,l,m){switch(m){case h.INT_8_SIZE:return k.getUint8(l);case h.INT_16_SIZE:return k.getUint16(l);case h.ATOM_LENGTH_BYTES:case h.ATOM_NAME_BYTES:case h.INT_32_SIZE:return k.getUint32(l);default:throw new Error("Unexpected field size: "+m)}},writeString:function j(k,l,m){for(var n=0;n<m.length;n++){var o=m.charCodeAt(n);k.setUint8(l+n,o)}},writeNumber:function j(k,l,m,n){switch(m){case h.INT_8_SIZE:return k.setUint8(l,n);case h.INT_16_SIZE:return k.setUint16(l,n);case h.ATOM_LENGTH_BYTES:case h.ATOM_NAME_BYTES:case h.INT_32_SIZE:return k.setUint32(l,n);default:throw new Error("Unexpected field size: "+m)}},writeArrayBuffer:function j(k,l,m){var n=new DataView(m);for(var o=0;o<m.byteLength;o++)k.setUint8(l+o,n.getUint8(o))}};f.exports=i}),null);
__d("ISOVideoBox",["Promise","ISOVideoBoxFieldDefinition","Int64","ISOVideoBoxConstants","ISOVideoBoxUtils","fileSlice"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;function j(k){__p&&__p();this.__size=k.size||c("ISOVideoBoxConstants").BOX_BASE_SIZE;this.__boxtype=k.boxtype;this.__extraFields=k.extraFields;if(k.isLargeSize)this.__isLargeSize=true;else this.__isLargeSize=false;this.__parent=null;this.__children=[];this.__size=k.size||this.getFieldsSize();if(k.source)this.__source=k.source}j.getExtraFieldDefinitions=function(){return[]};j.prototype.getBoxtype=function(){return this.__boxtype};j.prototype.getSize=function(){return this.__size};j.prototype.getExtraFields=function(){return this.__extraFields};j.prototype.getChildren=function(){return this.__children};j.prototype.getParent=function(){return this.__parent};j.prototype.getSource=function(){return this.__source};j.prototype.getBuffer=function(k){__p&&__p();return new(c("Promise"))(function(l,m){__p&&__p();var n,o=this,p=this.getExtraFields()[k];if(!p){m(k+" was not found in box fields");return}if(p.type==="buffer"){l(p.buffer);return}if(p.type==="info"){if(!this.__source){m("buffer was requested but source is missing from box");return}var q=p.startOffset,r=q+p.length;if(this.__source instanceof File)(function(){var s=new FileReader();s.onload=function(event){var t=s.result;l(t)};s.onerror=function(t){m(t)};s.readAsArrayBuffer(c("fileSlice").call(o.__source,q,r))})();else l(this.__source.slice(q,r));return}m(k+" is not a buffer type")}.bind(this))};j.prototype.getFieldsSize=function(){__p&&__p();var k=2*h.INT_32_SIZE;if(this.__isLargeSize)k+=2*h.INT_32_SIZE;var l=this.constructor.getExtraFieldDefinitions();l.forEach(function(m){__p&&__p();var n=void 0;switch(m.type){case i.NUMBER:k+=m.size;break;case i.STRING:n=m.requiredValue!==undefined?m.requiredValue:this.__extraFields[m.name];if(!(typeof n==="string"))throw new Error("Field "+m.name+" is not a string");k+=n.length;break;case i.ARRAY_OF_NUMBERS:case i.ARRAY_OF_STRINGS:n=m.requiredValue!==undefined?m.requiredValue:this.__extraFields[m.name];if(!Array.isArray(n))throw new Error("Field "+m.name+" is not an array");k+=n.length*m.size;break;case i.ARRAY_BUFFER:n=this.__extraFields[m.name];if(n instanceof ArrayBuffer)k+=n.byteLength;else if(typeof n.startOffset==="number"&&typeof n.length==="number")k+=n.length;else throw new Error("Field '"+m.name+"' is not an ArrayBuffer or an ArrayBuffer reference");break;default:throw new Error("Unexpected field type: "+m.type)}}.bind(this));return k};j.prototype.$ISOVideoBox1=function(k){this.__size+=k;if(this.__parent)this.__parent.$ISOVideoBox1(k)};j.prototype.addChild=function(k){var l=arguments.length<=1||arguments[1]===undefined?true:arguments[1],m=k.getSize();k.$ISOVideoBox2(this);this.__children.push(k);if(l)this.$ISOVideoBox1(m)};j.prototype.$ISOVideoBox2=function(k){this.__parent=k};j.prototype.removeChild=function(k){__p&&__p();var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1];for(var m=0;m<this.__children.length;m++)if(this.__children[m].getBoxtype()===k)if(l===0){var n=this.__children[m].getSize();this.__children.splice(m,1);this.$ISOVideoBox1(-n);return true}else l-=1;return false};j.prototype.$ISOVideoBox3=function(k){for(var l=0;l<this.__children.length;l++)if(this.__children[l]===k){var m=this.__children[l].getSize();this.__children.splice(l,1);this.$ISOVideoBox1(-m);return}};j.prototype.remove=function(){if(!this.__parent)return;this.__parent.$ISOVideoBox3(this)};j.prototype.setSource=function(k){this.__source=k};j.prototype.boxToArrayBuffer=function(k,l,m){this.__boxToArrayBufferImpl(k,l,m)};j.prototype.__boxToArrayBufferImpl=function(k,l,m){__p&&__p();this.__headerToArrayBuffer(k,l,m);for(var n=this.__children,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;r.__boxToArrayBufferImpl(k,l,m)}};j.prototype.__headerToArrayBuffer=function(k,l,m){__p&&__p();if(this.__isLargeSize)k.setUint32(l.getOffset(),1);else k.setUint32(l.getOffset(),this.__size);l.incrementOffset(h.INT_32_SIZE);c("ISOVideoBoxUtils").writeString(k,l.getOffset(),this.__boxtype);l.incrementOffset(h.INT_32_SIZE);if(this.__isLargeSize){var n=c("Int64").fromNumber(this.__size);k.setUint32(l.getOffset(),n.getHighBits());k.setUint32(l.getOffset()+h.INT_32_SIZE,n.getLowBitsUnsigned());l.incrementOffset(h.INT_32_SIZE*2)}this.__extraHeaderToArrayBuffer(k,l,m)};j.prototype.__extraHeaderToArrayBuffer=function(k,l,m){__p&&__p();this.constructor.getExtraFieldDefinitions().forEach(function(n){__p&&__p();var o=this.__extraFields[n.name];switch(n.type){case i.NUMBER:o=n.requiredValue!==undefined?n.requiredValue:o;if(typeof o!=="number")throw new Error("Field '"+n.name+"' is not a number");c("ISOVideoBoxUtils").writeNumber(k,l.getOffset(),n.size,o);l.incrementOffset(n.size);break;case i.STRING:o=n.requiredValue!==undefined?n.requiredValue:o;if(typeof o!=="string")throw new Error("Field '"+n.name+"' is not a string");c("ISOVideoBoxUtils").writeString(k,l.getOffset(),o);l.incrementOffset(o.length);break;case i.ARRAY_OF_NUMBERS:o=n.requiredValue!==undefined?n.requiredValue:o;if(!Array.isArray(o))throw new Error("Field '"+n.name+"' is not an array");var p=n.size;o.forEach(function(v){if(typeof v!=="number")throw new Error("An array entry of '"+n.name+"' is not a number");c("ISOVideoBoxUtils").writeNumber(k,l.getOffset(),p,v);l.incrementOffset(p)});break;case i.ARRAY_OF_STRINGS:o=n.requiredValue!==undefined?n.requiredValue:o;if(!Array.isArray(o))throw new Error("Field '"+n.name+"' is not an array");var q=n.size;o.forEach(function(v){if(typeof v!=="string")throw new Error("An array entry of '"+n.name+"' is not a number");c("ISOVideoBoxUtils").writeString(k,l.getOffset(),v);l.incrementOffset(q)});break;case i.ARRAY_BUFFER:if(o instanceof ArrayBuffer){c("ISOVideoBoxUtils").writeArrayBuffer(k,l.getOffset(),o);l.incrementOffset(o.byteLength)}else if(typeof o.startOffset==="number"&&typeof o.length==="number"){var r=o,s=r.startOffset,t=r.length;if(!m)throw new Error("Original file buffer is not provided");for(var u=0;u<t;u++){k.setUint8(l.getOffset(),m.getUint8(s+u));l.incrementOffset(h.INT_8_SIZE)}}else throw new Error("Field '"+n.name+"' is not an ArrayBuffer or an ArrayBuffer reference");break;default:throw new Error("Unexpected field type: "+n.type)}}.bind(this))};j.prototype.toSimpleObject=function(k){__p&&__p();var l,m=this;if(k)(function(){var t=k;Object.keys(m.__extraFields).forEach(function(u){var v=this.__extraFields[u];if(v instanceof ArrayBuffer)t.push(v)}.bind(m))})();var n=[];for(var o=this.__children,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n.push(s.toSimpleObject(k))}return{children:n,size:this.__size,isLargeSize:this.__isLargeSize,boxtype:this.__boxtype,extraFields:this.__extraFields}};f.exports=j}),null);
__d("FullBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"version",type:k.NUMBER,size:j.INT_8_SIZE},{name:"flags",type:k.ARRAY_OF_NUMBERS,size:j.INT_8_SIZE,length:{type:l.NUMBER,value:3}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("HDLRBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("FullBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"pre_defined",type:k.NUMBER,size:j.INT_32_SIZE,requiredValue:0},{name:"handler_type",type:k.STRING,length:{type:l.NUMBER,value:j.INT_32_SIZE}},{name:"reserved",type:k.ARRAY_OF_NUMBERS,size:j.INT_32_SIZE,length:{type:l.NUMBER,value:3},requiredValue:[0,0,0]},{name:"name",type:k.STRING,length:{type:l.REMAINING_SPACE}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("ISOVideoBoxPath",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$ISOVideoBoxPath1=[]}h.prototype.addPath=function(i,j){this.$ISOVideoBoxPath1.push({boxtype:i,index:j||0});return this};h.prototype.addWildCardPath=function(){this.$ISOVideoBoxPath1.push({boxtype:"",index:0});return this};h.prototype.clearPath=function(){this.$ISOVideoBoxPath1=[]};h.prototype.getPath=function(){return this.$ISOVideoBoxPath1};f.exports=h}),null);
__d("FTYPBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"major_brand",type:k.STRING,length:{type:l.NUMBER,value:j.INT_32_SIZE}},{name:"minor_version",type:k.NUMBER,size:j.INT_32_SIZE},{name:"compatible_brands",type:k.ARRAY_OF_STRINGS,size:j.INT_32_SIZE,length:{type:l.REMAINING_SPACE}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("SA3DBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"version",type:k.NUMBER,size:j.INT_8_SIZE},{name:"ambisonic_type",type:k.NUMBER,size:j.INT_8_SIZE},{name:"ambisonic_order",type:k.NUMBER,size:j.INT_32_SIZE},{name:"ambisonic_channel_ordering",type:k.NUMBER,size:j.INT_8_SIZE},{name:"ambisonic_normalization",type:k.NUMBER,size:j.INT_8_SIZE},{name:"num_channels",type:k.NUMBER,size:j.INT_32_SIZE},{name:"channel_map",type:k.ARRAY_OF_NUMBERS,size:j.INT_32_SIZE,length:{type:l.FIELD,definition:{name:"num_channels",type:k.NUMBER,size:j.INT_32_SIZE}}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("SSDBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"reserved",type:k.ARRAY_OF_NUMBERS,size:j.INT_8_SIZE,length:{type:l.NUMBER,value:6},requiredValue:[0,0,0,0,0,0]},{name:"drefIndex",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioEncodingVersion",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioEncodingRevision",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioEncodingVendor",type:k.STRING,length:{type:l.NUMBER,value:j.INT_32_SIZE}},{name:"channelCount",type:k.NUMBER,size:j.INT_16_SIZE},{name:"sampleSize",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioCompressionID",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioPacketSize",type:k.NUMBER,size:j.INT_16_SIZE,requiredValue:0},{name:"sampleRate",type:k.NUMBER,size:j.INT_16_SIZE},{name:"sampleRateLowerBits",type:k.NUMBER,size:j.INT_16_SIZE,requiredValue:0}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("STCOBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("FullBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"entry_count",type:k.NUMBER,size:j.INT_32_SIZE},{name:"chunk_offsets",type:k.ARRAY_OF_NUMBERS,length:{type:l.FIELD,definition:{name:"entry_count",type:k.NUMBER,size:j.INT_32_SIZE}},size:j.INT_32_SIZE}])};m.prototype.updateChunkOffsets=function(n){var o=this.__extraFields.chunk_offsets;for(var p=0,q=o.length;p<q;p++)o[p]+=n};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("STSDBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;h=babelHelpers.inherits(l,c("FullBox"));i=h&&h.prototype;l.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"num_descriptions",type:k.NUMBER,size:j.INT_32_SIZE}])};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("TKHDBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,m=4,n=8,o=2,p=36;h=babelHelpers.inherits(q,c("FullBox"));i=h&&h.prototype;q.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"creation_time",type:k.NUMBER,size:j.INT_32_SIZE},{name:"modification_time",type:k.NUMBER,size:j.INT_32_SIZE},{name:"track_id",type:k.NUMBER,size:j.INT_32_SIZE},{name:"reserved_1",type:k.ARRAY_BUFFER,length:{type:l.NUMBER,value:m}},{name:"duration",type:k.NUMBER,size:j.INT_32_SIZE},{name:"reserved_2",type:k.ARRAY_BUFFER,length:{type:l.NUMBER,value:n}},{name:"layer",type:k.NUMBER,size:j.INT_16_SIZE},{name:"alternate_group",type:k.NUMBER,size:j.INT_16_SIZE},{name:"volume",type:k.NUMBER,size:j.INT_16_SIZE},{name:"reserved_3",type:k.ARRAY_BUFFER,length:{type:l.NUMBER,value:o}},{name:"matrix_structure",type:k.ARRAY_BUFFER,length:{type:l.NUMBER,value:p}},{name:"track_width",type:k.NUMBER,size:j.INT_32_SIZE},{name:"track_height",type:k.NUMBER,size:j.INT_32_SIZE}])};function q(){h.apply(this,arguments)}f.exports=q}),null);
__d("UUIDBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"usertype",type:k.ARRAY_OF_NUMBERS,size:j.INT_8_SIZE,length:{type:l.NUMBER,value:16}},{name:"data",type:k.ARRAY_BUFFER,length:{type:l.REMAINING_SPACE}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("UnformedBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(l,c("ISOVideoBox"));i=h&&h.prototype;l.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"unformed_data",type:j.ARRAY_BUFFER,length:{type:k.REMAINING_SPACE}}])};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("XMLBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(l,c("FullBox"));i=h&&h.prototype;l.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"xml_string",type:j.STRING,length:{type:k.REMAINING_SPACE}}])};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("ISOVideoBoxTypeMap",["FTYPBox","FullBox","HDLRBox","ISOVideoBox","SA3DBox","SSDBox","STCOBox","STSDBox","TKHDBox","UnformedBox","UUIDBox","XMLBox"],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({mdia:c("ISOVideoBox"),minf:c("ISOVideoBox"),moov:c("ISOVideoBox"),stbl:c("ISOVideoBox"),trak:c("ISOVideoBox"),meta:c("FullBox"),ftyp:c("FTYPBox"),hdlr:c("HDLRBox"),stco:c("STCOBox"),uuid:c("UUIDBox"),"xml ":c("XMLBox"),stsd:c("STSDBox"),mp4a:c("SSDBox"),SA3D:c("SA3DBox"),tkhd:c("TKHDBox")}),i={getBoxType:function j(k){return h[k]||c("UnformedBox")}};f.exports=i}),null);
__d("ISOVideoReader",["ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize;function i(j){var k=arguments.length<=1||arguments[1]===undefined?0:arguments[1];this.$ISOVideoReader1=j;this.$ISOVideoReader2=k}i.prototype.outOfBounds=function(j){return this.$ISOVideoReader2+j>this.$ISOVideoReader1.byteLength};i.prototype.getOffset=function(){return this.$ISOVideoReader2};i.prototype.incrementOffset=function(j){this.$ISOVideoReader2+=j};i.prototype.$ISOVideoReader3=function(j){switch(j){case h.INT_8_SIZE:return this.$ISOVideoReader1.getUint8(this.$ISOVideoReader2);case h.INT_16_SIZE:return this.$ISOVideoReader1.getUint16(this.$ISOVideoReader2);case h.ATOM_LENGTH_BYTES:case h.ATOM_NAME_BYTES:case h.INT_32_SIZE:return this.$ISOVideoReader1.getUint32(this.$ISOVideoReader2);default:throw new Error("Unexpected field size: "+j)}};i.prototype.readNumber=function(j){var k=this.$ISOVideoReader3(j);this.incrementOffset(j);return k};i.prototype.readString=function(j){var k=[];for(var l=this.$ISOVideoReader2;l<this.$ISOVideoReader2+j;l++)k.push(String.fromCharCode(this.$ISOVideoReader1.getUint8(l)));this.incrementOffset(j);return k.join("")};i.prototype.readNumberArray=function(j,k){var l=[];for(var m=0;m<k;m++){l.push(this.$ISOVideoReader3(j));this.incrementOffset(j)}return l};i.prototype.readStringArray=function(j,k){var l=[];for(var m=0;m<k;m++){var n=[];for(var o=this.$ISOVideoReader2;o<this.$ISOVideoReader2+j;o++)n.push(String.fromCharCode(this.$ISOVideoReader1.getUint8(o)));l.push(n.join(""));this.incrementOffset(j)}return l};i.prototype.readArrayBuffer=function(j){var k=new ArrayBuffer(j),l=new DataView(k);for(var m=0;m<j;m++)l.setUint8(m,this.$ISOVideoReader1.getUint8(this.$ISOVideoReader2+m));this.incrementOffset(j);return k};f.exports=i}),null);
__d("ISOVideoBoxParser",["invariant","regeneratorRuntime","Promise","fileSlice","Int64","ISOVideoBoxFieldDefinition","ISOVideoBox","ISOVideoBoxTypeMap","ISOVideoFile","ISOVideoReader"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,l=5242880;function m(n){__p&&__p();var o=arguments.length<=1||arguments[1]===undefined?true:arguments[1];this.$ISOVideoBoxParser5=n;this.$ISOVideoBoxParser2=o;this.$ISOVideoBoxParser9=[];this.$ISOVideoBoxParser10=[];this.$ISOVideoBoxParser12();if(n instanceof File){this.$ISOVideoBoxParser7=0;this.$ISOVideoBoxParser8=Math.min(n.size,l);this.$ISOVideoBoxParser6=n.size;this.$ISOVideoBoxParser3=n}else{this.$ISOVideoBoxParser7=0;this.$ISOVideoBoxParser8=n.byteLength;this.$ISOVideoBoxParser6=n.byteLength;this.$ISOVideoBoxParser4=n}}m.prototype.parse=function n(){__p&&__p();return c("regeneratorRuntime").async(function o(p){__p&&__p();while(1)switch(p.prev=p.next){case 0:if(!(this.$ISOVideoBoxParser5 instanceof File)){p.next=5;break}p.next=3;return c("regeneratorRuntime").awrap(this.$ISOVideoBoxParser13());case 3:p.next=6;break;case 5:this.$ISOVideoBoxParser14();case 6:return p.abrupt("return",new(c("ISOVideoFile"))(this.$ISOVideoBoxParser9,this.$ISOVideoBoxParser5));case 7:case"end":return p.stop()}},null,this)};m.prototype.$ISOVideoBoxParser13=function n(){__p&&__p();return c("regeneratorRuntime").async(function o(p){__p&&__p();while(1)switch(p.prev=p.next){case 0:return p.abrupt("return",new(c("Promise"))(function(q,r){__p&&__p();var s=new FileReader();s.onload=function t(event){__p&&__p();return c("regeneratorRuntime").async(function u(v){__p&&__p();while(1)switch(v.prev=v.next){case 0:if(s.result instanceof ArrayBuffer){v.next=2;break}throw new Error("File reading failed");case 2:this.$ISOVideoBoxParser1=new(c("ISOVideoReader"))(new DataView(s.result));this.$ISOVideoBoxParser15();if(!(this.$ISOVideoBoxParser7>=this.$ISOVideoBoxParser6)){v.next=7;break}q();return v.abrupt("return");case 7:v.next=9;return c("regeneratorRuntime").awrap(this.$ISOVideoBoxParser13());case 9:q();case 10:case"end":return v.stop()}},null,this)}.bind(this);s.onerror=function(t){r(t)};s.readAsArrayBuffer(c("fileSlice").call(this.$ISOVideoBoxParser3,this.$ISOVideoBoxParser7,this.$ISOVideoBoxParser8))}.bind(this)));case 1:case"end":return p.stop()}},null,this)};m.prototype.$ISOVideoBoxParser14=function(){this.$ISOVideoBoxParser1=new(c("ISOVideoReader"))(new DataView(this.$ISOVideoBoxParser4));this.$ISOVideoBoxParser15()};m.prototype.$ISOVideoBoxParser15=function(){__p&&__p();while(true){var n=this.$ISOVideoBoxParser16();if(n===null)break;n instanceof c("ISOVideoBox")||h(0);this.$ISOVideoBoxParser10.push(n);while(true){var o=this.$ISOVideoBoxParser10[this.$ISOVideoBoxParser10.length-1],p=o.getFieldsSize();for(var q=o.getChildren(),r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;p+=u.getSize()}if(p===o.getSize())this.$ISOVideoBoxParser10.pop();else break;if(this.$ISOVideoBoxParser10.length===0){this.$ISOVideoBoxParser9.push(o);break}else{var v=this.$ISOVideoBoxParser10[this.$ISOVideoBoxParser10.length-1];v.addChild(o,false)}}}};m.prototype.$ISOVideoBoxParser16=function(){__p&&__p();if(this.$ISOVideoBoxParser11.size===null){if(this.$ISOVideoBoxParser1.outOfBounds(i.ATOM_LENGTH_BYTES)){this.$ISOVideoBoxParser17(i.ATOM_LENGTH_BYTES);return null}this.$ISOVideoBoxParser11.offset+=i.ATOM_LENGTH_BYTES;this.$ISOVideoBoxParser11.size=this.$ISOVideoBoxParser1.readNumber(i.ATOM_LENGTH_BYTES)}if(this.$ISOVideoBoxParser11.boxType===null){if(this.$ISOVideoBoxParser1.outOfBounds(i.ATOM_NAME_BYTES)){this.$ISOVideoBoxParser17(i.ATOM_NAME_BYTES);return null}this.$ISOVideoBoxParser11.offset+=i.ATOM_NAME_BYTES;this.$ISOVideoBoxParser11.boxType=this.$ISOVideoBoxParser1.readString(i.ATOM_NAME_BYTES)}if(this.$ISOVideoBoxParser11.size===1&&this.$ISOVideoBoxParser11.isLargeSize===false){if(this.$ISOVideoBoxParser1.outOfBounds(i.INT_32_SIZE*2)){this.$ISOVideoBoxParser17(i.INT_32_SIZE*2);return null}this.$ISOVideoBoxParser11.offset+=i.INT_32_SIZE*2;var n=this.$ISOVideoBoxParser1.readNumber(i.INT_32_SIZE),o=this.$ISOVideoBoxParser1.readNumber(i.INT_32_SIZE);this.$ISOVideoBoxParser11.size=new(c("Int64"))(o,n).toNumber();this.$ISOVideoBoxParser11.isLargeSize=true}typeof this.$ISOVideoBoxParser11.boxType==="string"||h(0);var p=c("ISOVideoBoxTypeMap").getBoxType(this.$ISOVideoBoxParser11.boxType);if(this.$ISOVideoBoxParser11.definitions===null)this.$ISOVideoBoxParser11.definitions=p.getExtraFieldDefinitions();if(!this.$ISOVideoBoxParser18())return null;typeof this.$ISOVideoBoxParser11.boxType==="string"&&typeof this.$ISOVideoBoxParser11.size==="number"||h(0);var q={boxtype:this.$ISOVideoBoxParser11.boxType,size:this.$ISOVideoBoxParser11.size,isLargeSize:this.$ISOVideoBoxParser11.isLargeSize,extraFields:this.$ISOVideoBoxParser11.extraFields,source:this.$ISOVideoBoxParser5};this.$ISOVideoBoxParser12();return new p(q)};m.prototype.$ISOVideoBoxParser18=function(){__p&&__p();this.$ISOVideoBoxParser11.definitions||h(0);if(this.$ISOVideoBoxParser11.index===this.$ISOVideoBoxParser11.definitions.length)return true;var n=this.$ISOVideoBoxParser11.definitions[this.$ISOVideoBoxParser11.index],o=this.$ISOVideoBoxParser19(n);if(this.$ISOVideoBoxParser2&&n.type===j.ARRAY_BUFFER){this.$ISOVideoBoxParser11.extraFields[n.name]={type:"info",startOffset:this.$ISOVideoBoxParser7+this.$ISOVideoBoxParser1.getOffset(),length:o};this.$ISOVideoBoxParser1.incrementOffset(o)}else{var p=this.$ISOVideoBoxParser20(n);if(p===null)return false;if(n.type===j.ARRAY_BUFFER)this.$ISOVideoBoxParser11.extraFields[n.name]={type:"buffer",buffer:p};else this.$ISOVideoBoxParser11.extraFields[n.name]=p}this.$ISOVideoBoxParser11.offset+=o;this.$ISOVideoBoxParser11.index+=1;return this.$ISOVideoBoxParser18()};m.prototype.$ISOVideoBoxParser20=function(n){__p&&__p();var o=this.$ISOVideoBoxParser1,p=this.$ISOVideoBoxParser19(n),q=this.$ISOVideoBoxParser21(n);if(n.requiredValue!==undefined){o.incrementOffset(p);return n.requiredValue}if(o.outOfBounds(p)){this.$ISOVideoBoxParser17(p);return null}switch(n.type){case j.NUMBER:return o.readNumber(n.size);case j.STRING:return o.readString(q);case j.ARRAY_OF_NUMBERS:return o.readNumberArray(n.size,q);case j.ARRAY_OF_STRINGS:return o.readStringArray(n.size,q);case j.ARRAY_BUFFER:return o.readArrayBuffer(q);default:throw new Error("Unexpected field type: "+n.type)}};m.prototype.$ISOVideoBoxParser12=function(){this.$ISOVideoBoxParser11={size:null,offset:0,boxType:null,isLargeSize:false,extraFields:{},index:0,definitions:null}};m.prototype.$ISOVideoBoxParser17=function(n){if(!this.$ISOVideoBoxParser3){if(this.$ISOVideoBoxParser1.getOffset()<this.$ISOVideoBoxParser6)throw new Error("Reader went out of bounds with ArrayBuffer");return}this.$ISOVideoBoxParser7=this.$ISOVideoBoxParser7+this.$ISOVideoBoxParser1.getOffset();this.$ISOVideoBoxParser8=Math.min(this.$ISOVideoBoxParser6,Math.max(this.$ISOVideoBoxParser7+l,this.$ISOVideoBoxParser7+n))};m.prototype.$ISOVideoBoxParser19=function(n){var o=this.$ISOVideoBoxParser21(n);switch(n.type){case j.NUMBER:return n.size;case j.STRING:case j.ARRAY_BUFFER:return o;case j.ARRAY_OF_NUMBERS:case j.ARRAY_OF_STRINGS:return n.size*o;default:throw new Error("Unexpected field type: "+n.type)}};m.prototype.$ISOVideoBoxParser21=function(n){__p&&__p();if(n.type===j.NUMBER)return-1;switch(n.length.type){case k.NUMBER:return n.length.value;case k.FIELD:return this.$ISOVideoBoxParser11.extraFields[n.length.definition.name];case k.REMAINING_SPACE:typeof this.$ISOVideoBoxParser11.size==="number"||h(0);var o=this.$ISOVideoBoxParser11.size-this.$ISOVideoBoxParser11.offset;if(n.type===j.ARRAY_OF_NUMBERS||n.type===j.ARRAY_OF_STRINGS)return o/n.size;return o;default:throw new Error("Field "+n.name+" of type "+n.type+" "+("cannot have length type "+n.length.type))}};m.prototype.getBoxes=function(){return this.$ISOVideoBoxParser9};m.parseFromSimpleObject=function(n,o,p){var q=c("ISOVideoBoxTypeMap").getBoxType(n.boxtype),r=new q(n);if(p)r.setSource(p);return r};m.parseFromSimpleObjectRecursive=function(n,o,p){__p&&__p();var q=this.parseFromSimpleObject(n,o,p),r=n.children||[];for(var s=r,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v,x=this.parseFromSimpleObjectRecursive(w,o,p);q.addChild(x,false)}return q};f.exports=m}),null);
__d("ISOVideoFileEvent",[],(function a(b,c,d,e,f,g){"use strict";f.exports=Object.freeze({BUILD_PROGRESS:"buildProgress"})}),null);
__d("ISOVideoOffsetManager",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=1024*100,j=1024;function k(){this.$ISOVideoOffsetManager1=0;this.$ISOVideoOffsetManager2=0;this.$ISOVideoOffsetManager3=i;this.$ISOVideoOffsetManager4=[]}k.prototype.addOnUpdateCallback=function(l){this.$ISOVideoOffsetManager4.push(l);return this};k.prototype.setMinUpdateInterval=function(l){this.$ISOVideoOffsetManager3=Math.max(l,j);return this};k.prototype.getOffset=function(){return this.$ISOVideoOffsetManager1};k.prototype.getMinUpdateInterval=function(){return this.$ISOVideoOffsetManager3};k.prototype.incrementOffset=function(l){this.$ISOVideoOffsetManager1+=l;if(this.$ISOVideoOffsetManager1>=this.$ISOVideoOffsetManager2+this.$ISOVideoOffsetManager3){this.$ISOVideoOffsetManager2=this.$ISOVideoOffsetManager1;this.$ISOVideoOffsetManager4.forEach(function(m){return m()})}};f.exports=k}),null);
__d("ISOVideoFile",["regeneratorRuntime","Promise","EventEmitter","ISOVideoBox","ISOVideoBoxPath","ISOVideoFileEvent","ISOVideoOffsetManager","ISOVideoBoxParser","STCOBox"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=1e3;h=babelHelpers.inherits(k,c("EventEmitter"));i=h&&h.prototype;function k(l,m){__p&&__p();i.constructor.call(this);this.$ISOVideoFile1=l;this.$ISOVideoFile2=this.$ISOVideoFile5();if(m)if(m instanceof ArrayBuffer){this.$ISOVideoFile4=m;this.$ISOVideoFile3=null}else{this.$ISOVideoFile3=m;this.$ISOVideoFile4=null}}k.prototype.getBoxes=function(){return this.$ISOVideoFile1};k.prototype.findBoxes=function(l){return this.$ISOVideoFile6(this.$ISOVideoFile1,[],l)};k.prototype.$ISOVideoFile6=function(l,m,n){__p&&__p();for(var o=l,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(s.getBoxtype()===n)m.push(s);this.$ISOVideoFile6(s.getChildren(),m,n)}return m};k.prototype.$ISOVideoFile7=function(l,m){return m===""||l.getBoxtype()===m};k.prototype.findBoxAtExactLocation=function(l){__p&&__p();var m,n=this,o=this.$ISOVideoFile1,p=l.getPath(),q=function q(r){__p&&__p();var s=p[r].boxtype;if(s==="")throw new Error("Wildcard path is not allowed in exact location match");var t=p[r].index,u=o.filter(function(v){return this.$ISOVideoFile7(v,s)}.bind(n));if(u.length>t){if(r===p.length-1)return{v:u[t]};o=u[t].getChildren()}else return{v:null}};for(var r=0;r<p.length;r++){var m=q(r);if(typeof m==="object")return m.v}return null};k.prototype.findBoxesMatchingPath=function(l){var m=[];if(l.getPath().length===0)return m;this.$ISOVideoFile8(l,0,this.$ISOVideoFile1,m);return m};k.prototype.$ISOVideoFile8=function(l,m,n,o){var p=l.getPath(),q=p[m].boxtype,r=n.filter(function(s){return this.$ISOVideoFile7(s,q)}.bind(this));if(m===p.length-1)r.forEach(function(s){return o.push(s)});else r.forEach(function(s){return this.$ISOVideoFile8(l,m+1,s.getChildren(),o)}.bind(this))};k.prototype.injectBoxAtLocation=function(l,m){var n=this.findBoxAtExactLocation(m);if(n){n.addChild(l);this.$ISOVideoFile9(l.getSize());return true}else return false};k.prototype.removeBoxAtLocation=function(l){__p&&__p();var m=l.getPath(),n=m[m.length-1].boxtype,o=m[m.length-1].index;if(m.length===1){for(var p=0;p<this.$ISOVideoFile1.length;p++)if(this.$ISOVideoFile7(this.$ISOVideoFile1[p],n))if(o===0){var q=this.$ISOVideoFile1[p].getSize();this.$ISOVideoFile1.splice(p,1);this.$ISOVideoFile9(-q);return true}else o-=1;return false}var r=this.findBoxAtExactLocation(l);if(r){var s=r.getSize();r.remove();this.$ISOVideoFile9(-s);return true}return false};k.prototype.$ISOVideoFile5=function(){__p&&__p();var l=false;for(var m=this.$ISOVideoFile1,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(q.getBoxtype()==="mdat")l=true;if(q.getBoxtype()==="moov")return!l}return false};k.prototype.$ISOVideoFile9=function(l){__p&&__p();if(!this.$ISOVideoFile2)return;var m=this.findBoxes("stco");for(var n=m,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;if(!(r instanceof c("STCOBox")))throw new Error("found non-stco boxes when updating offsets");r.updateChunkOffsets(l)}};k.fromFile=function l(m){var n=arguments.length<=1||arguments[1]===undefined?true:arguments[1],o;return c("regeneratorRuntime").async(function p(q){while(1)switch(q.prev=q.next){case 0:o=new(c("ISOVideoBoxParser"))(m,n);q.next=3;return c("regeneratorRuntime").awrap(o.parse());case 3:return q.abrupt("return",q.sent);case 4:case"end":return q.stop()}},null,this)};k.fromArrayBuffer=function l(m){var n=arguments.length<=1||arguments[1]===undefined?true:arguments[1],o;return c("regeneratorRuntime").async(function p(q){while(1)switch(q.prev=q.next){case 0:o=new(c("ISOVideoBoxParser"))(m,n);q.next=3;return c("regeneratorRuntime").awrap(o.parse());case 3:return q.abrupt("return",q.sent);case 4:case"end":return q.stop()}},null,this)};k.prototype.toArrayBuffer=function l(){__p&&__p();return c("regeneratorRuntime").async(function m(n){__p&&__p();while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new(c("Promise"))(function(o,p){__p&&__p();var q,r=this,s=0;for(var t=this.$ISOVideoFile1,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;s+=x.getSize()}var y=new ArrayBuffer(s),z=new DataView(y),A=new(c("ISOVideoOffsetManager"))();A.setMinUpdateInterval(Math.ceil(s/j)).addOnUpdateCallback(function(){var M=A.getOffset();this.emit(c("ISOVideoFileEvent").BUILD_PROGRESS,M/s)}.bind(this));var B=void 0;if(this.$ISOVideoFile4){B=new DataView(this.$ISOVideoFile4);for(var C=this.$ISOVideoFile1,D=Array.isArray(C),E=0,C=D?C:C[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var F;if(D){if(E>=C.length)break;F=C[E++]}else{E=C.next();if(E.done)break;F=E.value}var G=F;G.boxToArrayBuffer(z,A,B)}o(y)}else if(this.$ISOVideoFile3)(function(){__p&&__p();var M=r.$ISOVideoFile3,N=new FileReader();N.onload=function(){__p&&__p();if(!(N.result instanceof ArrayBuffer))throw new Error("File reading failed");B=new DataView(N.result);for(var O=this.$ISOVideoFile1,P=Array.isArray(O),Q=0,O=P?O:O[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var R;if(P){if(Q>=O.length)break;R=O[Q++]}else{Q=O.next();if(Q.done)break;R=Q.value}var S=R;S.boxToArrayBuffer(z,A,B)}o(y)}.bind(r);N.readAsArrayBuffer(M)})();else{for(var H=this.$ISOVideoFile1,I=Array.isArray(H),J=0,H=I?H:H[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var K;if(I){if(J>=H.length)break;K=H[J++]}else{J=H.next();if(J.done)break;K=J.value}var L=K;L.boxToArrayBuffer(z,A)}o(y)}}.bind(this)));case 1:case"end":return n.stop()}},null,this)};k.prototype.toSimpleObject=function(l){__p&&__p();var m=[];for(var n=this.$ISOVideoFile1,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;m.push(r.toSimpleObject(l))}if(l&&this.$ISOVideoFile4)l.push(this.$ISOVideoFile4);var s={boxes:m,mustUpdateOffsetsOnEdit:this.$ISOVideoFile2,originalFileBuffer:this.$ISOVideoFile4,file:this.$ISOVideoFile3};return s};k.fromSimpleObject=function(l){__p&&__p();var m=[],n=false,o=null;if(l.file){o=l.file;n=true}else if(l.originalFileBuffer){o=l.originalFileBuffer;n=true}for(var p=l.boxes,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=o?c("ISOVideoBoxParser").parseFromSimpleObjectRecursive(t,n,o):c("ISOVideoBoxParser").parseFromSimpleObjectRecursive(t,n);m.push(u)}var v=new k(m,o);v.$ISOVideoFile2=l.mustUpdateOffsetsOnEdit;return v};f.exports=k}),null);
__d("VideoSphericalMetadataInjector",["FullBox","HDLRBox","ISOVideoBox","ISOVideoBoxConstants","ISOVideoBoxPath","ISOVideoFile","Map","SphericalVideoHotspotType","SphericalVideoMetadataTags","UUIDBox","VideoSphericalMetadataUtil","XMLBox","shallowArrayEqual"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h='<?xml version="1.0"?><rdf:SphericalVideo xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:GSpherical="http://ns.google.com/videos/1.0/spherical/">',i='<?xml version="1.0"?><rdf:SphericalVideo xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:FBSpherical="https://www.facebook.com/help/828417127257368">',j="</rdf:SphericalVideo>",k="face",l="GPAC face Handler",m={convertVerticalFOVToXML:function n(o){if(o)return"<"+c("SphericalVideoMetadataTags").FBSPHERICAL.INITIAL_VERTICAL_FOV_DEGREES+">"+(""+o)+("</"+c("SphericalVideoMetadataTags").FBSPHERICAL.INITIAL_VERTICAL_FOV_DEGREES+">");return null},convertUsed360DirectorToXML:function n(o){if(o===true||o===false)return"<"+c("SphericalVideoMetadataTags").FBSPHERICAL.USED_360_DIRECTOR+">"+(""+o.toString())+("</"+c("SphericalVideoMetadataTags").FBSPHERICAL.USED_360_DIRECTOR+">");return null},convertFBGuideMetadataToXML:function n(o){__p&&__p();var p=null;if(o&&o.keyframes.length>0){p="";for(var q=o.keyframes,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;p+="<Keyframe>"+("<yaw>"+u.yaw+"</yaw>")+("<pitch>"+u.pitch+"</pitch>")+("<fov>"+u.fov+"</fov>")+("<timestamp>"+u.timestamp+"</timestamp>")+"</Keyframe>"}p="<"+c("SphericalVideoMetadataTags").FBSPHERICAL.GUIDE+">"+(""+p)+("</"+c("SphericalVideoMetadataTags").FBSPHERICAL.GUIDE+">")}return p},convertFBHotspotMetadataToXML:function n(o){__p&&__p();var p=null;if(o&&o.hotspots&&o.hotspots.length>0){var q=o.hotspots;p="";for(var r=q,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u,w=v.content,x="",y="";if(Object.prototype.hasOwnProperty.call(w,"linkAction")&&w.linkAction)y="<LinkAction"+(' url="'+w.linkAction.url+'"')+(' trigger="'+w.linkAction.trigger+'"')+" />";switch(w.type){case c("SphericalVideoHotspotType").TEXT:var z=w.text.replace(/[\u00A0-\u9999\<\>\&\"\'\/]/g,function(A){return"&#"+A.charCodeAt(0)+";"});x="<Text"+(' id="'+w.id+'"')+(' alignment="'+w.alignment+'"')+(' width="'+w.width+'"')+(' height="'+w.height+'"')+(' color="'+w.color+'"')+(' fontWeight="'+w.fontWeight+'"')+(' fontSize="'+w.fontSize+'"')+(' fontFamily="'+w.fontFamily+'"')+(' backgroundColor="'+w.backgroundColor+'"')+(' animation="'+w.animation+'">')+(""+z)+(""+y)+"</Text>";break;case c("SphericalVideoHotspotType").IMAGE:x="<Image"+(' id="'+w.id+'"')+(' width="'+w.width+'"')+(' height="'+w.height+'"')+(' animation="'+w.animation+'">')+(""+w.imageData)+(""+y)+"</Image>";break}p+="<Hotspot"+(' yaw="'+v.yaw+'"')+(' pitch="'+v.pitch+'"')+(' startTime="'+v.startTime+'"')+(' endTime="'+v.endTime+'">')+(""+x)+"</Hotspot>"}p="<"+c("SphericalVideoMetadataTags").FBSPHERICAL.HOTSPOT+">"+(""+p)+("</"+c("SphericalVideoMetadataTags").FBSPHERICAL.HOTSPOT+">")}return p},convertSphericalMetadataToXML:function n(o){__p&&__p();var p=new(c("Map"))().set(c("SphericalVideoMetadataTags").GSPHERICAL.INITIAL_VIEW_PITCH_DEGREES,o.initialPitch).set(c("SphericalVideoMetadataTags").GSPHERICAL.INITIAL_VIEW_HEADING_DEGREES,o.initialYaw).set(c("SphericalVideoMetadataTags").GSPHERICAL.PROJECTION_TYPE,o.projectionType).set(c("SphericalVideoMetadataTags").GSPHERICAL.SPHERICAL,"true").set(c("SphericalVideoMetadataTags").GSPHERICAL.STEREO_MODE,o.stereoMode).set(c("SphericalVideoMetadataTags").GSPHERICAL.STITCHED,"true").set(c("SphericalVideoMetadataTags").GSPHERICAL.STITCHING_SOFTWARE,o.stitchingSoftware),q="";for(var r=p.entries(),s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u,w=v[0],x=v[1];if(x!==null&&x!==undefined)q+="<"+w+">"+x+"</"+w+">"}var y="",z=o.extraTagXML||"";if(q)y=h+q+z+j;var A=void 0,B=this.convertVerticalFOVToXML(o.initialFOV),C=this.convertFBGuideMetadataToXML(o.guideData),D=this.convertFBHotspotMetadataToXML(o.fbHotspotMetadata),E=this.convertUsed360DirectorToXML(o.used360Director);if(B||C||D||E)A=i+("<"+c("SphericalVideoMetadataTags").FBSPHERICAL.SPHERICAL+">true</"+c("SphericalVideoMetadataTags").FBSPHERICAL.SPHERICAL+">")+(B||"")+(C||"")+(D||"")+(E||"")+j;return{GSphericalXML:y,FBSphericalXML:A}},injectMetadata:function n(o,p,q){__p&&__p();var r=this.convertSphericalMetadataToXML(p),s=r.GSphericalXML,t=r.FBSphericalXML,u=new(c("UUIDBox"))({boxtype:"uuid",extraFields:{usertype:c("ISOVideoBoxConstants").GSPHERICAL_UUID,data:c("VideoSphericalMetadataUtil").stringToArrayBuffer(s)}});if(t){var v=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak").addPath("uuid",1),w=o.findBoxAtExactLocation(v);if(w instanceof c("UUIDBox")&&c("shallowArrayEqual")(w.getExtraFields().usertype,c("ISOVideoBoxConstants").FBSPHERICAL_UUID))o.removeBoxAtLocation(v)}var x=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak").addPath("uuid",0),y=o.findBoxAtExactLocation(x);if(y instanceof c("UUIDBox")&&c("shallowArrayEqual")(y.getExtraFields().usertype,c("ISOVideoBoxConstants").GSPHERICAL_UUID))o.removeBoxAtLocation(x);var z=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak");o.injectBoxAtLocation(u,z);if(t){var A=new(c("UUIDBox"))({boxtype:"uuid",extraFields:{usertype:c("ISOVideoBoxConstants").FBSPHERICAL_UUID,data:c("VideoSphericalMetadataUtil").stringToArrayBuffer(t)}}),B=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak");o.injectBoxAtLocation(A,B)}if(q&&!p.fbSpatialAudioMetadata&&!p.ytSpatialAudioMetadata)this.injectBasicSpatialAudioMetadata(o)},injectBasicSpatialAudioMetadata:function n(o){__p&&__p();var p=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak",1),q=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak",2),r=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak",3),s=o.findBoxAtExactLocation(p),t=o.findBoxAtExactLocation(q),u=o.findBoxAtExactLocation(r);if(!s||!t||!u)return false;var v=o.findBoxes("meta");for(var w=v,x=Array.isArray(w),y=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(x){if(y>=w.length)break;z=w[y++]}else{y=w.next();if(y.done)break;z=y.value}var A=z,B=A.getChildren();if(B.length===2&&B[0]instanceof c("HDLRBox")&&B[0].getExtraFields().handler_type===k&&B[0].getExtraFields().name()===l)return false}var C=this.createBasicSpatialAudioBoxes();o.injectBoxAtLocation(C[0],new(c("ISOVideoBoxPath"))().addPath("moov"));o.injectBoxAtLocation(C[1],p);o.injectBoxAtLocation(C[2],q);o.injectBoxAtLocation(C[3],r);return true},createBasicSpatialAudioBoxes:function n(){__p&&__p();var o="<fb360>\n\t<audio>",p="\t</audio>\n</fb360>",q=o+'\t\t<encoder_metadata name="FB Metadata Injector">\n</encoder_metadata>'+p,r=o+'\t\t<AudioChannelConfiguration schemeIdUri="tag:facebook.com,2016-08-16:fb360:audio:channel_layout" value="tbe_8a" />'+p,s=o+'\t\t<AudioChannelConfiguration schemeIdUri="tag:facebook.com,2016-08-16:fb360:audio:channel_layout" value="tbe_8b" />'+p,t=o+'\t\t<AudioChannelConfiguration schemeIdUri="tag:facebook.com,2016-08-16:fb360:audio:channel_layout" value="nda" />'+p,u={boxtype:"meta",extraFields:{}},v=new(c("FullBox"))(u),w=new(c("FullBox"))(u),x=new(c("FullBox"))(u),y=new(c("FullBox"))(u),z={boxtype:"hdlr",extraFields:{handler_type:k,name:l}},A=new(c("HDLRBox"))(z),B=new(c("HDLRBox"))(z),C=new(c("HDLRBox"))(z),D=new(c("HDLRBox"))(z),E={boxtype:"xml ",extraFields:{xml_string:q}},F={boxtype:"xml ",extraFields:{xml_string:r}},G={boxtype:"xml ",extraFields:{xml_string:s}},H={boxtype:"xml ",extraFields:{xml_string:t}},I=new(c("XMLBox"))(E),J=new(c("XMLBox"))(F),K=new(c("XMLBox"))(G),L=new(c("XMLBox"))(H);v.addChild(A);v.addChild(I);w.addChild(B);w.addChild(J);x.addChild(C);x.addChild(K);y.addChild(D);y.addChild(L);return[v,w,x,y]}};f.exports=m}),null);
__d("SphericalMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({fbSpatialAudioMetadata:undefined,ytSpatialAudioMetadata:undefined,fbHotspotMetadata:undefined,guideData:undefined,mayHaveSpatialAudio:undefined,initialPitch:undefined,initialYaw:undefined,initialFOV:undefined,projectionType:undefined,spherical:undefined,stereoMode:undefined,stitched:undefined,stitchingSoftware:undefined,extraTagXML:undefined,used360Director:undefined});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("VideoSphericalMetadataGatherer",["regeneratorRuntime","ISOVideoBoxConstants","checkForSphericalTag","VideoSphericalMetadataUtil"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$VideoRawSphericalMetadataGatherer5=i;this.$VideoRawSphericalMetadataGatherer1=null;this.$VideoRawSphericalMetadataGatherer2=null;this.$VideoRawSphericalMetadataGatherer3=null;this.$VideoRawSphericalMetadataGatherer4=null;this.$VideoRawSphericalMetadataGatherer6=false;this.$VideoRawSphericalMetadataGatherer7=false;this.$VideoRawSphericalMetadataGatherer8=0}h.prototype.gatherRawSphericalMetadata=function i(){return c("regeneratorRuntime").async(function j(k){while(1)switch(k.prev=k.next){case 0:k.next=2;return c("regeneratorRuntime").awrap(this.$VideoRawSphericalMetadataGatherer9());case 2:this.$VideoRawSphericalMetadataGatherer10();this.$VideoRawSphericalMetadataGatherer11();this.$VideoRawSphericalMetadataGatherer7=true;case 5:case"end":return k.stop()}},null,this)};h.prototype.getRawSphericalMetadata=function(){__p&&__p();if(!this.$VideoRawSphericalMetadataGatherer7)throw new Error("spherical metadata has not been gathered yet");var i={isSpherical:this.$VideoRawSphericalMetadataGatherer6,numAudioTracks:this.$VideoRawSphericalMetadataGatherer8};if(this.$VideoRawSphericalMetadataGatherer3)this.$VideoRawSphericalMetadataGatherer3="<fb360_spatial_audio>"+this.$VideoRawSphericalMetadataGatherer3+"</fb360_spatial_audio>";if(this.$VideoRawSphericalMetadataGatherer1!==null)i.FBSphericalMetadataXML=this.$VideoRawSphericalMetadataGatherer1;if(this.$VideoRawSphericalMetadataGatherer2!==null)i.GSphericalMetadataXML=this.$VideoRawSphericalMetadataGatherer2;if(this.$VideoRawSphericalMetadataGatherer3!==null)i.FBSpatialAudioMetadataXML=this.$VideoRawSphericalMetadataGatherer3;if(this.$VideoRawSphericalMetadataGatherer4!==null)i.YTSA3DMetadataJSON=this.$VideoRawSphericalMetadataGatherer4;return i};h.prototype.hasGathered=function(){return this.$VideoRawSphericalMetadataGatherer7};h.prototype.$VideoRawSphericalMetadataGatherer9=function i(){__p&&__p();var j,k,l,m,n,o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:j=this.$VideoRawSphericalMetadataGatherer5.findBoxes("uuid");k=j,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 2:if(!l){q.next=8;break}if(!(m>=k.length)){q.next=5;break}return q.abrupt("break",17);case 5:n=k[m++];q.next=12;break;case 8:m=k.next();if(!m.done){q.next=11;break}return q.abrupt("break",17);case 11:n=m.value;case 12:o=n;q.next=15;return c("regeneratorRuntime").awrap(this.$VideoRawSphericalMetadataGatherer12(o));case 15:q.next=2;break;case 17:case"end":return q.stop()}},null,this)};h.prototype.$VideoRawSphericalMetadataGatherer12=function i(j){__p&&__p();var k,l,m,n,o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:k=c("VideoSphericalMetadataUtil").uuidArrayEquals(j.getExtraFields().usertype,c("ISOVideoBoxConstants").GSPHERICAL_UUID);l=c("VideoSphericalMetadataUtil").uuidArrayEquals(j.getExtraFields().usertype,c("ISOVideoBoxConstants").FBSPHERICAL_UUID);if(!(k||l)){q.next=11;break}q.t0=Uint8Array;q.next=6;return c("regeneratorRuntime").awrap(j.getBuffer("data"));case 6:q.t1=q.sent;m=new q.t0(q.t1);n="";for(o=0;o<m.length;o++)n+=String.fromCharCode(m[o]);if(c("checkForSphericalTag")(n)){this.$VideoRawSphericalMetadataGatherer6=true;if(l)this.$VideoRawSphericalMetadataGatherer1=n;if(k)this.$VideoRawSphericalMetadataGatherer2=n}case 11:case"end":return q.stop()}},null,this)};h.prototype.$VideoRawSphericalMetadataGatherer10=function(){__p&&__p();var i=this.$VideoRawSphericalMetadataGatherer5.findBoxes("meta");for(var j=i,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}var n=m;this.$VideoRawSphericalMetadataGatherer13(n)}};h.prototype.$VideoRawSphericalMetadataGatherer13=function(i){__p&&__p();var j=i.getChildren(),k=null,l=null;for(var m=j,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(q.getBoxtype()==="hdlr")k=q;if(q.getBoxtype()==="xml ")l=q}if(k===null||l===null||k.getExtraFields().handler_type!=="face")return;var r=l.getExtraFields().xml_string,s=null,t=null,u=i.getParent();if(u&&u.getBoxtype()==="trak"){for(var v=u.getChildren(),w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y;if(z.getBoxtype()==="tkhd")s=z}if(s!==null){t=s.getExtraFields().track_id;this.$VideoRawSphericalMetadataGatherer8++}}if(!this.$VideoRawSphericalMetadataGatherer3)this.$VideoRawSphericalMetadataGatherer3="";if(t!==null)this.$VideoRawSphericalMetadataGatherer3+='<track id="'+t.toString()+'">'+r+"</track>";else this.$VideoRawSphericalMetadataGatherer3+="<spatial_audio_formatting>"+r+"</spatial_audio_formatting>"};h.prototype.$VideoRawSphericalMetadataGatherer11=function(){__p&&__p();var i=this.$VideoRawSphericalMetadataGatherer5.findBoxes("SA3D");for(var j=i,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}var n=m;this.$VideoRawSphericalMetadataGatherer14(n)}};h.prototype.$VideoRawSphericalMetadataGatherer14=function(i){if(this.$VideoRawSphericalMetadataGatherer4!==null)return;var j=JSON.stringify(i.getExtraFields());this.$VideoRawSphericalMetadataGatherer4=j};f.exports=h}),null);
__d("FBGuideMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({keyframes:undefined});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("FBSpatialAudioMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({encoderMetadata:null,focusData:null,headlockedData:null,spatialData:null,trackData:null});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("YTSpatialAudioMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({ambisonic_channel_ordering:-1,ambisonic_normalization:-1,ambisonic_order:-1,ambisonic_type:-1,channel_map:[],num_channels:-1,version:-1});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("VideoSphericalMetadataReader",["FBGuideMetadata","FBHotspot","FBHotspotMetadata","FBSpatialAudioMetadata","SphericalMetadata","SphericalVideoHotspotType","VideoSphericalMetadataUtil","YTSpatialAudioMetadata"],(function aa(ba,a,ca,da,b,ea){"use strict";__p&&__p();var c={parseGSphericalMetadataXML:function d(e,f){__p&&__p();var g=a("VideoSphericalMetadataUtil").parseXMLToDocument(e);if(!g)return f;var h=a("VideoSphericalMetadataUtil").getUnsupportedGSphericalTagsXML(g),i=g.getElementsByTagNameNS("*","Spherical")[0],j=g.getElementsByTagNameNS("*","InitialViewHeadingDegrees")[0],k=g.getElementsByTagNameNS("*","InitialViewPitchDegrees")[0],l=g.getElementsByTagNameNS("*","Stitched")[0],m=g.getElementsByTagNameNS("*","StitchingSoftware")[0],n=g.getElementsByTagNameNS("*","StereoMode")[0],o=g.getElementsByTagNameNS("*","ProjectionType")[0],p=null;if(j){var q=parseInt(j.childNodes[0].nodeValue,10);if(!isNaN(q))p=q}var r=null;if(k){var s=parseInt(k.childNodes[0].nodeValue,10);if(!isNaN(s))r=s}var t=i?i.childNodes[0].nodeValue.toLowerCase()==="true":null,u=l?l.childNodes[0].nodeValue.toLowerCase()==="true":null,v=m?m.childNodes[0].nodeValue:null,w=n?a("VideoSphericalMetadataUtil").stringToStereoMode(n.childNodes[0].nodeValue):null,x=o?a("VideoSphericalMetadataUtil").stringToProjectionType(o.childNodes[0].nodeValue):null;if(p!==null)f=f.set("initialYaw",p);if(r!==null)f=f.set("initialPitch",r);if(u!==null)f=f.set("stitched",u);if(v!==null)f=f.set("stitchingSoftware",v);if(t)f=f.set("spherical",t);if(w)f=f.set("stereoMode",w);if(x)f=f.set("projectionType",x);if(h)f=f.set("extraTagXML",h);return f},parseFBSphericalMetadataXML:function d(e,f){__p&&__p();var g,h=a("VideoSphericalMetadataUtil").parseXMLToDocument(e);if(!h)return f;var i=null,j=null,k=null,l=null,m=h.getElementsByTagNameNS("*","InitialVerticalFOVDegrees")[0];if(m){var n=parseInt(m.childNodes[0].nodeValue,10);if(!isNaN(n))i=n}var o=h.getElementsByTagNameNS("*","Used360Director")[0];if(o)l=o.childNodes[0].nodeValue==="true";var p=h.getElementsByTagNameNS("*","Guide")[0];if(p){var q=p.getElementsByTagName("Keyframe"),r=function r(w){__p&&__p();var Q=w.getElementsByTagName("pitch"),R=w.getElementsByTagName("yaw"),m=w.getElementsByTagName("fov"),S=w.getElementsByTagName("timestamp"),T=void 0;if(Q.length>0){var U=parseFloat(Q[0].textContent);if(!isNaN(U))T=U}var V=void 0;if(R.length>0){var W=parseFloat(R[0].textContent);if(!isNaN(W))V=W}var X=void 0;if(m.length>0){var Y=parseInt(m[0].textContent,10);if(!isNaN(Y))X=Y}var Z=void 0;if(S.length>0){var $=parseInt(S[0].textContent,10);if(!isNaN($))Z=$}if(T==null||V==null||X==null||Z==null)return"continue";if(!j)j=new(a("FBGuideMetadata"))({keyframes:[]});j=j.update("keyframes",function(va){return va.concat([{pitch:T,yaw:V,fov:X,timestamp:Z}])})};for(var s=q,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v,g=r(w);if(g==="continue")continue}}var x=h.getElementsByTagNameNS("*","HotspotMetadata")[0];if(x){var y=x.getElementsByTagName("Hotspot"),z=[];for(var A=y,B=Array.isArray(A),C=0,A=B?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var D;if(B){if(C>=A.length)break;D=A[C++]}else{C=A.next();if(C.done)break;D=C.value}var E=D,F=E.attributes,G=Number.parseFloat(F.getNamedItem("yaw").nodeValue),fa=Number.parseFloat(F.getNamedItem("pitch").nodeValue),ga=Number.parseInt(F.getNamedItem("startTime").nodeValue,10),ha=Number.parseInt(F.getNamedItem("endTime").nodeValue,10),H=void 0;for(var I=E.children,J=Array.isArray(I),K=0,I=J?I:I[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var L;if(J){if(K>=I.length)break;L=I[K++]}else{K=I.next();if(K.done)break;L=K.value}var M=L;if(H)throw new Error("Only one content type allowed per hotspot.");var N=M.attributes,ia=Number.parseInt(N.getNamedItem("id").nodeValue,10),ja=Number.parseFloat(N.getNamedItem("width").nodeValue),ka=Number.parseFloat(N.getNamedItem("height").nodeValue),la=N.getNamedItem("animation").nodeValue,O={id:ia,width:ja,height:ka,animation:la},P=M.getElementsByTagName("LinkAction");if(P.length>0){var ma={url:P[0].attributes.getNamedItem("url").nodeValue,trigger:P[0].attributes.getNamedItem("trigger").nodeValue};O=babelHelpers["extends"]({},O,{linkAction:ma})}switch(M.tagName){case"Text":var na=N.getNamedItem("alignment").nodeValue,oa=N.getNamedItem("color").nodeValue,pa=N.getNamedItem("fontWeight").nodeValue,qa=Number.parseInt(N.getNamedItem("fontSize").nodeValue,10),ra=N.getNamedItem("fontFamily").nodeValue,sa=N.getNamedItem("backgroundColor").nodeValue,ta=M.textContent.trim();H=babelHelpers["extends"]({type:a("SphericalVideoHotspotType").TEXT,color:oa,fontWeight:pa,fontSize:qa,fontFamily:ra,backgroundColor:sa,alignment:na,text:ta},O);break;case"Image":var ua=M.textContent.trim();H=babelHelpers["extends"]({type:a("SphericalVideoHotspotType").IMAGE,imageData:ua},O);break}}if(H)z.push(new(a("FBHotspot"))({yaw:G,pitch:fa,startTime:ga,endTime:ha,content:H}))}k=new(a("FBHotspotMetadata"))({hotspots:z})}if(i||j||k||l){if(i!==null)f=f.set("initialFOV",i);if(j!==null)f=f.set("guideData",j);if(k!==null)f=f.set("fbHotspotMetadata",k);if(l!==null)f=f.set("used360Director",l)}return f},parseFBSpatialAudioXML:function d(e){__p&&__p();var f=a("VideoSphericalMetadataUtil").parseXMLToDocument(e);if(!f)return null;var g=f.getElementsByTagName("encoder_metadata")[0],h=f.getElementsByTagName("spatial")[0],i=f.getElementsByTagName("headlocked")[0],j=f.getElementsByTagName("focus")[0],k=f.getElementsByTagName("track"),l=new(a("FBSpatialAudioMetadata"))();if(g)l=l.set("encoderMetadata",{gitCommitDate:g.getAttribute("git_commit_date"),gitHash:g.getAttribute("git_hash"),is64Bit:g.getAttribute("is64bit")==="yes",name:g.getAttribute("name"),osName:g.getAttribute("osName"),version:g.getAttribute("version")});if(h){var m=h.getAttribute("format"),n=h.getAttribute("channel_map"),o=[];if(n){var p=n.split(" ");for(var q=p,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;o.push(parseInt(u,10))}}l=l.set("spatialData",{bitDepth:parseInt(h.getAttribute("bit_depth"),10),channelMap:o,format:m?m:"",sampleRate:parseInt(h.getAttribute("sample_rate"),10)})}if(i)l=l.set("headlockedData",{bitDepth:parseInt(h.getAttribute("bit_depth"),10),sampleRate:parseInt(h.getAttribute("sample_rate"),10)});if(j){var v=j.getAttribute("schemeIdUri");l=l.set("focusData",{enabled:j.getAttribute("enabled")==="true",focusWidthDegrees:parseFloat(j.getAttribute("focusWidthDegrees")),offFocusLevel:parseFloat(j.getAttribute("offFocusLevel")),offFocusLevelDB:parseFloat(j.getAttribute("offFocusLevelDB")),schemeIDUri:v?v:""})}if(k){var w=[];for(var x=k,y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}var B=A,C=B.getElementsByTagName("AudioChannelConfiguration"),D=void 0;if(C.length>1)D=C[1];else D=C[0];var E=D.getAttribute("schemeIdUri"),F=D.getAttribute("value");w.push({schemeIDUri:E?E:"",trackID:parseInt(B.getAttribute("id"),10),value:F?F:""})}l=l.set("trackData",w)}return l},parseYTSpatialAudioJSON:function d(e){var f=JSON.parse(e),g=f.ambisonic_channel_ordering,h=f.ambisonic_normalization,i=f.ambisonic_order,j=f.ambisonic_type,k=f.channel_map,l=f.num_channels,m=f.version;return new(a("YTSpatialAudioMetadata"))({ambisonic_channel_ordering:g,ambisonic_normalization:h,ambisonic_order:i,ambisonic_type:j,channel_map:k,num_channels:l,version:m})}};b.exports=c}),null);
__d("VideoSphericalMetadataReaderController",["regeneratorRuntime","ISOVideoFile","VideoSphericalMetadataGatherer","VideoSphericalMetadataReader","SphericalMetadata","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=3;function i(j){this.$VideoSphericalMetadataReaderController2=new(c("SphericalMetadata"))();this.$VideoSphericalMetadataReaderController3=false;switch(j.sourceType){case"fileObject":this.$VideoSphericalMetadataReaderController5=j.fileObject;this.$VideoSphericalMetadataReaderController4=new(c("VideoSphericalMetadataGatherer"))(this.$VideoSphericalMetadataReaderController5);break;case"metadata":this.$VideoSphericalMetadataReaderController1=j.metadata;break;default:throw new Error("Unrecognized source type")}}i.prototype.$VideoSphericalMetadataReaderController6=function(){__p&&__p();if(!this.$VideoSphericalMetadataReaderController1)return;if(!this.$VideoSphericalMetadataReaderController1.isSpherical)return;if(this.$VideoSphericalMetadataReaderController1.GSphericalMetadataXML)this.$VideoSphericalMetadataReaderController2=c("VideoSphericalMetadataReader").parseGSphericalMetadataXML(this.$VideoSphericalMetadataReaderController1.GSphericalMetadataXML,this.$VideoSphericalMetadataReaderController2);if(this.$VideoSphericalMetadataReaderController1.FBSphericalMetadataXML)this.$VideoSphericalMetadataReaderController2=c("VideoSphericalMetadataReader").parseFBSphericalMetadataXML(this.$VideoSphericalMetadataReaderController1.FBSphericalMetadataXML,this.$VideoSphericalMetadataReaderController2);if(this.$VideoSphericalMetadataReaderController1.FBSpatialAudioMetadataXML){var j=c("VideoSphericalMetadataReader").parseFBSpatialAudioXML(this.$VideoSphericalMetadataReaderController1.FBSpatialAudioMetadataXML);if(j)this.$VideoSphericalMetadataReaderController2=this.$VideoSphericalMetadataReaderController2.set("fbSpatialAudioMetadata",j)}if(this.$VideoSphericalMetadataReaderController1.YTSA3DMetadataJSON){var k=c("VideoSphericalMetadataReader").parseYTSpatialAudioJSON(this.$VideoSphericalMetadataReaderController1.YTSA3DMetadataJSON);this.$VideoSphericalMetadataReaderController2=this.$VideoSphericalMetadataReaderController2.set("ytSpatialAudioMetadata",k)}this.$VideoSphericalMetadataReaderController2=this.$VideoSphericalMetadataReaderController2.set("mayHaveSpatialAudio",this.$VideoSphericalMetadataReaderController1.numAudioTracks===h);this.$VideoSphericalMetadataReaderController3=true};i.objectToRawSphericalMetadata=function(j){__p&&__p();var k,l,m,n,o,p=j.streams.numAudioTracks,q=!!((k=j)!=null?(k=k.format)!=null?k.isSpherical:k:k),r={isSpherical:q,numAudioTracks:p};if(!q)return r;var s=(l=j)!=null?(l=l.metadata)!=null?l.sphericalMetadataXml:l:l;if(s)r.GSphericalMetadataXML=s;var t=(m=j)!=null?(m=m.metadata)!=null?m.FBSphericalMetadataXML:m:m;if(t)r.FBSphericalMetadataXML=t;var u=(n=j)!=null?(n=n.metadata)!=null?n.fbSpatialAudioMetadataXml:n:n;if(u)r.FBSpatialAudioMetadataXML=u;var v=(o=j)!=null?(o=o.metadata)!=null?o.ytSa3dMetadataJson:o:o;if(v)r.YTSA3DMetadataJSON=v;return r};i.prototype.getFileMetadata=function j(){__p&&__p();var k;return c("regeneratorRuntime").async(function l(m){__p&&__p();while(1)switch(m.prev=m.next){case 0:if(this.$VideoSphericalMetadataReaderController3){m.next=15;break}if(this.$VideoSphericalMetadataReaderController1){m.next=14;break}m.prev=2;k=this.$VideoSphericalMetadataReaderController4;if(!k){m.next=9;break}if(k.hasGathered()){m.next=8;break}m.next=8;return c("regeneratorRuntime").awrap(k.gatherRawSphericalMetadata());case 8:this.$VideoSphericalMetadataReaderController1=k.getRawSphericalMetadata();case 9:m.next=14;break;case 11:m.prev=11;m.t0=m["catch"](2);return m.abrupt("return",this.$VideoSphericalMetadataReaderController2);case 14:this.$VideoSphericalMetadataReaderController6();case 15:return m.abrupt("return",this.$VideoSphericalMetadataReaderController2);case 16:case"end":return m.stop()}},null,this,[[2,11]])};f.exports=i}),null);
__d("VideoComposerDialogSphericalDirectorStore",["Promise","ComposerVideoUploadSphericalMetadataUtils","ComposerVideoUploadSphericalStore","VideoComposerDialogDispatcher","FluxReduceStore","immutable","VideoSphericalMetadataInjector","VideoSphericalMetadataReaderController","VideoComposerDialogActionTypes","flattenPHPQueryData"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={bootloadedParams:null,contextConfig:null,hotspots:null,metadata:null,omnistabEnabled:false,showOmnistabSection:false,spherical:false};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").RESET_COMPOSER:o=this.$VideoComposerDialogSphericalDirectorStore1(o);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_CROSSPOST_PARAMETERS:var q=p.data,r=q.hotspotRawData,s=babelHelpers.objectWithoutProperties(q,["hotspotRawData"]),t=c("ComposerVideoUploadSphericalMetadataUtils").convertHotspotsRawDataToFBHotspotMetadata(r);o=o.set("hotspots",t);o=this.$VideoComposerDialogSphericalDirectorStore2(o,s);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_EDIT_PARAMETERS:var u=p.data,v=u.showOmnistabSection,w=u.hasOmnistabEncoding,x=u.omnistabEnabled,y=babelHelpers.objectWithoutProperties(u,["showOmnistabSection","hasOmnistabEncoding","omnistabEnabled"]);o=o.set("omnistabEnabled",x);o=o.set("showOmnistabSection",v&&w);o=this.$VideoComposerDialogSphericalDirectorStore2(o,y);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_UPLOAD_PARAMETERS:o=o.set("showOmnistabSection",p.data.showOmnistabSection);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_DEFAULT_TAB:o=this.$VideoComposerDialogSphericalDirectorStore3(o,p.data.composerConfig.contextConfig);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_EDIT_PARAMS:o=this.$VideoComposerDialogSphericalDirectorStore3(o,p.data.composerConfig.contextConfig);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_CONTEXT_CONFIG:o=this.$VideoComposerDialogSphericalDirectorStore4(o,p.data);return o;case c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER:o=this.$VideoComposerDialogSphericalDirectorStore5(o,p.data);return o;case c("VideoComposerDialogActionTypes").TOGGLE_SPHERICAL:o=o.set("spherical",p.data);return o;default:return o}};n.prototype.$VideoComposerDialogSphericalDirectorStore3=function(o,p){o=o.set("contextConfig",p);var q=this.getState().get("bootloadedParams");if(q)o=this.$VideoComposerDialogSphericalDirectorStore6(o,p.composerID,q);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore4=function(o,p){o=o.set("contextConfig",p);var q=this.getState().get("metadata");if(q)o=this.$VideoComposerDialogSphericalDirectorStore7(o,p.composerID,q);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore2=function(o,p){o=o.set("bootloadedParams",p);var q=this.getState().get("contextConfig");if(q)o=this.$VideoComposerDialogSphericalDirectorStore6(o,q.composerID,p);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore5=function(o,p){o=o.set("metadata",p);var q=this.getState().get("contextConfig");if(q)o=this.$VideoComposerDialogSphericalDirectorStore7(o,q.composerID,p);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore1=function(o){var p=this.getState().get("contextConfig");if(p)c("ComposerVideoUploadSphericalStore").clearComposerData(p.composerID);o=this.getInitialState();return o};n.prototype.$VideoComposerDialogSphericalDirectorStore6=function(o,p,q){var r=this.getState().get("omnistabEnabled"),s=this.getState().get("hotspots");c("ComposerVideoUploadSphericalMetadataUtils").initWithParams(p,q.initialHeading,q.initialPitch,q.fov,q.guideEnabled,q.guideKeyframes,q.projection,q.stereoMode,q.hasSpatialAudio,r,s);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore7=function(o,p,q){__p&&__p();if(q&&q.format){var r=q.format.isSpherical;o=o.set("spherical",r);if(r){var s=c("VideoSphericalMetadataReaderController").objectToRawSphericalMetadata(q);new(c("VideoSphericalMetadataReaderController"))({sourceType:"metadata",metadata:s}).getFileMetadata().then(function(t){c("ComposerVideoUploadSphericalMetadataUtils").initWithOriginalSphericalMetadata(p,t)}).done()}}return o};n.prototype.getEditAndCrosspostRequestData=function(){__p&&__p();var o=this.getState().get("contextConfig"),p=this.getState().get("spherical");if(!o||!p)return c("Promise").resolve({});var q=c("ComposerVideoUploadSphericalStore").getPostData(o.composerID),r={};r.spherical=p;r.initial_heading=q.initialHeading;r.initial_pitch=q.initialPitch;r.fov=q.fov;r.guide_enabled=!!q.guide_enabled;r.enable_omnistab=!!q.enable_omnistab;var s=c("flattenPHPQueryData")({guide:q.guide_keyframes});Object.keys(s).forEach(function(u){r[u]=s[u]});if(q.hotspots){var t=c("VideoSphericalMetadataInjector").convertFBHotspotMetadataToXML(q.hotspots);if(t)r.hotspots_xml=new Blob([t],{type:"text/xml"})}return c("Promise").resolve(r)};n.prototype.getPostData=function(){__p&&__p();var o=this.getState().get("contextConfig");if(!o)return c("Promise").resolve({});var p=["enable_omnistab","guide_enabled","guide_keyframes","fov","hotspotXML","initialHeading","initialPitch","projection","spherical","stereoMode"],q=Object.assign({},c("ComposerVideoUploadSphericalStore").getPostData(o.composerID));q.spherical=this.getState().get("spherical");if(q.hotspots){var r=c("VideoSphericalMetadataInjector").convertFBHotspotMetadataToXML(q.hotspots);if(r)q.hotspotXML=new Blob([r],{type:"text/xml"})}var s=p.reduce(function(t,u){if(u in q)t[u]=q[u];return t},{});return c("Promise").resolve(s)};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("XVideoComposerDialogBootloadSphericalDirectorCrosspostTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/crosspost/bootload_spherical_director/",{video_asset_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogBootloadSphericalDirectorEditTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_spherical_director_edit/",{video_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogBootloadSphericalDirectorUploadTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_spherical_director_upload/",{target_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogSphericalDirectorUtils",["ActorURI","AsyncRequest","VideoComposerDialogSphericalDirectorActions","XVideoComposerDialogBootloadSphericalDirectorCrosspostTabController","XVideoComposerDialogBootloadSphericalDirectorEditTabController","XVideoComposerDialogBootloadSphericalDirectorUploadTabController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(k,l){var m=c("XVideoComposerDialogBootloadSphericalDirectorCrosspostTabController").getURIBuilder().setFBID("video_asset_id",l).getURI(),n=c("ActorURI").create(m,k);return new(c("AsyncRequest"))(n).exec()},i=function i(k,l){var m=c("XVideoComposerDialogBootloadSphericalDirectorEditTabController").getURIBuilder().setFBID("video_id",l).getURI(),n=c("ActorURI").create(m,k);return new(c("AsyncRequest"))(n).exec()},j=function j(k){var l=c("XVideoComposerDialogBootloadSphericalDirectorUploadTabController").getURIBuilder().setFBID("target_id",k).getURI(),m=c("ActorURI").create(l,k);new(c("AsyncRequest"))(m).send()};f.exports={beginBootloadingSphericalDirectorCrosspostTab:h,beginBootloadingSphericalDirectorEditTab:i,beginBootloadingSphericalDirectorUploadTab:j,bootloadSphericalDirectorUploadTab:function k(l){c("VideoComposerDialogSphericalDirectorActions").bootloadUploadParameters(l)}}}),null);
__d("VideoComposerDialogSphericalDirectorTabConfig",["ix","fbt","Promise","SphericalVideoExperiments","VideoComposerDialogSphericalDirectorActions","VideoComposerDialogSphericalDirectorContainer.react","VideoComposerDialogSphericalDirectorStore","VideoComposerDialogSphericalDirectorTabContainer.react","VideoComposerDialogSphericalDirectorUtils","VideoComposerDialogTab","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=i._("Add more detail to your 360 video with guide points."),k=i._("Add more detail to your 360 video with guide points and text."),l=i._("Add more detail to your 360 video with guide points and images."),m=i._("Add more detail to your 360 video with guide points, text and images."),n={key:c("VideoComposerDialogTab").SPHERICAL_DIRECTOR,glyphSelected:h("426964"),glyphUnselected:h("426965"),title:i._("360 Director tools"),defaultDescription:c("SphericalVideoExperiments").enableTextHotspots?c("SphericalVideoExperiments").enableImageHotspots?m:k:c("SphericalVideoExperiments").enableImageHotspots?l:j,tabContainer:c("VideoComposerDialogSphericalDirectorTabContainer.react"),bodyContainer:c("VideoComposerDialogSphericalDirectorContainer.react"),getCrosspostRequestDataToSend:function o(){return c("VideoComposerDialogSphericalDirectorStore").getEditAndCrosspostRequestData()},getEditRequestDataToSend:function o(){return c("VideoComposerDialogSphericalDirectorStore").getEditAndCrosspostRequestData()},getPostData:function o(){return c("VideoComposerDialogSphericalDirectorStore").getPostData()},fetchCrosspostData:function o(p){if(!p.isSpherical)return c("Promise").resolve();if(!p.actorID||!p.videoAssetID)return c("Promise").reject();return c("VideoComposerDialogSphericalDirectorUtils").beginBootloadingSphericalDirectorCrosspostTab(p.actorID,p.videoAssetID).then(function(q){c("VideoComposerDialogSphericalDirectorActions").toggleSpherical(p.isSpherical);return q}).then(function(q){c("VideoComposerDialogSphericalDirectorActions").bootloadCrosspostParameters(q.payload);return})},fetchEditPostData:function o(p){if(!p.isSpherical)return c("Promise").resolve();if(!p.actorID||!p.videoID)return c("Promise").reject();return c("VideoComposerDialogSphericalDirectorUtils").beginBootloadingSphericalDirectorEditTab(p.actorID,p.videoID).then(function(q){c("VideoComposerDialogSphericalDirectorActions").toggleSpherical(p.isSpherical);return q}).then(function(q){c("VideoComposerDialogSphericalDirectorActions").bootloadEditParameters(q.payload);return})}};f.exports=n}),null);
__d("VideoComposerDialogTabs",["immutable","VideoComposerDialogAdBreaksTabConfig","VideoComposerDialogBasicTabConfig","VideoComposerDialogCaptionsTabConfig","VideoComposerDialogDistributionTabConfig","VideoComposerDialogMomentsOfInterestTabConfig","VideoComposerDialogRightsTabConfig","VideoComposerDialogSphericalDirectorTabConfig","VideoComposerDialogTrackingTabConfig","VideoComposerDialogThumbnailsTabConfig"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").Map({basic:c("VideoComposerDialogBasicTabConfig"),distribution:c("VideoComposerDialogDistributionTabConfig"),captions:c("VideoComposerDialogCaptionsTabConfig"),ad_breaks:c("VideoComposerDialogAdBreaksTabConfig"),tracking:c("VideoComposerDialogTrackingTabConfig"),thumbnails:c("VideoComposerDialogThumbnailsTabConfig"),spherical_director:c("VideoComposerDialogSphericalDirectorTabConfig"),rights:c("VideoComposerDialogRightsTabConfig"),moments_of_interest:c("VideoComposerDialogMomentsOfInterestTabConfig")});f.exports=h}),null);
__d("VideoComposerDialogThumbnailActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(p){var q={type:c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_THUMBNAILS,data:p};c("VideoComposerDialogDispatcher").dispatch(q)},i=function i(p){var q={type:c("VideoComposerDialogActionTypes").BOOTLOAD_THUMBNAILS_FOR_EDIT,data:p};c("VideoComposerDialogDispatcher").dispatch(q)},j=function j(p){var q={type:c("VideoComposerDialogActionTypes").GENERATED_THUMBNAILS,data:p};c("VideoComposerDialogDispatcher").dispatch(q)},k=function k(p){var q={type:c("VideoComposerDialogActionTypes").SELECT_SECTION,section:p};c("VideoComposerDialogDispatcher").dispatch(q)},l=function l(p){var q={type:c("VideoComposerDialogActionTypes").TOGGLE_SELECTED_GENERATED_THUMBNAIL,index:p};c("VideoComposerDialogDispatcher").dispatch(q)},m=function m(p){var q={type:c("VideoComposerDialogActionTypes").UPDATE_CUSTOM_THUMBNAIL,thumbnail:p};c("VideoComposerDialogDispatcher").dispatch(q)},n=function n(p){var q={type:c("VideoComposerDialogActionTypes").UPDATE_SCRUBBED_THUMBNAIL,thumbnail:p};c("VideoComposerDialogDispatcher").dispatch(q)},o=function o(p){var q={type:c("VideoComposerDialogActionTypes").UPDATE_SELECTED_THUMBNAIL,thumbnail:p};c("VideoComposerDialogDispatcher").dispatch(q)};f.exports={bootloadCrosspostThumbnails:h,bootloadThumbnailsForEdit:i,generatedThumbnails:j,selectThumbnailSection:k,toggleSelectedGeneratedThumbnail:l,updateCustomThumbnail:m,updateScrubbedThumbnail:n,updateSelectedThumbnail:o}}),null);
__d("XVideoComposerDialogCrosspostBootloadThumbnailsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/crosspost/bootload_thumbnails/",{video_asset_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogEditThumbnailsTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/thumbnails/",{video_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogThumbnailUtils",["ActorURI","AsyncRequest","UserAgent","VideoComposerDialogConstants","VideoComposerDialogMode","VideoComposerDialogThumbnailActions","XVideoComposerDialogCrosspostBootloadThumbnailsController","XVideoComposerDialogEditThumbnailsTabController","generateVideoThumbnails"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(l){var m=c("generateVideoThumbnails")(l,l.videoWidth?l.videoWidth:0,l.videoHeight?l.videoHeight:0,c("VideoComposerDialogConstants").GENERATED_THUMBNAILS,"contain");m.done(function(n){c("VideoComposerDialogThumbnailActions").generatedThumbnails(n)})},i=function i(l,m){var n=c("XVideoComposerDialogCrosspostBootloadThumbnailsController").getURIBuilder().setFBID("video_asset_id",m).getURI(),o=c("ActorURI").create(n,l);return new(c("AsyncRequest"))().setURI(o).exec().then(function(p){c("VideoComposerDialogThumbnailActions").bootloadCrosspostThumbnails(p.payload)})},j=function j(l,m){var n=c("XVideoComposerDialogEditThumbnailsTabController").getURIBuilder().setFBID("video_id",m).getURI(),o=c("ActorURI").create(n,l);return new(c("AsyncRequest"))().setURI(o).exec().then(function(p){c("VideoComposerDialogThumbnailActions").bootloadThumbnailsForEdit(p.payload)})},k=function k(l){return l===c("VideoComposerDialogMode").VIDEO_UPLOAD&&(c("UserAgent").isBrowser("Firefox >= 14")||c("UserAgent").isBrowser("Chrome"))};f.exports={beginBootloadingCrosspostThumbnailsTab:i,beginBootloadingEditThumbnailsTab:j,onMetadataLoaded:h,shouldShowThumbnailScrubber:k}}),null);
__d("URLVideoThumbnail",["VideoThumbnail"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("VideoThumbnail"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this,k)}f.exports=j}),null);
__d("VideoComposerDialogThumbnailTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({GENERATED:"",CUSTOM:"",VIDEO_FRAME:""});f.exports={ThumbnailSection:h}}),null);
__d("VideoThumbnailSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CUSTOM:"custom",GENERATED_DEFAULT:"generated_default",GENERATED_SELECTED:"generated_selected",SCRUBBER_SELECTED:"scrubber_selected"})}),null);
__d("VideoComposerDialogThumbnailsStore",["Promise","FileVideoThumbnail","FluxReduceStore","immutable","URLVideoThumbnail","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogThumbnailTypes","VideoComposerDialogThumbnailUtils","VideoThumbnailSource"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=10,m={customThumbnail:null,displayOrder:[],generatedThumbnails:[],hasSelectedGeneratedThumb:false,newFileAdded:false,scrubbedThumbnail:null,selectedGeneratedIndex:0,selectedSection:c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED,selectedThumbnail:null};h=babelHelpers.inherits(n,c("immutable").Record(m));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxReduceStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){__p&&__p();var r=this.getState(),s=r.customThumbnail,t=r.generatedThumbnails,u=r.scrubbedThumbnail,v=r.selectedGeneratedIndex;switch(q.type){case c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_THUMBNAILS:case c("VideoComposerDialogActionTypes").BOOTLOAD_THUMBNAILS_FOR_EDIT:p=this.$VideoComposerDialogThumbnailsStore1(p,q.data.selectedThumbnail,q.data.thumbnails);return p;case c("VideoComposerDialogActionTypes").GENERATED_THUMBNAILS:p=p.set("selectedThumbnail",q.data.selectedThumbnail);p=p.set("generatedThumbnails",q.data.thumbnails);return p;case c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_HTML_PLAYER:if(p.generatedThumbnails.length===0||p.newFileAdded){c("VideoComposerDialogThumbnailUtils").onMetadataLoaded(q.videoPlayer);p=p.set("newFileAdded",false)}return p;case c("VideoComposerDialogActionTypes").FILE_ADDED:p=p.set("newFileAdded",true);return p;case c("VideoComposerDialogActionTypes").SELECT_SECTION:p=p.set("selectedSection",q.section);switch(q.section){case c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED:p=p.set("selectedThumbnail",t[v]);break;case c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM:if(s!==null)p=p.set("selectedThumbnail",s);break;case c("VideoComposerDialogThumbnailTypes").ThumbnailSection.VIDEO_FRAME:if(u!==null)p=p.set("selectedThumbnail",u);break;default:break}return p;case c("VideoComposerDialogActionTypes").TOGGLE_SELECTED_GENERATED_THUMBNAIL:p=p.set("hasSelectedGeneratedThumb",true);p=p.set("selectedGeneratedIndex",q.index);p=p.set("selectedThumbnail",t[q.index]);return p;case c("VideoComposerDialogActionTypes").UPDATE_CUSTOM_THUMBNAIL:p=p.set("customThumbnail",q.thumbnail);p=p.set("selectedThumbnail",q.thumbnail);return p;case c("VideoComposerDialogActionTypes").UPDATE_SCRUBBED_THUMBNAIL:p=p.set("scrubbedThumbnail",q.thumbnail);p=p.set("selectedThumbnail",q.thumbnail);return p;case c("VideoComposerDialogActionTypes").UPDATE_SELECTED_THUMBNAIL:p=p.set("selectedThumbnail",q.thumbnail);return p;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:p=this.getInitialState();return p;default:return p}};o.prototype.$VideoComposerDialogThumbnailsStore1=function(p,q,r){__p&&__p();var s=[],t=[];for(var u=r.length-1;u>=l;u--){s.push(u);t.push(r[u])}for(var v=0;v<Math.min(r.length,l);v++){s.push(v);t.push(r[v])}p=p.set("displayOrder",s);p=p.set("generatedThumbnails",t.map(function(w){return new(c("URLVideoThumbnail"))(w)}));p=p.set("selectedThumbnail",new(c("URLVideoThumbnail"))(q));p=p.set("selectedGeneratedIndex",t.findIndex(function(w){return w===q}));return p};o.prototype.getPostData=function(){__p&&__p();var p=this.getState(),q=p.hasSelectedGeneratedThumb,r=p.scrubbedThumbnail,s=p.selectedThumbnail,t={};if(s){if(s instanceof c("FileVideoThumbnail"))t.thumbnail_type=c("VideoThumbnailSource").CUSTOM;else if(r!==null&&r===s){t.thumbnail_type=c("VideoThumbnailSource").SCRUBBER_SELECTED;t.user_scrubbed_thumbnail_timestamp=s.getTime()}else t.thumbnail_type=q?c("VideoThumbnailSource").GENERATED_SELECTED:c("VideoThumbnailSource").GENERATED_DEFAULT;return s.getData().then(function(u){t.thumb=u;return t})}return c("Promise").resolve(t)};o.prototype.getCrosspostRequestDataToSend=function(){return this.$VideoComposerDialogThumbnailsStore2("thumb")};o.prototype.getEditRequestDataToSend=function(){return this.$VideoComposerDialogThumbnailsStore2("custom_thumbnail")};o.prototype.$VideoComposerDialogThumbnailsStore2=function(p){__p&&__p();var q=this.getState(),r=q.generatedThumbnails,s=q.selectedThumbnail,t=q.displayOrder,u={},v=-1;if(s instanceof c("URLVideoThumbnail")){r.forEach(function(x,y){if(x.getURL()===s.getURL())v=y});if(v!=-1)Object.assign(u,{preferred_thumbnail_index:t[v]+1})}if(s instanceof c("FileVideoThumbnail")){var w=s.getData();Object.assign(u,{preferred_thumbnail_index:r.length+1});return w.then(function(x){if(x)u[p]=x;return u})}return c("Promise").resolve(u)};function o(){j.apply(this,arguments)}f.exports=new o(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogThumbnailsTabConfig",["ix","fbt","React","VideoComposerDialogTab","VideoComposerDialogThumbnailsContainer.react","VideoComposerDialogThumbnailsStore","VideoComposerDialogThumbnailsTabContainer.react","VideoComposerDialogThumbnailUtils","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").THUMBNAILS,glyphSelected:h("425096"),glyphUnselected:h("425099"),title:i._("Thumbnail"),defaultDescription:c("React").createElement("div",null),tabContainer:c("VideoComposerDialogThumbnailsTabContainer.react"),bodyContainer:c("VideoComposerDialogThumbnailsContainer.react"),getCrosspostRequestDataToSend:function k(){return c("VideoComposerDialogThumbnailsStore").getCrosspostRequestDataToSend()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogThumbnailsStore").getEditRequestDataToSend()},getPostData:function k(){return c("VideoComposerDialogThumbnailsStore").getPostData()},fetchCrosspostData:function k(l){return c("VideoComposerDialogThumbnailUtils").beginBootloadingCrosspostThumbnailsTab(l.actorID,l.videoAssetID)},fetchEditPostData:function k(l){return c("VideoComposerDialogThumbnailUtils").beginBootloadingEditThumbnailsTab(l.actorID,l.videoID)}};f.exports=j}),null);
__d("VideoComposerDialogTrackingStore",["Promise","FluxReduceStore","immutable","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","flattenPHPQueryData"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={customLabels:[],universalID:""};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").BOOTLOAD_TRACKING_EDIT_PARAMS:o=o.set("customLabels",p.data.customLabels);o=o.set("universalID",p.data.universalID);return o;case c("VideoComposerDialogActionTypes").UPDATE_CUSTOM_LABELS:o=o.set("customLabels",p.customLabels);return o;case c("VideoComposerDialogActionTypes").UPDATE_UNIVERSAL_ID:o=o.set("universalID",p.universalID);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:o=this.getInitialState();return o;default:return o}};n.prototype.getPostData=function(){var o=this.getState(),p=o.customLabels,q=o.universalID;return c("Promise").resolve({custom_labels:p,external_video_id:q})};n.prototype.getEditRequestDataToSend=function(){return this.getPostData().then(function(o){return c("Promise").resolve(c("flattenPHPQueryData")(o))})};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogTrackingActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h=function h(k){var l={type:c("VideoComposerDialogActionTypes").BOOTLOAD_TRACKING_EDIT_PARAMS,data:k};c("VideoComposerDialogDispatcher").dispatch(l)},i=function i(k){var l={type:c("VideoComposerDialogActionTypes").UPDATE_CUSTOM_LABELS,customLabels:k};c("VideoComposerDialogDispatcher").dispatch(l)},j=function j(k){var l={type:c("VideoComposerDialogActionTypes").UPDATE_UNIVERSAL_ID,universalID:k};c("VideoComposerDialogDispatcher").dispatch(l)};f.exports={bootloadTrackingEditParams:h,updateCustomLabels:i,updateUniversalID:j}}),null);
__d("XVideoComposerDialogEditTrackingTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/tracking/",{video_id:{type:"FBID",required:true}})}),null);
__d("XVideoCustomLabelsTypeaheadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/custom_labels/typeahead/",{profile_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogTrackingUtils",["ActorURI","AsyncRequest","VideoComposerDialogTrackingActions","WebAsyncSearchSource","XVideoComposerDialogEditTrackingTabController","XVideoCustomLabelsTypeaheadController"],(function a(b,c,d,e,f,g){"use strict";var h=function h(j){var k=c("XVideoComposerDialogEditTrackingTabController").getURIBuilder().setFBID("video_id",j.videoID).getURI(),l=c("ActorURI").create(k,j.actorID);return new(c("AsyncRequest"))().setURI(l).exec().then(function(m){c("VideoComposerDialogTrackingActions").bootloadTrackingEditParams(m.payload)})},i=function i(j){var k=c("XVideoCustomLabelsTypeaheadController").getURIBuilder().setFBID("profile_id",j).getURI();return new(c("WebAsyncSearchSource"))({bootstrapRequests:[{uri:k}],getAllForEmptyQuery:true})};f.exports={beginBootloadingEditTrackingTab:h,loadCustomLabelsSearchSource:i}}),null);
__d("VideoComposerDialogTrackingTabConfig",["ix","fbt","Promise","VideoComposerDialogTab","VideoComposerDialogTrackingContainer.react","VideoComposerDialogTrackingStore","VideoComposerDialogTrackingTabContainer.react","VideoComposerDialogTrackingUtils","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").TRACKING,glyphSelected:h("401232"),glyphUnselected:h("401239"),title:i._("Tracking"),defaultDescription:i._("Add labels to help you manage and search for your video."),tabContainer:c("VideoComposerDialogTrackingTabContainer.react"),bodyContainer:c("VideoComposerDialogTrackingContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogTrackingStore").getEditRequestDataToSend()},getPostData:function k(){return c("VideoComposerDialogTrackingStore").getPostData()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("VideoComposerDialogTrackingUtils").beginBootloadingEditTrackingTab(l)}};f.exports=j}),null);
__d("PagesSettingsInstreamAdsBlockListImportDialog.react",["cx","fbt","FileInput.react","LayerFadeOnHide","LayerFadeOnShow","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIRadioList.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("XUIRadioList.react").Item;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.$PagesSettingsInstreamAdsBlockListImportDialog2=function(o){if(!o)this.props.onCancel()}.bind(this);this.$PagesSettingsInstreamAdsBlockListImportDialog3=function(event){var o=false;if(this.state.radioState==="replace")o=true;this.props.onImportBlockLists(o,event.target);this.props.onConfirm()}.bind(this);this.$PagesSettingsInstreamAdsBlockListImportDialog1=function(o){this.setState({radioState:o})}.bind(this);this.state={radioState:"add"}}m.prototype.render=function(){if(!this.props.isShown)return null;var n=null;if(this.props.showRadioList)n=c("React").createElement(c("XUIRadioList.react"),{className:"_5_qk",onValueChange:this.$PagesSettingsInstreamAdsBlockListImportDialog1,selectedValue:this.state.radioState},c("React").createElement(l,{value:"add"},i._("Add as a new block list")),c("React").createElement(l,{value:"replace"},i._("Replace current block lists")));return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide"),LayerFadeOnShow:c("LayerFadeOnShow")},onToggle:this.$PagesSettingsInstreamAdsBlockListImportDialog2,shown:this.props.isShown,width:500},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Import block lists")),c("React").createElement(c("XUIDialogBody.react"),null,i._("Import an existing block list (.csv) from another Page to use it on this Page."),n),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("FileInput.react"),{ref:"fileInput",onChange:this.$PagesSettingsInstreamAdsBlockListImportDialog3,name:"csv_file",accept:"text/csv"},c("React").createElement(c("XUIButton.react"),{use:"confirm",label:i._("Upload CSV"),href:"#"}))))};f.exports=m}),null);
__d("PagesSettingsInstreamAdsBlockListGlyphButton.react",["cx","React","SUIGlyphIcon.react","Tooltip"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.state={hover:false}}k.prototype.render=function(){return c("React").createElement("div",babelHelpers["extends"]({className:"_3es_"+(this.props.disabled?" _b9s":"")+(this.props.hidden?" _b9t":""),onMouseEnter:this.$PagesSettingsInstreamAdsBlockListGlyphButton1.bind(this),onMouseLeave:this.$PagesSettingsInstreamAdsBlockListGlyphButton2.bind(this)},c("Tooltip").propsFor(this.props.tooltip)),c("React").createElement(c("SUIGlyphIcon.react"),{active:this.props.active,hover:this.state.hover,srcActive:this.props.srcActive,srcDefault:this.props.srcDefault,srcHover:this.props.srcHover,onClick:this.props.disabled?null:this.props.onClick}))};k.prototype.$PagesSettingsInstreamAdsBlockListGlyphButton1=function(){this.setState({hover:true})};k.prototype.$PagesSettingsInstreamAdsBlockListGlyphButton2=function(){this.setState({hover:false})};k.defaultProps={active:false,disabled:false,hidden:false};f.exports=k}),null);
__d("PagesSettingsInstreamAdsBlockListItem.react",["ix","cx","fbt","InstreamAdsBlockListState","React","SimpleXUIDialog","PagesSettingsInstreamAdsBlockListGlyphButton.react","Tooltip","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n);this.state={isActive:false}}m.prototype.render=function(){__p&&__p();var n=null,o=null,p=null,q=null;if(!this.props.requestSent&&this.state.isActive){var r=this.props.editable?h("126554"):h("126072"),s=this.props.editable?h("128156"):h("127674"),t=this.props.editable?j._("Edit"):j._("Open");o=c("React").createElement("div",{className:"_3-9c"},c("React").createElement(c("PagesSettingsInstreamAdsBlockListGlyphButton.react"),{srcDefault:r,srcHover:s,tooltip:t,onClick:this.$PagesSettingsInstreamAdsBlockListItem1.bind(this)}));if(this.props.editable)p=c("React").createElement("div",{className:"_3-9c"},c("React").createElement(c("PagesSettingsInstreamAdsBlockListGlyphButton.react"),{srcDefault:h("125921"),srcHover:h("127523"),tooltip:j._("Delete"),onClick:this.$PagesSettingsInstreamAdsBlockListItem2.bind(this)}));if(this.props.enableBlockListExportButton)q=c("React").createElement(c("PagesSettingsInstreamAdsBlockListGlyphButton.react"),{srcDefault:h("126026"),srcHover:h("127628"),tooltip:j._("Export"),onClick:this.$PagesSettingsInstreamAdsBlockListItem3.bind(this)})}if(this.props.appliable){var u=this.$PagesSettingsInstreamAdsBlockListItem4()?h("122578"):h("123261"),v=this.props.blockList.isPageLevel,w=null;if(!v)w=this.$PagesSettingsInstreamAdsBlockListItem4()?j._("Cancel"):j._("Apply");n=c("React").createElement(c("PagesSettingsInstreamAdsBlockListGlyphButton.react"),{active:this.$PagesSettingsInstreamAdsBlockListItem4()||this.$PagesSettingsInstreamAdsBlockListItem5(),disabled:v,hidden:!this.state.isActive&&!this.$PagesSettingsInstreamAdsBlockListItem4()&&!this.$PagesSettingsInstreamAdsBlockListItem5(),srcActive:u,srcDefault:h("125782"),srcHover:h("127384"),tooltip:w,onClick:this.$PagesSettingsInstreamAdsBlockListItem6.bind(this)})}return c("React").createElement("li",{className:"_apd"+(this.state.isActive?" _2hpc":""),key:this.props.blockList.id,onMouseEnter:this.$PagesSettingsInstreamAdsBlockListItem7.bind(this),onMouseLeave:this.$PagesSettingsInstreamAdsBlockListItem8.bind(this)},n,c("React").createElement("div",{className:"_2hpd"},c("React").createElement("div",{className:"_apj"},this.props.blockList.name),c("React").createElement("div",{className:"_apk"},this.$PagesSettingsInstreamAdsBlockListItem9())),q,o,p)};m.prototype.$PagesSettingsInstreamAdsBlockListItem9=function(){if(this.props.blockList.isPageLevel)return c("React").createElement("span",null,this.$PagesSettingsInstreamAdsBlockListItem10(),j._("Page-level block list")," \xb7 ",j._("Applied to all videos"));else if(this.props.blockList.numVideosApplied>0)return c("React").createElement("span",null,this.$PagesSettingsInstreamAdsBlockListItem10(),j._({"*":"Applied to {number} videos","_1":"Applied to 1 video"},[j.plural(this.props.blockList.numVideosApplied,"number")]));return c("React").createElement("span",null,this.$PagesSettingsInstreamAdsBlockListItem10(),j._("Not applied yet"))};m.prototype.$PagesSettingsInstreamAdsBlockListItem10=function(){if(!this.props.blockList.isBusinessLevel)return null;return c("React").createElement("span",babelHelpers["extends"]({className:"_1nt2"},c("Tooltip").propsFor(j._("This block list was added by a Business Manager admin and can't be edited. Contact your Business Manager admin for more info."))),j._("Business"))};m.prototype.$PagesSettingsInstreamAdsBlockListItem7=function(){this.setState({isActive:true})};m.prototype.$PagesSettingsInstreamAdsBlockListItem8=function(){this.setState({isActive:false})};m.prototype.$PagesSettingsInstreamAdsBlockListItem3=function(){this.props.onClickExportSingleBlockList(this.props.blockList.id)};m.prototype.$PagesSettingsInstreamAdsBlockListItem1=function(){this.props.onClickItem(this.props.blockList)};m.prototype.$PagesSettingsInstreamAdsBlockListItem2=function(){var n=c("React").createElement("div",{className:"_4xfq"},j._("Are you sure that you want to delete the block list {name}?",[j.param("name",this.props.blockList.name)]));c("SimpleXUIDialog").showConfirm(n,j._("Delete"),function(o){if(o)this.props.onDeleteItem(this.props.blockList.id)}.bind(this))};m.prototype.$PagesSettingsInstreamAdsBlockListItem4=function(){return this.props.state===c("InstreamAdsBlockListState").APPLIED||this.props.blockList.isPageLevel};m.prototype.$PagesSettingsInstreamAdsBlockListItem5=function(){return this.props.state===c("InstreamAdsBlockListState").PARTIALLY_APPLIED};m.prototype.$PagesSettingsInstreamAdsBlockListItem6=function(){if(this.$PagesSettingsInstreamAdsBlockListItem4())this.props.onUnapplyBlockList(this.props.blockList.id);else this.props.onApplyBlockList(this.props.blockList.id);this.props.onApplyOrUnapply&&this.props.onApplyOrUnapply()};f.exports=m}),null);
__d("PagesSettingsInstreamAdsBlockListView.react",["ix","cx","fbt","Image.react","InfiniteScroll.react","Link.react","PagesSettingsInstreamAdsBlockListContentContainer","PagesSettingsInstreamAdsBlockListImportDialog.react","PagesSettingsInstreamAdsBlockListItem.react","PopoverMenu.react","React","ReactXUIMenu","SimpleXUIDialog","Tooltip","XUIButton.react","XUIDialogCloseButton.react","XUINotice.react","XUIText.react","XUISpinner.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.renderBlockListItem=function(p){return c("React").createElement(c("PagesSettingsInstreamAdsBlockListItem.react"),{appliable:this.props.appliable,blockList:p,editable:p.editable,enableBlockListExportButton:this.props.enableBlockListExportButton,key:p.id,requestSent:this.props.requestSent,state:this.props.blockListStates.get(p.id),onApplyBlockList:this.props.onApplyBlockList,onApplyOrUnapply:this.props.onApplyOrUnapply,onClickExportSingleBlockList:this.onClickExportSingleBlockList.bind(this),onClickItem:this.onClickBlockListItem.bind(this),onDeleteItem:this.onDeleteBlockListItem.bind(this),onUnapplyBlockList:this.props.onUnapplyBlockList})}.bind(this);this.state={showBlockListContentDialog:false,showImportDialog:false}}n.prototype.render=function(){return c("React").createElement("div",null,this.renderContent.bind(this)(),this.renderBlockListContentDialog.bind(this)(),this.renderImportDialog.bind(this)())};n.prototype.renderContent=function(){__p&&__p();if(!this.props.allBlockListsLoaded)return c("React").createElement("div",{className:"_5-ex"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));if(!this.props.blockLists||this.props.blockLists.length===0){var o=null;if(!this.props.editable)o=c("Tooltip").propsFor(j._("Only Page admins can create new block lists."));var p=null;if(this.props.enableBlockListExportButton&&this.props.editable)p=c("React").createElement(c("XUIButton.react"),{label:j._("Import"),use:"default",onClick:this.onClickShowImportDialog.bind(this),type:"button"});return c("React").createElement("div",null,c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({action:"button",disabled:!this.props.editable,label:j._("Create new"),type:"button",use:"confirm",onClick:this.onClickCreateNewButton.bind(this)},o)),p)}var q=null,r=null;if(this.props.editable){q=c("React").createElement("div",{className:"_ehp"},c("React").createElement(c("Link.react"),{onClick:this.onClickCreateNewButton.bind(this)},j._("Create new")));r=c("React").createElement(m,{onClick:this.onClickShowImportDialog.bind(this)},j._("Import Block Lists"))}var s=null;if(this.props.enableBlockListExportButton){var t=c("React").createElement(c("ReactXUIMenu"),null,r,c("React").createElement(m,{onClick:this.onClickExportAllBlockListsButton.bind(this)},j._("Export Block Lists")));s=c("React").createElement(c("PopoverMenu.react"),{alignh:"right",className:"_4y3o",label:"Options",menu:t},c("React").createElement(c("XUIButton.react"),{image:c("React").createElement(c("Image.react"),{src:h("123028")}),label:"Settings",labelIsHidden:true}))}var u=null;if(this.props.didImportBlockLists)u=c("React").createElement(c("XUINotice.react"),{className:"_334k",use:"success"},c("React").createElement(c("XUIText.react"),{size:"header4"},j._("Block lists updated")),c("React").createElement("br",null),c("React").createElement(c("XUIText.react"),{size:"meta1"},j._("The CSV has been applied to your block lists.")));var v=null;if(this.props.showLowFillRateWarning)v=c("React").createElement(c("XUINotice.react"),{className:"_334k",size:"small",use:"notify"},j._("Blocking too many Pages or categories could significantly reduce the availability of ads that are eligible for your videos."));return c("React").createElement("div",null,c("React").createElement("div",null,u,v),c("React").createElement("div",{className:"_ehn _eho"},c("React").createElement(c("InfiniteScroll.react"),{distanceToEnd:5},this.props.blockLists.map(this.renderBlockListItem,this))),c("React").createElement("div",{className:"_3et1"},q,s))};n.prototype.renderBlockListContentDialog=function(){if(!this.state.showBlockListContentDialog)return null;var o=this.props.editable,p=null;if(this.props.selectedBlockList){o=this.props.selectedBlockList.editable&&this.props.editable;p=this.props.selectedBlockList.id}return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentContainer"),{onToggle:this.onToggle.bind(this),editable:o,enableSubcategories:this.props.enableSubcategories,blockListId:p})};n.prototype.renderImportDialog=function(){var o=true;if(!this.props.blockLists||this.props.blockLists.length===0)o=false;return c("React").createElement(c("PagesSettingsInstreamAdsBlockListImportDialog.react"),{isShown:this.state.showImportDialog,onCancel:this.onClickCloseImportDialog.bind(this),onConfirm:this.onClickImportBlockListButton.bind(this),onImportBlockLists:this.props.onImportBlockLists,showRadioList:o})};n.prototype.onToggle=function(o){this.setState({showBlockListContentDialog:o})};n.prototype.onClickCreateNewButton=function(){this.props.onSelectBlockList(null);this.setState({showBlockListContentDialog:true})};n.prototype.onClickBlockListItem=function(o){this.props.onSelectBlockList(o);this.setState({showBlockListContentDialog:true})};n.prototype.onDeleteBlockListItem=function(o){this.props.onDeleteBlockLists([o])};n.prototype.onClickShowImportDialog=function(){this.setState({showImportDialog:true})};n.prototype.onClickCloseImportDialog=function(){this.setState({showImportDialog:false})};n.prototype.onClickImportBlockListButton=function(){this.setState({showImportDialog:false})};n.prototype.onClickExportAllBlockListsButton=function(){this.props.onExportAllBlockLists();this.showExportDialog()};n.prototype.onClickExportSingleBlockList=function(o){this.props.onExportSingleBlockList(o);this.showExportDialog()};n.prototype.showExportDialog=function(){var o=j._("The block list is downloading. When it's ready, you can import the CSV file to another Page to use it."),p=c("React").createElement(c("XUIDialogCloseButton.react"),null),q=j._("Export block lists");c("SimpleXUIDialog").showEx(o,q,p)};f.exports=n}),null);
__d("VideoComposerDialogAdBreakBlockListItem.react",["cx","fbt","FBCheckbox.react","InstreamAdsBlockListState","Link.react","React","SimpleXUIDialog","Tooltip","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={hover:false},this.$VideoComposerDialogAdBreakBlockListItem1=function(){this.setState({hover:true})}.bind(this),this.$VideoComposerDialogAdBreakBlockListItem2=function(){this.setState({hover:false})}.bind(this),this.$VideoComposerDialogAdBreakBlockListItem3=function(){!this.props.requestSent&&this.props.onClickItem(this.props.blockList)}.bind(this),this.$VideoComposerDialogAdBreakBlockListItem4=function(){var t=c("React").createElement("div",{className:"_4xfq"},i._("Are you sure that you want to delete the block list {name}?",[i.param("name",this.props.blockList.name)]));c("SimpleXUIDialog").showConfirm(t,i._("Delete"),function(u){if(u)this.props.onDeleteItem(this.props.blockList.id)}.bind(this))}.bind(this),this.$VideoComposerDialogAdBreakBlockListItem6=function(t){if(this.props.requestSent||this.props.blockList.isPageLevel)return;if(!this.$VideoComposerDialogAdBreakBlockListItem5())this.props.onApplyBlockList(this.props.blockList.id);else this.props.onUnapplyBlockList(this.props.blockList.id)}.bind(this),p}l.prototype.$VideoComposerDialogAdBreakBlockListItem5=function(){return this.props.state===c("InstreamAdsBlockListState").APPLIED||this.props.blockList.isPageLevel};l.prototype.$VideoComposerDialogAdBreakBlockListItem7=function(){if(this.props.blockList.isPageLevel)return null;return this.$VideoComposerDialogAdBreakBlockListItem5()?i._("Cancel"):i._("Apply")};l.prototype.render=function(){return c("React").createElement("div",{className:"_4vdl _29qc",onMouseEnter:this.$VideoComposerDialogAdBreakBlockListItem1,onMouseLeave:this.$VideoComposerDialogAdBreakBlockListItem2},c("React").createElement("div",{className:"_4vdp"+(this.props.isFirstItem?" _4vdr":"")+(this.props.isLastItem?" _4vds":"")},c("React").createElement("div",babelHelpers["extends"]({href:"#"},c("Tooltip").propsFor(this.$VideoComposerDialogAdBreakBlockListItem7())),c("React").createElement(c("FBCheckbox.react"),{checked:this.$VideoComposerDialogAdBreakBlockListItem5(),className:"_29qd"+(this.props.blockList.isPageLevel?" _29qg":""),onToggle:this.$VideoComposerDialogAdBreakBlockListItem6})),c("React").createElement("div",{className:"_23q-"},c("React").createElement(c("Link.react"),{onClick:this.$VideoComposerDialogAdBreakBlockListItem3},c("React").createElement(c("XUIText.react"),{className:"_23q_",display:"block",size:"meta1",weight:"bold"},this.props.blockList.name)),c("React").createElement(m,{blockList:this.props.blockList}))),c("React").createElement("div",{className:"_4vdv"},c("React").createElement("div",{className:"_4vdw"+(this.props.requestSent||!this.state.hover||!this.props.editable?" _4vdx":""),onClick:this.$VideoComposerDialogAdBreakBlockListItem4,role:"presentation"})))};function m(o){var p=null;if(o.blockList.isPageLevel)p=c("React").createElement("span",null,i._("Default")," \xb7 ",i._("Applied to all videos"));else if(o.blockList.numVideosApplied>0)p=i._({"*":"Applied to {number} videos","_1":"Applied to 1 video"},[i.plural(o.blockList.numVideosApplied,"number")]);else p=i._("Not applied yet");return c("React").createElement("div",null,o.blockList.isBusinessLevel?c("React").createElement(n,null):null,c("React").createElement(c("XUIGrayText.react"),{className:"_23q_",size:"meta1"},p))}function n(){return c("React").createElement("span",babelHelpers["extends"]({className:"_1nt2",href:"#"},c("Tooltip").propsFor(i._("This block list was added by a Business Manager admin and can't be edited. Contact your Business Manager admin for more info."))),i._("Business"))}f.exports=l}),null);
__d("VideoComposerDialogAdBreakBlockListView.react",["cx","fbt","InstreamAdsBlockListState","Map","PagesSettingsInstreamAdsBlockListContentContainer","React","Tooltip","VideoComposerDialogAdBreakBlockListItem.react","XUIButton.react","XUINotice.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={showBlockListContentDialog:false},this.$VideoComposerDialogAdBreakBlockListView1=function(s){this.setState({showBlockListContentDialog:s})}.bind(this),this.$VideoComposerDialogAdBreakBlockListView2=function(){this.props.onSelectBlockList(null);this.setState({showBlockListContentDialog:true})}.bind(this),this.$VideoComposerDialogAdBreakBlockListView3=function(s){this.props.onSelectBlockList(s);this.setState({showBlockListContentDialog:true})}.bind(this),this.$VideoComposerDialogAdBreakBlockListView4=function(s){this.props.onDeleteBlockLists([s])}.bind(this),o}l.prototype.render=function(){__p&&__p();if(!this.props.allBlockListsLoaded)return c("React").createElement("div",{className:"_1fxr"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));var n=null;if(!this.props.editable)n=c("Tooltip").propsFor(i._("Only Page admins can create new block lists."));var o=null;if(this.props.showLowFillRateWarning)o=c("React").createElement(c("XUINotice.react"),{className:"_3-98",size:"small",use:"notify"},i._("Blocking too many Pages or categories could significantly reduce the availability of ads that are eligible for your videos."));return c("React").createElement("div",{className:"_4vdk"},c("React").createElement(m,{editable:this.props.editable,selectedBlockList:this.props.selectedBlockList,showBlockListContentDialog:this.state.showBlockListContentDialog,onToggleDialog:this.$VideoComposerDialogAdBreakBlockListView1}),c("React").createElement("div",null,o),this.props.blockLists.map(function(p,q){var r=this.props.blockListStates.get(p.id);return c("React").createElement(c("VideoComposerDialogAdBreakBlockListItem.react"),{blockList:p,editable:p.editable,isFirstItem:q===0,isLastItem:q===this.props.blockLists.length-1,key:p.id,requestSent:this.props.requestSent,state:r?r:c("InstreamAdsBlockListState").NOT_APPLIED,onApplyBlockList:this.props.onApplyBlockList,onClickItem:this.$VideoComposerDialogAdBreakBlockListView3,onDeleteItem:this.$VideoComposerDialogAdBreakBlockListView4,onUnapplyBlockList:this.props.onUnapplyBlockList})}.bind(this)),c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({className:"_4vdf _29qh",disabled:!this.props.editable,href:"#",label:i._("Create new"),use:"default",onClick:this.$VideoComposerDialogAdBreakBlockListView2},n)))};function m(n){if(!n.showBlockListContentDialog)return null;var o=n.editable,p=null;if(n.selectedBlockList){o=n.selectedBlockList.editable&&n.editable;p=n.selectedBlockList.id}return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentContainer"),{blockListId:p,editable:o,enableSubcategories:false,onToggle:n.onToggleDialog})}f.exports=l}),null);
__d("PagesSettingsInstreamAdsBlockListContainer",["AdBreakPortalInstreamAdsBlockListView.react","FluxContainer","Map","PagesSettingsInstreamAdsBlockListActions","PagesSettingsInstreamAdsBlockListContentStore","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListStore","PagesSettingsInstreamAdsBlockListView.react","React","VideoComposerDialogAdBreakBlockListView.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("PagesSettingsInstreamAdsBlockListStore")]};j.calculateState=function(k){var l=c("PagesSettingsInstreamAdsBlockListStore").getState();return{allBlockListsLoaded:l.allBlockListsLoaded,blockLists:Array.from(l.blockLists),blockListStates:new(c("Map"))(l.blockListStates),didImportBlockLists:l.didImportBlockLists,editable:l.editable,enableSubcategories:l.enableSubcategories,pageId:l.pageId,requestSent:l.requestSent,selectedBlockList:l.selectedBlockList,showLowFillRateWarning:l.showLowFillRateWarning}};j.prototype.componentWillMount=function(){c("PagesSettingsInstreamAdsBlockListDispatcher").explicitlyRegisterStores([c("PagesSettingsInstreamAdsBlockListStore"),c("PagesSettingsInstreamAdsBlockListContentStore")])};j.prototype.componentDidMount=function(){if(!this.props.shouldInitializeOnMount)return;var k=this.props.businessID;if(k)c("PagesSettingsInstreamAdsBlockListActions").initializeBlockListsOnBusinessLevel(k);else c("PagesSettingsInstreamAdsBlockListActions").initializeBlockLists(this.props.currentPageId,this.props.targetIsVideoAssetIds)};j.prototype.render=function(){if(this.props.businessID)return c("React").createElement(c("AdBreakPortalInstreamAdsBlockListView.react"),{blockLists:this.state.blockLists,businessId:this.props.businessID,editable:this.state.editable,enableSubcategories:this.state.enableSubcategories,isLoading:!this.state.allBlockListsLoaded||this.state.requestSent,onDeleteBlockLists:c("PagesSettingsInstreamAdsBlockListActions").deleteBlockLists,onSelectBlockList:c("PagesSettingsInstreamAdsBlockListActions").selectBlockList,selectedBlockList:this.state.selectedBlockList});else if(this.props.isNewComposerStyle)return c("React").createElement(c("VideoComposerDialogAdBreakBlockListView.react"),{allBlockListsLoaded:this.state.allBlockListsLoaded,blockListStates:this.state.blockListStates,blockLists:this.state.blockLists,editable:this.state.editable,onApplyBlockList:c("PagesSettingsInstreamAdsBlockListActions").applyBlockList,onDeleteBlockLists:c("PagesSettingsInstreamAdsBlockListActions").deleteBlockLists,onSelectBlockList:c("PagesSettingsInstreamAdsBlockListActions").selectBlockList,onUnapplyBlockList:c("PagesSettingsInstreamAdsBlockListActions").unapplyBlockList,requestSent:this.state.requestSent,selectedBlockList:this.state.selectedBlockList,showLowFillRateWarning:this.state.showLowFillRateWarning});return c("React").createElement(c("PagesSettingsInstreamAdsBlockListView.react"),{allBlockListsLoaded:this.state.allBlockListsLoaded,appliable:this.props.appliable,blockListStates:this.state.blockListStates,blockLists:this.state.blockLists,didImportBlockLists:this.state.didImportBlockLists,editable:this.state.editable,enableBlockListExportButton:this.props.enableBlockListExportButton,enableSubcategories:this.state.enableSubcategories,onApplyBlockList:c("PagesSettingsInstreamAdsBlockListActions").applyBlockList,onApplyOrUnapply:this.props.onApplyOrUnapply,onDeleteBlockLists:c("PagesSettingsInstreamAdsBlockListActions").deleteBlockLists,onExportAllBlockLists:c("PagesSettingsInstreamAdsBlockListActions").exportAllBlockLists,onExportSingleBlockList:c("PagesSettingsInstreamAdsBlockListActions").exportSingleBlockList,onImportBlockLists:c("PagesSettingsInstreamAdsBlockListActions").importBlockLists,onSelectBlockList:c("PagesSettingsInstreamAdsBlockListActions").selectBlockList,onUnapplyBlockList:c("PagesSettingsInstreamAdsBlockListActions").unapplyBlockList,pageId:this.state.pageId,requestSent:this.state.requestSent,selectedBlockList:this.state.selectedBlockList,showLowFillRateWarning:this.state.showLowFillRateWarning})};function j(){h.apply(this,arguments)}j.defaultProps={appliable:false,businessID:null,enableBlockListExportButton:false,isNewComposerStyle:false,shouldInitializeOnMount:true};f.exports=c("FluxContainer").create(j,{pure:false})}),null);
__d("VideoComposerDialogField.react",["ix","cx","Image.react","React","Tooltip.react","XUIText.react","XUIGrayText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:this.props.disabled?"_2ukm":""},c("React").createElement("div",{className:this.props.showTopBorder?"_2fb1":""}),c("React").createElement("div",{className:"_gtn"+(this.props.showTopBorder?" _2pig":"")},c("React").createElement("div",{className:"_2fbh"},c("React").createElement("div",{className:"_ini"},c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},this.props.title),this.props.tooltip?c("React").createElement(c("Tooltip.react"),{tooltip:this.props.tooltip},c("React").createElement(c("Image.react"),{className:"_inj",src:h("126340")})):null),this.props.subtitle?c("React").createElement(c("XUIGrayText.react"),{className:"_64dx",display:"block",size:"meta1"},this.props.subtitle):null,this.props.footer?c("React").createElement("div",{className:"_3-8y"},this.props.footer):null),c("React").createElement("div",{className:"_inl"+(this.props.inputPadding?" _648t":"")},this.props.input)))};function l(){j.apply(this,arguments)}l.defaultProps={disabled:false,inputPadding:false,showTopBorder:true};f.exports=l}),null);
__d("VideoComposerDialogAdBreakBlockListField.react",["fbt","PagesSettingsInstreamAdsBlockListContainer","React","VideoComposerDialogField.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.pageID;if(l==null)return null;return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement(c("PagesSettingsInstreamAdsBlockListContainer"),{appliable:true,currentPageId:l,isNewComposerStyle:true,shouldInitializeOnMount:false}),inputPadding:true,subtitle:h._("Use block lists to prevent certain kinds of ads from appearing in your videos."),title:h._("Block Lists"),tooltip:h._("Use block lists to prevent certain types of ads from appearing in your videos. Block lists can be applied to specific videos or to all videos on your Page.")})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("XVideoComposerDialogAdBreakNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/nux/",{nux_id:{type:"Int",required:true}})}),null);
__d("VideoComposerDialogAdBreakNUX.react",["cx","AsyncRequest","ContextualLayerShowAndHideOnScrollOut","ContextualLayerUpdateOnScroll","React","XBasicFBNuxDismissController","XUIAmbientNUX.react","XUINotice.react","XUIText.react","XVideoComposerDialogAdBreakNuxController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={dismissed:!!this.props.nuxID},this.$VideoComposerDialogAdBreakNUX1=function(){this.setState({dismissed:true});if(this.props.nuxID){var q=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",this.props.nuxID).getURI();new(c("AsyncRequest"))().setURI(q).send()}}.bind(this),m}k.prototype.componentWillMount=function(){if(this.props.nuxID){var l=c("XVideoComposerDialogAdBreakNuxController").getURIBuilder().setInt("nux_id",this.props.nuxID).getURI();new(c("AsyncRequest"))().setURI(l).setMethod("GET").setReadOnly(true).setHandler(function(m){if(m.getPayload()&&m.getPayload().shouldShowNux)this.setState({dismissed:false})}.bind(this)).send()}};k.prototype.render=function(){__p&&__p();if(this.state.dismissed)return null;if(this.props.style==="notice"){var l=this.props.dismissible?{onDismiss:this.$VideoComposerDialogAdBreakNUX1}:{};return c("React").createElement(c("XUINotice.react"),babelHelpers["extends"]({className:"_w68",use:"notify"},l),c("React").createElement("div",{className:"_w69"},c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},this.props.title),c("React").createElement("div",{className:"_w6p"},c("React").createElement(c("XUIText.react"),{size:"meta1"},this.props.description))))}if(this.props.style==="tooltip"){var m=this.props.dismissible?{onCloseButtonClick:this.$VideoComposerDialogAdBreakNUX1}:{};return c("React").createElement(c("XUIAmbientNUX.react"),babelHelpers["extends"]({behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll"),ContextualLayerShowAndHideOnScrollOut:c("ContextualLayerShowAndHideOnScrollOut")},contextRef:this.props.contextRef,customwidth:300,position:"above",shown:!this.state.dismissed,width:"custom"},m),c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},this.props.title),c("React").createElement("div",{className:"_w6p"},c("React").createElement(c("XUIText.react"),{size:"meta1"},this.props.description))))}return null};f.exports=k}),null);
__d("VideoComposerDialogAdBreakDemonetizationNotice.react",["fbt","Link.react","MonetizationEligibilityStandardsGuideLines","React","VideoComposerDialogAdBreakNUX.react"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){if(!j.isDemonetized)return null;return c("React").createElement(c("VideoComposerDialogAdBreakNUX.react"),{description:c("React").createElement("div",null,h._("Ads have been reduced or stopped for this video because it contains content that does not meet Facebook's content guidelines for monetisation.")," ",c("React").createElement(c("Link.react"),{href:c("MonetizationEligibilityStandardsGuideLines").contentGuideLines,target:"_blank"},h._("Learn more")),"."),dismissible:false,style:"notice",title:h._("Video doesn't meet guidelines")})}f.exports=i}),null);
__d("VideoComposerDialogAdBreakSwitch.react",["cx","BUISwitch.react","React","Tooltip","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",babelHelpers["extends"]({className:"_3396"},c("Tooltip").propsFor(this.props.tooltip,"above","right")),c("React").createElement("div",{className:"_3-90"},c("React").createElement(c("BUISwitch.react"),{disabled:this.props.disabled,value:this.props.value,onToggle:this.props.onToggle})),this.props.value?c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold"},this.props.labelOn):c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold"},this.props.labelOff))};function k(){i.apply(this,arguments)}k.defaultProps={disabled:false};f.exports=k}),null);
__d("VideoComposerDialogAdBreakHoldoutTestField.react",["cx","fbt","HubbleConstants","Link.react","React","VideoComposerDialogAdBreakSwitch.react","VideoComposerDialogField.react","VideoComposerDialogRadioButton.react","XPagesManagerInsightsController","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$VideoComposerDialogAdBreakHoldoutTestField1=function(){this.props.onUpdateHoldoutTestStatus(true)}.bind(this),this.$VideoComposerDialogAdBreakHoldoutTestField2=function(){this.props.onUpdateHoldoutTestStatus(false)}.bind(this),o}l.prototype.render=function(){if(!this.props.holdoutTestPublicMetadata.isEligibleCreator||!this.props.hasEnabledAdBreaks)return null;return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement(m,{enabled:this.props.enabled,holdoutTestPublicMetadata:this.props.holdoutTestPublicMetadata,pageID:this.props.pageID,onDisableHoldoutTest:this.$VideoComposerDialogAdBreakHoldoutTestField2,onEnableHoldoutTest:this.$VideoComposerDialogAdBreakHoldoutTestField1,onUpdateHoldoutTestStatus:this.props.onUpdateHoldoutTestStatus}),inputPadding:true,subtitle:i._("Enable hold-out testing to learn how your video performs when there are ad breaks."),title:i._("Viewer holdout testing"),tooltip:c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold"},i._("How holdouts work for ad breaks")),c("React").createElement("br",null),c("React").createElement(c("XUIText.react"),{display:"block"},i._("For this video, a small percentage of your viewers will be split into a group for the test. Some viewers will see ads and some won't. The remaining viewers are not affected.")),c("React").createElement("br",null),c("React").createElement(c("XUIText.react"),{display:"block"},i._("When you turn on hold-out testing for a video, the test will run for 14 days or until the test group with ad breaks earns $100. Test results are available in your Page Insights.")))})};function m(n){var o=c("XPagesManagerInsightsController").getURIBuilder().setString("page_token",n.pageID).setString("section",c("HubbleConstants").NAV_SECTIONS.AD_BREAKS).getURI();if(n.holdoutTestPublicMetadata.isExpired)return c("React").createElement(c("XUIText.react"),{size:"meta1"},i._("Test results are available in your {page insights link}",[i.param("page insights link",c("React").createElement(c("Link.react"),{href:o},i._("Page's Insights.")))]));if(n.holdoutTestPublicMetadata.isStarted)return c("React").createElement(c("VideoComposerDialogAdBreakSwitch.react"),{labelOff:i._("OFF"),labelOn:i._("ON"),tooltip:n.enabled?i._("Turn off test and disable holdout testing permanently for this video."):null,value:n.enabled,onToggle:n.onUpdateHoldoutTestStatus});return c("React").createElement("div",{className:"_4rzm"},c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:n.enabled,label:i._("Yes"),onSelect:n.onEnableHoldoutTest}),c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:!n.enabled,label:i._("No"),onSelect:n.onDisableHoldoutTest}))}f.exports=l}),null);
__d("VideoComposerDialogAdBreakAutoAdjustmentTooltip.react",["fbt","React","VideoComposerDialogAdBreakNUX.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=5575;function j(k){return c("React").createElement(c("VideoComposerDialogAdBreakNUX.react"),{contextRef:k.contextRef,description:c("React").createElement("div",null,h._("To give viewers the best possible experience, ad placements that interrupt speech in the video may be moved slightly earlier or later.")),dismissible:true,nuxID:i,style:"tooltip",title:h._("Optimized Ad Break Placements")})}f.exports=j}),null);
__d("VideoComposerDialogAdBreakAutoAdjustmentSettings.react",["cx","fbt","React","SUIBusinessTheme","SUIText.react","VideoComposerDialogAdBreakAutoAdjustmentTooltip.react","XUICheckboxInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogAdBreakAutoAdjustmentSettings1=function(event){this.props.onEnableAdBreakAutoAdjustment(event.target.checked)}.bind(this),this.$VideoComposerDialogAdBreakAutoAdjustmentSettings2=function(){return this.refs.autoAdjustmentCheckbox}.bind(this),n}l.prototype.render=function(){return c("React").createElement("div",{className:"_65nk"},c("React").createElement("div",{className:"_3-90"},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.props.isAdBreakAutoAdjustmentEnabled,ref:"autoAdjustmentCheckbox",onChange:this.$VideoComposerDialogAdBreakAutoAdjustmentSettings1}),c("React").createElement(c("VideoComposerDialogAdBreakAutoAdjustmentTooltip.react"),{contextRef:this.$VideoComposerDialogAdBreakAutoAdjustmentSettings2})),c("React").createElement(c("SUIText.react"),{color:"secondary",display:"block",theme:c("SUIBusinessTheme")},i._("Automatically adjust ad break placements to improve your viewers' experience")))};f.exports=l}),null);
__d("VideoComposerDialogAdBreakInsertionButton.react",["cx","fbt","DateConsts","React","Tooltip","VideoInstreamAdsConstants","VideoInstreamUtils","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogAdBreakInsertionButton1=function(){__p&&__p();var m=this.props.insertedAdBreaks.map(function(s){return{thumbnailURL:s.thumbnailURL,timeOffset:s.timeOffset}}),n=c("VideoInstreamUtils").getEligibleTimeSegments(m,this.props.videoDuration,this.props.hasGapRule);if(n.length===0){var o=c("VideoInstreamUtils").getMaxPossibleAdBreaks(this.props.videoDuration,this.props.hasGapRule);if(o>m.length)return i._({"*":"Ad breaks need to be at least {number} minutes apart. Based on where you've placed your current ad breaks, there isn't space for another one.","_1":"Ad breaks need to be at least 1 minute apart. Based on where you've placed your current ad breaks, there isn't space for another one."},[i.plural(c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/c("DateConsts").MS_PER_MIN,"number")]);return i._("You've reached your ad break limit for this video.")}var p=c("VideoInstreamUtils").isInEligibleTimeSegments(this.props.currentAdBreakTimeOffset,this.props.videoDuration,m,this.props.hasGapRule);if(p)return null;var q=c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC;if(this.props.currentAdBreakTimeOffset<q)return i._({"*":"Ad breaks cannot be placed in the first {number} seconds.","_1":"Ad breaks cannot be placed in the first second."},[i.plural(q,"number")]);var r=c("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC;if(this.props.currentAdBreakTimeOffset>this.props.videoDuration-r)return i._({"*":"Ad breaks cannot be placed in the last {number} seconds.","_1":"Ad breaks cannot be placed in the last second."},[i.plural(r,"number")]);return i._({"*":"Ad breaks cannot be placed less than {number} minutes apart.","_1":"Ad breaks cannot be placed less than 1 minute apart."},[i.plural(c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/c("DateConsts").MS_PER_MIN,"number")])};l.prototype.render=function(){return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({className:"_4vdf _3-8_",disabled:this.props.disabled||!c("VideoInstreamUtils").isInEligibleTimeSegments(this.props.currentAdBreakTimeOffset,this.props.videoDuration,this.props.insertedAdBreaks.map(function(m){return{timeOffset:m.timeOffset,thumbnailURL:m.thumbnailURL}}),this.props.hasGapRule),href:"#",label:this.props.hasGapRule?i._("Add"):i._("Insert"),labelIsHidden:false,type:"button",onClick:this.props.onInsertAdBreak},c("Tooltip").propsFor(this.$VideoComposerDialogAdBreakInsertionButton1(),"above","right")))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogAdBreakThumbnail.react",["cx","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogAdBreakThumbnail1=function(){if(this.props.isAdBreakDisabled)return;if(this.props.isPreviewingCurrentAdBreak)this.props.onCancelPreview();else if(!this.props.isPreviewingAdBreak&&this.props.adBreakIndex!=null)this.props.onPreviewAdBreak(this.props.adBreakIndex)}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_4vea"+(this.props.isAdBreakDisabled||!this.props.isPreviewingCurrentAdBreak&&this.props.isPreviewingAdBreak?" _4vdt":""),role:"presentation",onClick:this.$VideoComposerDialogAdBreakThumbnail1},c("React").createElement("div",{className:"_4vec"+(this.props.isAdBreakDisabled?" _4vdt":"")},c("React").createElement("div",{className:(!this.props.isPreviewingCurrentAdBreak&&!this.props.isAdBreakDisabled?"_4vee":"")+(this.props.isPreviewingCurrentAdBreak&&!this.props.isAdBreakDisabled?" _4vef":"")})),c("React").createElement(c("Image.react"),{className:"_4veg",src:this.props.thumbnailURL}))};f.exports=k}),null);
__d("VideoComposerDialogAdBreakTimeOffsetEditorArrow.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.disabled;return c("React").createElement("div",{className:"_4vd_"},c("React").createElement("div",{className:(!l?"_4ve1":"")+(l?" _4ve2":""),onMouseDown:this.props.onClickUpArrow}),c("React").createElement("div",{className:(!l?"_4ve4":"")+(l?" _4ve9":""),onMouseDown:this.props.onClickDownArrow}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdBreakTimeOffsetEditor.react",["cx","AbstractTextInput.react","DateConsts","React","VideoComposerDialogAdBreakTimeOffsetEditorArrow.react","VideoInstreamUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=10/c("DateConsts").MS_PER_SEC;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={isInputtingCurrentAdBreak:false,timeOffsetString:"00:00.000"},this.$VideoComposerDialogAdBreakTimeOffsetEditor1=function(event){this.setState({isInputtingCurrentAdBreak:true});this.props.onSetCurrentAdBreak(this.props.adBreakTimeOffset,true,true)}.bind(this),this.$VideoComposerDialogAdBreakTimeOffsetEditor2=function(event){this.setState({isInputtingCurrentAdBreak:false,timeOffsetString:m(this.props.adBreakTimeOffset)})}.bind(this),this.$VideoComposerDialogAdBreakTimeOffsetEditor3=function(event){this.setState({timeOffsetString:event.target.value});var s=c("VideoInstreamUtils").convertFormattedTimeToSeconds(event.target.value);if(this.state.isInputtingCurrentAdBreak)this.props.onSetCurrentAdBreak(Number(s),true,true)}.bind(this),this.$VideoComposerDialogAdBreakTimeOffsetEditor4=function(){this.$VideoComposerDialogAdBreakTimeOffsetEditor5(k)}.bind(this),this.$VideoComposerDialogAdBreakTimeOffsetEditor6=function(){this.$VideoComposerDialogAdBreakTimeOffsetEditor5(-k)}.bind(this),o}l.prototype.componentDidMount=function(){this.setState({timeOffsetString:m(this.props.adBreakTimeOffset)})};l.prototype.componentWillReceiveProps=function(n){if(!this.state.isInputtingCurrentAdBreak)this.setState({timeOffsetString:m(n.adBreakTimeOffset)})};l.prototype.$VideoComposerDialogAdBreakTimeOffsetEditor5=function(n){if(this.props.isPreviewingAdBreak)return;var o=this.props.adBreakTimeOffset+n;o=Math.max(o,0);o=Math.min(o,this.props.videoDuration);this.props.onSetCurrentAdBreak(o,true,true)};l.prototype.$VideoComposerDialogAdBreakTimeOffsetEditor7=function(){return this.props.adBreakIndex===null};l.prototype.render=function(){return c("React").createElement("div",{className:"_4vdy"},this.props.isIndexCircleVisible?c("React").createElement("div",{className:"_4vdz"},this.props.adBreakIndex!==null?this.props.adBreakIndex+1:null):null,c("React").createElement(c("AbstractTextInput.react"),{className:"_4vd-",disabled:this.props.isPreviewingAdBreak||!this.$VideoComposerDialogAdBreakTimeOffsetEditor7(),placeholder:"00:00.000",value:this.state.timeOffsetString,onBlur:this.$VideoComposerDialogAdBreakTimeOffsetEditor2,onChange:this.$VideoComposerDialogAdBreakTimeOffsetEditor3,onDownArrow:this.$VideoComposerDialogAdBreakTimeOffsetEditor6,onFocus:this.$VideoComposerDialogAdBreakTimeOffsetEditor1,onUpArrow:this.$VideoComposerDialogAdBreakTimeOffsetEditor4}),this.$VideoComposerDialogAdBreakTimeOffsetEditor7()?c("React").createElement(c("VideoComposerDialogAdBreakTimeOffsetEditorArrow.react"),{disabled:this.props.isPreviewingAdBreak,onClickDownArrow:this.$VideoComposerDialogAdBreakTimeOffsetEditor6,onClickUpArrow:this.$VideoComposerDialogAdBreakTimeOffsetEditor4}):null)};l.defaultProps={isIndexCircleVisible:true};var m=function m(n){return c("VideoInstreamUtils").convertTimestampToFormattedString(n)};f.exports=l}),null);
__d("VideoComposerDialogAdBreakDetailsItem.react",["cx","AdBreakStatus","React","VideoComposerDialogAdBreakInsertionButton.react","VideoComposerDialogAdBreakThumbnail.react","VideoComposerDialogAdBreakTimeOffsetEditor.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={hover:false},this.$VideoComposerDialogAdBreakDetailsItem1=function(){if(this.props.adBreakIndex!==null&&this.props.adBreakIndex!==undefined)this.props.onDeleteAdBreak(this.props.adBreakIndex)}.bind(this),this.$VideoComposerDialogAdBreakDetailsItem4=function(){this.setState({hover:true})}.bind(this),this.$VideoComposerDialogAdBreakDetailsItem5=function(){this.setState({hover:false})}.bind(this),m}k.prototype.$VideoComposerDialogAdBreakDetailsItem2=function(){return this.props.currentPreviewIndex!==null};k.prototype.$VideoComposerDialogAdBreakDetailsItem3=function(){return this.props.currentPreviewIndex!==null&&this.props.currentPreviewIndex===this.props.adBreakIndex};k.prototype.render=function(){return c("React").createElement("div",{className:"_4vdl _4vdo",onMouseEnter:this.$VideoComposerDialogAdBreakDetailsItem4,onMouseLeave:this.$VideoComposerDialogAdBreakDetailsItem5},c("React").createElement("div",{className:"_4vdp"+(this.props.adBreakIndex===0?" _4vdr":"")+(this.props.adBreakIndex===null?" _4vds":"")+(this.props.adBreak.status===c("AdBreakStatus").DISABLED||this.$VideoComposerDialogAdBreakDetailsItem2()&&!this.$VideoComposerDialogAdBreakDetailsItem3()?" _4vdt":"")+" _2pis"},c("React").createElement(c("VideoComposerDialogAdBreakTimeOffsetEditor.react"),{adBreakIndex:this.props.adBreakIndex,adBreakTimeOffset:this.props.adBreak.timeOffset,isPreviewingAdBreak:this.$VideoComposerDialogAdBreakDetailsItem2(),videoDuration:this.props.videoDuration,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),c("React").createElement("div",{className:"_4vdu"}),this.props.adBreakIndex!==null?c("React").createElement(c("VideoComposerDialogAdBreakThumbnail.react"),{adBreakIndex:this.props.adBreakIndex,isAdBreakDisabled:this.props.adBreak.status===c("AdBreakStatus").DISABLED,isPreviewingAdBreak:this.$VideoComposerDialogAdBreakDetailsItem2(),isPreviewingCurrentAdBreak:this.$VideoComposerDialogAdBreakDetailsItem3(),thumbnailURL:this.props.adBreak.thumbnailURL,onCancelPreview:this.props.onCancelPreview,onPreviewAdBreak:this.props.onPreviewAdBreak}):c("React").createElement(c("VideoComposerDialogAdBreakInsertionButton.react"),{currentAdBreakTimeOffset:this.props.adBreak.timeOffset,disabled:this.props.adBreak.status===c("AdBreakStatus").DISABLED||this.props.currentPreviewIndex!=null,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onInsertAdBreak:this.props.onInsertAdBreak})),c("React").createElement("div",{className:"_4vdv"},c("React").createElement("div",{className:"_4vdw"+(!this.state.hover||this.props.adBreakIndex===null||this.props.currentPreviewIndex!=null?" _4vdx":""),role:"presentation",onClick:this.$VideoComposerDialogAdBreakDetailsItem1})))};f.exports=k}),null);
__d("VideoComposerDialogAdBreakDetails.react",["cx","AdBreakStatus","React","VideoComposerDialogAdBreakDetailsItem.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_4vdk"},c("React").createElement(l,this.props),c("React").createElement(m,this.props))};function k(){i.apply(this,arguments)}function l(n){return n.insertedAdBreaks.map(function(o,p){return c("React").createElement(c("VideoComposerDialogAdBreakDetailsItem.react"),{adBreak:o,adBreakIndex:p,currentPreviewIndex:n.currentPreviewIndex,hasGapRule:n.hasGapRule,insertedAdBreaks:n.insertedAdBreaks,key:p,videoDuration:n.videoDuration,onCancelPreview:n.onCancelPreview,onDeleteAdBreak:n.onDeleteAdBreak,onInsertAdBreak:n.onInsertAdBreak,onPreviewAdBreak:n.onPreviewAdBreak,onSetCurrentAdBreak:n.onSetCurrentAdBreak})})}function m(n){return c("React").createElement(c("VideoComposerDialogAdBreakDetailsItem.react"),{adBreak:{status:n.adBreaksDisabled?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED,thumbnailURL:null,timeOffset:n.currentAdBreakTimeOffset},adBreakIndex:null,currentPreviewIndex:n.currentPreviewIndex,hasGapRule:n.hasGapRule,insertedAdBreaks:n.insertedAdBreaks,videoDuration:n.videoDuration,onCancelPreview:n.onCancelPreview,onDeleteAdBreak:n.onDeleteAdBreak,onInsertAdBreak:n.onInsertAdBreak,onPreviewAdBreak:n.onPreviewAdBreak,onSetCurrentAdBreak:n.onSetCurrentAdBreak})}f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertionField.react",["cx","fbt","BUISwitch.react","DateConsts","React","VideoComposerDialogAdBreakAutoAdjustmentSettings.react","VideoComposerDialogAdBreakDetails.react","VideoComposerDialogField.react","VideoInstreamAdsConstants","VideoInstreamUtils","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$VideoComposerDialogAdBreakInsertionField1=function(t){this.props.onUpdateAdBreakStatus(!t)}.bind(this),p}l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogField.react"),{footer:c("React").createElement("div",{className:"_1kta"},c("React").createElement("div",{className:"_3-90"},c("React").createElement(c("BUISwitch.react"),{disabled:this.props.currentPreviewIndex!==null,value:!this.props.adBreaksDisabled,onToggle:this.$VideoComposerDialogAdBreakInsertionField1})),this.props.adBreaksDisabled?c("React").createElement(n,null):c("React").createElement(m,null)),input:c("React").createElement("div",{className:"_3_dp"},c("React").createElement(c("VideoComposerDialogAdBreakDetails.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onInsertAdBreak:this.props.onInsertAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),this.props.isAdBreakInsertionRedesignV1?c("React").createElement(c("VideoComposerDialogAdBreakAutoAdjustmentSettings.react"),{isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment}):null),inputPadding:true,showTopBorder:false,subtitle:this.props.hasGapRule?i._({"*":"Place up to {number} ad breaks within the highlighted area of the video preview.","_1":"Place up to 1 ad break within the highlighted area of the video preview."},[i.plural(c("VideoInstreamUtils").getMaxPossibleAdBreaks(this.props.videoDuration,this.props.hasGapRule),"number")]):i._({"*":"Select up to {number} places where an ad break may be played. Ad break placements will be filled for each individual viewer based on ad availability.","_1":"Select up to 1 place where an ad break may be played. Ad break placements will be filled for each individual viewer based on ad availability."},[i.plural(c("VideoInstreamUtils").getMaxPossibleAdBreaks(this.props.videoDuration,this.props.hasGapRule),"number")]),title:this.props.hasGapRule?i._("Place ad breaks"):i._("Choose Ad Break Placements"),tooltip:this.props.hasGapRule?i._({"*":{"*":"Ad breaks can be placed after the first {start time offset} seconds and must be at least {insertion interval} minutes apart. When using the highlighted area in the video preview, you can find the exact frame using the up and down arrow keys."}},[i.param("start time offset",c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC,[0]),i.param("insertion interval",c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/c("DateConsts").MS_PER_MIN,[0])]):i._({"*":{"*":"Videos need to be at least {min video length} minutes long, and ad breaks may only be placed after {min start time} seconds . When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys.","_1":"Videos need to be at least {min video length} minutes long, and ad breaks may only be placed after 1 second . When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys."},"_1":{"*":"Videos need to be at least 1 minute long, and ad breaks may only be placed after {min start time} seconds . When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys.","_1":"Videos need to be at least 1 minute long, and ad breaks may only be placed after 1 second . When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys."}},[i.plural(c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS/c("DateConsts").MS_PER_MIN,"min video length"),i.plural(c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC,"min start time")])})};function m(){return c("React").createElement(c("XUIText.react"),{size:"meta1",weight:"bold"},i._("AD BREAKS ON"))}function n(){return c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold"},i._("AD BREAKS OFF"))}f.exports=l}),null);
__d("VideoComposerDialogAdBreakStrings",["fbt","DateConsts","VideoInstreamAdsConstants","VideoInstreamUtils"],(function a(b,c,d,e,f,g,h){"use strict";var i={AD_BREAK_TOGGLE_TITLE:h._("Take Ad Breaks"),AD_BREAK_TOGGLE_DESCRIPTION:h._("Place ad breaks in this video to make money from your content."),AD_BREAK_TOGGLE_TOOLTIP:h._({"*":{"*":"Videos need to be at least {min video length} minutes long, and ad breaks may only be placed after {min start time} seconds.","_1":"Videos need to be at least {min video length} minutes long, and ad breaks may only be placed after 1 second."},"_1":{"*":"Videos need to be at least 1 minute long, and ad breaks may only be placed after {min start time} seconds.","_1":"Videos need to be at least 1 minute long, and ad breaks may only be placed after 1 second."}},[h.plural(c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS/c("DateConsts").MS_PER_MIN,"min video length"),h.plural(c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC,"min start time")]),AUTO_INSERTION_TITLE:h._("Automatic Placements"),AUTO_INSERTION_DESCRIPTION:h._("Ads will be placed automatically at natural breaks in your video. Use automatic placements to save time, increase the number of possible ad break placements and give viewers the best possible experience."),MANUAL_INSERTION_TITLE:h._("Choose Placements"),getManualInsertionDescription:function j(k,l){var m=c("VideoInstreamUtils").getMaxPossibleAdBreaks(k,l);return l?h._({"*":"This video can have {number} ad breaks placed within the highlighted area of the video preview.","_1":"This video can have 1 ad break placed within the highlighted area of the video preview."},[h.plural(m,"number")]):h._({"*":"Choose up to {number} possible placements for ad breaks in your video. If you choose multiple placements, viewers will see ads in different places depending on when they last watched an ad.","_1":"Choose up to 1 possible placement for ad breaks in your video. If you choose multiple placements, viewers will see ads in different places depending on when they last watched an ad."},[h.plural(m,"number")])},INSERTION_TIME_OFFSET_EDITOR_DESCRIPTION:h._("Enter a time or drag the circle in the preview to choose an ad break placement.")};f.exports=i}),null);
__d("VideoComposerDialogAdBreakAutoInsertionSelectionField.react",["cx","React","VideoComposerDialogAdBreakStrings","VideoComposerDialogRadioButton.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogAdBreakAutoInsertionSelectionField1=function(){this.props.onEnableAdBreakAutoInsertion(true)}.bind(this),this.$VideoComposerDialogAdBreakAutoInsertionSelectionField2=function(){this.props.onEnableAdBreakAutoInsertion(false)}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_n8d"},c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:this.props.isAdBreakAutoInsertionEnabled,className:"_n8a",label:c("React").createElement("div",null,c("React").createElement("div",{className:"_n88"},c("VideoComposerDialogAdBreakStrings").AUTO_INSERTION_TITLE),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1",weight:"normal"},c("VideoComposerDialogAdBreakStrings").AUTO_INSERTION_DESCRIPTION)),onSelect:this.$VideoComposerDialogAdBreakAutoInsertionSelectionField1}),c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:!this.props.isAdBreakAutoInsertionEnabled,className:"_n8a",label:c("React").createElement("div",null,c("React").createElement("div",{className:"_n88"},c("VideoComposerDialogAdBreakStrings").MANUAL_INSERTION_TITLE),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1",weight:"normal"},c("VideoComposerDialogAdBreakStrings").getManualInsertionDescription(this.props.videoDuration,this.props.hasGapRule))),onSelect:this.$VideoComposerDialogAdBreakAutoInsertionSelectionField2}))};f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertedAdBreaksItem.react",["cx","Image.react","React","VideoInstreamUtils","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogAdBreakInsertedAdBreaksItem1=function(){this.props.onSelect(this.props.adBreak.timeOffset)}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_n92"},c("React").createElement("div",{className:"_n93"+(this.props.selected?" _n94":""),ref:"insertedAdBreaksItem",role:"presentation",onClick:this.$VideoComposerDialogAdBreakInsertedAdBreaksItem1},c("React").createElement(c("Image.react"),{className:"_n95",src:this.props.adBreak.thumbnailURL}),c("React").createElement("div",{className:"_n9g"},c("React").createElement(c("XUIText.react"),null,c("VideoInstreamUtils").convertTimestampToFormattedString(this.props.adBreak.timeOffset)))))};f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertedAdBreaksSliderButtons.react",["ix","Image.react","React","XUIButton.react","XUIButtonGroup.react","asset"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("XUIButtonGroup.react"),null,c("React").createElement(c("XUIButton.react"),{disabled:this.props.currentSliderOffset<=0,image:c("React").createElement(c("Image.react"),{src:h("406776")}),label:"Previous",labelIsHidden:true,size:"small",onClick:this.props.onSlideLeft}),c("React").createElement(c("XUIButton.react"),{disabled:this.props.maxSliderOffset<=this.props.currentSliderOffset,image:c("React").createElement(c("Image.react"),{src:h("363528")}),label:"Next",labelIsHidden:true,size:"small",onClick:this.props.onSlideRight}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("AdBreakAdminPreviewEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADMIN_SEND_NOTIFICATION:"admin_send_notification",ADMIN_SEND_NOTIFICATION_SUCCESS:"admin_send_notification_success",ADMIN_SEND_NOTIFICATION_FAILURE:"admin_send_notification_failure",ADMIN_REQUEST_SHAREABLE_LINK:"admin_request_shareable_link",ADMIN_REQUEST_SHAREABLE_LINK_SUCCESS:"admin_request_shareable_link_success",ADMIN_REQUEST_SHAREABLE_LINK_FAILURE:"admin_request_shareable_link_failure",SERVER_VIDEO_ENCODING_SUCCESS:"server_video_encoding_success",SERVER_VIDEO_ENCODING_FAILURE:"server_video_encoding_failure",NOTIFICATION_INVALIDATION:"notification_invalidation"})}),null);
__d("AdBreakAdminPreviewStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ENCODING:"encoding",NONE:"none",OK:"ok"})}),null);
__d("AdBreakAdminPreviewTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:AdBreakAdminPreviewLoggerConfig",this.$AdBreakAdminPreviewTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:AdBreakAdminPreviewLoggerConfig",this.$AdBreakAdminPreviewTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$AdBreakAdminPreviewTypedLogger1={};return this};h.prototype.updateData=function(j){this.$AdBreakAdminPreviewTypedLogger1=babelHelpers["extends"]({},this.$AdBreakAdminPreviewTypedLogger1,j);return this};h.prototype.setAdBreakTimeOffsets=function(j){this.$AdBreakAdminPreviewTypedLogger1.ad_break_time_offsets=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setEvent=function(j){this.$AdBreakAdminPreviewTypedLogger1.event=j;return this};h.prototype.setException=function(j){this.$AdBreakAdminPreviewTypedLogger1.exception=j;return this};h.prototype.setTimeConsumedInMs=function(j){this.$AdBreakAdminPreviewTypedLogger1.time_consumed_in_ms=j;return this};h.prototype.setVC=function(j){this.$AdBreakAdminPreviewTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$AdBreakAdminPreviewTypedLogger1.video_id=j;return this};var i={ad_break_time_offsets:true,event:true,exception:true,time_consumed_in_ms:true,vc:true,video_id:true};f.exports=h}),null);
__d("XAdBreakAdminPreviewNotificationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ad_breaks/admin_preview/notification/",{video_id:{type:"FBID",required:true},ad_break_time_offsets:{type:"IntVector"}})}),null);
__d("XAdBreakAdminPreviewShareController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ad_breaks/admin_preview/share/",{video_id:{type:"FBID",required:true},ad_break_time_offsets:{type:"IntVector"}})}),null);
__d("XAdBreakAdminPreviewStatusController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ad_breaks/admin_preview/status/",{video_id:{type:"FBID",required:true}})}),null);
__d("AdBreakAdminPreviewManager",["AdBreakAdminPreviewEvent","AdBreakAdminPreviewStatus","AdBreakAdminPreviewTypedLogger","AsyncRequest","AsyncResponse","XAdBreakAdminPreviewNotificationController","XAdBreakAdminPreviewShareController","XAdBreakAdminPreviewStatusController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=1e3;i.prototype.sendNotification=function(j,k,l,m){"use strict";__p&&__p();this.lastRequestTime=Date.now();new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_SEND_NOTIFICATION).setTimeConsumedInMs(null).log();var n=function(){new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_SEND_NOTIFICATION_SUCCESS).setTimeConsumedInMs(Date.now()-this.lastRequestTime).log();l()}.bind(this),o=function(){new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_SEND_NOTIFICATION_FAILURE).setTimeConsumedInMs(Date.now()-this.lastRequestTime).log();m()}.bind(this),p=c("XAdBreakAdminPreviewNotificationController").getURIBuilder().setFBID("video_id",j).setIntVector("ad_break_time_offsets",k).getURI();new(c("AsyncRequest"))(p).setHandler(function(q){if(q.payload.status===c("AdBreakAdminPreviewStatus").OK)n();else this.pollPreviewStatus(j,n,o)}.bind(this)).setErrorHandler(function(q){return o()}).send()};i.prototype.requestShareLink=function(j,k,l,m){"use strict";this.lastRequestTime=Date.now();new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_REQUEST_SHAREABLE_LINK).setTimeConsumedInMs(null).log();var n=function(p){new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_REQUEST_SHAREABLE_LINK_SUCCESS).setTimeConsumedInMs(Date.now()-this.lastRequestTime).log();l(p)}.bind(this),o=function(p){new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_REQUEST_SHAREABLE_LINK_FAILURE).setTimeConsumedInMs(Date.now()-this.lastRequestTime).log();m(p)}.bind(this);this.requestShareLinkWithoutLogging(j,k,n,o)};i.prototype.requestShareLinkWithoutLogging=function(j,k,l,m){"use strict";var n=c("XAdBreakAdminPreviewShareController").getURIBuilder().setFBID("video_id",j).setIntVector("ad_break_time_offsets",k).getURI();new(c("AsyncRequest"))(n).setHandler(function(o){if(o.payload.status===c("AdBreakAdminPreviewStatus").OK)l(o);else this.pollPreviewStatus(j,function(){return this.requestShareLinkWithoutLogging(j,k,l,m)}.bind(this),function(){return m(o)})}.bind(this)).setErrorHandler(function(o){return m(o)}).send()};i.prototype.pollPreviewStatus=function(j,k,l){"use strict";clearInterval(this.timer);this.timer=setInterval(function(){return this.getPreviewStatus(j,k,l)}.bind(this),h)};i.prototype.stopPolling=function(){"use strict";clearInterval(this.timer)};i.prototype.getPreviewStatus=function(j,k,l){"use strict";var m=c("XAdBreakAdminPreviewStatusController").getURIBuilder().setFBID("video_id",j).getURI();new(c("AsyncRequest"))(m).setHandler(function(n){if(n.payload.status===c("AdBreakAdminPreviewStatus").OK){clearInterval(this.timer);k()}}.bind(this)).setErrorHandler(function(n){clearInterval(this.timer);l()}.bind(this)).send()};function i(){"use strict"}f.exports=new i()}),null);
__d("ComposerVideoAdBreakAdminPreviewLoadingDialog.react",["cx","fbt","CenteredContainer.react","React","SUIBusinessTheme","SUISpinner.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCloseButton.react","XUIDialogFooter.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=475;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={shown:true},this.$ComposerVideoAdBreakAdminPreviewLoadingDialog1=function(){if(this.props.onClose)this.props.onClose()}.bind(this),o}m.prototype.show=function(){this.setState({shown:true})};m.prototype.hide=function(){this.setState({shown:false})};m.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{label:i._("Loading"),layerHideOnBlur:false,shown:this.state.shown,width:l},c("React").createElement(c("CenteredContainer.react"),null,c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_380g"},i._("Your preview is being prepared. This may take a moment..."),c("React").createElement(c("SUISpinner.react"),{className:"_3-9b",size:"small",theme:c("SUIBusinessTheme")})))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCloseButton.react"),{onClick:this.$ComposerVideoAdBreakAdminPreviewLoadingDialog1})))};f.exports=m}),null);
__d("ComposerVideoAdBreakAdminPreviewNotificationHandler",["fbt","AdBreakAdminPreviewManager","ComposerVideoAdBreakAdminPreviewLoadingDialog.react","DOM","React","ReactDOM","SimpleXUIDialog","XUIDialogCloseButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){__p&&__p();this.$ComposerVideoAdBreakAdminPreviewNotificationHandler2=function(){if(!this.loadingDialog)return;this.$ComposerVideoAdBreakAdminPreviewNotificationHandler4();var j=h._("A notification has been sent to your Facebook account. Please open Facebook on your phone to preview your video with ad breaks."),k=c("React").createElement(c("XUIDialogCloseButton.react"),null),l=h._("Mobile Ad Break Preview");c("SimpleXUIDialog").showEx(j,l,k)}.bind(this);this.$ComposerVideoAdBreakAdminPreviewNotificationHandler3=function(){if(!this.loadingDialog)return;this.$ComposerVideoAdBreakAdminPreviewNotificationHandler4();var j=h._("An error occurred while sending notification."),k=c("React").createElement(c("XUIDialogCloseButton.react"),null),l=h._("Mobile Ad Break Preview");c("SimpleXUIDialog").showEx(j,l,k)}.bind(this)}i.prototype.sendNotification=function(j,k){this.$ComposerVideoAdBreakAdminPreviewNotificationHandler1();c("AdBreakAdminPreviewManager").sendNotification(j,k,this.$ComposerVideoAdBreakAdminPreviewNotificationHandler2,this.$ComposerVideoAdBreakAdminPreviewNotificationHandler3)};i.prototype.$ComposerVideoAdBreakAdminPreviewNotificationHandler1=function(){var j=c("React").createElement(c("ComposerVideoAdBreakAdminPreviewLoadingDialog.react"),null);this.loadingDialog=c("ReactDOM").render(j,c("DOM").create("div"));this.loadingDialog.show()};i.prototype.$ComposerVideoAdBreakAdminPreviewNotificationHandler4=function(){if(this.loadingDialog){this.loadingDialog.hide();this.loadingDialog=null}};f.exports=new i()}),null);
__d("ComposerVideoAdBreakAdminPreviewShareDialog.react",["cx","fbt","AdBreakAdminPreviewManager","AsyncResponse","Clipboard","ComposerVideoAdBreakAdminPreviewLoadingDialog.react","FBClipboardLink.react","Image.react","Link.react","React","SUIBusinessTheme","SUIText.react","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={isLoading:false,shareURL:null,shown:false},this.hide=function(){this.setState({shown:false})}.bind(this),q}l.prototype.componentWillMount=function(){if(this.props.videoID){this.setState({isLoading:true});c("AdBreakAdminPreviewManager").requestShareLink(this.props.videoID,this.props.adBreakTimeOffsets,function(p){this.setState({isLoading:false,shareURL:p.payload.url})}.bind(this),function(p){this.setState({isLoading:false})}.bind(this))}};l.prototype.show=function(){this.setState({shown:true})};l.prototype.render=function(){if(this.state.isLoading)return c("React").createElement(c("ComposerVideoAdBreakAdminPreviewLoadingDialog.react"),{onClose:this.hide});var p=null;if(!this.state.shareURL)p=i._("Failed to load share link.");else p=c("React").createElement("div",{className:"_40s0"},c("React").createElement("div",{className:"_40s1"},c("React").createElement(m,null),c("React").createElement(n,{shareURL:this.state.shareURL}),c("React").createElement(o,null)),c("React").createElement(c("Image.react"),{className:"_40s7",src:"/images/aet/ShareAdPreview.png"}));return c("React").createElement(c("XUIDialog.react"),{layerHideOnBlur:false,shown:this.state.shown,width:700},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Preview This Video with Ad Breaks")),c("React").createElement(c("XUIDialogBody.react"),null,p),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("Done"),onClick:this.hide,use:"confirm"})))};function m(){return c("React").createElement("div",null,c("React").createElement(c("SUIText.react"),{display:"block",size:"meta1",theme:c("SUIBusinessTheme"),weight:"bold"},i._("Send Link")),c("React").createElement(c("SUIText.react"),{className:"_3-8x",display:"block",size:"meta1",theme:c("SUIBusinessTheme")},i._("Use this URL to preview this video with ad breaks on desktop. You can share this link with others.")))}function n(p){var q=null;if(c("Clipboard").isSupported())q=c("React").createElement(c("FBClipboardLink.react"),{value:p.shareURL},c("React").createElement(c("XUIButton.react"),{className:"_3-9b",label:i._("Copy"),use:"confirm"}));var r=c("React").createElement(c("XUITextInput.react"),{className:"_40s8",disabled:true,value:p.shareURL});if(c("Clipboard").isSupported())r=c("React").createElement(c("FBClipboardLink.react"),{value:p.shareURL},c("React").createElement(c("Link.react"),null,p.shareURL));return c("React").createElement("div",{className:"_2pie"},r,q)}function o(){return c("React").createElement("div",{className:"_2pie"},c("React").createElement(c("XUIGrayText.react"),{display:"block"},i._("A sample ad will play during your ad break placements.")))}f.exports=l}),null);
__d("ComposerVideoAdBreakAdminPreviewMenu.react",["ix","cx","fbt","AccessibleLayer","AdBreakAdminPreviewManager","ComposerVideoAdBreakAdminPreviewNotificationHandler","ComposerVideoAdBreakAdminPreviewShareDialog.react","ContextualLayerHideOnScroll","DateConsts","DOM","Image.react","LayerFadeOnHide","LayerFadeOnShow","LayerFitHeightToScreen","LayerHideOnBlur","LayerHideOnEscape","React","ReactDOM","ShimButton.react","SUIBusinessTheme","SUIText.react","XUIContextualDialog.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={showMenu:false},this.$ComposerVideoAdBreakAdminPreviewMenu5=function(s){return c("React").createElement("div",{key:s.id},c("React").createElement("div",{className:"_-em"},c("React").createElement(c("SUIText.react"),{className:"_2pit",shade:"medium",theme:c("SUIBusinessTheme"),weight:"bold"},s.header)),c("React").createElement("div",null,s.items.map(this.$ComposerVideoAdBreakAdminPreviewMenu6,this)))}.bind(this),this.$ComposerVideoAdBreakAdminPreviewMenu6=function(s){return c("React").createElement(c("ShimButton.react"),{className:"_-en",key:s.id,onClick:function(event){return this.$ComposerVideoAdBreakAdminPreviewMenu7(event,s.onClick)}.bind(this)},c("React").createElement(c("Image.react"),{src:s.icon}),c("React").createElement(c("SUIText.react"),{className:"_2pit",shade:"medium",theme:c("SUIBusinessTheme"),weight:"bold"},s.title))}.bind(this),this.$ComposerVideoAdBreakAdminPreviewMenu4=function(s){this.setState({showMenu:s})}.bind(this),this.$ComposerVideoAdBreakAdminPreviewMenu1=function(event){this.setState({showMenu:!this.state.showMenu});event.stopPropagation()}.bind(this),this.$ComposerVideoAdBreakAdminPreviewMenu3=[{id:"share_preview_section",header:j._("Share previews"),items:[{id:"share_a_link_menu_item",icon:h("407157"),title:j._("Share a link"),onClick:function(){var s=c("React").createElement(c("ComposerVideoAdBreakAdminPreviewShareDialog.react"),{adBreakTimeOffsets:this.$ComposerVideoAdBreakAdminPreviewMenu8(),videoID:this.props.videoID});s=c("ReactDOM").render(s,c("DOM").create("div"));s.show()}.bind(this)}]},{id:"preview_on_device_section",header:j._("Preview on device"),items:[{id:"send_notification_to_facebook_menu_item",icon:h("390904"),title:j._("Send notification to Facebook"),onClick:function(){c("ComposerVideoAdBreakAdminPreviewNotificationHandler").sendNotification(this.props.videoID,this.$ComposerVideoAdBreakAdminPreviewMenu8())}.bind(this)}]}],o}m.prototype.componentWillUnmount=function(){c("AdBreakAdminPreviewManager").stopPolling()};m.prototype.render=function(){return c("React").createElement("div",{className:"_65wv",ref:"adminPreviewMenuButton",role:"presentation",onClick:this.$ComposerVideoAdBreakAdminPreviewMenu1},this.props.children,this.$ComposerVideoAdBreakAdminPreviewMenu2(this.$ComposerVideoAdBreakAdminPreviewMenu3))};m.prototype.$ComposerVideoAdBreakAdminPreviewMenu2=function(n){if(!this.props.videoID)return null;return c("React").createElement(c("XUIContextualDialog.react"),{alignment:"right",behaviors:{AccessibleLayer:c("AccessibleLayer"),ContextualLayerHideOnScroll:c("ContextualLayerHideOnScroll"),LayerHideOnTransition:false,LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape"),LayerFadeOnShow:c("LayerFadeOnShow"),LayerFadeOnHide:c("LayerFadeOnHide"),LayerFitHeightToScreen:c("LayerFitHeightToScreen")},contextRef:function(){return this.refs.adminPreviewMenuButton}.bind(this),label:j._("Ad Break Admin Preview Menu"),onToggle:this.$ComposerVideoAdBreakAdminPreviewMenu4,position:"below",shown:this.state.showMenu,width:c("XUIContextualDialog.react").WIDTH.NORMAL},n.map(this.$ComposerVideoAdBreakAdminPreviewMenu5,this))};m.prototype.$ComposerVideoAdBreakAdminPreviewMenu7=function(event,n){n();this.setState({showMenu:!this.state.showMenu});event.stopPropagation()};m.prototype.$ComposerVideoAdBreakAdminPreviewMenu8=function(){var n=[];if(!this.props.adBreaksDisabled)n=this.props.insertedAdBreaks.map(function(o){return Math.round(o.timeOffset*c("DateConsts").MS_PER_SEC)});return n};f.exports=m}),null);
__d("VideoComposerDialogAdBreakToolbarButton.react",["cx","Image.react","React","XUIText.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$VideoComposerDialogAdBreakToolbarButton1=function(){if(this.props.disabled)return this.props.iconSrcDisabled;if(this.props.active)return this.props.iconSrcActive;return this.props.iconSrc};k.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_n9m"+(this.props.active?" _n9n":"")+(this.props.disabled?" _4vdt":""),this.props.className),role:"presentation",onClick:this.props.disabled?null:this.props.onClick},c("React").createElement(c("Image.react"),{src:this.$VideoComposerDialogAdBreakToolbarButton1()}),c("React").createElement(c("XUIText.react"),{className:"_3-99",display:"block"},this.props.label))};function k(){i.apply(this,arguments)}k.defaultProps={active:false,disabled:false};f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertedAdBreaksToolbar.react",["ix","cx","fbt","ComposerVideoAdBreakAdminPreviewMenu.react","React","VideoComposerDialogAdBreakToolbarButton.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$VideoComposerDialogAdBreakInsertedAdBreaksToolbar1=function(){if(this.props.isPreviewingAdBreak)this.props.onCancelPreview();else this.props.onPreviewAdBreak(this.props.selectedAdBreakIndex)}.bind(this),this.$VideoComposerDialogAdBreakInsertedAdBreaksToolbar2=function(){this.props.onDeleteAdBreak(this.props.selectedAdBreakIndex)}.bind(this),o}m.prototype.render=function(){return c("React").createElement("div",{className:"_n9k"},c("React").createElement(c("VideoComposerDialogAdBreakToolbarButton.react"),{active:this.props.isPreviewingAdBreak,className:"_3-92",iconSrc:h("431966"),iconSrcActive:h("459445"),label:this.props.isPreviewingAdBreak?j._("Stop"):j._("Preview"),onClick:this.$VideoComposerDialogAdBreakInsertedAdBreaksToolbar1}),c("React").createElement(c("ComposerVideoAdBreakAdminPreviewMenu.react"),{adBreaksDisabled:this.props.adBreaksDisabled,insertedAdBreaks:this.props.insertedAdBreaks.slice(this.props.selectedAdBreakIndex,this.props.selectedAdBreakIndex+1),videoID:this.props.videoID},c("React").createElement(c("VideoComposerDialogAdBreakToolbarButton.react"),{className:"_3-92",disabled:!this.props.videoID,iconSrc:h("363826"),iconSrcDisabled:h("399490"),label:j._("Share")})),c("React").createElement(c("VideoComposerDialogAdBreakToolbarButton.react"),{disabled:this.props.isPreviewingAdBreak,iconSrc:h("411467"),iconSrcDisabled:h("411466"),label:j._("Remove"),onClick:this.$VideoComposerDialogAdBreakInsertedAdBreaksToolbar2}))};f.exports=m}),null);
__d("VideoComposerDialogAdBreakInsertedAdBreaks.react",["cx","React","VideoComposerDialogAdBreakInsertedAdBreaksItem.react","VideoComposerDialogAdBreakInsertedAdBreaksSliderButtons.react","VideoComposerDialogAdBreakInsertedAdBreaksToolbar.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=80;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={currentSliderOffset:0,selectedAdBreakTimeOffset:null},this.$VideoComposerDialogAdBreakInsertedAdBreaks2=function(r){this.setState({selectedAdBreakTimeOffset:r})}.bind(this),this.$VideoComposerDialogAdBreakInsertedAdBreaks3=function(){this.setState(function(r){return{currentSliderOffset:Math.max(0,r.currentSliderOffset-k)}})}.bind(this),this.$VideoComposerDialogAdBreakInsertedAdBreaks4=function(){this.setState(function(r){return{currentSliderOffset:Math.min(r.currentSliderOffset+k,this.$VideoComposerDialogAdBreakInsertedAdBreaks1())}}.bind(this))}.bind(this),n}l.prototype.componentDidUpdate=function(m,n){if(this.props.insertedAdBreaks.length===m.insertedAdBreaks.length)return;if(!this.refs.insertedAdBreaks||!this.refs.insertedAdBreaksContent)return;var o=this.refs.insertedAdBreaks.getBoundingClientRect(),p=this.refs.insertedAdBreaksContent.getBoundingClientRect();if(o.left<p.left)this.setState({currentSliderOffset:0});else if(p.right<o.right)this.setState({currentSliderOffset:this.$VideoComposerDialogAdBreakInsertedAdBreaks1()})};l.prototype.$VideoComposerDialogAdBreakInsertedAdBreaks1=function(){if(!this.refs.insertedAdBreaks||!this.refs.insertedAdBreaksContent)return 0;var m=this.refs.insertedAdBreaks.getBoundingClientRect(),n=this.refs.insertedAdBreaksContent.getBoundingClientRect();return Math.max(0,n.width-m.width)};l.prototype.render=function(){if(this.props.insertedAdBreaks.length===0)return null;var m=this.props.insertedAdBreaks.findIndex(function(n){return n.timeOffset===this.state.selectedAdBreakTimeOffset}.bind(this));return c("React").createElement("div",{className:"_n8i"},c("React").createElement("div",{className:"_n8j",ref:"insertedAdBreaks"},c("React").createElement("div",{className:"_n91",ref:"insertedAdBreaksContent",style:{right:this.state.currentSliderOffset+"px"}},this.props.insertedAdBreaks.map(function(n,o){var p=o>0?{className:"_3-9a"}:null;return c("React").createElement("div",babelHelpers["extends"]({key:o},p),c("React").createElement(c("VideoComposerDialogAdBreakInsertedAdBreaksItem.react"),{adBreak:n,adBreakIndex:o,selected:this.state.selectedAdBreakTimeOffset===n.timeOffset,onSelect:this.$VideoComposerDialogAdBreakInsertedAdBreaks2}))}.bind(this)))),c("React").createElement("div",{className:"_n9h _3-8x"},m<0?null:c("React").createElement(c("VideoComposerDialogAdBreakInsertedAdBreaksToolbar.react"),{adBreaksDisabled:this.props.adBreaksDisabled,insertedAdBreaks:this.props.insertedAdBreaks,isPreviewingAdBreak:this.props.isPreviewingAdBreak,selectedAdBreakIndex:m,videoID:this.props.videoID,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak}),c("React").createElement("div",{className:"_3-9a"}),c("React").createElement(c("VideoComposerDialogAdBreakInsertedAdBreaksSliderButtons.react"),{currentSliderOffset:this.state.currentSliderOffset,maxSliderOffset:this.$VideoComposerDialogAdBreakInsertedAdBreaks1(),onSlideLeft:this.$VideoComposerDialogAdBreakInsertedAdBreaks3,onSlideRight:this.$VideoComposerDialogAdBreakInsertedAdBreaks4})))};f.exports=l}),null);
__d("VideoComposerDialogAdBreakInsertionEditorField.react",["cx","React","VideoComposerDialogAdBreakInsertionButton.react","VideoComposerDialogAdBreakStrings","VideoComposerDialogAdBreakTimeOffsetEditor.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_n8e"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},c("VideoComposerDialogAdBreakStrings").INSERTION_TIME_OFFSET_EDITOR_DESCRIPTION),c("React").createElement("div",{className:"_n8g"},c("React").createElement(c("VideoComposerDialogAdBreakTimeOffsetEditor.react"),{adBreakIndex:null,adBreakTimeOffset:this.props.currentAdBreakTimeOffset,isIndexCircleVisible:false,isPreviewingAdBreak:this.props.currentPreviewIndex!=null,videoDuration:this.props.videoDuration,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),c("React").createElement("div",{className:"_3-9b"},c("React").createElement(c("VideoComposerDialogAdBreakInsertionButton.react"),{currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,disabled:this.props.adBreaksDisabled||this.props.currentPreviewIndex!=null,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onInsertAdBreak:this.props.onInsertAdBreak}))))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertionToggleField.react",["cx","fbt","React","VideoComposerDialogAdBreakStrings","VideoComposerDialogAdBreakSwitch.react","VideoComposerDialogField.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogAdBreakInsertionToggleField1=function(r){this.props.onUpdateAdBreakStatus(!r)}.bind(this),n}l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement("div",{className:"_1kta"},c("React").createElement(c("VideoComposerDialogAdBreakSwitch.react"),{disabled:this.props.toggleDisabled,labelOff:i._("DISABLED"),labelOn:i._("ENABLED"),value:!this.props.adBreaksDisabled,onToggle:this.$VideoComposerDialogAdBreakInsertionToggleField1})),showTopBorder:false,subtitle:c("VideoComposerDialogAdBreakStrings").AD_BREAK_TOGGLE_DESCRIPTION,title:c("VideoComposerDialogAdBreakStrings").AD_BREAK_TOGGLE_TITLE,tooltip:c("VideoComposerDialogAdBreakStrings").AD_BREAK_TOGGLE_TOOLTIP})};f.exports=l}),null);
__d("VideoComponentCommercialBreakStartingIndicator.react",["cx","CommercialBreakStartingIndicator.react","React","ReactDOM","VideoComponent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.enable=function(l){this.$VideoComponentCommercialBreakStartingIndicator1=l;this.$VideoComponentCommercialBreakStartingIndicator2()};k.prototype.disable=function(){this.$VideoComponentCommercialBreakStartingIndicator1=null};k.prototype.$VideoComponentCommercialBreakStartingIndicator2=function(l){if(this.$VideoComponentCommercialBreakStartingIndicator1&&this.refs.root)c("ReactDOM").render(c("React").createElement(c("CommercialBreakStartingIndicator.react"),{adsStopped:l,container:this.refs.root,controller:this.$VideoComponentCommercialBreakStartingIndicator1,vodTransitionRedesign:true}),this.refs.root)};k.prototype.componentDidMount=function(){this.$VideoComponentCommercialBreakStartingIndicator2()};k.prototype.componentWillReceiveProps=function(l){if(l.adsStopped!==this.props.adsStopped)this.$VideoComponentCommercialBreakStartingIndicator2(l.adsStopped)};k.prototype.shouldComponentUpdate=function(l,m){return false};k.prototype.render=function(){return c("React").createElement("div",{ref:"root",className:"_167h _2lwf _4ubd _3ee8 _20dq _2h-t _o9y _3htz _5odv"})};function k(){i.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(k)}),null);
__d("VideoComponentCommercialBreakVodTransitionOverlay.react",["cx","React","VideoCommercialBreakTransitionOverlay","VideoComponent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.enable=function(l){this.$VideoComponentCommercialBreakVodTransitionOverlay1=new(c("VideoCommercialBreakTransitionOverlay"))(l,this.refs.root,this.refs.body)};k.prototype.disable=function(){this.$VideoComponentCommercialBreakVodTransitionOverlay1=null};k.prototype.shouldComponentUpdate=function(l,m){return false};k.prototype.render=function(){return c("React").createElement("div",{ref:"root",className:"_2lwf _4ubd _4fii _bvi _167h"},c("React").createElement("div",{ref:"body",className:"_3j0w"}))};function k(){i.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(k)}),null);
__d("VideoComponentScrubberPreview.react",["React","RelayClassic_DEPRECATED","VideoComponent","VideoScrubberPreviewComponent"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k)}j.prototype.componentWillReceiveProps=function(k){__p&&__p();var l=k.video;if(l&&l!==this.props.video){var m={};Object.assign(m,l.scrubberPreviewThumbnailInformation);if(Array.isArray(m.spriteIndexToURIMap)){var n=m.spriteIndexToURIMap.slice();n.unshift(null);m.spriteIndexToURIMap=n}new(c("VideoScrubberPreviewComponent"))(this.vpc,m)}};j.prototype.disable=function(k){};j.prototype.enable=function(k){this.vpc=k};j.prototype.render=function(){return null};f.exports=c("VideoComponent").createContainer(j,{relayVideoConfig:{fragments:{video:function k(){return function(){return{children:[{alias:"scrubberPreviewThumbnailInformation",calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:{kind:"CallValue",callValue:45}},{kind:"Call",metadata:{type:"Int"},name:"height",value:{kind:"CallValue",callValue:45}}],children:[{alias:"timeIntervalBetweenImages",fieldName:"time_interval_between_image",kind:"Field",metadata:{},type:"Int"},{alias:"previewScrubberWidth",fieldName:"thumbnail_width",kind:"Field",metadata:{},type:"Float"},{alias:"previewScrubberHeight",fieldName:"thumbnail_height",kind:"Field",metadata:{},type:"Float"},{alias:"maxImagesPerSprite",fieldName:"max_number_of_images_per_sprite",kind:"Field",metadata:{},type:"Int"},{alias:"imagesPerRow",fieldName:"num_images_per_row",kind:"Field",metadata:{},type:"Int"},{alias:"hasPreviewThumbnails",fieldName:"has_preview_thumbnails",kind:"Field",metadata:{},type:"Boolean"},{alias:"spriteIndexToURIMap",fieldName:"sprite_uris",kind:"Field",metadata:{isPlural:true},type:"String"},{alias:"scrubberVideoURI",fieldName:"scrubber_video_uri",kind:"Field",metadata:{},type:"String"}],fieldName:"scrubber_preview_thumbnail_information",kind:"Field",metadata:{canHaveSubselections:true},type:"ScrubberPreview"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentScrubberPreview_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("VideoComponentVodWithCommercialBreak.react",["InstreamVideoAdBreak","React","VideoComponent","VodWithCommercialBreak"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.enable=function(k){this.$VideoComponentVodWithCommercialBreak1=k;this.$VideoComponentVodWithCommercialBreak2=new(c("VodWithCommercialBreak"))(this.$VideoComponentVodWithCommercialBreak1,this.props.adBreaks)};j.prototype.componentWillReceiveProps=function(k){if(this.$VideoComponentVodWithCommercialBreak2&&JSON.stringify(k.adBreaks)!==JSON.stringify(this.props.adBreaks))this.$VideoComponentVodWithCommercialBreak2.setAdBreaks(k.adBreaks)};j.prototype.disable=function(){this.$VideoComponentVodWithCommercialBreak1=null;this.$VideoComponentVodWithCommercialBreak2=null};j.prototype.render=function(){return null};function j(){h.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComponentWithSpacePlayPause.react",["React","VideoComponent","VideoWithSpacePlayPause"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.enable=function(k){new(c("VideoWithSpacePlayPause"))(k)};j.prototype.disable=function(){};j.prototype.render=function(){return null};function j(){h.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComposerDialogAdBreakPreviewSection.react",["cx","DateConsts","InstreamPlacement","InstreamVideoAdBreak","React","VideoComponentClickPlayPause.react","VideoComponentCommercialBreakStartingIndicator.react","VideoComponentCommercialBreakVideoAdOverlay.react","VideoComponentCommercialBreakVodTransitionOverlay.react","VideoComponentContextMenu.react","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentScrubberPreview.react","VideoComponentVodWithCommercialBreak.react","VideoComponentWithCommercialBreak.react","VideoComponentWithInstreamVideo.react","VideoComponentWithSpacePlayPause.react","VideoComposerDialogConstants","VideoPlayer.react","VideoPlayerController","VideoPlayerOrigins","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$VideoComposerDialogAdBreakPreviewSection1=function(){if(!this.props.insertedAdBreaks||this.props.isAdBreakDisabled)return[];return this.props.insertedAdBreaks.map(function(l,m){return new(c("InstreamVideoAdBreak"))({adBreakDurationInMs:null,index:0,instreamPlacement:c("InstreamPlacement").MID_ROLL,isAdBreakAutoInserted:false,timeOffsetInMs:l.timeOffset*c("DateConsts").MS_PER_SEC})})};k.prototype.$VideoComposerDialogAdBreakPreviewSection2=function(){if(this.props.insertedAdBreaks&&this.props.currentPreviewIndex!=null)return this.props.insertedAdBreaks[this.props.currentPreviewIndex].thumbnailURL;return null};k.prototype.$VideoComposerDialogAdBreakPreviewSection3=function(){return this.props.currentPreviewIndex!=null};k.prototype.render=function(){var l=this.props.videoData;if(!l)return c("React").createElement("div",{className:"_1fxr"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));return c("React").createElement("div",{className:"_3-98"},c("React").createElement(c("VideoPlayer.react"),{autoplay:false,className:"_4jg1",height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,playerOrigin:c("VideoPlayerOrigins").COMPOSER,videoData:l,onUpdateMetadata:this.props.onVPCUpdate,onVpcUpdate:this.props.onVPCUpdate},c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentEmbeddedControls.react"),{adBreaks:{insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:!this.props.hasGapRule,isPreviewingAdBreak:this.$VideoComposerDialogAdBreakPreviewSection3()},displayElapsedTime:true,displayMilliseconds:true,showFullscreenButton:false,showSettingsButton:false}),c("React").createElement(c("VideoComponentContextMenu.react"),null),c("React").createElement(c("VideoComponentClickPlayPause.react"),null),c("React").createElement(c("VideoComponentWithSpacePlayPause.react"),null),c("React").createElement(c("VideoComponentScrubberPreview.react"),null),c("React").createElement(c("VideoComponentWithInstreamVideo.react"),{shouldUsePreviewConfig:true,thumbnailURLForPreview:this.$VideoComposerDialogAdBreakPreviewSection2()}),c("React").createElement(c("VideoComponentWithCommercialBreak.react"),null),c("React").createElement(c("VideoComponentVodWithCommercialBreak.react"),{adBreaks:this.$VideoComposerDialogAdBreakPreviewSection1()}),c("React").createElement(c("VideoComponentCommercialBreakVideoAdOverlay.react"),{adsStopped:!this.$VideoComposerDialogAdBreakPreviewSection3()}),c("React").createElement(c("VideoComponentCommercialBreakVodTransitionOverlay.react"),null),c("React").createElement(c("VideoComponentCommercialBreakStartingIndicator.react"),{adsStopped:!this.$VideoComposerDialogAdBreakPreviewSection3()})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdBreakVideoRightsNotice.react",["cx","fbt","React","VideoComposerDialogAdBreakNUX.react"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){if(k.videoRightsAgreed)return null;return c("React").createElement("div",{className:"_3-96"},c("React").createElement(c("VideoComposerDialogAdBreakNUX.react"),{description:i._("To include ad breaks, you agree that you have the rights to use all of the content in your video."),dismissible:false,style:"notice"}))}f.exports=j}),null);
__d("VideoComposerDialogAdBreakInsertionFieldV2.react",["cx","React","VideoComposerDialogAdBreakAutoAdjustmentSettings.react","VideoComposerDialogAdBreakAutoInsertionSelectionField.react","VideoComposerDialogAdBreakInsertedAdBreaks.react","VideoComposerDialogAdBreakInsertionEditorField.react","VideoComposerDialogAdBreakInsertionToggleField.react","VideoComposerDialogAdBreakPreviewSection.react","VideoComposerDialogAdBreakVideoRightsNotice.react","VideoPlayerController"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_n89"},c("React").createElement(c("VideoComposerDialogAdBreakVideoRightsNotice.react"),{videoRightsAgreed:!this.props.adBreaksDisabled}),c("React").createElement(c("VideoComposerDialogAdBreakInsertionToggleField.react"),{adBreaksDisabled:this.props.adBreaksDisabled,hasGapRule:this.props.hasGapRule,toggleDisabled:this.props.currentPreviewIndex!=null,videoDuration:this.props.videoDuration,onUpdateAdBreakStatus:this.props.onUpdateAdBreakStatus}),this.props.adBreaksDisabled?null:c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogAdBreakAutoInsertionSelectionField.react"),{hasGapRule:this.props.hasGapRule,isAdBreakAutoInsertionEnabled:this.props.isAdBreakAutoInsertionEnabled,videoDuration:this.props.videoDuration,onEnableAdBreakAutoInsertion:this.props.onEnableAdBreakAutoInsertion}),this.props.isAdBreakAutoInsertionEnabled?null:c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogAdBreakPreviewSection.react"),{currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.adBreaksDisabled,videoData:this.props.videoData,onVPCUpdate:this.props.onVPCUpdate}),c("React").createElement("div",{className:"_n8f"},c("React").createElement(c("VideoComposerDialogAdBreakInsertionEditorField.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onInsertAdBreak:this.props.onInsertAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),c("React").createElement("div",{className:"_3-9b"}),c("React").createElement(c("VideoComposerDialogAdBreakInsertedAdBreaks.react"),{adBreaksDisabled:this.props.adBreaksDisabled,insertedAdBreaks:this.props.insertedAdBreaks,isPreviewingAdBreak:this.props.currentPreviewIndex!=null,videoID:this.props.videoID,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak})),this.props.insertedAdBreaks.length>0?c("React").createElement("div",{className:"_n8h"},c("React").createElement(c("VideoComposerDialogAdBreakAutoAdjustmentSettings.react"),{isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment})):null)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdBreakPageOnboardingSection.react",["cx","fbt","React","VideoComposerDialogField.react","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogAdBreakPageOnboardingSection1=function(){this.props.pageID&&this.props.onStartPageOnboarding(this.props.pageID)}.bind(this),n}l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement(c("XUIButton.react"),{className:"_4vdf",label:i._("Get started"),labelIsHidden:false,onClick:this.$VideoComposerDialogAdBreakPageOnboardingSection1,type:"button"}),inputPadding:true,showTopBorder:false,subtitle:i._("Set up ad breaks to start earning money from your videos. You can choose when to start each break, which pauses your video so that a short ad can be played."),title:i._("Earn money with ads")})};f.exports=l}),null);
__d("VideoComposerDialogAdBreakProgramRulesChangesNotice.react",["fbt","Link.react","React","VideoComposerDialogAdBreakNUX.react","VideoInstreamAdsConstants"],(function a(b,c,d,e,f,g,h){"use strict";var i=5553;function j(){if(!c("VideoInstreamAdsConstants").SHOULD_SHOW_V2_NOTICE)return null;return c("React").createElement(c("VideoComposerDialogAdBreakNUX.react"),{description:c("React").createElement("div",null,h._({"*":{"*":"We're making some changes to ad breaks in January 2018. Videos will need to be at least {min_length} minutes long, and ad breaks may only be placed after the first {min_start} minutes.","_1":"We're making some changes to ad breaks in January 2018. Videos will need to be at least {min_length} minutes long, and ad breaks may only be placed after the first minute."},"_1":{"*":"We're making some changes to ad breaks in January 2018. Videos will need to be at least 1 minute long, and ad breaks may only be placed after the first {min_start} minutes.","_1":"We're making some changes to ad breaks in January 2018. Videos will need to be at least 1 minute long, and ad breaks may only be placed after the first minute."}},[h.plural(c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MIN_FOR_NOTICE,"min_length"),h.plural(c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MIN_FOR_NOTICE,"min_start")])," ",c("React").createElement(c("Link.react"),{href:c("VideoInstreamAdsConstants").V2_NOTICE_URL,target:"_blank"},h._("Learn more")),"."),dismissible:true,nuxID:i,style:"notice",title:h._("Update to Ad Breaks")})}f.exports=j}),null);
__d("VideoComposerDialogAdBreakVideoRightsSection.react",["cx","fbt","React","VideoComposerDialogField.react","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement(c("XUIButton.react"),{className:"_4vdf",label:i._("I Agree"),labelIsHidden:false,onClick:this.props.onAgree,type:"button"}),inputPadding:true,showTopBorder:false,subtitle:i._("To include ad breaks, you agree that you have the rights to use all of the content in your video."),title:i._("Content ownership rights")})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogAdBreakInputSection.react",["cx","React","VideoComposerDialogAdBreakBlockListField.react","VideoComposerDialogAdBreakDemonetizationNotice.react","VideoComposerDialogAdBreakHoldoutTestField.react","VideoComposerDialogAdBreakInsertionField.react","VideoComposerDialogAdBreakInsertionFieldV2.react","VideoComposerDialogAdBreakPageOnboardingSection.react","VideoComposerDialogAdBreakProgramRulesChangesNotice.react","VideoComposerDialogAdBreakUtils","VideoComposerDialogAdBreakVideoRightsSection.react","VideoPlayerController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogAdBreakInputSection1=function(r){if(r&&this.props.holdoutTestEnabled&&this.props.holdoutTestPublicMetadata.isStarted&&!this.props.holdoutTestPublicMetadata.isExpired)c("VideoComposerDialogAdBreakUtils").showHoldoutTestDisabledConfirmation(function(){return this.props.onUpdateAdBreakStatus(r)}.bind(this));else this.props.onUpdateAdBreakStatus(r)}.bind(this),n}k.prototype.render=function(){if(this.props.isPageOnboardingVisible)return c("React").createElement(c("VideoComposerDialogAdBreakPageOnboardingSection.react"),{pageID:this.props.pageID,onStartPageOnboarding:this.props.onStartPageOnboarding});if(!this.props.videoRightsAgreed)return c("React").createElement(c("VideoComposerDialogAdBreakVideoRightsSection.react"),{onAgree:this.props.onAgreeVideoRights});return c("React").createElement("div",null,c("React").createElement("div",{className:"_35mv"},c("React").createElement(c("VideoComposerDialogAdBreakDemonetizationNotice.react"),{isDemonetized:this.props.isDemonetized}),c("React").createElement(c("VideoComposerDialogAdBreakProgramRulesChangesNotice.react"),null)),this.props.isAdBreakInsertionRedesignV2?c("React").createElement(c("VideoComposerDialogAdBreakInsertionFieldV2.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,isAdBreakAutoInsertionEnabled:this.props.isAdBreakAutoInsertionEnabled,videoData:this.props.videoData,videoDuration:this.props.videoDuration,videoID:this.props.videoID,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment,onEnableAdBreakAutoInsertion:this.props.onEnableAdBreakAutoInsertion,onInsertAdBreak:this.props.onInsertAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak,onUpdateAdBreakStatus:this.$VideoComposerDialogAdBreakInputSection1,onVPCUpdate:this.props.onVPCUpdate}):c("React").createElement(c("VideoComposerDialogAdBreakInsertionField.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,isAdBreakInsertionRedesignV1:this.props.isAdBreakInsertionRedesignV1,videoDuration:this.props.videoDuration,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment,onInsertAdBreak:this.props.onInsertAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak,onUpdateAdBreakStatus:this.$VideoComposerDialogAdBreakInputSection1}),c("React").createElement(l,this.props))};function l(m){return m.isAdBreakInsertionRedesignV2&&m.adBreaksDisabled?null:c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogAdBreakHoldoutTestField.react"),{enabled:m.holdoutTestEnabled,hasEnabledAdBreaks:!m.adBreaksDisabled&&m.insertedAdBreaks.length>0,holdoutTestPublicMetadata:m.holdoutTestPublicMetadata,pageID:m.pageID,onUpdateHoldoutTestStatus:m.onUpdateHoldoutTestStatus}),c("React").createElement(c("VideoComposerDialogAdBreakBlockListField.react"),{pageID:m.pageID}))}f.exports=k}),null);
__d("VideoComposerDialogAdBreakVideoPlayerController",["SubscriptionsHandler","VideoPlayerController","VideoPlayerReason","VideoPlayerReasonTransitionHelper"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=7,i=1;function j(){this.$VideoComposerDialogAdBreakVideoPlayerController4=new(c("SubscriptionsHandler"))();this.$VideoComposerDialogAdBreakVideoPlayerController1=[]}j.prototype.updateVPC=function(k){__p&&__p();if(this.$VideoComposerDialogAdBreakVideoPlayerController5===k)return;this.$VideoComposerDialogAdBreakVideoPlayerController4.release();if(!k)return;this.$VideoComposerDialogAdBreakVideoPlayerController5=k;this.$VideoComposerDialogAdBreakVideoPlayerController4=new(c("SubscriptionsHandler"))();this.$VideoComposerDialogAdBreakVideoPlayerController4.addSubscriptions(k.addListener("commercialBreak/vodBreakStarting",function(){this.$VideoComposerDialogAdBreakVideoPlayerController6(this.$VideoComposerDialogAdBreakVideoPlayerController7())}.bind(this)),k.addListener("playRequested",function(l){if(l===c("VideoPlayerReason").COMMERCIAL_BREAK)this.$VideoComposerDialogAdBreakVideoPlayerController6(null)}.bind(this)),k.addListener("updateStatus",function(){if(this.$VideoComposerDialogAdBreakVideoPlayerController2&&this.$VideoComposerDialogAdBreakVideoPlayerController5)this.$VideoComposerDialogAdBreakVideoPlayerController2(this.$VideoComposerDialogAdBreakVideoPlayerController5.getCurrentTimePosition())}.bind(this)))};j.prototype.updateInsertedAdBreaks=function(k){this.$VideoComposerDialogAdBreakVideoPlayerController1=k};j.prototype.updateCallbacks=function(k,l){this.$VideoComposerDialogAdBreakVideoPlayerController2=k;this.$VideoComposerDialogAdBreakVideoPlayerController3=l};j.prototype.unmount=function(){this.$VideoComposerDialogAdBreakVideoPlayerController6(null);this.$VideoComposerDialogAdBreakVideoPlayerController4.release();this.$VideoComposerDialogAdBreakVideoPlayerController5=null};j.prototype.seek=function(k,l){this.$VideoComposerDialogAdBreakVideoPlayerController5&&this.$VideoComposerDialogAdBreakVideoPlayerController5.seek(k);l&&this.pause()};j.prototype.play=function(){this.$VideoComposerDialogAdBreakVideoPlayerController5&&this.$VideoComposerDialogAdBreakVideoPlayerController5.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").AUTOPLAY))};j.prototype.pause=function(){this.$VideoComposerDialogAdBreakVideoPlayerController5&&this.$VideoComposerDialogAdBreakVideoPlayerController5.pause()};j.prototype.startAdBreakPreview=function(k){this.seek(this.$VideoComposerDialogAdBreakVideoPlayerController1[k].timeOffset-h,false);this.play()};j.prototype.stopAdBreakPreview=function(){this.$VideoComposerDialogAdBreakVideoPlayerController3(null)};j.prototype.$VideoComposerDialogAdBreakVideoPlayerController6=function(k){this.$VideoComposerDialogAdBreakVideoPlayerController3&&this.$VideoComposerDialogAdBreakVideoPlayerController3(k)};j.prototype.$VideoComposerDialogAdBreakVideoPlayerController7=function(){var k=this.$VideoComposerDialogAdBreakVideoPlayerController5?this.$VideoComposerDialogAdBreakVideoPlayerController5.getCurrentTimePosition():0;for(var l=0;l<this.$VideoComposerDialogAdBreakVideoPlayerController1.length;l++){var m=this.$VideoComposerDialogAdBreakVideoPlayerController1[l].timeOffset;if(k>=m-h&&k<=m+i)return l}return null};f.exports=new j()}),null);
__d("VideoComposerDialogAdBreakContainer.react",["cx","VideoComposerDialogAdBreakActions","FluxContainer","immutable","React","VideoComposerDialogAdBreakInputSection.react","VideoComposerDialogAdBreakPreviewSection.react","VideoComposerDialogAdBreakStore","VideoComposerDialogAdBreakVideoPlayerController","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogUploadStore","VideoPlayerController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogAdBreakStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]};k.calculateState=function(){var l=c("VideoComposerDialogAdBreakStore").getState(),m=c("VideoComposerDialogMetadataStore").getState(),n=c("VideoComposerDialogUploadStore").getState();return{adBreaksDisabled:l.adBreaksDisabled,currentAdBreakTimeOffset:l.currentAdBreakTimeOffset,currentPreviewIndex:l.currentPreviewIndex,hasGapRule:l.hasGapRule,holdoutTestEnabled:l.holdoutTestEnabled,holdoutTestPublicMetadata:l.holdoutTestPublicMetadata,insertedAdBreaks:l.insertedAdBreaks,isAdBreakAutoAdjustmentEnabled:l.isAdBreakAutoAdjustmentEnabled,isAdBreakAutoInsertionEnabled:l.isAdBreakAutoInsertionEnabled,isAdBreakInsertionRedesignV1:l.isAdBreakInsertionRedesignV1,isAdBreakInsertionRedesignV2:l.isAdBreakInsertionRedesignV2,isDemonetized:l.isDemonetized,isPageOnboardingVisible:l.isPageOnboardingVisible,pageID:m.targetID,videoData:m.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD?n.videoData:m.videoDataForID,videoDuration:Number(m.videoDuration),videoID:m.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD&&!n.uploadFinished?null:m.videoID,videoRightsAgreed:l.videoRightsAgreed,vpc:l.vpc}};k.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(k.getStores())};k.prototype.componentDidUpdate=function(l,m){c("VideoComposerDialogAdBreakVideoPlayerController").updateVPC(this.state.vpc);c("VideoComposerDialogAdBreakVideoPlayerController").updateInsertedAdBreaks(this.state.insertedAdBreaks.toArray());c("VideoComposerDialogAdBreakVideoPlayerController").updateCallbacks(c("VideoComposerDialogAdBreakActions").setCurrentAdBreak,c("VideoComposerDialogAdBreakActions").setCurrentPreviewIndex)};k.prototype.componentWillUnmount=function(){c("VideoComposerDialogAdBreakVideoPlayerController").unmount()};k.prototype.$VideoComposerDialogAdBreakContainer1=function(l,m,n){c("VideoComposerDialogAdBreakActions").setCurrentAdBreak(l);c("VideoComposerDialogAdBreakVideoPlayerController").seek(l,n)};k.prototype.$VideoComposerDialogAdBreakContainer2=function(l){c("VideoComposerDialogAdBreakVideoPlayerController").startAdBreakPreview(l)};k.prototype.$VideoComposerDialogAdBreakContainer3=function(){c("VideoComposerDialogAdBreakVideoPlayerController").stopAdBreakPreview()};k.prototype.render=function(){return c("React").createElement("div",{className:"_63z7"},this.state.isAdBreakInsertionRedesignV2?null:c("React").createElement(c("VideoComposerDialogAdBreakPreviewSection.react"),{currentPreviewIndex:this.state.currentPreviewIndex,hasGapRule:this.state.hasGapRule,insertedAdBreaks:this.state.videoRightsAgreed?this.state.insertedAdBreaks.toArray():null,isAdBreakDisabled:this.state.adBreaksDisabled,videoData:this.state.videoData,onVPCUpdate:c("VideoComposerDialogAdBreakActions").updateVPC}),c("React").createElement("div",{className:"_63vb"},c("React").createElement(c("VideoComposerDialogAdBreakInputSection.react"),{adBreaksDisabled:this.state.adBreaksDisabled,currentAdBreakTimeOffset:this.state.currentAdBreakTimeOffset,currentPreviewIndex:this.state.currentPreviewIndex,hasGapRule:this.state.hasGapRule,holdoutTestEnabled:this.state.holdoutTestEnabled,holdoutTestPublicMetadata:this.state.holdoutTestPublicMetadata,insertedAdBreaks:this.state.insertedAdBreaks.toArray(),isAdBreakAutoAdjustmentEnabled:this.state.isAdBreakAutoAdjustmentEnabled,isAdBreakAutoInsertionEnabled:this.state.isAdBreakAutoInsertionEnabled,isAdBreakInsertionRedesignV1:this.state.isAdBreakInsertionRedesignV1,isAdBreakInsertionRedesignV2:this.state.isAdBreakInsertionRedesignV2,isDemonetized:this.state.isDemonetized,isPageOnboardingVisible:this.state.isPageOnboardingVisible,pageID:this.state.pageID,videoData:this.state.videoData,videoDuration:this.state.videoDuration,videoID:this.state.videoID,videoRightsAgreed:this.state.videoRightsAgreed,onAgreeVideoRights:c("VideoComposerDialogAdBreakActions").agreeVideoRights,onCancelPreview:this.$VideoComposerDialogAdBreakContainer3,onDeleteAdBreak:c("VideoComposerDialogAdBreakActions").deleteAdBreak,onEnableAdBreakAutoAdjustment:c("VideoComposerDialogAdBreakActions").setIsAdBreakAutoAdjustmentEnabled,onEnableAdBreakAutoInsertion:c("VideoComposerDialogAdBreakActions").setIsAdBreakAutoInsertionEnabled,onInsertAdBreak:c("VideoComposerDialogAdBreakActions").insertAdBreak,onPreviewAdBreak:this.$VideoComposerDialogAdBreakContainer2,onSetCurrentAdBreak:this.$VideoComposerDialogAdBreakContainer1,onStartPageOnboarding:c("VideoComposerDialogAdBreakActions").startPageOnboarding,onUpdateAdBreakStatus:c("VideoComposerDialogAdBreakActions").updateAdBreakStatus,onUpdateHoldoutTestStatus:c("VideoComposerDialogAdBreakActions").updateHoldoutTestStatus,onVPCUpdate:c("VideoComposerDialogAdBreakActions").updateVPC})))};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogAdBreaksTabUtils",["fbt","AdBreakInsertionDisabledReason","AdBreakStatus","Set","VideoInstreamAdsConstants","VideoInstreamUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("Place ad breaks in this video to start making money from your content."),j=h._("Ad breaks have been disabled for this video."),k=function k(l,m,n,o,p,q){__p&&__p();if(l)return{disabled:false,tabDescription:i,tabTooltip:null};if(o==null)return{disabled:true,tabDescription:j,tabTooltip:null};var r=new(c("Set"))(m),s=c("VideoInstreamUtils").getMaxPossibleAdBreaks(o,q);if(s===0)r.add(c("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT);if(p)r.add(c("AdBreakInsertionDisabledReason").BRANDED_CONTENT);if(r.has(c("AdBreakInsertionDisabledReason").NOT_ORGANIC_UPLOAD))return{disabled:true,tabDescription:j,tabTooltip:h._("Ad breaks can only be placed in original videos, not crossposted or reshared videos.")};if(r.has(c("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT))return{disabled:true,tabDescription:j,tabTooltip:h._("Videos must be {insertion interval} seconds or longer. Your video is too short to include ad breaks.",[h.param("insertion interval",c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH)])};if(r.has(c("AdBreakInsertionDisabledReason").BRANDED_CONTENT))return{disabled:true,tabDescription:j,tabTooltip:h._("Ad breaks not available. Ad breaks can't be used in this video because it contains tagged business partners.")};if(r.size>0)return{disabled:true,tabDescription:j,tabTooltip:null};var t=n.filter(function(u){return u.status===c("AdBreakStatus").ENABLED});if(t.length>0)return{disabled:false,tabDescription:h._("This video is opted into ad breaks."),tabTooltip:null};return{disabled:false,tabDescription:i,tabTooltip:null}};f.exports={getTabState:k}}),null);
__d("VideoComposerDialogTabItem.react",["cx","Image.react","React","ShimButton.react","SimpleNUXMessage","Tooltip","VideoComposerDialogActions","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=290;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={nuxShown:false},this.$VideoComposerDialogTabItem1=function(){c("VideoComposerDialogActions").selectTab(this.props.tabConfig.key)}.bind(this),this.$VideoComposerDialogTabItem2=function(){if(this.props.tabConfig.nuxMessage){c("SimpleNUXMessage").markMessageSeenByUser(this.props.tabConfig.nuxMessage);this.setState({nuxShown:false})}}.bind(this),n}l.prototype.componentDidMount=function(){this.setState({nuxShown:this.props.tabConfig.nuxMessage?!c("SimpleNUXMessage").hasUserSeenMessage(this.props.tabConfig.nuxMessage):false})};l.prototype.renderLayers=function(){var m=this.props.tabConfig;if(!m.renderNuxMessage)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.tabContainer}.bind(this),shown:this.state.nuxShown,position:"left",width:"custom",customwidth:m.nuxWidth?m.nuxWidth:k,onCloseButtonClick:this.$VideoComposerDialogTabItem2},m.renderNuxMessage())};l.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),babelHelpers["extends"]({className:"_10ij"+(this.props.isSelected?" _2-q6":"")+(this.props.disabled?" _k3d":""),ref:"tabContainer",href:"#",onClick:this.props.disabled?null:this.$VideoComposerDialogTabItem1},c("Tooltip").propsFor(this.props.tooltip,"left")),c("React").createElement("div",{className:"_10ik"},c("React").createElement(c("Image.react"),{className:"_63kw _3-90",src:this.props.isSelected?this.props.tabConfig.glyphSelected:this.props.tabConfig.glyphUnselected}),c("React").createElement("span",null,this.props.tabConfig.title)),c("React").createElement("div",{className:"_10il"},this.props.customDescription?this.props.customDescription:this.props.tabConfig.defaultDescription),this.renderLayers())};l.defaultProps={disabled:false};f.exports=l}),null);
__d("VideoComposerDialogAdBreaksTabContainer.react",["FluxContainer","immutable","React","VideoComposerDialogAdBreakStore","VideoComposerDialogAdBreaksTabConfig","VideoComposerDialogAdBreaksTabUtils","VideoComposerDialogMetadataStore","VideoComposerDialogTabItem.react","VideoComposerDialogTab","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogAdBreakStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab,m=c("VideoComposerDialogAdBreakStore").getState(),n=m.hasGapRule,o=m.insertedAdBreaks,p=m.isAdBreaksTabVisible,q=m.isBrandedContentVideo,r=m.isPageOnboardingVisible,s=m.serverSideDisabledReasons,t=c("VideoComposerDialogMetadataStore").getState(),u=t.videoDuration;return{hasGapRule:n,insertedAdBreaks:o,isBrandedContentVideo:q,isPageOnboardingVisible:r,isSelected:l===c("VideoComposerDialogTab").AD_BREAKS,isVisible:p,serverSideDisabledReasons:s,videoDuration:u}};j.prototype.render=function(){if(!this.state.isVisible)return null;var k=c("VideoComposerDialogAdBreaksTabUtils").getTabState(this.state.isPageOnboardingVisible,this.state.serverSideDisabledReasons.toArray(),this.state.insertedAdBreaks.toArray(),this.state.videoDuration,this.state.isBrandedContentVideo,this.state.hasGapRule);return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({customDescription:k.tabDescription,disabled:k.disabled,tabConfig:c("VideoComposerDialogAdBreaksTabConfig"),tooltip:k.tabTooltip},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("ReactComposerBackdateTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h,i){var j=c("React").createClass({displayName:"ReactComposerBackdateTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],statics:{taggerID:c("ReactComposerTaggerType").BACKDATE,loggingName:c("ReactComposerLoggingName").BACKDATE_TAGGER},getTitle:function k(){return i._("Set date and time of your post")},getTooltip:function k(){return i._("Set date and time of your post")},getClassName:function k(){return"_4ve3"}});f.exports=j}),null);
__d("ProgressiveDateAndTimePicker.react",["cx","fbt","InlineBlock.react","React","XUIProgressiveDatepicker.react","XUISelector.react","formatDate"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("XUISelector.react").Option,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={datePickerResult:{year:this.props.initialYear,month:this.props.initialMonth,day:this.props.initialDay},hour:this.props.initialHour,minute:this.props.initialMinute},this.onDateChange=function(t){this.setState({datePickerResult:t},this.onDateAndTimeChange)}.bind(this),this.onDateAndTimeChange=function(){if(!this.props.onDateAndTimeChange)return;var t=this.state.datePickerResult,u=babelHelpers["extends"]({},t,{hour:this.state.hour,minute:this.state.minute});this.props.onDateAndTimeChange(u)}.bind(this),this.onHourChange=function(event){this.onSelectorChange(event,"hour")}.bind(this),this.onMinuteChange=function(event){this.onSelectorChange(event,"minute")}.bind(this),this.onSelectorChange=function(event,t){var u=event.target?event.target.value:event.value,v={};v[t]=u;this.setState(v,this.onDateAndTimeChange)}.bind(this),p}n.prototype.componentWillReceiveProps=function(o){"use strict";var p=this.state,q=p.datePickerResult;if(o.initialYear!==q.year||o.initialMonth!==q.month||o.initialDay!==q.day||o.initialHour!==p.hour||o.initialMinute!==p.minute)this.setState({datePickerResult:{year:o.initialYear,month:o.initialMonth,day:o.initialDay},hour:o.initialHour,minute:o.initialMinute})};n.prototype.render=function(){"use strict";__p&&__p();var o,p;if(this.state.datePickerResult.day){var q=[c("React").createElement(l,{key:-1,value:-1},i._("Hour:"))];for(var r=0;r<24;r++){var s=new Date();s.setHours(r);var t=c("formatDate")(s,"g A");q.push(c("React").createElement(l,{key:r,value:r},t))}o=c("React").createElement(c("XUISelector.react"),{className:"_5vu1",disabled:!this.state.datePickerResult.day,maxheight:this.props.menuMaxHeight,name:this.props.inputPrefix+"_hour",onChange:this.onHourChange,value:this.state.hour},q)}if(this.state.hour!=-1){var u=[c("React").createElement(l,{key:-1,value:-1},i._("Minute:"))];for(r=0;r<60;r+=10){var v="00";if(r>0)v=r;u.push(c("React").createElement(l,{key:r,value:r},v))}p=c("React").createElement(c("XUISelector.react"),{className:"_5vu1",disabled:this.state.hour==-1,maxheight:this.props.menuMaxHeight,name:this.props.inputPrefix+"_minute",onChange:this.onMinuteChange,value:this.state.minute},u)}return c("React").createElement(c("InlineBlock.react"),{className:this.props.className},c("React").createElement(c("XUIProgressiveDatepicker.react"),babelHelpers["extends"]({},this.props,{setDateTo:this.state.datePickerResult,onDateChange:this.onDateChange})),o,p)};n.propTypes=babelHelpers["extends"]({},c("XUIProgressiveDatepicker.react").propTypes,{initialHour:m.number,initialMinute:m.number});n.defaultProps={initialYear:0,initialMonth:0,initialDay:0,initialHour:-1,initialMinute:-1,maxTime:Date.now()/1e3,minTime:new Date(1906,0,0,0,0).getTime()/1e3};f.exports=n}),null);
__d("ReactComposerBackdateTaggerComponent.react",["cx","fbt","Grid.react","ProgressiveDateAndTimePicker.react","React","XUICloseButton.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes,n={day:0,hour:-1,minute:-1,month:0,year:0};j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$ReactComposerBackdateTaggerComponent1=function(u){this.props.onSelect(u)}.bind(this),this.$ReactComposerBackdateTaggerComponent2=function(){this.$ReactComposerBackdateTaggerComponent1(n)}.bind(this),q}o.prototype.render=function(){"use strict";var p=this.props.taggerData.year>0?c("React").createElement(c("XUICloseButton.react"),{className:"_3mjw",onClick:this.$ReactComposerBackdateTaggerComponent2,size:"small"}):null;return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl"},c("React").createElement(l,{key:"prefix",className:"_5esm"},i._("When")),c("React").createElement(l,{key:"tagger",className:"_5esw _3mjx"},c("React").createElement(c("ProgressiveDateAndTimePicker.react"),{className:"_5bm1",initialYear:this.props.taggerData.year,initialMonth:this.props.taggerData.month,initialDay:this.props.taggerData.day,initialHour:this.props.taggerData.hour,initialMinute:this.props.taggerData.minute,descendingYears:true,onDateAndTimeChange:this.$ReactComposerBackdateTaggerComponent1,menuMaxHeight:235}),p))};o.propTypes={taggerData:m.object.isRequired,onSelect:m.func.isRequired};o.defaultProps={taggerData:{},onSelect:c("emptyFunction")};f.exports=o}),null);
__d("ReactComposerBackdateTaggerContainer.react",["React","ReactComposerBackdateTaggerComponent.react","ReactComposerLoggingName","ReactComposerTaggerContainerMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerBackdateTaggerContainer",mixins:[c("ReactComposerTaggerContainerMixin")()],statics:{taggerID:c("ReactComposerTaggerType").BACKDATE,loggingName:c("ReactComposerLoggingName").BACKDATE_TAGGER,taggerComponent:c("ReactComposerBackdateTaggerComponent.react")}});f.exports=h}),null);
__d("BusinessConversationEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MESSAGE_SENT:"message_sent",IMPRESSION:"impression",CLICK:"click",XOUT:"xout",TAP:"tap",EXIT:"exit"})}),null);
__d("BusinessConversationEventTarget",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ONE_CLICK_MESSAGE_BUTTON:"one_click_message_button",COMMENT_QUESTION_TRIGGERED_MESSAGE_BUTTON:"comment_question_triggered_message_button",PAGE_STORY_REPLY_BAR:"page_story_reply_bar",USER_MESSAGE_PROMPT:"user_message_prompt",COMPOSER_MESSAGE_TAGGER:"composer_message_tagger"})}),null);
__d("BusinessConversationEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:BusinessConversationEventsLoggerConfig",this.$BusinessConversationEventsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:BusinessConversationEventsLoggerConfig",this.$BusinessConversationEventsTypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:BusinessConversationEventsLoggerConfig",this.$BusinessConversationEventsTypedLogger1,{signal:true})};h.prototype.clear=function(){this.$BusinessConversationEventsTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$BusinessConversationEventsTypedLogger1)};h.prototype.updateData=function(j){this.$BusinessConversationEventsTypedLogger1=babelHelpers["extends"]({},this.$BusinessConversationEventsTypedLogger1,j);return this};h.prototype.setActorID=function(j){this.$BusinessConversationEventsTypedLogger1.actor_id=j;return this};h.prototype.setEvent=function(j){this.$BusinessConversationEventsTypedLogger1.event=j;return this};h.prototype.setEventLocation=function(j){this.$BusinessConversationEventsTypedLogger1.event_location=j;return this};h.prototype.setEventTarget=function(j){this.$BusinessConversationEventsTypedLogger1.event_target=j;return this};h.prototype.setIsActorPage=function(j){this.$BusinessConversationEventsTypedLogger1.is_actor_page=j;return this};h.prototype.setIsEmployee=function(j){this.$BusinessConversationEventsTypedLogger1.is_employee=j;return this};h.prototype.setMessageAttachmentInfos=function(j){this.$BusinessConversationEventsTypedLogger1.message_attachment_infos=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setMessageAttribution=function(j){this.$BusinessConversationEventsTypedLogger1.message_attribution=j;return this};h.prototype.setMessageBodyLength=function(j){this.$BusinessConversationEventsTypedLogger1.message_body_length=j;return this};h.prototype.setMessageChannel=function(j){this.$BusinessConversationEventsTypedLogger1.message_channel=j;return this};h.prototype.setMessageConversationState=function(j){this.$BusinessConversationEventsTypedLogger1.message_conversation_state=j;return this};h.prototype.setMessageID=function(j){this.$BusinessConversationEventsTypedLogger1.message_id=j;return this};h.prototype.setMessageIntent=function(j){this.$BusinessConversationEventsTypedLogger1.message_intent=j;return this};h.prototype.setMessageIsGroupThread=function(j){this.$BusinessConversationEventsTypedLogger1.message_is_group_thread=j;return this};h.prototype.setMessageIsSentViaMessengerPlatform=function(j){this.$BusinessConversationEventsTypedLogger1.message_is_sent_via_messenger_platform=j;return this};h.prototype.setMessageOfflineThreadingID=function(j){this.$BusinessConversationEventsTypedLogger1.message_offline_threading_id=j;return this};h.prototype.setMessageRecipientCount=function(j){this.$BusinessConversationEventsTypedLogger1.message_recipient_count=j;return this};h.prototype.setMessageRecipientInfos=function(j){this.$BusinessConversationEventsTypedLogger1.message_recipient_infos=c("GeneratedLoggerUtils").serializeMap(j);return this};h.prototype.setMessageServerTimestamp=function(j){this.$BusinessConversationEventsTypedLogger1.message_server_timestamp=j;return this};h.prototype.setMessageSource=function(j){this.$BusinessConversationEventsTypedLogger1.message_source=j;return this};h.prototype.setMessageTags=function(j){this.$BusinessConversationEventsTypedLogger1.message_tags=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setMessageThreadFbid=function(j){this.$BusinessConversationEventsTypedLogger1.message_thread_fbid=j;return this};h.prototype.setMessageType=function(j){this.$BusinessConversationEventsTypedLogger1.message_type=j;return this};h.prototype.setMesssageRecipientID=function(j){this.$BusinessConversationEventsTypedLogger1.messsage_recipient_id=j;return this};h.prototype.setPageCategory=function(j){this.$BusinessConversationEventsTypedLogger1.page_category=j;return this};h.prototype.setPageHasMessengerPlatformBot=function(j){this.$BusinessConversationEventsTypedLogger1.page_has_messenger_platform_bot=j;return this};h.prototype.setPageID=function(j){this.$BusinessConversationEventsTypedLogger1.page_id=j;return this};h.prototype.setPageMessagingActiveness=function(j){this.$BusinessConversationEventsTypedLogger1.page_messaging_activeness=j;return this};h.prototype.setPageSubVertical=function(j){this.$BusinessConversationEventsTypedLogger1.page_sub_vertical=j;return this};h.prototype.setPageVertical=function(j){this.$BusinessConversationEventsTypedLogger1.page_vertical=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$BusinessConversationEventsTypedLogger1=babelHelpers["extends"]({},this.$BusinessConversationEventsTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={actor_id:true,event:true,event_location:true,event_target:true,is_actor_page:true,is_employee:true,message_attachment_infos:true,message_attribution:true,message_body_length:true,message_channel:true,message_conversation_state:true,message_id:true,message_intent:true,message_is_group_thread:true,message_is_sent_via_messenger_platform:true,message_offline_threading_id:true,message_recipient_count:true,message_recipient_infos:true,message_server_timestamp:true,message_source:true,message_tags:true,message_thread_fbid:true,message_type:true,messsage_recipient_id:true,page_category:true,page_has_messenger_platform_bot:true,page_id:true,page_messaging_activeness:true,page_sub_vertical:true,page_vertical:true};f.exports=h}),null);
__d("BusinessConversationLogger",["BusinessConversationEventsTypedLogger"],(function a(b,c,d,e,f,g){var h={log:function i(j,event,k){var l=arguments.length<=3||arguments[3]===undefined?null:arguments[3],m=arguments[4],n=m||{};Object.keys(n).forEach(function(o){var p=n[o];if(p instanceof Array||p instanceof Object)p=JSON.stringify(p);n[o]=p});new(c("BusinessConversationEventsTypedLogger"))().setPageID(j).setEvent(event).setEventLocation(l).setEventTarget(k).updateExtraData(n).log()}};f.exports=h}),null);
__d("PagePostMessageIntentUtil",["PageMessageIntentConfig"],(function a(b,c,d,e,f,g){"use strict";var h={hasMessageIntent:function i(j){var k=j.toLowerCase();return Object.values(c("PageMessageIntentConfig").patterns).some(function(l){return k.match(String(l).toLowerCase())!==null})}};f.exports=h}),null);
__d("ReactComposerCTAActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({ADD_OPTION:null,ALLOW_MULTI_MEDIA:null,SET_CTA_CONFIG:null,HAS_PHOTO_FOR_ENTPOST:null,HAS_PHOTO:null,NEEDS_PHOTO:null,HAS_VIDEO:null,NEEDS_VIDEO:null,USING_PREMADE_POST_VIDEO:null},"ReactComposerCTAActionType")}),null);
__d("ReactComposerCTAStore",["DOM","ReactComposerCTAActionType","ReactComposerEvents","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{ctaType:"",ctaValues:{},hasPhoto:c("ReactComposerCTAActionType").NEEDS_PHOTO}},function(l){__p&&__p();switch(l.type){case c("ReactComposerCTAActionType").SET_CTA_CONFIG:k&&k.$ReactComposerCTAStore1(l);break;case c("ReactComposerCTAActionType").ALLOW_MULTI_MEDIA:k&&k.$ReactComposerCTAStore2(l);break;case c("ReactComposerCTAActionType").HAS_PHOTO:k&&k.$ReactComposerCTAStore3(l);break;case c("ReactComposerCTAActionType").HAS_PHOTO_FOR_ENTPOST:k&&k.$ReactComposerCTAStore4(l);break;case c("ReactComposerCTAActionType").NEEDS_PHOTO:k&&k.$ReactComposerCTAStore5(l);break;case c("ReactComposerCTAActionType").HAS_VIDEO:k&&k.$ReactComposerCTAStore6(l);break;case c("ReactComposerCTAActionType").NEEDS_VIDEO:k&&k.$ReactComposerCTAStore7(l);break;case c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO:k&&k.$ReactComposerCTAStore8(l);break;default:break}});k=this}j.prototype.$ReactComposerCTAStore2=function(k){"use strict";var l=this.getComposerData(k.composerID);l.allowMultiMedia=k.allowMultiMedia;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore3=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasPhoto=c("ReactComposerCTAActionType").HAS_PHOTO;l.hasCTAVideo=false;l.videoID=null;l.photoID=null;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore4=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasPhoto=c("ReactComposerCTAActionType").HAS_PHOTO;l.photoID=k.photoID;l.hasCTAVideo=false;l.videoID=null;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore5=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasPhoto=c("ReactComposerCTAActionType").NEEDS_PHOTO;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore6=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasCTAVideo=c("ReactComposerCTAActionType").HAS_VIDEO;l.videoID=k.videoID;l.hasPhoto=false;l.photoID=null;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore7=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasCTAVideo=c("ReactComposerCTAActionType").NEEDS_VIDEO;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore8=function(k){"use strict";var l=this.getComposerData(k.composerID);l.usingPremadePostVideo=c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO;this.emitChange(k.composerID)};j.prototype.removeListeners=function(){"use strict";this.removeAllListeners(c("ReactComposerEvents").CHANGE)};j.prototype.allowMultiMedia=function(k){"use strict";return this.getComposerData(k).allowMultiMedia===true};j.prototype.hasCTAPhotoID=function(k){"use strict";return this.getComposerData(k).photoID!==null};j.prototype.hasCTAPhoto=function(k){"use strict";return this.getComposerData(k).hasPhoto===c("ReactComposerCTAActionType").HAS_PHOTO};j.prototype.hasCTAVideo=function(k){"use strict";return this.getComposerData(k).hasCTAVideo===c("ReactComposerCTAActionType").HAS_VIDEO};j.prototype.isUsingPremadePostVideo=function(k){"use strict";return this.getComposerData(k).usingPremadePostVideo===c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO};j.prototype.getCTAType=function(k){"use strict";return this.getComposerData(k).ctaType};j.prototype.getCTAData=function(k){"use strict";return{type:this.getComposerData(k).ctaType,value:this.getComposerData(k).ctaValues}};j.prototype.getCTAMarkup=function(k){"use strict";return this.getComposerData(k).ctaMarkup};j.prototype.getVideoID=function(k){"use strict";var l=this.getComposerData(k);return l.videoID};j.prototype.getAttachmentConfig=function(k){"use strict";__p&&__p();var l=this.getComposerData(k);if(!l.ctaMarkup)return null;var m=l.ctaMarkup,n=l.ctaAttachmentConfig;if(this.allowMultiMedia(k))n.params.allowMultiMedia=l.allowMultiMedia;if(this.hasCTAVideo(k)){n.params.videoID=l.videoID;n.params.usingPremadePostVideo=this.isUsingPremadePostVideo(k)}else if(this.hasCTAPhotoID(k))n.params.photoID=l.photoID;else{var o=c("DOM").scry(m,'input[name="attachment[params][images][0]"]').pop(),p=c("DOM").scry(m,'input[name="attachment[params][title]"]').pop(),q=c("DOM").scry(m,'input[name="attachment[params][summary]"]').pop();if(o){if(!n.params.images)n.params.images=[];n.params.images[0]=o.value}if(p)n.params.title=p.value;if(q)n.params.summary=q.value}return n};j.prototype.$ReactComposerCTAStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","config"]),m=l[0],n=l[1],o=this.getComposerData(m);o.ctaType=n.ctaType;o.ctaValues=n.ctaValues;o.ctaMarkup=n.markup;o.ctaAttachmentConfig=n.attachmentConfig;this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerCTAActions",["ReactComposerCTAActionType","ReactComposerDispatcher","ReactComposerCTAStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerCTAStore");h.prototype.setConfig=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerCTAActionType").SET_CTA_CONFIG,config:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setAllowMultiMedia=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerCTAActionType").ALLOW_MULTI_MEDIA,allowMultiMedia:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setHasPhoto=function(i){"use strict";var j={composerID:i,type:c("ReactComposerCTAActionType").HAS_PHOTO};c("ReactComposerDispatcher").dispatch(j)};h.prototype.setHasPhotoForEntPost=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerCTAActionType").HAS_PHOTO_FOR_ENTPOST,photoID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setNeedsPhoto=function(i){"use strict";var j={composerID:i,type:c("ReactComposerCTAActionType").NEEDS_PHOTO};c("ReactComposerDispatcher").dispatch(j)};h.prototype.setHasVideo=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerCTAActionType").HAS_VIDEO,videoID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setNeedsVideo=function(i){"use strict";var j={composerID:i,type:c("ReactComposerCTAActionType").NEEDS_VIDEO};c("ReactComposerDispatcher").dispatch(j)};h.prototype.setPostingPremadePostCard=function(i){"use strict";var j={composerID:i,type:c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO};c("ReactComposerDispatcher").dispatch(j)};function h(){"use strict"}f.exports=new h()}),null);
__d("XMessengerMonetizationSmartSendMessageCTAController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/commerce/messenger_monetization/smart_send_message_cta/",{auto_select:{type:"Bool",defaultValue:false}})}),null);
__d("ReactComposerMessagingTaggerButton.react",["cx","fbt","AsyncRequest","BusinessConversationEvent","BusinessConversationEventTarget","BusinessConversationLogger","React","ReactComposerCTAActions","ReactComposerLoggingName","ReactComposerStatusStore","ReactComposerTaggerButton.react","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerType","PagePostMessageIntentUtil","XCommerceSelfServeMerchantNUXSeenController","XMessengerMonetizationSmartSendMessageCTAController","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerMessagingTaggerButton",mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerStatusStore"),c("ReactComposerTaggerStore"))],statics:{loggingName:c("ReactComposerLoggingName").MESSAGING_TAGGER,taggerID:c("ReactComposerTaggerType").MESSAGING,savedAutoSelect:undefined,calculateState:function l(m,n){var o=c("ReactComposerTaggerStore").getSelectedTagger(m);return{selected:o===this.taggerID,autoSelectMessage:c("PagePostMessageIntentUtil").hasMessageIntent(c("ReactComposerStatusStore").getMessageText(m)||""),hasData:c("ReactComposerTaggerStore").hasData(m,this.taggerID),showNUX:c("ReactComposerTaggerStore").shouldShowNUX(m,this.taggerID),showTooltip:c("ReactComposerTaggerStore").shouldShowTooltip(m,this.taggerID),shouldHide:c("ReactComposerTaggerStore").isDisabled(m,this.taggerID)}}},propTypes:{autoSelect:j.bool,nuxType:j.string,detectMessageIntent:j.bool},getTitle:function l(){return i._("Add a Send Message CTA")},getNUX:function l(){if(!this.state.showNUX||!this.state.contextRef)return null;var m=i._("Add this button to your post so that people can reply directly in Messenger.");return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"center",contextRef:function(){return this.state.contextRef}.bind(this),onCloseButtonClick:this._hideNUX,position:"below",shown:true,width:"auto"},m)},getInitialState:function l(){return{loggedImpressions:[]}},getTooltip:function l(){return i._("Add a Messenger button")},getClassName:function l(){return"_3dnl"},getRef:function l(){return"fbReactComposerMessagingTaggerButton"},_hideNUX:function l(){c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").MESSAGING,false);var m=c("XCommerceSelfServeMerchantNUXSeenController").getURIBuilder().setInt("page_id",this.context.actorID).setEnum("nux_type",this.props.nuxType).getURI();new(c("AsyncRequest"))(m).send()},componentDidMount:function l(){__p&&__p();this.setState({contextRef:this.refs.fbReactComposerMessagingTaggerButton});if(this.constructor.savedAutoSelect===undefined)this.constructor.savedAutoSelect=this.props.autoSelect;if(!this.state.shouldHide&&(this.constructor.savedAutoSelect||c("PagePostMessageIntentUtil").hasMessageIntent(c("ReactComposerStatusStore").getMessageText(this.context.composerID)||""))){var m=c("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID);if(m!==c("ReactComposerTaggerType").MESSAGING){this.constructor.savedAutoSelect=!this.constructor.savedAutoSelect;this._onSelect();if(!this.constructor.savedAutoSelect)this._logImpression()}}},componentWillUpdate:function l(){var m=c("ReactComposerTaggerStore").hasData(this.context.composerID,this.constructor.taggerID);if(!this.state.shouldHide&&this.state.autoSelectMessage&&this.props.detectMessageIntent&&m===undefined){this.constructor.savedAutoSelect=!this.constructor.savedAutoSelect;this._onSelect();this._logImpression()}},render:function l(){if(this.state.shouldHide)return null;return c("React").createElement("div",{className:"uiContextualLayerParent",style:{display:"inline-block"}},c("React").createElement(c("ReactComposerTaggerButton.react"),babelHelpers["extends"]({},this.state,{taggerID:this.constructor.taggerID,title:this.getTitle(),tooltip:this.getTooltip(),className:this.getClassName(),ref:this.getRef(),onSelect:this._onSelect,suppressTaggerLink:this.constructor.suppressTaggerLink}),this.getNUX&&this.getNUX()))},_logImpression:function l(){var m=this.state.loggedImpressions;if(m.indexOf(this.constructor.taggerID)>=0)return;c("BusinessConversationLogger").log(this.context.actorID,c("BusinessConversationEvent").IMPRESSION,c("BusinessConversationEventTarget").COMPOSER_MESSAGE_TAGGER,"page_composer",{});m.push(this.constructor.taggerID);this.setState({loggedImpressions:m})},_onSelect:function l(){this._onSelectX();c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle)},_onSelectX:function l(){var m=c("ReactComposerTaggerStore").hasData(this.context.composerID,this.constructor.taggerID);if(m){c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").MESSAGING_TAGGER,c("ReactComposerTaggerType").MESSAGING,{hasCTA:false});var n={ctaType:null,ctaValues:{is_cta_share_post:true,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};c("ReactComposerCTAActions").setConfig(this.context.composerID,n)}this.constructor.savedAutoSelect=!this.constructor.savedAutoSelect;var o=c("XMessengerMonetizationSmartSendMessageCTAController").getURIBuilder().setBool("auto_select",this.constructor.savedAutoSelect).getURI();new(c("AsyncRequest"))(o).send()}});f.exports=k}),null);
__d("PageComposerMessengerCTATaggerBannerButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=Object.freeze({DARK:"dark",LIGHT:"light"}),n=Object.freeze({MEDIUM:"medium",SMALL:"small"}),o=Object.freeze({BUTTON:"button",RESET:"reset",SUBMIT:"submit"});j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;p.prototype.render=function(){var q=this.props.size,r=this.props.shade,s="_50zy"+(q===n.SMALL?" _50zz":"")+(q===n.MEDIUM?" _50-0":"")+(r===m.LIGHT?" _50z_":"")+(r===m.DARK?" _50z-":""),t=this.props.label,u=this.props.title;if(!this.props.title&&!this.props.tooltip){if(!t)t=i._("Remove");u=t}return c("React").createElement(c("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,s),"data-hover":this.props.tooltip&&"tooltip","data-tooltip-alignh":this.props.tooltip&&"center","data-tooltip-content":this.props.tooltip,label:t,title:u,type:this.props.href?null:this.props.type}))};function p(){j.apply(this,arguments)}p.propTypes={shade:l.oneOf([m.DARK,m.LIGHT]),size:l.oneOf([n.MEDIUM,n.SMALL]),type:l.oneOf([o.BUTTON,o.RESET,o.SUBMIT])};p.defaultProps={size:"medium",shade:"dark",type:"button"};f.exports=p}),null);
__d("PageComposerMessengerCTATaggerBanner.react",["cx","fbt","LeftRight.react","PageComposerMessengerCTATaggerBannerButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props,o=n.closeButtonText,p=babelHelpers.objectWithoutProperties(n,["closeButtonText"]),q=c("React").createElement(c("PageComposerMessengerCTATaggerBannerButton.react"),{className:"_51-t",label:o,onClick:this.props.onClick}),r=c("React").Children.toArray(this.props.children);return c("React").createElement("div",babelHelpers["extends"]({},p,{className:c("joinClasses")(this.props.className,"_xbh")}),c("React").createElement(c("LeftRight.react"),null,c("React").createElement("h3",{className:"_xbj"},r&&r[0]),c("React").createElement("div",{className:"_26pn"},r&&r.slice(1),q)))};function m(){j.apply(this,arguments)}m.propTypes={closeButtonText:l.string,onClick:l.func.isRequired};m.defaultProps={closeButtonText:i._("Remove the Send Message button")};f.exports=m}),null);
__d("ReactComposerMessagingTaggerComponent.react",["fbt","AdsCallToActionTypes","PageComposerMessengerCTATaggerBanner.react","React","ReactComposerCTAActions","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.dismissButtonOnClick=function(){this.setState({setCTAConfig:false});var m={ctaType:null,ctaValues:{is_cta_share_post:true,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};this.setTaggerData(false);this.deselectMessagingTagger();c("ReactComposerCTAActions").setConfig(this.props.reactComposerID,m)}.bind(this);this.state={setCTAConfig:true}}k.prototype.render=function(){if(this.state.setCTAConfig)return c("React").createElement(c("PageComposerMessengerCTATaggerBanner.react"),{onClick:this.dismissButtonOnClick},h._("This post includes a button so people can reply in Messenger"));return null};k.prototype.componentDidMount=function(){this.setState({setCTAConfig:true});this.setTaggerData(true);var l={ctaType:c("AdsCallToActionTypes").TYPES.MESSAGE_PAGE.name,ctaValues:{is_cta_share_post:true,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};c("ReactComposerCTAActions").setConfig(this.props.reactComposerID,l)};k.prototype.setTaggerData=function(l){c("ReactComposerTaggerActions").setTaggerData(this.props.reactComposerID,c("ReactComposerLoggingName").MESSAGING_TAGGER,c("ReactComposerTaggerType").MESSAGING,{hasCTA:l})};k.prototype.deselectMessagingTagger=function(){c("ReactComposerTaggerActions").deselectCurrentTagger(this.props.reactComposerID,c("ReactComposerLoggingName").MESSAGING_TAGGER)};f.exports=k}),null);
__d("ReactComposerMessagingTaggerContainer.react",["React","ReactComposerLoggingName","ReactComposerMessagingTaggerComponent.react","ReactComposerTaggerContainerMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerMessagingTaggerContainer",_subscriptions:undefined,mixins:[c("ReactComposerTaggerContainerMixin")()],statics:{taggerID:c("ReactComposerTaggerType").MESSAGING,loggingName:c("ReactComposerLoggingName").MESSAGING_TAGGER,taggerComponent:c("ReactComposerMessagingTaggerComponent.react")},propTypes:{reactComposerID:h.string.isRequired},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release()}});f.exports=i}),null);
__d("PageNuxIDEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_PROFILE_PICTURE:5039,ADD_COVER_PHOTO:5040,ADMIN_POST_CREATION_UPSELL:4684,PAGE_OFFER_COMPOSER_TILE:5104,BOOST_PAGE_LIKE:4416,BOOST_WEBSITE:4415,FOOD_DRINK_ADMIN_ORDER_POST_UPSELL:5201,SEE_PAGES_FEED:4411,OFFER_TAB_NUX:5217,OFFER_TAB_RERUN_OFFER:5218,PAGE_CTA_AUTO_PROVISION:5219,PAGE_CTA_NEW_CTA_TYPE:5220,PAGE_CTA_NEW_FEATURE:5221,PAGE_CTA_PROMOTION:5222,PAGE_CTA_SUGGESTION:5223,WWW_HOME_TAB_STORY_NUX:5314,WWW_PUBLISH_PAGE_NUX:5341,WWW_COVER_SLIDESHOW_MENU_OPTION_NUX:5462,WWW_COVER_ON_TOUR_BADGE_MENU_OPTION_NUX:5649,COMPOSER_TARGETING_TAGGER:5056,COMPOSER_PRODUCT_TAGGER:5057})}),null);
__d("PageNuxSurfaceEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAGE_TIMELINE:"page_timeline",PAGE_INSIGHTS_TAB:"page_insights_tab",PAGE_COMPOSER:"page_composer"})}),null);
__d("ReactComposerProductTaggerButton.react",["fbt","cx","AsyncRequest","CommerceProductTaggerType","CommerceSelfServeNUXType","React","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","PageNuxIDEnum","PageNuxSurfaceEnum","PagesNuxFrameworkHelper","XCommerceSelfServeMerchantNUXSeenController","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerProductTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],statics:{loggingName:c("ReactComposerLoggingName").PRODUCT_TAGGER,taggerID:c("ReactComposerTaggerType").PRODUCT},propTypes:{nuxType:j.string,productTaggerType:j.string.isRequired,shouldUseNewNuxFramework:j.bool},getDefaultProps:function l(){return{nuxType:c("CommerceSelfServeNUXType").COMPOSER_PRODUCT_TAGGER_BUTTON}},getInitialState:function l(){return{isProductTaggerNuxVisible:!this._shouldUseNuxFramework()}},getTitle:function l(){return h._("Tag a product")},getNUX:function l(){if(!this.state.showNUX||!this.state.contextRef)return null;var m=this.props.productTaggerType===c("CommerceProductTaggerType").SHOP_PAGE?h._("Tag products from your shop in your post"):h._("Tag products in your post"),n=c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"center",contextRef:function(){return this.state.contextRef}.bind(this),onCloseButtonClick:this._hideNUX,position:"below",shown:this.state.isProductTaggerNuxVisible,width:"auto"},m);if(this.props.shouldUseNewNuxFramework)c("PagesNuxFrameworkHelper").registerNux(c("PageNuxIDEnum").COMPOSER_PRODUCT_TAGGER,c("PageNuxSurfaceEnum").PAGE_COMPOSER,function(){return this._showNux()}.bind(this));return n},getTooltip:function l(){return h._("Tag a product")},getClassName:function l(){return"_22ma"},getRef:function l(){return"fbReactComposerProductTaggerButton"},componentDidMount:function l(){this.setState({contextRef:this.refs.fbReactComposerProductTaggerButton,isProductTaggerNuxVisible:!this._shouldUseNuxFramework()})},_shouldUseNuxFramework:function l(){return!!this.props.productTaggerNuxID&&!!this.props.shouldUseNewNuxFramework},_showNux:function l(){this.setState({isProductTaggerNuxVisible:true})},_hideNUX:function l(){this.setState({isProductTaggerNuxVisible:false});if(this._shouldUseNuxFramework())c("PagesNuxFrameworkHelper").closeNux(c("PageNuxIDEnum").COMPOSER_PRODUCT_TAGGER,c("PageNuxSurfaceEnum").PAGE_COMPOSER);c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").PRODUCT,false);var m=c("XCommerceSelfServeMerchantNUXSeenController").getURIBuilder().setInt("page_id",this.context.actorID).setEnum("nux_type",this.props.nuxType).getURI();new(c("AsyncRequest"))(m).send()}});f.exports=k}),null);
__d("BOFSellerLoggingSources",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_SECTION:"AddSection",DEV_TEST:"DevTest",FINISH_SETUP_BANNER:"FinishSetupBanner",GRAPH_API:"GraphApi",MARKETPLACE_COMPOSER:"MarketplaceComposer",NLU_BANNER:"NLUBanner",PAGE_CARD:"PageCard",PAGE_COMPOSER:"PageComposer",PRODUCT_TAGGING_TYPEAHEAD:"ProductTaggingTypeahead",PUBLISHING_TOOLS:"PublishingTools",QP:"QP",SHOP_EDIT:"ShopEdit",SHOP_TAB:"ShopTab",STRIPE_REDIRECT:"StripeRedirect"})}),null);
__d("CommerceB2CUnsupportedCurrencies",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CNY:"CNY",CUC:"CUC",FBZ:"FBZ",IRR:"IRR",KPW:"KPW",SDG:"SDG",SYP:"SYP"})}),null);
__d("CommerceCurrencySelector.react",["CurrencyConfig","CommerceB2CUnsupportedCurrencies","React","XUISingleSelector.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("XUISingleSelector.react").Option,k=c("React").PropTypes,l=200,m="FBZ";h=babelHelpers.inherits(n,c("React").Component);i=h&&h.prototype;n.prototype.render=function(){var o=this.$CommerceCurrencySelector1(),p=this.props.selectedCurrency;o=o.filter(function(r){return!this.$CommerceCurrencySelector2(r.iso)}.bind(this));if(this.$CommerceCurrencySelector2(p))p="USD";var q=o.map(function(r){return c("React").createElement(j,{key:r.iso,value:r.iso},r.name)});return c("React").createElement(c("XUISingleSelector.react"),{maxheight:l,value:p,onChange:this.props.onChange},q)};n.prototype.$CommerceCurrencySelector2=function(o){return Object.values(c("CommerceB2CUnsupportedCurrencies")).indexOf(o)!==-1};n.prototype.$CommerceCurrencySelector1=function(){var o=c("CurrencyConfig").allCurrenciesByCode,p=Object.keys(o);return p.map(function(q){return o[q]}).filter(function(q){return q.iso!==m&&q.name!==null}).sort(function(q,r){return q.name.localeCompare(r.name)})};function n(){h.apply(this,arguments)}n.propTypes={onChange:k.func.isRequired,selectedCurrency:k.string.isRequired,selectedPaymentProvider:k.number};f.exports=n}),null);
__d("CommerceInventoryAvailabilityOptions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INVENTORY_IN_STOCK:100,INVENTORY_OUT_OF_STOCK:0})}),null);
__d("CommerceInventoryToggle.react",["cx","fbt","FBToggleSwitch.react","React","SUIBusinessTheme","SUISimplePopover.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").PropTypes,k=c("React").createClass({displayName:"CommerceInventoryToggle",propTypes:{disabled:j.bool.isRequired,inventory:j.number.isRequired,setInventoryInfo:j.func},render:function l(){var m=this.props.inventory>0?i._("In stock"):i._("Out of stock");return c("React").createElement("div",{className:"_3-95"},c("React").createElement("div",{className:"_2pim"},c("React").createElement(c("FBToggleSwitch.react"),{disabled:this.props.disabled,animate:true,checked:this.props.inventory>0,onToggle:this.props.setInventoryInfo}),c("React").createElement("span",{className:"_3jn"},m,c("React").createElement(c("SUISimplePopover.react"),{content:i._("Mark this product as in stock or out of stock"),contentWidthUseSparingly:318,position:"above",theme:c("SUIBusinessTheme")}))))}});f.exports=k}),null);
__d("CommerceSelfServeProductTaxCategories",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:0,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD:49e5,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:49e6,TAX_ITEM_CODE_COMMERCE_CLOTHING:531e5,TAX_ITEM_CODE_COMMERCE_SHOES:5311e4,TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:5312e4,TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:5313e4,TAX_ITEM_CODE_COMMERCE_JEWELRY:541e5,TAX_ITEM_CODE_COMMERCE_WATCHES:54111500,TAX_ITEM_CODE_COMMERCE_OTHERS:-1})}),null);
__d("CommerceSelfServeSection",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHECKOUT_URL:"checkout_url",COMMERCE_INSIGHTS:"commerce_insights",FEATURED_PRODUCT_TOGGLE:"featured_product_toggle",INVENTORY:"inventory",IN_STOCK_TOGGLE:"in_stock_toggle",PRODUCT_VISIBILITY:"product_visibility",SHIPPING_OPTIONS:"shipping_options",TAX_CATEGORY:"tax_category",TAX_TABLE:"tax_table",VARIANTS:"variants",MINIMUM_PRICE_ERROR:"minimum_price_error",SALE_PRICE:"sale_price",CATEGORY:"category"})}),null);
__d("CommerceProductVariantType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COLOR:"Color",CUSTOM:"Custom",EDITION:"Edition",FIT:"Fit",FLAVOR:"Flavor",FORMAT:"Format",LENGTH:"Length",MATERIAL:"Material",MODEL:"Model",PLATFORM:"Platform",SCENT:"Scent",SIZE:"Size",WIDTH:"Width"})}),null);
__d("PageCommerceProductVariantPage.react",["ix","cx","fbt","glyph","invariant","AccessibleTableParts.react","AdsCurrencyInput_DEPRECATED.react","CommerceCurrencyInputUtils","CommerceInventoryAvailabilityOptions","CommerceInventoryToggle.react","CommerceProductVariantType","CommerceSelfServeSection","CommerceUI","DummySearchSource","FreeformSearchSource","Image.react","Layout.react","Link.react","NumberInput.atlas","React","SearchableEntry","SUIBusinessTheme","SUISimplePopover.react","XUISingleSelector.react","XUITable.react","XUITokenizer.react","isEmpty"],(function a(b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=c("React").PropTypes,n=c("AccessibleTableParts.react").BodyRow,o=c("AccessibleTableParts.react").HeadRow,p=c("Layout.react").Column,q=c("Layout.react").FillColumn,r=c("XUISingleSelector.react").Option,s=c("React").createClass({displayName:"PageCommerceProductVariantPage",propTypes:{currencyCode:m.string.isRequired,defaultVariantPrice:m.number,getPriceError:m.func.isRequired,isOnSale:m.bool.isRequired,inventoryType:m.string.isRequired,setVariantInfo:m.func.isRequired,variants:m.arrayOf(m.shape({label:m.string,options:m.arrayOf(m.string)})).isRequired,variantItems:m.objectOf(m.shape({properties:m.object,price:m.number.isRequired,salePrice:m.number.isRequired,inventory:m.number,productID:m.number})).isRequired},_cachedItems:{},_deepClone:function t(u){return JSON.parse(JSON.stringify(u))},getInitialState:function t(){this._cachedItems=this._deepClone(this.props.variantItems);return{searchSource:new(c("FreeformSearchSource"))(new(c("DummySearchSource"))(),function(u){return u},0)}},render:function t(){var u=null;if(this.props.variants.length<c("CommerceUI").MAX_VARIANTS)u=c("React").createElement(c("Link.react"),{onClick:this._addNewVariantInput},j._("Add option"));return c("React").createElement("div",{className:"_3-8j"},c("React").createElement("div",{ref:"variant_input_list"},this.props.variants.map(function(v,w){return this._getVariantInput(v,w,this._getVariantLabels())}.bind(this))),u,this._getVariantsTable())},_getVariantInput:function t(u,v,w){return c("React").createElement("div",{key:"variant"+v,className:"_3-95"},c("React").createElement(c("Layout.react"),null,c("React").createElement(p,null,this._getVariantOptions(u,v,w)),c("React").createElement(q,{className:"_2pis"},c("React").createElement(c("XUITokenizer.react"),{entries:this._getTokenizerEntries(u),searchSource:this.state.searchSource,onRemoveEntryAttempt:this._onRemoveVariantOptionAttempt.bind(this,u,v),onAddEntryAttempt:this._onAddVariantOptionAttempt.bind(this,u,v),tokenizeQueryString:this._tokenizeQueryString.bind(this,u,v),selectOnBlur:true})),c("React").createElement(p,null,c("React").createElement(c("Image.react"),{className:"_11dw",onClick:this._removeVariant.bind(this,u,v),src:h("101449")}))))},_getVariantsTable:function t(){__p&&__p();if(c("isEmpty")(this.props.variants))return null;var u=[];for(var v in this.props.variantItems){var w=this.props.variantItems[v],x=w.properties,y=[];this.props.variants.forEach(function(C,D){var E=x&&x[C.label]?x[C.label]:"";y.push(c("React").createElement("td",{className:"_2ncv",key:D},E))});y.push(c("React").createElement("td",{width:"50",key:v+"inventory"},this._getInventoryInput(v,w.inventory)));var z=c("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(w.price,this.props.currencyCode),A=c("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(w.salePrice,this.props.currencyCode);y.push(c("React").createElement("td",{width:"50",key:v+"price"},c("React").createElement(c("AdsCurrencyInput_DEPRECATED.react"),{currency:this.props.currencyCode,onDataUpdate:this._updateVariantPrice.bind(this,v),value:z!==null?z:0,xuiError:this.props.getPriceError(w.price)})));if(this.props.isOnSale)y.push(c("React").createElement("td",{width:"50",key:v+"salePrice"},c("React").createElement(c("AdsCurrencyInput_DEPRECATED.react"),{currency:this.props.currencyCode,onDataUpdate:this._updateVariantSalePrice.bind(this,v),value:A!==null?A:0,xuiError:this.props.getPriceError(w.salePrice)})));u.push(c("React").createElement(n,{key:v},y))}var B=[];this.props.variants.forEach(function(C,D){B.push(c("React").createElement("th",{key:C.label+D},this._getVariantLabelDescription(String(C.label))))}.bind(this));B.push(c("React").createElement("th",{key:"inventory"},j._("Inventory")));B.push(c("React").createElement("th",{key:"price"},j._("Price")));if(this.props.isOnSale)B.push(c("React").createElement("th",{key:"salePrice"},j._("Sale price"),c("React").createElement(c("SUISimplePopover.react"),{content:j._("You can disable individual \"sale prices\" by setting them as equal to regular \"prices\"."),contentWidthUseSparingly:318,position:"below",theme:c("SUIBusinessTheme")})));return c("React").createElement(c("XUITable.react"),{outerBorder:true,className:"_2ncw"},c("React").createElement("thead",null,c("React").createElement(o,null,B)),c("React").createElement("tbody",null,u))},_updateVariantPrice:function t(u,v){var w=c("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(v,this.props.currencyCode);this._updateVariantItem(u,"price",w)},_getInventoryInput:function t(u,v){return this.props.inventoryType===c("CommerceSelfServeSection").IN_STOCK_TOGGLE?c("React").createElement(c("CommerceInventoryToggle.react"),{disabled:false,inventory:v!==null?v:0,setInventoryInfo:function(w){var v=w?c("CommerceInventoryAvailabilityOptions").INVENTORY_IN_STOCK:c("CommerceInventoryAvailabilityOptions").INVENTORY_OUT_OF_STOCK;this._updateVariantItem(u,"inventory",v)}.bind(this)}):c("React").createElement(c("NumberInput.atlas"),{isZeroValidValue:true,name:"inventory",nonnegative:true,value:v,formatNumber:false,onValueUpdated:this._updateVariantItem.bind(this,u,"inventory")})},_updateVariantSalePrice:function t(u,v){var w=c("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(v,this.props.currencyCode);this._updateVariantItem(u,"salePrice",w)},_updateVariantItem:function t(u,v,w){var x=this.props.variantItems;x[u][v]=w;this._cachedItems[u][v]=w;this.props.setVariantInfo({variantItems:x})},_getVariantItems:function t(u){__p&&__p();var v={};if(u.length===0)return v;this._getVariantCombos(u.slice(0)).forEach(function(w){__p&&__p();var x=[];for(var y in w)x.push(y+w[y]);x.sort();var z=JSON.stringify(x);if(z in this._cachedItems)v[z]=this._deepClone(this._cachedItems[z]);else{v[z]={properties:w,price:this.props.defaultVariantPrice,salePrice:this.props.defaultVariantPrice,inventory:0};this._cachedItems[z]=this._deepClone(v[z])}}.bind(this));return v},_getVariantCombos:function t(u){__p&&__p();if(u.length===0)return[{}];var v=[],w=u.shift(),x=this._getVariantCombos(u.slice(0));if(w.options.length==0)return x;w.options.forEach(function(y){x.forEach(function(z){var A=Object.assign({},z);A[w.label]=y;v.push(A)})});return v},_getTokenizerEntries:function t(u){return u.options.map(function(v){return new(c("SearchableEntry"))({uniqueID:v,title:v})})},_onRemoveVariantOptionAttempt:function t(u,v,w){var x=w.getTitle().trim(),y=u.options.indexOf(x);if(y>=0)u.options.splice(y,1);this._updateVariant(u,v)},_onAddVariantOptionAttempt:function t(u,v,w){var x=w.getTitle().trim();if(u.options.indexOf(x)>=0||x.length===0)return;u.options.push(x);this._updateVariant(u,v)},_updateVariant:function t(u,v){var w=this.props.variants;w[v]=u;var x=this._getVariantItems(w);this.props.setVariantInfo({variants:w,variantItems:x})},_tokenizeQueryString:function t(u,v,w){if(!w||!w.includes(","))return null;var x=w.split(",").filter(function(z){return z!==""}),y=x.pop();x.map(function(z){this._onAddVariantOptionAttempt(u,v,new(c("SearchableEntry"))({uniqueID:z,title:z}))}.bind(this));return new(c("SearchableEntry"))({uniqueID:y,title:y})},_addNewVariantInput:function t(){var u=this.props.variants;u.push(this._getDefaultVariant());this.props.setVariantInfo({variants:u,variantItems:this._getVariantItems(u)})},_removeVariant:function t(u,v){var w=this.props.variants;w.splice(v,1);this.props.setVariantInfo({variants:w,variantItems:this._getVariantItems(w)})},_getVariantLabels:function t(){return this.props.variants.map(function(u){return String(u.label)})},_getDefaultVariant:function t(){var u=this._getVariantLabels(),v=void 0;for(var w in c("CommerceProductVariantType")){var x=c("CommerceProductVariantType")[w];if(u.indexOf(x)===-1){v=x;break}}return{label:v,options:[]}},_getVariantOptions:function t(u,v,w){var x=[];for(var y in c("CommerceProductVariantType")){var z=c("CommerceProductVariantType")[y];if(u.label!==z&&w.indexOf(z)!==-1)continue;x.push(c("React").createElement(r,{key:y+v,value:z},this._getVariantLabelDescription(z)))}return c("React").createElement(c("XUISingleSelector.react"),{className:"_11dy",onChange:this._onSelectorChange.bind(this,u,v),value:u.label,size:"large"},x)},_getVariantLabelDescription:function t(u){__p&&__p();var v=u.toUpperCase();Object.prototype.hasOwnProperty.call(c("CommerceProductVariantType"),v)||l(0);switch(c("CommerceProductVariantType")[v]){case c("CommerceProductVariantType").SIZE:return j._("Size");case c("CommerceProductVariantType").COLOR:return j._("Colour");case c("CommerceProductVariantType").MATERIAL:return j._("Material");case c("CommerceProductVariantType").LENGTH:return j._("Length");case c("CommerceProductVariantType").FIT:return j._("Fit");case c("CommerceProductVariantType").WIDTH:return j._("Width");case c("CommerceProductVariantType").SCENT:return j._("Scent");case c("CommerceProductVariantType").FLAVOR:return j._("Flavour");case c("CommerceProductVariantType").MODEL:return j._("Model");case c("CommerceProductVariantType").FORMAT:return j._("Format");case c("CommerceProductVariantType").PLATFORM:return j._("Platform");case c("CommerceProductVariantType").EDITION:return j._("Edition");default:return u}},_onSelectorChange:function t(u,v,w){var x=this.props.variants;x[v].label=w.value;this.props.setVariantInfo({variants:x,variantItems:this._getVariantItems(x)});u.label=w.value;this._updateVariant(u,v)}});f.exports=s}),null);
__d("XPagesManagerProductDeleteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/products/product_delete/",{group_ids:{type:"StringVector"}})}),null);
__d("XPagesManagerProductUpdateInventoryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/products/update_inventory/",{product_group_ids:{type:"IntVector"},inventory_in_stock:{type:"Bool",defaultValue:false}})}),null);
__d("PageProductActions",["fbt","ActorURI","AsyncRequest","PageContentTabCommonConfig","PageContentTabDispatcher","PageContentTabLoadingDialog","XPagesManagerProductDeleteController","XPagesManagerProductUpdateInventoryController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={deleteProducts:function j(k,l,m){c("PageContentTabLoadingDialog").show();var n=c("ActorURI").create(c("XPagesManagerProductDeleteController").getURIBuilder().setStringVector("group_ids",k).getURI(),l);new(c("AsyncRequest"))(n).setMethod("POST").setHandler(function(o){k.forEach(function(p){return c("PageContentTabDispatcher").handlePostRemoved(l,p)})}).setFinallyHandler(function(){c("PageContentTabLoadingDialog").hide();m&&m()}).send()},deleteProductsWithConfirmation:function j(k,l,m){var n=k.length===1?h._("Deleting this product will remove it from your shop"):h._("Deleting these products will remove them from your shop");c("PageContentTabCommonConfig").showConfirmationDialog(h._({"Product":"Delete product?","Products":"Delete products?"},[h["enum"](k.length===1?"Product":"Products",{Product:"Product",Products:"Products"})]),n,h._({"product":"Delete Product","products":"Delete Products"},[h["enum"](k.length===1?"product":"products",{product:"product",products:"products"})]),i.deleteProducts.bind(i,k,l,m),null)},MarkStockWithConfirmation:function j(k,l,m,n){__p&&__p();var o=l.map(function(t){return t.id}),p=false;l.forEach(function(t){if(t.products.data.length>1)p=true});var q=null;if(m)q=p?h._({"product":"Mark product as in stock. All variants will be affected","products":"Mark products as in stock. All variants will be affected"},[h["enum"](o.length===1?"product":"products",{product:"product",products:"products"})]):h._({"product":"Mark product as in stock","products":"Mark products as in stock"},[h["enum"](o.length===1?"product":"products",{product:"product",products:"products"})]);else q=p?h._({"product":"Mark product as out of stock. All variants will be affected","products":"Mark products as out of stock. All variants will be affected"},[h["enum"](o.length===1?"product":"products",{product:"product",products:"products"})]):h._({"product":"Mark product as out of stock","products":"Mark products as out of stock"},[h["enum"](o.length===1?"product":"products",{product:"product",products:"products"})]);var r=m?h._("Mark as in stock"):h._("Mark as out of stock"),s=m?h._("Mark as in stock"):h._("Mark as out of stock");c("PageContentTabCommonConfig").showConfirmationDialog(r,q,s,i.MarkStockProducts.bind(i,k,m,l,n),null,null)},MarkStockProducts:function j(k,l,m,n){__p&&__p();c("PageContentTabLoadingDialog").show();var o=m.map(function(q){return q.id}),p=c("ActorURI").create(c("XPagesManagerProductUpdateInventoryController").getURIBuilder().setIntVector("product_group_ids",o).setBool("inventory_in_stock",l).getURI(),k);new(c("AsyncRequest"))(p).setMethod("POST").setHandler(function(q){__p&&__p();var r=q.payload;m.forEach(function(s){if(s.id in r){var t=s.products.data[0];t.inventory=r[s.id];if(t.commerce_settings){t.commerce_settings.inventory=t.inventory;t.commerce_settings.total_inventory=t.inventory}c("PageContentTabDispatcher").handlePostChanged(s)}})}).setFinallyHandler(function(){c("PageContentTabLoadingDialog").hide();n&&n()}).send()}};f.exports=i}),null);
__d("PageProductComposerMarketplaceCategorySelector.react",["cx","fbt","BUIFormSelector.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("BUIFormSelector.react").Option;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.categories.map(function(o){return c("React").createElement(l,{value:o.id,key:o.id},o.text)});return c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("XUIGrayText.react"),{className:"_3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},i._("Product category")),c("React").createElement(c("BUIFormSelector.react"),{density:"snug",onChange:function(o){return this.props.onCategoryClick(o.value)}.bind(this),value:this.props.value},n))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("PageProductComposerShippingOptions.react",["ix","cx","fbt","xuiglyph","CommerceSelfServeUI","CurrencyInput.atlas","Image.react","LeftRight.react","Link.react","React","XUIGrayText.react","XUIText.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes;l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.$PageProductComposerShippingOptions1=function(){return{shipping_country:"US",shipping_price_currency:this.props.currencyCode,shipping_price_value:0,shipping_service:null}}.bind(this),this.$PageProductComposerShippingOptions2=function(u,v){var w=this.props.shippingOptions;w[u].shipping_service=v;this.props.onShippingOptionsChange(w)}.bind(this),this.$PageProductComposerShippingOptions3=function(u,v){var w=this.props.shippingOptions;w[u].shipping_price_value=v;this.props.onShippingOptionsChange(w)}.bind(this),this.$PageProductComposerShippingOptions5=function(){var u=this.props.shippingOptions;u[u.length]=this.$PageProductComposerShippingOptions1();this.props.onShippingOptionsChange(u)}.bind(this),this.$PageProductComposerShippingOptions4=function(u){var v=this.props.shippingOptions;v.splice(u,1);this.props.onShippingOptionsChange(v);var w=u>0?u-1:0;this.refs[w].focusInput()}.bind(this),q}o.prototype.componentWillMount=function(){if(this.props.shippingOptions.length===0)this.props.onShippingOptionsChange([this.$PageProductComposerShippingOptions1()])};o.prototype.componentWillReceiveProps=function(p){if(p.shippingOptions.length===0)this.props.onShippingOptionsChange([this.$PageProductComposerShippingOptions1()])};o.prototype.render=function(){__p&&__p();var p=this.props.shippingOptions.length,q=h("88985"),r=[];this.props.shippingOptions.forEach(function(x){var y=x.shipping_service,z=r.length;r[z]=c("React").createElement("tr",{className:"_5b1f",key:"option-"+z},c("React").createElement("td",{className:"_b3y"},c("React").createElement(c("XUITextInput.react"),{className:"_2mfs",disabled:this.props.disabled,height:"tall",value:y,placeholder:j._("Delivery method name"),onChange:function(A){return this.$PageProductComposerShippingOptions2(z,A.target.value)}.bind(this),ref:z})),c("React").createElement("td",{className:"_b3z"},c("React").createElement(c("CurrencyInput.atlas"),{className:"_5rpn",currency:x.shipping_price_currency,disabled:this.props.disabled,isZeroValidValue:true,value:Number(x.shipping_price_value)/100,onChange:function(A){return this.$PageProductComposerShippingOptions3(z,A*100)}.bind(this)})),p>c("CommerceSelfServeUI").MIN_SHIPPING_OPTIONS?c("React").createElement("td",{className:"_b3-"},c("React").createElement(c("Link.react"),{onClick:function(A){this.props.disabled?null:this.$PageProductComposerShippingOptions4(z)}.bind(this)},c("React").createElement(c("Image.react"),{className:"_2_qb",src:q}))):null)}.bind(this));var s=void 0,t=c("React").createElement(c("XUIText.react"),{size:"meta1"},j._("Add delivery method"));if(p>=c("CommerceSelfServeUI").MAX_SHIPPING_OPTIONS){var u=j._("You've reached the maximum number of delivery options.");s=c("React").createElement(c("Link.react"),{"data-hover":"tooltip","data-tooltip-content":u,onClick:function x(y){return y.stopPropagation()}},t)}else s=c("React").createElement(c("Link.react"),{onClick:this.props.disabled?null:this.$PageProductComposerShippingOptions5},t);var v=null;if(this.props.settingsURI)v=c("React").createElement(c("Link.react"),{className:"_3-9b",href:this.props.settingsURI,target:"_blank"},j._("Edit default delivery options"));var w=null;if(!this.props.hideTitle)w=c("React").createElement("div",{className:"_3-94"},c("React").createElement(c("XUIGrayText.react"),{display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Delivery Options"),v),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},j._("Customers will only be charged one delivery fee per order, even if they order more than one of this item.")));return c("React").createElement("div",{className:"_4qx _2pid"},w,c("React").createElement("table",{className:"_b40"},c("React").createElement("tbody",null,r)),c("React").createElement("div",{className:"_2pic _2pir"},s))};o.propTypes={currencyCode:n.string.isRequired,disabled:n.bool,hideTitle:n.bool,settingsURI:n.object,shippingOptions:n.arrayOf(n.shape({shipping_country:n.string,shipping_price_currency:n.string,shipping_price_value:n.number,shipping_service:n.string})).isRequired,onShippingOptionsChange:n.func.isRequired};f.exports=o}),null);
__d("PageProductComposerTaxCategorySelector.react",["cx","fbt","invariant","BUIFormSelector.react","CommerceSelfServeProductTaxCategories","React","SUIBusinessTheme","SUISimplePopover.react","XUIGrayText.react","forEachObject"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("BUIFormSelector.react").Option,n=c("React").PropTypes;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;o.prototype.render=function(){var p=[];c("forEachObject")(c("CommerceSelfServeProductTaxCategories"),function(q,r){if(q!==c("CommerceSelfServeProductTaxCategories").NONE&&q!==c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD)p.push(c("React").createElement(m,{value:q,key:"UNSPSC_"+q},this.$PageProductComposerTaxCategorySelector1(r)))}.bind(this));return c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("XUIGrayText.react"),{className:"_3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},i._("Product category"),c("React").createElement(c("SUISimplePopover.react"),{content:i._("This category is used to calculate taxes. You can also enter a tax rate under Custom Product Taxes in Advanced Options."),contentWidthUseSparingly:318,position:"below",theme:c("SUIBusinessTheme")})),c("React").createElement(c("BUIFormSelector.react"),{density:"snug",onChange:this.props.onTaxCategoryChange,value:this.props.taxCategory},p))};o.prototype.$PageProductComposerTaxCategorySelector1=function(p){__p&&__p();Object.prototype.hasOwnProperty.call(c("CommerceSelfServeProductTaxCategories"),p)||j(0);switch(c("CommerceSelfServeProductTaxCategories")[p]){case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:return i._("Sport and recreation");case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_CLOTHING:return i._("Clothing");case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SHOES:return i._("Shoes");case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:return i._("Luggage\/Bags");case c("CommerceSelfServeProductTaxCategories").TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:return i._("Personal care");case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_JEWELRY:return i._("Jewellery");case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_WATCHES:return i._("Watches");case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS:return i._("Other physical goods");default:j(0)}};function o(){k.apply(this,arguments)}o.propTypes={onTaxCategoryChange:n.func,taxCategory:n.number};o.defaultProps={taxCategory:c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS};f.exports=o}),null);
__d("PageProductReviewNUX.react",["cx","fbt","React","ReactLayeredComponentMixin_DEPRECATED","XUIDialog.react","XUIDialogBody.react","XUICloseButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIGrayText.react","classWithMixins","mixin"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=500;j=babelHelpers.inherits(n,c("classWithMixins")(c("React").Component,c("mixin")(c("ReactLayeredComponentMixin_DEPRECATED"))));k=j&&j.prototype;function n(){k.constructor.call(this);this.state={dialogShown:true}}n.prototype.render=function(){return c("React").createElement("span",null)};n.prototype.renderLayers=function(){if(!this.state.dialogShown)return{};return{dialog:c("React").createElement(c("XUIDialog.react"),{width:m,onToggle:function(o){return this.$PageProductReviewNux1.bind(this,o)}.bind(this),shown:this.state.dialogShown,layerHideOnBlur:false},c("React").createElement("div",{className:"_2pie _2pij"},c("React").createElement(c("XUICloseButton.react"),{label:this.props.closeButtonText,className:"layerCancel rfloat"})),c("React").createElement(c("XUIDialogBody.react"),{className:"_4o_9"},c("React").createElement("h1",{className:"_4o_a"},this.$PageProductReviewNux2()),c("React").createElement(c("XUIGrayText.react"),{size:"header4"},this.$PageProductReviewNux3())),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogOkayButton.react"),{use:"confirm",action:"button",onClick:this.$PageProductReviewNux1.bind(this,false)})))}};n.prototype.$PageProductReviewNux2=function(){return i._("You've just added your first product!")};n.prototype.$PageProductReviewNux3=function(){return i._("All products are processed before they are visible to your customers. You will receive a notification when this is done, usually within a few minutes.")};n.prototype.$PageProductReviewNux1=function(o){this.setState({dialogShown:o});if(!o&&this.props.onDialogClosed)this.props.onDialogClosed()};n.propTypes={onDialogClosed:l.func};f.exports=n}),null);
__d("ProductVisibility",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LEGACY_PUBLIC:"",STAGING:"staging",PUBLISHED:"published",HIDDEN:"hidden",WHITELIST_ONLY:"whitelist_only"})}),null);
__d("ProductVisibilitySelector.react",["fbt","BUIFormSelector.react","ProductVisibility","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("BUIFormSelector.react").Option,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){var n=this.props,o=n.onChange,p=n.value,q=babelHelpers.objectWithoutProperties(n,["onChange","value"]);return c("React").createElement(c("BUIFormSelector.react"),babelHelpers["extends"]({onChange:function(r){function o(s){return r.apply(this,arguments)}o.toString=function(){return r.toString()};return o}(function(r){return o(r.value)}),value:p},q),c("React").createElement(k,{value:c("ProductVisibility").PUBLISHED},h._("Public")),c("React").createElement(k,{value:c("ProductVisibility").STAGING},h._("Unpublished")))};function m(){i.apply(this,arguments)}m.propTypes=babelHelpers["extends"]({onChange:l.func.isRequired,value:l.string.isRequired},c("BUIFormSelector.react").propTypes);f.exports=m}),null);
__d("XCommerceSelfServeParam",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EXPLANATION:"explanation",PAGE_ID:"page_id",AMOUNT:"amount",ADDRESS:"address",STREET_1:"street1",STREET_2:"street2",CITY:"city",STATE:"region",ZIP:"postalCode",ACCEPTED_TOS:"accepted_tos",ALERT_EMAIL:"alert_email",COLLECTION_NAME:"collection_name",CONTACT_EMAIL:"contact_email",SECONDARY_CTA:"secondary_product_cta",PAYMENT_PROVIDER:"payment_provider",PAYPAL_MERCHANT_EMAIL:"paypal_merchant_email",RETURN_POLICY_TIME:"return_policy_time",SETTINGS_ID:"settings_id",SHIPPING_POLICY_TIME:"shipping_policy_time",STRIPE_DEFERRED_EMAIL:"stripe_deferred_email",TAX_NEXUS_LOCATIONS:"tax_nexus_locations",VISIBILITY:"visibility",CHECKOUT_URL:"checkout_url",COLLECTION_ID:"collection_id",CURRENCY_CODE:"currency_code",DEFAULT_SHIPPING_OPTIONS_JSON:"default_shipping_options_json",FEATURED_PRODUCT:"featured_product",INVENTORY:"inventory",IS_ON_SALE:"is_on_sale",PRODUCT_CATALOG_ID:"catalog_id",PRODUCT_DESCRIPTION:"product_desc",PRODUCT_ID:"product_id",PRODUCT_PHOTO_IDS:"photo_ids",PRODUCT_VIDEO_IDS:"video_ids",PRODUCT_PRICE:"product_price",PRODUCT_SALE_PRICE:"product_sale_price",PRODUCT_TITLE:"product_title",SHARE_TO_TIMELINE:"share_to_timeline",SHIPPING_OPTION_NAMES:"shipping_option_names",SHIPPING_OPTION_VALUES:"shipping_option_values",TAX_APPLIED_TO_SHIPPING_MAP:"tax_applied_to_shipping_map",TAX_CATEGORY:"tax_category",TAX_LOCATIONS:"tax_locations",TAX_PERCENT_MAP:"tax_percent_map",VARIANT_NAMES:"variant_names",VARIANT_INVENTORY:"variant_inventory_map",VARIANT_PRICE:"variant_price_map",VARIANT_SALE_PRICE:"variant_sale_price_map",VARIANT_DATA:"variant_serial_data_map",VARIANT_PRODUCT_ID:"variant_product_id_map",CATEGORY_ID:"category_id",SOURCE_POST_ID:"post_id"})}),null);
__d("XPagesManagerFeaturedItemsCountController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/featured_items_count/",{})}),null);
__d("XPagesManagerProductCreateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/products/product_create/",{})}),null);
__d("XPagesManagerProductVariantsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/product_variants/",{catalog_item_id:{type:"FBID",required:true}})}),null);
__d("XPagesManagerProductViewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/product/",{product_id:{type:"String",required:true}})}),null);
__d("XPagesProfileShopController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/{page_token}/shop/",{page_token:{type:"String",required:true},business_id:{type:"Int"},rid:{type:"Int"},rt:{type:"Enum",enumType:0},location:{type:"Enum",enumType:1},share_id:{type:"Int"},cid:{type:"Int"},obs:{type:"String"},hsi:{type:"Int"},offer_id:{type:"Int"},updated_cids:{type:"IntVector"},new_pids_count:{type:"IntVector"},new_pids:{type:"IntVector"},search_text:{type:"String"},__nodl:{type:"Exists",defaultValue:false},qr:{type:"String"},qr_code_id:{type:"FBID"},ref:{type:"String"},mt_nav:{type:"Bool",defaultValue:false},_sref_:{type:"Int"},_vref_:{type:"Int"}})}),null);
__d("PageProductComposerDialog.react",["ix","cx","fbt","ActorURI","AdsCurrencyInput_DEPRECATED.react","AsyncRequest","BOFSellerLogger","BOFSellerLoggerEvent","BOFSellerLoggingSources","BUIFormButton.react","CommerceCurrencyInputUtils","CommerceCurrencySelector.react","CommerceExceptionHandlerMixin.react","CommerceInventoryAvailabilityOptions","CommerceInventoryToggle.react","CommerceSelfServeProductTaxCategories","CommerceSelfServeProductTaxRatesTable.react","CommerceSelfServeSection","Currency","DOM","FBNumberInput.react","FBToggleSwitch.react","Image.react","InlineBlock.react","Link.react","PageCommerceProductVariantPage.react","PageContentTabDispatcher","PageContentTabProductPhotoUploader.react","PageProductActions","PageProductComposerMarketplaceCategorySelector.react","PageProductComposerShippingOptions.react","PageProductComposerTaxCategorySelector.react","PageProductReviewNUX.react","PageSettingsRef","PagesManagerProductToolsConstants","PECurrency","ProductVisibility","ProductVisibilitySelector.react","React","ReactDOM","SUIBusinessTheme","SUISimplePopover.react","XCommerceSelfServeParam","XPagesManagerFeaturedItemsCountController","XPagesManagerProductCreateController","XPagesManagerProductVariantsController","XPagesManagerProductViewController","XPagesManagerSettingsController","XPagesProfileShopController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","XUIDialogTitle.react","XUIError.react","XUIGrayText.react","XUINotice.react","XUISpinner.react","XUITextInput.react","areEqual","fbglyph","getOwnObjectValues","goURI","idx","PageContentTabConstants"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("React").PropTypes,l=c("PageContentTabConstants").TABS,m="USD",n=500,o=80,p=3,q=50,r=1,s=100,t=100,u={main:"main",variant:"variant"},v={edit:"Edit",advanced:"Advanced"},w="0",x=c("React").createClass({displayName:"PageProductComposerDialog",mixins:[c("CommerceExceptionHandlerMixin.react")],propTypes:{categories:k.array,checkoutURL:k.string,collectionID:k.string,currencyCode:k.string,defaultShippingOptions:k.array,onProductChanged:k.func,onProductCreated:k.func,onProductDeleted:k.func,pageContentTabAccessToken:k.string.isRequired,pageID:k.string.isRequired,pageHasShop:k.bool.isRequired,postID:k.string,prefillConfig:k.shape({currencyCode:k.string,description:k.string,photos:k.array,price:k.number,title:k.string}),productCatalogID:k.string.isRequired,productID:k.string,productGroupID:k.string,requireDescription:k.bool.isRequired,sections:k.array.isRequired,shownInitially:k.bool,showShareToTimelineToggle:k.bool,showTOS:k.bool,showVideoUploadButton:k.bool,source:k.oneOf(c("getOwnObjectValues")(c("BOFSellerLoggingSources"))).isRequired,tosURI:k.string,onClose:k.func,shouldCreateShopFromProduct:k.bool},getDefaultProps:function y(){return{showShareToTimelineToggle:true}},getInitialState:function y(){var z,A,B,C,D;return{categoryID:null,checkoutURL:this.props.checkoutURL||"",currencyCode:((z=this.props)!=null?(z=z.prefillConfig)!=null?z.currencyCode:z:z)||this.props.currencyCode||m,currentTabKey:v.edit,currentPage:u.main,dialogShown:this.props.shownInitially,errorTabs:[],featuredCount:0,hasAttemptedSave:false,inventory:c("CommerceInventoryAvailabilityOptions").INVENTORY_IN_STOCK,isOnSale:false,loading:false,saving:false,photos:((A=this.props)!=null?(A=A.prefillConfig)!=null?A.photos:A:A)||[],videos:[],productDesc:((B=this.props)!=null?(B=B.prefillConfig)!=null?B.description:B:B)||"",productPrice:((C=this.props)!=null?(C=C.prefillConfig)!=null?C.price:C:C)||0,productSalePrice:0,productTitle:((D=this.props)!=null?(D=D.prefillConfig)!=null?D.title:D:D)||"",productVisibility:c("ProductVisibility").PUBLISHED,shareToTimeline:false,shippingOptions:this.props.defaultShippingOptions||[],taxCategory:c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS,taxRates:{state_abbr:{},zip_code:{}},showVariants:false,visibilityNotice:null,variants:[],variantItems:{}}},componentWillMount:function y(){this._reviewedProductData=this._getReviewableDataFromState(this.state);if(this.props.productID)this._fetchProductDetails(this.props.pageID,this.props.productID);if(this.props.productGroupID)this._fetchVariants(this.props.pageID,this.props.productGroupID!=="0"?this.props.productGroupID:this.props.productID);this._fetchFeaturedCount(this.props.pageID)},componentDidMount:function y(){var event=this.props.productID?c("BOFSellerLoggerEvent").ACTN_EDIT_PRODUCT_CLICK:c("BOFSellerLoggerEvent").ACTN_ADD_PRODUCT_CLICK;this._logEvent(event)},componentWillReceiveProps:function y(z){if(this.props.pageID!==z.pageID||this.props.productID!==z.productID||this.props.productGroupID!==z.productGroupID){this._fetchProductDetails(z.pageID,z.productID);this._fetchVariants(z.pageID,z.productGroupID!=="0"?z.productGroupID:z.productID)}},_fetchFeaturedCount:function y(z){this.setState({loading:true});var A=c("ActorURI").create(c("XPagesManagerFeaturedItemsCountController").getURIBuilder().getURI(),z);new(c("AsyncRequest"))().setURI(A).setHandler(function(B){var C=B.payload.featured_count;this.setState({loading:false,featuredCount:C})}.bind(this)).send()},_fetchProductDetails:function y(z,A){this.setState({loading:true});var B=c("ActorURI").create(c("XPagesManagerProductViewController").getURIBuilder().setString(c("XCommerceSelfServeParam").PRODUCT_ID,A).getURI(),z);new(c("AsyncRequest"))().setURI(B).setHandler(this._onProductDetailsFetched).send()},_fetchVariants:function y(z,A){this.setState({loading:true});var B=c("ActorURI").create(c("XPagesManagerProductVariantsController").getURIBuilder().setFBID("catalog_item_id",A).getURI(),z);new(c("AsyncRequest"))().setURI(B).setHandler(function(C){var D=C.payload,E={variants:D.variants,variantItems:D.variantItems};this._oldVariants=this._deepClone(E);this._reviewedProductData=this._getReviewableDataFromState(babelHelpers["extends"]({},this.state,D));this.setState(D)}.bind(this)).send()},_oldVariants:{variants:[],variantItems:{}},_deepClone:function y(z){return JSON.parse(JSON.stringify(z))},onPhotosSelected:function y(z){this.setState({photos:this.state.photos.concat(z)})},onPhotoRemoved:function y(z){this.setState({photos:this.state.photos.filter(function(A){return A.fbid!==z.fbid})})},onPhotoEdited:function y(z,A){var B=this.state.photos.findIndex(function(D){return D.fbid===z});if(B!==undefined){c("BOFSellerLogger").log(c("BOFSellerLoggerEvent").ACTN_PHOTO_EDITED,this.props.pageID,{target_class:"Photo",target_id:A.fbid});var C=this.state.photos.slice();C[B]=A;this.setState({photos:C})}},_onVideoSelected:function y(z){var A=this.state.videos;A=A.concat({requestID:z,fbid:z,src:null,ready:false,error:false});this.setState({videos:A})},_onVideoRemoved:function y(z){this.setState({videos:this.state.videos.filter(function(A){return A.fbid!==z.fbid})})},_onVideoUploadFinished:function y(z,A,B){var C=this.state.videos;for(var D=0;D<C.length;D++)if(C[D].requestID===z){C[D].fbid=A;C[D].src=B;C[D].ready=true}this.setState({videos:C})},_onVideoUploadError:function y(z){var A=this.state.videos;for(var B=0;B<A.length;B++)if(A[B].requestID===z){A[B].error=true;A[B].ready=false}this.setState({videos:A})},_getDialogHeader:function y(){switch(this.state.currentPage){case u.main:return c("React").createElement(c("XUIDialogHeader.react"),{activeTabKey:this.state.currentTabKey,onTabClick:this._handleTabChange},this._getTabHeaders());case u.variant:return c("React").createElement(c("XUIDialogTitle.react"),null,this._getTitle())}return c("React").createElement("div",null)},_getTabHeaders:function y(){var z=[c("React").createElement(c("XUIDialogHeaderTitle.react"),{href:"#",key:v.edit},this._getTitle())];if(this._showSection(c("CommerceSelfServeSection").TAX_TABLE))z.push(c("React").createElement(c("XUIDialogHeaderTitle.react"),{href:"#",key:v.advanced},j._("Advanced options")));return z},_getPhotoUploader:function y(){var z=this.state.hasAttemptedSave?this._getPhotosError(this.state.photos):null;return c("React").createElement(c("PageContentTabProductPhotoUploader.react"),{className:"_2anr",pageID:this.props.pageID,photoEditingEnabled:true,photos:this.state.photos,onPhotosSelected:this.onPhotosSelected,onPhotoRemoved:this.onPhotoRemoved,onPhotoEdited:this.onPhotoEdited,productCatalogID:this.props.productCatalogID,pageContentTabAccessToken:this.props.pageContentTabAccessToken,videos:this.state.videos,onVideoSelected:this._onVideoSelected,onVideoUploadFinished:this._onVideoUploadFinished,onVideoUploadError:this._onVideoUploadError,onVideoRemoved:this._onVideoRemoved,showVideoUploadButton:this.props.showVideoUploadButton,xuiError:z})},_getPhotoTooltip:function y(){if(this.state.photos.length>0||this.state.videos.length>0)return null;if(this.props.source===c("BOFSellerLoggingSources").PRODUCT_TAGGING_TYPEAHEAD&&!this.props.pageHasShop)return c("React").createElement(c("XUINotice.react"),{size:"small"},c("React").createElement("div",{className:"_45zv"},j._("Adding a product lets you tag it in posts, photos and videos on your Page.")));return c("React").createElement(c("XUINotice.react"),{size:"small"},c("React").createElement("div",{className:"_1mxl"},j._("Take a look at our {link} for tips on making your product images look good on Facebook.",[j.param("link",c("React").createElement(c("Link.react"),{href:"https://www.facebook.com/business/help/481150918755515",target:"_blank"},j._("recommended photo guidelines")))])))},_getTabBodies:function y(){var z=this.state.currentTabKey==v.edit,A=[c("React").createElement("div",{className:z?"_2pi1":"hidden_elem",key:"basic_product_edit_tab"},c("React").createElement("div",{dangerouslySetInnerHTML:this.state.visibilityNotice}),c("React").createElement("div",null,this._getPhotoUploader(),this._getPhotoTooltip()),c("React").createElement("div",{className:"clearfix"}),this._getNamePriceDescriptionInputs(),this._getCheckoutURLInput(),this._getFeaturedToggleSwitch(),this._getShareToTimelineToggle(),c("React").createElement("div",{className:"_3p77"},c("React").createElement("div",{className:"_4o5s"},this._getInventoryInput()),c("React").createElement("div",{className:"_4o5t"},this._getTaxCategorySelector())),c("React").createElement("div",{className:"_3p77"},c("React").createElement("div",{className:"_4o5s"},this._getVariantsButton()),c("React").createElement("div",{className:"_4o5t"},this._getVisibilitySelector())),this._getEditWarning(),this._getShippingOptionsSection(),this._getShopCreationNoticeSection(),this._getTOSSection())];if(this._showSection(c("CommerceSelfServeSection").TAX_TABLE))A.push(c("React").createElement("div",{className:(z?"hidden_elem":"")+" _2pi1 _5dz6",key:"advanced_product_edit_tab"},this._getTaxTable()));return A},_getShopCreationNoticeSection:function y(){if(this.props.pageHasShop||!this.props.shouldCreateShopFromProduct)return null;return c("React").createElement("div",{className:"_3-8x _4u1-"},j._("When you add a product, we will create a shop section for your Page. You can easily edit and manage your products within your shop."))},_getTOSSection:function y(){if(!this.props.showTOS)return null;return c("React").createElement("div",{className:"_3-8x _1otd"},j._("By clicking {Label displayed on button to save a product}, you agree to the {Merchant Terms and Policies link}",[j.param("Label displayed on button to save a product",this._getSaveButtonText()),j.param("Merchant Terms and Policies link",c("React").createElement(c("Link.react"),{href:this.props.tosURI,target:"_blank"},"Merchant Terms and Policies"))]))},_getMerchantSettingsURI:function y(){return c("XPagesManagerSettingsController").getURIBuilder().setString("page_token",this.props.pageID).setString("tab","shop").setString("ref",c("PageSettingsRef").PRODUCT_COMPOSER).getURI()},_getTaxTable:function y(){return c("React").createElement("div",null,c("React").createElement("div",{display:"block",className:"_3-96"},c("React").createElement(c("XUIGrayText.react"),{weight:"bold",shade:"dark",size:"header4"},j._("Custom product taxes")),c("React").createElement(c("SUISimplePopover.react"),{content:j._("You can enter specific taxes for products taxed at special rates, such as some foods and beverages."),contentWidthUseSparingly:318,position:"below",theme:c("SUIBusinessTheme")})),c("React").createElement(c("CommerceSelfServeProductTaxRatesTable.react"),{taxRates:this.state.taxRates,onChangeTaxRates:this._onChangeTaxRates}),c("React").createElement("div",{display:"block",className:"_3-8x"},c("React").createElement(c("Link.react"),{href:this._getMerchantSettingsURI(),target:"_blank"},j._("View default shop taxes"))))},_getInnerContent:function y(){if(this.state.loading)return c("React").createElement(c("XUISpinner.react"),{className:"_2_i8",size:"large"});switch(this.state.currentPage){case u.main:return c("React").createElement("div",null,this._getTabBodies());case u.variant:return c("React").createElement("div",null,c("React").createElement("div",{className:"_1go"},c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:"_1gp",onClick:this._onVariantsSaveButtonClicked},c("React").createElement(c("Image.react"),{src:h("141823")})),c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:"_1gq"},j._("More options"))),c("React").createElement("div",{className:"_3-8j"},c("React").createElement(c("XUIGrayText.react"),{display:"block"},j._("Add options such as sizes, colours or materials that your product comes in."))),c("React").createElement(c("PageCommerceProductVariantPage.react"),{currencyCode:this.state.currencyCode,defaultVariantPrice:this.state.productPrice,getPriceError:this._getPriceError,inventoryType:this._showSection(c("CommerceSelfServeSection").IN_STOCK_TOGGLE)?c("CommerceSelfServeSection").IN_STOCK_TOGGLE:c("CommerceSelfServeSection").INVENTORY,isOnSale:this.state.isOnSale,setVariantInfo:function(z){return this.setState(z)}.bind(this),variants:this.state.variants,variantItems:this.state.variantItems}))}return c("React").createElement("div",null)},_backToMainPage:function y(){this.setState({currentPage:u.main})},_getVariantsButton:function y(){if(!this._showSection(c("CommerceSelfServeSection").VARIANTS))return null;return c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("XUIGrayText.react"),{weight:"bold",shade:"dark",size:"meta1",display:"block"},j._("Options"),c("React").createElement(c("SUISimplePopover.react"),{content:j._("Add options such as sizes, colours or materials that your product comes in."),contentWidthUseSparingly:318,position:"below",theme:c("SUIBusinessTheme")})),c("React").createElement(c("BUIFormButton.react"),{className:"_3-8w",density:"snug",label:j._("Edit options"),onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)}))},_getCheckoutURLInput:function y(){if(!this._showSection(c("CommerceSelfServeSection").CHECKOUT_URL))return null;var z=this.getFieldErrorMessage(c("XCommerceSelfServeParam").CHECKOUT_URL)||(this.state.hasAttemptedSave?this._getCheckoutURLError(this.state.checkoutURL):null);return c("React").createElement("div",{className:"_3-97"},c("React").createElement(c("XUIGrayText.react"),{display:"inline",shade:"dark",size:"meta1",weight:"bold"},j._("Checkout URL")),c("React").createElement(c("SUISimplePopover.react"),{content:j._("The website where users will be directed to purchase this product"),contentWidthUseSparingly:318,position:"above",theme:c("SUIBusinessTheme")}),c("React").createElement(c("XUITextInput.react"),{className:"_2mfs",disabled:this.state.loading,height:"tall",name:"checkoutURL",onChange:function(event){return this.setState({checkoutURL:event.target.value})}.bind(this),placeholder:j._("http:\/\/www.example.com"),value:this.state.checkoutURL,xuiError:z}))},_getDialogFooter:function y(){switch(this.state.currentPage){case u.main:return this._getMainFooter();case u.variant:return this._getVariantsFooter()}return null},_getMainFooter:function y(){var z=null;if(this.props.productID&&!this.state.loading)z=c("React").createElement(c("Link.react"),{onClick:this.state.saving?null:this._onDeleteProductClicked},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},j._("Delete product")));var A=this.state.saving?c("React").createElement(c("XUISpinner.react"),{size:"small",className:"_3-90"}):null;return c("React").createElement(c("XUIDialogFooter.react"),{leftContent:z},A,c("React").createElement(c("XUIDialogCancelButton.react"),{disabled:this.state.saving||this.state.loading}),c("React").createElement(c("XUIDialogButton.react"),{use:"confirm",label:this._getSaveButtonText(),action:"button",disabled:this.state.saving||this.state.loading,onClick:this._onSubmitButtonClicked}))},_getVariantsFooter:function y(){return c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:j._("Cancel"),action:"button",use:"default",onClick:this._onVariantsCancelButtonClicked}),c("React").createElement(c("XUIDialogButton.react"),{label:j._("Apply"),action:"button",use:"confirm",onClick:this._onVariantsSaveButtonClicked}))},_onVariantsCancelButtonClicked:function y(){this.setState(this._deepClone(this._oldVariants));this._backToMainPage()},_onVariantsSaveButtonClicked:function y(){this._oldVariants=this._deepClone({variants:this.state.variants,variantItems:this.state.variantItems});this._backToMainPage()},show:function y(){this.setState({currentPage:u.main,dialogShown:true})},hide:function y(){this.props.onClose&&this.props.onClose();this.setState({dialogShown:false})},_onDeleteProductClicked:function y(){c("PageProductActions").deleteProductsWithConfirmation(Array(this.props.productGroupID),this.props.pageID,function(){this.hide();if(this.props.onProductDeleted)this.props.onProductDeleted()}.bind(this))},_getCategoryInput:function y(){if(!this._showSection(c("CommerceSelfServeSection").CATEGORY))return null;var z=this.state.categoryID?this.state.categoryID:w,A={id:w,text:j._("Select category (optional)")};return c("React").createElement(c("PageProductComposerMarketplaceCategorySelector.react"),{categories:[A].concat(this.props.categories),value:z,onCategoryClick:function(B){if(B===w)B=null;this.setState({categoryID:B})}.bind(this)})},_getNamePriceDescriptionInputs:function y(){__p&&__p();var z=null;if(this.props.requireDescription)z=j._("Add details about your item");else z=j._("Add details about your item (optional)");var A=null;if(this.state.variants.length===0){var B=c("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(this.state.productPrice,this.state.currencyCode);A=c("React").createElement(c("AdsCurrencyInput_DEPRECATED.react"),{className:"_5rpn",currency:this.state.currencyCode,disabled:this.state.loading||this.state.variants.length>0,invalidInputIsNull:true,nonnegative:true,onDataUpdate:function(G){this.setState({productPrice:c("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(G,this.state.currencyCode)})}.bind(this),placeholder:j._("Enter price"),value:B!==null?B:0,xuiError:this.state.hasAttemptedSave?this._getPriceError(this.state.productPrice):null});if(!this.props.currencyCode)A=c("React").createElement("div",null,c("React").createElement("div",{className:"_4tjr"},c("React").createElement(c("CommerceCurrencySelector.react"),{onChange:function(event){return this.setState({currencyCode:event.value})}.bind(this),selectedCurrency:this.state.currencyCode})),c("React").createElement("div",{className:"_4tke"},A))}else A=c("React").createElement("div",{className:"_4o5u"},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"header4",className:"_4o5v"},this._getVariantsPriceRange("price")),c("React").createElement(c("Link.react"),{size:"small",className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)},j._("Edit")));var C=null;if(this.state.isOnSale){var D=void 0;if(this.state.variants.length===0){var E=c("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(this.state.productSalePrice,this.state.currencyCode);D=c("React").createElement(c("AdsCurrencyInput_DEPRECATED.react"),{className:"_5rpn",currency:this.state.currencyCode,disabled:this.state.loading||this.state.variants.length>0,invalidInputIsNull:true,nonnegative:true,onDataUpdate:function(G){this.setState({productSalePrice:c("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(G,this.state.currencyCode)})}.bind(this),placeholder:j._("Enter price"),value:E!==null?E:0,xuiError:this.state.hasAttemptedSave?this._getSalePriceError(this.state.productSalePrice):null})}else D=c("React").createElement("div",{className:"_4o5u"},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"header4",className:"_4o5v"},this._getVariantsPriceRange("salePrice")),c("React").createElement(c("Link.react"),{size:"small",className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)},j._("Edit")));C=c("React").createElement("div",{className:"_4o5t"},c("React").createElement(c("XUIGrayText.react"),{className:"_3-8x _3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Sale price")),D)}var F=this.state.hasAttemptedSave?this._getProductDescriptionError(this.state.productDesc):null;return c("React").createElement("div",{className:"_2pin"},this._getNameInput(),c("React").createElement("div",{className:this.state.isOnSale?"_4o5s":""},c("React").createElement(c("XUIGrayText.react"),{className:"_3-8x _3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Price")),A),C,c("React").createElement("div",{className:"clearfix"}),this._getSaleToggleSwitch(),c("React").createElement(c("XUIGrayText.react"),{className:"_3-8x _3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Description")),c("React").createElement(c("XUIError.react"),{xuiError:F},c("React").createElement("textarea",{name:"productDescription",className:"_3jm _2ph-",disabled:this.state.loading,rows:p,value:this.state.productDesc,onChange:function(event){return this.setState({productDesc:event.target.value})}.bind(this),placeholder:z})),this._getCategoryInput())},_getNameInput:function y(){var z=this.getFieldErrorMessage(c("XCommerceSelfServeParam").PRODUCT_TITLE)||(this.state.hasAttemptedSave?this._getProductTitleError(this.state.productTitle):null);return c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{className:"_3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Name")),c("React").createElement(c("XUITextInput.react"),{name:"productTitle",className:"_2mfs",disabled:this.state.loading,value:this.state.productTitle,height:"tall",maxLength:o,onChange:function(event){return this.setState({productTitle:event.target.value})}.bind(this),xuiError:z}))},_getVariantsPriceRange:function y(z){__p&&__p();var A=Number.MAX_VALUE,B=Number.MIN_VALUE;for(var C in this.state.variantItems){var D=this.state.variantItems[C];if(D[z]<A)A=D[z];if(D[z]>B)B=D[z]}var E=this.state.currencyCode;if(A===B)return c("PECurrency").formatAmount(E,A,true,false,false);else return c("PECurrency").formatAmount(E,A,true,false,false)+" - "+c("PECurrency").formatAmount(E,B,true,false,false)},_getTaxCategorySelector:function y(){if(!this._showSection(c("CommerceSelfServeSection").TAX_CATEGORY))return null;var z=this.state.taxCategory||c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS;if(z===c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD)z=c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION;return c("React").createElement(c("PageProductComposerTaxCategorySelector.react"),{className:"_3-8y",onTaxCategoryChange:this._handleTaxCategoryChange,taxCategory:z})},_getVisibilitySelector:function y(){if(!this._showSection(c("CommerceSelfServeSection").PRODUCT_VISIBILITY))return null;return c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{className:"_3-94 _3-8x",display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Visibility")),c("React").createElement(c("ProductVisibilitySelector.react"),{density:"snug",onChange:function(z){return this.setState({productVisibility:z})}.bind(this),value:this.state.productVisibility}))},_getInventoryInput:function y(){var z=null;z=this._getInventoryNumberInput()!==null?this._getInventoryNumberInput():this._getInventoryStockToggle();if(z===null)return null;return c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{className:"_3-94 _3-8x",display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Inventory")),z)},_getInventoryNumberInput:function y(){__p&&__p();if(!this._showSection(c("CommerceSelfServeSection").INVENTORY))return null;var z=null;if(this.state.variants.length===0)z=c("React").createElement(c("FBNumberInput.react"),{className:"_3jm _2ph-",disabled:this.state.loading,name:"productInventory",nonnegative:true,value:this.state.inventory,onValueChange:function(C){return this.setState({inventory:C})}.bind(this)});else{var A=0;for(var B in this.state.variantItems)A+=this.state.variantItems[B].inventory;z=c("React").createElement("div",{className:"_4o5u"},c("React").createElement("div",{className:"_4o5v"},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"header4"},A)),c("React").createElement(c("Link.react"),{size:"small",className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)},j._("Edit inventory")))}return z},_getInventoryStockToggle:function y(){__p&&__p();if(!this._showSection(c("CommerceSelfServeSection").IN_STOCK_TOGGLE))return null;var z=null;if(this.state.variants.length===0)z=c("React").createElement(c("CommerceInventoryToggle.react"),{disabled:this.state.loading,inventory:this.state.inventory,setInventoryInfo:function(C){this.setState({inventory:C?c("CommerceInventoryAvailabilityOptions").INVENTORY_IN_STOCK:c("CommerceInventoryAvailabilityOptions").INVENTORY_OUT_OF_STOCK})}.bind(this)});else{var A=0;for(var B in this.state.variantItems)A+=this.state.variantItems[B].inventory;z=c("React").createElement("div",null,c("React").createElement(c("CommerceInventoryToggle.react"),{disabled:true,inventory:A}),c("React").createElement("div",{className:"_4ul8"},c("React").createElement(c("Link.react"),{size:"small",onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)},j._("Edit option inventory"))))}return z},_getSaleToggleSwitch:function y(){if(!this._showSection(c("CommerceSelfServeSection").SALE_PRICE))return null;return c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("FBToggleSwitch.react"),{disabled:this.state.loading,animate:true,checked:this.state.isOnSale,onToggle:function(z){return this.setState({isOnSale:z})}.bind(this)}),c("React").createElement("span",{className:"_3jn"},j._("This product is on sale"),c("React").createElement(c("SUISimplePopover.react"),{content:j._("Show people you're selling this product at a discount by setting a sale price in addition to the regular price."),contentWidthUseSparingly:318,position:"below",theme:c("SUIBusinessTheme")})))},_getShippingOptionsSection:function y(){if(!this._showSection(c("CommerceSelfServeSection").SHIPPING_OPTIONS))return null;return c("React").createElement(c("PageProductComposerShippingOptions.react"),{currencyCode:this.state.currencyCode,disabled:this.state.loading,shippingOptions:this.state.shippingOptions,settingsURI:this.props.productID?undefined:this._getMerchantSettingsURI(),onShippingOptionsChange:function(z){return this.setState({shippingOptions:z})}.bind(this)})},_getShareToTimelineToggle:function y(){if(this.props.productID||!this.props.showShareToTimelineToggle)return null;var z=null;if(this.state.shareToTimeline)z=c("React").createElement("div",{className:"_4lw_"},j._("Your product will be shared on your Page as soon as it's been approved."));return c("React").createElement("div",null,c("React").createElement(c("FBToggleSwitch.react"),{disabled:this.state.loading,animate:true,checked:this.state.shareToTimeline,onToggle:function(A){return this.setState({shareToTimeline:A})}.bind(this)}),c("React").createElement("span",{className:"_3jn"},j._("Share this product on your page"),c("React").createElement(c("SUISimplePopover.react"),{content:j._("Automatically post this product to your Page's Timeline as soon as it's been approved."),contentWidthUseSparingly:318,position:"above",theme:c("SUIBusinessTheme")})),z)},_unpackTaxRates:function y(){__p&&__p();var z=[],A={},B={};for(var C in this.state.taxRates){var D=this.state.taxRates[C];for(var E in D){z[z.length]=E;A[E]=D[E].tax_rate;B[E]=D[E].is_applied_to_shipping}}return{tax_locations:z,tax_percent_map:A,tax_applied_to_shipping_map:B}},_getFeaturedToggleSwitch:function y(){if(!this._showSection(c("CommerceSelfServeSection").FEATURED_PRODUCT_TOGGLE))return null;return c("React").createElement("div",{className:"_3-95"},c("React").createElement(c("FBToggleSwitch.react"),{disabled:this.state.loading||this._isFeatureProductToggleDisabled(),animate:true,checked:this.state.featuredProduct,onToggle:this._handleFeatureProductToggleChange}),c("React").createElement("span",{className:"_3jn"},j._("Feature this product"),c("React").createElement(c("SUISimplePopover.react"),{content:this._getHelpText(),contentWidthUseSparingly:318,position:"above",theme:c("SUIBusinessTheme")})))},_handleFeatureProductToggleChange:function y(z){var A=z?this.state.featuredCount+1:this.state.featuredCount-1;this.setState({featuredProduct:z,featuredCount:A})},_isFeatureProductToggleDisabled:function y(){return!this.state.featuredProduct&&this.state.featuredCount>=c("PagesManagerProductToolsConstants").MAX_FEATURED_ITEM_COUNT},_getHelpText:function y(){if(this._isFeatureProductToggleDisabled())return j._({"*":"You've already chosen {Maximum number of products that can be featured} to feature. Stop featuring one of your currently selected products to feature this one instead."},[j.param("Maximum number of products that can be featured",c("PagesManagerProductToolsConstants").MAX_FEATURED_ITEM_COUNT,[0])]);return j._({"*":"Featured products appear at the top of your Page and are listed first in your shop. You can feature up to {Maximum number of products that can be featured} products."},[j.param("Maximum number of products that can be featured",c("PagesManagerProductToolsConstants").MAX_FEATURED_ITEM_COUNT,[0])])},_getTitle:function y(){if(this.state.currentPage===u.variant)return j._("Edit options");if(this.props.productID)return j._("Edit Product");return j._("Add product")},_getSaveButtonText:function y(){return j._("Save")},_onProductDetailsFetched:function y(z){var A=z.payload,B=A.visibility_notice===null?null:A.visibility_notice.markup;for(var C=0;C<A.videos.length;C++){A.videos[C].ready=true;A.videos[C].error=false}var D=A.price,E=A.sale_price,F={categoryID:A.commerce_category_id,checkoutURL:A.checkout_url,currentTabKey:v.edit,currentPage:u.main,dialogShown:true,productTitle:A.name,productDesc:A.description,productPrice:D,productSalePrice:E,productVisibility:A.visibility,photos:A.images,videos:A.videos,featuredProduct:A.featured_product,inventory:A.inventory,shippingOptions:A.shipping_options,taxCategory:A.tax_category,showVariants:A.show_variants,visibilityNotice:B,loading:false,featuredCount:A.featured_count,taxRates:A.tax_rates};this._reviewedProductData=this._getReviewableDataFromState(babelHelpers["extends"]({},this.state,F));this.setState(F)},_reviewedProductData:{},_getReviewableDataFromState:function y(z){var A=z.checkoutURL,B=z.productTitle,C=z.productDesc,D=z.photos,E=z.videos,F=z.variants;return this._deepClone({checkoutURL:A,productTitle:B,productDesc:C,photos:D,videos:E,variants:F})},_logEvent:function y(event){var z=this.props.productID?{target_class:"EntProductItem",target_id:this.props.productID}:null;c("BOFSellerLogger").log(event,this.props.pageID,babelHelpers["extends"]({source:this.props.source},z))},_onToggleDialog:function y(z){this.setState({dialogShown:z});if(z)return;this.props.onClose&&this.props.onClose();var event=this.props.productID?c("BOFSellerLoggerEvent").ACTN_CANCEL_EDIT_PRODUCT:c("BOFSellerLoggerEvent").ACTN_CANCEL_ADD_PRODUCT;this._logEvent(event)},_getPriceError:function y(z){var A=this._getMinimumPrice(),B=null;if(this._showSection(c("CommerceSelfServeSection").MINIMUM_PRICE_ERROR)&&(!z||z<A)){var C=c("PECurrency").formatAmount(this.state.currencyCode,A,true,false,false);B=j._("Price must be at least {Minimum Product Price}",[j.param("Minimum Product Price",C)])}else if(z==null||z<0)B=j._("A non-negative price is required");return B},_getSalePriceError:function y(z){var A=this._getPriceError(z);if(!A&&this.state.productPrice<=this.state.productSalePrice)A=j._("The sale price must be lower than the regular price");return A},_getMinimumPrice:function y(){var z=q;if(this.state.currencyCode!=="USD"){var A=c("Currency").getOffset(this.state.currencyCode);z=A==t?r:s}return z},_getCheckoutURLError:function y(z){var A=null;if(z==="")A=j._("Missing checkout URL: This product must have a valid URL, such as \"http:\/\/www.example.com\"");return A},_getPhotosError:function y(z){var A=null;if(this.state.photos.length===0)A=j._("Product photo required: Please provide at least one photo of this product");return A},_getProductTitleError:function y(z){var A=null;if(z==="")A=j._("Field is empty: This field can't be blank");return A},_getEditWarning:function y(){if(!this.props.productID||this.state.visibilityNotice)return null;if(c("areEqual")(this._reviewedProductData,this._getReviewableDataFromState(this.state)))return null;return c("React").createElement(c("XUINotice.react"),{size:"small",className:"_3-8y"},j._("This product has been approved and is visible to anyone who visits your shop. If you edit this product, we'll review any changes before they're made publicly visible."))},_getProductDescriptionError:function y(z){var A=null;if(this.props.requireDescription&&z.trim()==="")A=j._("Description required: Please provide a description for this product.");return A},_handleTabChange:function y(z){this.setState({currentTabKey:z})},_handleTaxCategoryChange:function y(z){this.setState({taxCategory:z.value})},_validatePrices:function y(){__p&&__p();var z=this.state.variants,A=this.state.variantItems;if(!z||z.length===0){if(this._getPriceError(this.state.productPrice)||this.state.isOnSale&&this._getSalePriceError(this.state.productSalePrice)){this._navigateToTab(v.edit);return false}return true}for(var B in this.state.variantItems){var C=this._getMinimumPrice();if(A[B].price<C||this.state.isOnSale&&this.state.variantItems[B].salePrice<C){this._navigateToTab(u.variant);return false}}return true},_validateVariants:function y(){return!this._getVariantsError()},_getVariantsError:function y(){var z=this.state.variants;if(!z||z.length===0)return null;var A=z.map(function(C){return C.options});for(var B=0;B<A.length;B++)if(A[B].length<=1)return j._("Please add more than one type for each option.");return null},_validateCheckoutURL:function y(){if(!this._showSection(c("CommerceSelfServeSection").CHECKOUT_URL))return true;return!this._getCheckoutURLError(this.state.checkoutURL)},_validatePhotos:function y(){return!this._getPhotosError(this.state.photos)},_validateProductTitle:function y(){return!this._getProductTitleError(this.state.productTitle)},_onSubmitButtonClicked:function y(){__p&&__p();this.setState({saving:true,hasAttemptedSave:true});if(!this._validatePrices()||!this._validateCheckoutURL()||!this._validatePhotos()||!this._validateProductTitle()||!this._validateVariants()){this.setState({saving:false});return}var z=[];this.state.photos.forEach(function(T){z.push(T.fbid)});var A=[];this.state.videos.forEach(function(T){if(T.ready&&!T.error)A.push(T.fbid)});var B=this.state.shippingOptions.filter(function(T){return T.shipping_service&&!!T.shipping_service.trim()});this.setState({shippingOptions:B});var C=[],D=[];B.forEach(function(T){C.push(T.shipping_service);D.push(Math.round(T.shipping_price_value))});var E=this._unpackTaxRates(),F=this.state.variants,G=F.map(function(T){return T.label}),H=F.map(function(T){return T.options}),I=this.state.variantItems,J={},K={},L={},M={},N={};for(var O in I){var P=I[O];J[O]=P.inventory;K[O]=P.price;L[O]=P.salePrice;M[O]=JSON.stringify(P.properties);N[O]=P.productID}var Q={};Q.source=this.props.source;Q[c("XCommerceSelfServeParam").PRODUCT_TITLE]=this.state.productTitle;Q[c("XCommerceSelfServeParam").PRODUCT_DESCRIPTION]=this.state.productDesc;Q[c("XCommerceSelfServeParam").PRODUCT_PRICE]=this.state.productPrice;Q[c("XCommerceSelfServeParam").PRODUCT_SALE_PRICE]=this.state.productSalePrice;Q[c("XCommerceSelfServeParam").IS_ON_SALE]=this.state.isOnSale;Q[c("XCommerceSelfServeParam").COLLECTION_ID]=this.props.collectionID;Q[c("XCommerceSelfServeParam").CATEGORY_ID]=this.state.categoryID;Q[c("XCommerceSelfServeParam").CURRENCY_CODE]=this.state.currencyCode;Q[c("XCommerceSelfServeParam").PRODUCT_PHOTO_IDS]=z;Q[c("XCommerceSelfServeParam").PRODUCT_VIDEO_IDS]=A;Q[c("XCommerceSelfServeParam").PRODUCT_CATALOG_ID]=this.props.productCatalogID;Q[c("XCommerceSelfServeParam").PRODUCT_ID]=this.props.productID;Q[c("XCommerceSelfServeParam").FEATURED_PRODUCT]=this.state.featuredProduct;Q[c("XCommerceSelfServeParam").SHARE_TO_TIMELINE]=this.props.showShareToTimelineToggle&&this.state.shareToTimeline;Q[c("XCommerceSelfServeParam").INVENTORY]=this.state.inventory;Q[c("XCommerceSelfServeParam").SHIPPING_OPTION_NAMES]=C;Q[c("XCommerceSelfServeParam").SHIPPING_OPTION_VALUES]=D;Q[c("XCommerceSelfServeParam").TAX_CATEGORY]=this.state.taxCategory;Q[c("XCommerceSelfServeParam").TAX_LOCATIONS]=E.tax_locations;Q[c("XCommerceSelfServeParam").TAX_APPLIED_TO_SHIPPING_MAP]=E.tax_applied_to_shipping_map;Q[c("XCommerceSelfServeParam").TAX_PERCENT_MAP]=E.tax_percent_map;Q[c("XCommerceSelfServeParam").VARIANT_NAMES]=G;Q[c("XCommerceSelfServeParam").VARIANT_INVENTORY]=J;Q[c("XCommerceSelfServeParam").VARIANT_PRICE]=K;Q[c("XCommerceSelfServeParam").VARIANT_SALE_PRICE]=L;Q[c("XCommerceSelfServeParam").VARIANT_DATA]=M;Q[c("XCommerceSelfServeParam").VARIANT_PRODUCT_ID]=N;Q[c("XCommerceSelfServeParam").VISIBILITY]=this.state.productVisibility;Q[c("XCommerceSelfServeParam").CHECKOUT_URL]=this.state.checkoutURL;Q[c("XCommerceSelfServeParam").ACCEPTED_TOS]=this.props.showTOS;Q[c("XCommerceSelfServeParam").SOURCE_POST_ID]=this.props.postID;for(var R=0;R<H.length;R++)Q["variant"+R+"_options"]=H[R];var S=c("ActorURI").create(c("XPagesManagerProductCreateController").getURIBuilder().getURI(),this.props.pageID);this.sendAsync(S,Q,this._onProductUpdated,function(){return this.setState({saving:false})}.bind(this));if(this.props.source===c("BOFSellerLoggingSources").NLU_BANNER)this._navigateToShopSection()},_navigateToShopSection:function y(){var z=c("XPagesProfileShopController").getURIBuilder().setString("page_token",this.props.pageID).getURI();c("goURI")(z)},_navigateToTab:function y(z){switch(z){case u.variant:this.setState({currentPage:u.variant});break;case v.edit:this.setState({currentTabKey:v.edit});break;case v.advanced:this.setState({currentTabKey:v.advanced});break}},_onChangeTaxRates:function y(z){this.setState({taxRates:z})},_onProductUpdated:function y(z){__p&&__p();this.setState({saving:false,dialogShown:false});if(this.props.productID)c("PageContentTabDispatcher").handlePostChanged(z.payload);else{if(this.props.onProductCreated)this.props.onProductCreated(z.payload);c("PageContentTabDispatcher").handlePostCreated(l.COMMERCE_PRODUCTS,z.payload,this.props.pageID)}if(z.payload.show_creation_nux)c("ReactDOM").render(c("React").createElement(c("PageProductReviewNUX.react"),{onDialogClosed:function(){if(this.props.onProductChanged)this.props.onProductChanged(z.payload)}.bind(this)}),c("DOM").create("div"));else if(this.props.onProductChanged)this.props.onProductChanged(z.payload);c("ReactDOM").unmountComponentAtNode(c("ReactDOM").findDOMNode(this).parentNode)},render:function y(){__p&&__p();if(!this.state.dialogShown)return null;var z=[];if(this.hasFieldErrors())z.push(j._("Your product can't be saved as is. Please check the product information, options and advanced options and try again."));if(this.hasGeneralError())z.push(this.getGeneralErrorMessage());else if(this.state.hasAttemptedSave&&this._getVariantsError())z.push(this._getVariantsError());var A=null;if(z.length>0)A=c("React").createElement("div",{className:"_2pib _2piq"},this.renderErrorMessages(z));return c("React").createElement(c("XUIDialog.react"),{width:n,causalElementRef:function(){return this.refs.createButton}.bind(this),onToggle:this._onToggleDialog,shown:this.state.dialogShown,key:"dialog"},this._getDialogHeader(),c("React").createElement(c("XUIDialogBody.react"),{useCustomPadding:true},this._getInnerContent()),A,this._getDialogFooter())},_showSection:function y(z){return this.props.sections.indexOf(z)>=0}});f.exports=x}),null);
__d("XCommerceProductDialogLoaderController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/commerce/product_composer_dialog/loader/",{page_id:{type:"Int",required:true}})}),null);
__d("PageProductComposerDialogLoader.react",["AsyncRequest","BOFSellerLoggingSources","LoadingDialog.react","PageProductComposerDialog.react","React","XCommerceProductDialogLoaderController","XCommerceSelfServeParam","getOwnObjectValues"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=440,j=c("React").createClass({displayName:"PageProductComposerDialogLoader",propTypes:{collectionID:h.string,onClose:h.func,onProductChanged:h.func,onProductCreated:h.func,onProductDeleted:h.func,prefillConfig:h.shape({currencyCode:h.string.isRequired,description:h.string.isRequired,photos:h.array.isRequired,price:h.number.isRequired,title:h.string.isRequired}),productID:h.string,productGroupID:h.string,pageID:h.string.isRequired,postID:h.string,source:h.oneOf(c("getOwnObjectValues")(c("BOFSellerLoggingSources"))).isRequired},getInitialState:function k(){return{loading:true}},componentWillMount:function k(){this._fetchPageDetails(this.props.pageID)},_fetchPageDetails:function k(l){var m=c("XCommerceProductDialogLoaderController").getURIBuilder().setInt(c("XCommerceSelfServeParam").PAGE_ID,l).getURI();new(c("AsyncRequest"))().setURI(m).setHandler(this._onPageDetailsFetched).send()},_onPageDetailsFetched:function k(l){var m=l.payload;this.setState({categories:m.categories,currencyCode:m.currency_code,defaultShippingOptions:m.default_shipping_options,hasValidTOS:m.has_valid_tos,loading:false,pageContentTabAccessToken:m.page_content_tab_access_token,pageHasShop:m.page_has_shop,productCatalogID:m.product_catalog_id,requireDescription:m.require_description,sections:m.sections,shouldCreateShopFromProduct:m.should_create_shop_from_product,showVideoUploadButton:m.show_video_upload_button,tosURI:m.tos_uri})},render:function k(){if(this.state.loading)return c("React").createElement(c("LoadingDialog.react"),{shown:true,width:i});return c("React").createElement(c("PageProductComposerDialog.react"),{categories:this.state.categories,collectionID:this.props.collectionID,currencyCode:this.state.currencyCode,defaultShippingOptions:this.state.defaultShippingOptions,onClose:this.props.onClose,onProductChanged:this.props.onProductChanged,onProductCreated:this.props.onProductCreated,onProductDeleted:this.props.onProductDeleted,pageContentTabAccessToken:this.state.pageContentTabAccessToken,pageID:this.props.pageID,pageHasShop:this.state.pageHasShop,postID:this.props.postID,prefillConfig:this.props.prefillConfig,productCatalogID:this.state.productCatalogID,productID:this.props.productID,productGroupID:this.props.productGroupID,requireDescription:this.state.requireDescription,sections:this.state.sections,shouldCreateShopFromProduct:this.state.shouldCreateShopFromProduct,shownInitially:true,showShareToTimelineToggle:this.state.pageHasShop,showTOS:!this.state.hasValidTOS,showVideoUploadButton:this.state.showVideoUploadButton,source:this.props.source,tosURI:this.state.tosURI})}});f.exports=j}),null);
__d("ReactComposerProductTaggerTokenizerToken.react",["cx","React","ReactComposerPeopleTaggerTokenizerToken.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";var l="_rox";return c("React").createElement(c("ReactComposerPeopleTaggerTokenizerToken.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,l)}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerProductTaggerComponent.react",["cx","fbt","BOFSellerLoggingSources","CommerceProductTaggerType","DOM","Grid.react","ReactComposerPhotoActions","ReactComposerProductTaggerTokenizerToken.react","ReactComposerTaggerActions","ReactComposerTaggerPresenter","ReactComposerTaggerType","ReactComposerTaggerViewStyles","PageProductComposerDialogLoader.react","ProductTaggingTranslations","React","ReactDOM","SearchableEntry","TokenizerExampleSearchSource","XUITokenizer.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={numberOfTags:this.props.taggerData.length,queryString:""},this.$ReactComposerProductTaggerComponent9=function(t){var u=t.products.data[0];if(this.$ReactComposerProductTaggerComponent8(u.id))return;var v={title:u.name,subtitle:u.price,type:"product_item",uniqueID:u.id};this.$ReactComposerProductTaggerComponent10(new(c("SearchableEntry"))(v))}.bind(this),this.$ReactComposerProductTaggerComponent4=function(t){if(t.getType()==="product_item_add"){c("ReactDOM").render(c("React").createElement(c("PageProductComposerDialogLoader.react"),{onProductCreated:this.$ReactComposerProductTaggerComponent9,pageID:this.props.pageID,source:c("BOFSellerLoggingSources").PRODUCT_TAGGING_TYPEAHEAD}),c("DOM").create("div"));return}if(this.$ReactComposerProductTaggerComponent8(t.getUniqueID()))return;this.$ReactComposerProductTaggerComponent10(t)}.bind(this),this.$ReactComposerProductTaggerComponent6=function(t){var u=this.props.taggerData,v=u.indexOf(t);if(v==-1)return;u.splice(v,1);this.setState({numberOfTags:u.length});c("ReactComposerPhotoActions").untagSubjectFromAllPhotos(this.props.reactComposerID,t.getUniqueID());this.props.onSelect&&this.props.onSelect(u)}.bind(this),this.$ReactComposerProductTaggerComponent5=function(event){this.setState({queryString:event.target.value})}.bind(this),p}n.prototype.componentDidMount=function(){this.$ReactComposerProductTaggerComponent2()};n.prototype.componentDidUpdate=function(o,p){if(this.state.numberOfTags!==p.numberOfTags||this.state.queryString!==p.queryString)this.$ReactComposerProductTaggerComponent2()};n.prototype.componentWillUnmount=function(){this.$ReactComposerProductTaggerComponent2(false)};n.prototype.render=function(){return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl"},c("React").createElement(l,{key:"label",className:"_5esm"},i._("Products")),c("React").createElement(l,{key:"tokenizer",className:"_5esw"},c("React").createElement("div",null,c("React").createElement(c("XUITokenizer.react"),babelHelpers["extends"]({},this.props,{additionalEntries:this.$ReactComposerProductTaggerComponent3(),className:"_5esx _ysh _4fmg",entries:this.props.taggerData,focusAfterSelection:false,focusedOnInit:this.props.autoFocus,onAddEntryAttempt:this.$ReactComposerProductTaggerComponent4,onQueryStringChange:this.$ReactComposerProductTaggerComponent5,onRemoveEntryAttempt:this.$ReactComposerProductTaggerComponent6,placeholder:this.props.placeholder,presenter:this.$ReactComposerProductTaggerComponent7(),ref:function(o){return this.$ReactComposerProductTaggerComponent1=o}.bind(this),searchSource:this.props.taggerSource,showEntriesOnFocus:true})))))};n.prototype.$ReactComposerProductTaggerComponent2=function(o){var p=this.props.productTaggerType;if(p!==c("CommerceProductTaggerType").INFLUENCER_PAGE)return;var q=void 0;if(o!==undefined)q=o;else q=this.state.numberOfTags===1&&!this.state.queryString;c("ReactComposerTaggerActions").handleSetTaggerShowTooltip(this.props.reactComposerID,c("ReactComposerTaggerType").SPONSOR,q)};n.prototype.$ReactComposerProductTaggerComponent3=function(){if(!this.props.showAddProduct)return[];var o=this.props.productTaggerType===c("CommerceProductTaggerType").SHOP_PAGE,p={photo:"/images/commerce/create-product-typeahead.png",title:c("ProductTaggingTranslations").getAddProductTitle(o),subtitle:c("ProductTaggingTranslations").getAddProductSubtitle(o),type:"product_item_add",uniqueID:"product_item_add"};return[new(c("SearchableEntry"))(p)]};n.prototype.$ReactComposerProductTaggerComponent8=function(o){var p=this.props.taggerData;return p.some(function(q){return q.getUniqueID()===o})};n.prototype.$ReactComposerProductTaggerComponent10=function(o){var p=this.props.taggerData;p.push(o);this.setState({numberOfTags:p.length,queryString:this.$ReactComposerProductTaggerComponent1.queryString});this.props.onSelect&&this.props.onSelect(p)};n.prototype.$ReactComposerProductTaggerComponent7=function(){var o={};o.taggerViewStyle=c("ReactComposerTaggerViewStyles").DEFAULT;o.taggerListClassName="_ysi";return Object.assign({},c("ReactComposerTaggerPresenter"),{extraRendererProps:o,sortEntries:this.$ReactComposerProductTaggerComponent11,TokenRenderer:c("ReactComposerProductTaggerTokenizerToken.react")})};n.prototype.$ReactComposerProductTaggerComponent11=function(o,p,q){o.sort(function(r,s){if(r.getType()==="product_item_add")return 1;if(s.getType()==="product_item_add")return-1;return 0});return o};n.propTypes={autoFocus:m.bool,onSelect:m.func,pageID:m.string.isRequired,placeholder:m.string,productTaggerType:m.string.isRequired,reactComposerID:m.string.isRequired,showAddProduct:m.bool,taggerSource:m.object,taggerData:m.array.isRequired};n.defaultProps={autoFocus:true,onSelect:c("emptyFunction"),placeholder:i._("Type in the product name or ID"),showAddProduct:false,taggerData:[],taggerSource:new(c("TokenizerExampleSearchSource"))()};f.exports=n}),null);
__d("ReactComposerProductTaggerContainer.react",["React","ReactComposerLoggingName","ReactComposerProductTaggerComponent.react","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","WebAsyncSearchSource"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerProductTaggerContainer",_subscriptions:undefined,mixins:[c("ReactComposerTaggerContainerMixin")()],statics:{taggerID:c("ReactComposerTaggerType").PRODUCT,loggingName:c("ReactComposerLoggingName").PRODUCT_TAGGER,taggerComponent:c("ReactComposerProductTaggerComponent.react")},propTypes:{pageID:h.string.isRequired,productTaggerType:h.string.isRequired,reactComposerID:h.string.isRequired,showAddProduct:h.bool,viewer:h.string.isRequired},getInitialState:function j(){return{reachEstimate:null,searchSource:null}},componentWillMount:function j(){this._updateProductSearchSource()},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release()},_updateProductSearchSource:function j(){var k=this.state.searchSource;if(k===null)k=this._createAndBootstrapProductTypeSearchSource();c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").PRODUCT,k)},_createAndBootstrapProductTypeSearchSource:function j(){var k={filter:["product_items"],viewer:this.props.viewer};return new(c("WebAsyncSearchSource"))({getAllForEmptyQuery:true,queryRequests:[{uri:"/ajax/product_items/typeahead/query.php",data:Object.assign({},k,{is_bootstrap:false,page_id:this.props.pageID})}],bootstrapRequests:[{uri:"/ajax/product_items/typeahead/bootstrap.php",data:Object.assign({},k,{is_bootstrap:true,page_id:this.props.pageID})}],auxiliaryFields:{verified:"is_verified"}})}});f.exports=i}),null);
__d("BrandedContentTaggerNuxAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LOG_VIEW:"log_view",DISMISS:"dismiss"})}),null);
__d("XBrandedContentTaggerNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/branded_content/tagger/nux/",{action:{type:"Enum",required:true,enumType:1}})}),null);
__d("ReactComposerSponsorTaggerButton.react",["cx","fbt","AsyncRequest","BrandedContentTaggerNuxAction","FluxContainer","Link.react","React","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerButton.react","ReactComposerTaggerStore","ReactComposerTaggerType","SimpleXUIDialog","SponsorTagsOptInActionTypes","SponsorTagsOptInDialogContainer.react","SponsorTagsOptInDispatcher","SponsorTagsOptInStore","XBrandedContentTaggerNuxController","XUIAmbientNUX.react","XUIContextualDialog.react","XUIContextualDialogBody.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").createClass({displayName:"ReactComposerSponsorTaggerButton",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"))],statics:{taggerID:c("ReactComposerTaggerType").SPONSOR,loggingName:c("ReactComposerLoggingName").SPONSOR_TAGGER,calculateState:function k(l,m){var n=c("ReactComposerTaggerStore").getSelectedTagger(l);return{isOptedIn:c("SponsorTagsOptInStore").getState().isOptedIn,selected:n===this.taggerID,hasData:c("ReactComposerTaggerStore").hasData(l,this.taggerID),showNUX:c("ReactComposerTaggerStore").shouldShowNUX(l,this.taggerID),showAbridgedTipsForProductTagging:c("ReactComposerTaggerStore").shouldShowTooltip(l,this.taggerID)}},getStores:function k(){return[c("SponsorTagsOptInStore")]}},componentWillMount:function k(){c("SponsorTagsOptInDispatcher").explicitlyRegisterStores([c("SponsorTagsOptInStore")]);c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").QUERY_STATUS,profileID:this.context.targetID})},componentDidUpdate:function k(l,m){if(m.isOptedIn===false&&this.state.isOptedIn===true)c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle)},componentDidMount:function k(){c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,this.constructor.taggerID,c("ReactComposerTaggerStore").shouldShowNUX(this.context.composerID,this.constructor.taggerID));this._logNUXView()},render:function k(){var l=this.state.isOptedIn===false?c("React").createElement(c("SponsorTagsOptInDialogContainer.react"),null):null;return c("React").createElement("div",{className:"_5v-8 uiContextualLayerParent",style:{display:"inline-block"}},c("React").createElement(c("ReactComposerTaggerButton.react"),babelHelpers["extends"]({taggerID:this.constructor.taggerID,title:i._("Use this to tag your business partners when you're posting branded content."),tooltip:this.state.showAbridgedTipsForProductTagging?null:i._("Use this to tag your business partners when you're posting branded content."),className:"_5rzo",ref:"fbReactComposerSponsorTaggerButton",onSelect:this._onSelect},this.state),this.getNUX&&this.getNUX(),this.props.children),l,this._renderButtonTip())},_renderButtonTip:function k(){var l=function(){return this.refs.fbReactComposerSponsorTaggerButton}.bind(this),m=c("React").createElement("div",null,i._("Use this to tag your business partners when you're posting branded content."),c("React").createElement("span",{className:"_2pir"},c("React").createElement(c("Link.react"),{href:"/policies/brandedcontent/",target:"_blank"},i._("See policy"))));return c("React").createElement(c("XUIContextualDialog.react"),{contextRef:l,position:"below",shown:this.state.showAbridgedTipsForProductTagging,width:350},c("React").createElement(c("XUIContextualDialogBody.react"),null,m))},_onSelect:function k(){if(this.state.isOptedIn===true)c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle);else if(this.state.isOptedIn===false)c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").SHOW});else c("SimpleXUIDialog").show(i._("Sponsor Tags are currently unavailable. We appreciate your patience as we resolve the issue. Please try again later."),i._("Sorry, an Error has Occurred..."))},getNUX:function k(){var l=c("ReactComposerTaggerStore").shouldShowNUX(this.context.composerID,this.constructor.taggerID);if(!l||!this.refs.fbReactComposerSponsorTaggerButton)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return this.refs.fbReactComposerSponsorTaggerButton}.bind(this),position:"above",shown:true,offsetY:12,onCloseButtonClick:function(){return this._onNUXClose()}.bind(this)},i._("Use this to tag your business partners when you're posting branded content."))},_onNUXClose:function k(){c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").SPONSOR,false);this.setState({showNUX:true});this._dismissNUX()},_dismissNUX:function k(){c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").SPONSOR,false);var l=c("XBrandedContentTaggerNuxController").getURIBuilder().setEnum("action",c("BrandedContentTaggerNuxAction").DISMISS).getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(l).send()},_logNUXView:function k(){var l=c("XBrandedContentTaggerNuxController").getURIBuilder().setEnum("action",c("BrandedContentTaggerNuxAction").LOG_VIEW).getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(l).send()}});f.exports=c("FluxContainer").create(j)}),null);
__d("BrandedContentSponsorRelationshipForAdsAPI",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAID_PARTNERSHIP_WITH:1,PRESENTED_BY:2})}),null);
__d("ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react",["cx","fbt","BrandedContentSponsorRelationship","BrandedContentSponsorRelationshipForAdsAPI","InputLabel.react","Link.react","React","SUIBusinessTheme","SUISimplePopover.react","XUICheckboxInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){var m=this.props.defalutSponsorRelationship!==c("BrandedContentSponsorRelationship").PRESENTED_BY&&this.props.defalutSponsorRelationship!==c("BrandedContentSponsorRelationshipForAdsAPI").PRESENTED_BY;return this.props.showSponsorRelationship?c("React").createElement("div",{className:"_4m0r"},c("React").createElement(c("InputLabel.react"),{display:"inline",label:i._("Show business partner in post")},c("React").createElement(c("XUICheckboxInput.react"),{name:"sponsorRelationshipToggle",checked:m,onChange:this.props.onChange})),c("React").createElement(c("SUISimplePopover.react"),{content:c("React").createElement("div",null,i._("If your business partner influenced the content of this post, their name will be displayed along with a \"paid\" label. Be sure to follow all applicable laws and regulations in providing clear and transparent disclosure of your business partners."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/business/help/1190980254246452/",target:"_blank"},i._("Learn more")))),theme:c("SUIBusinessTheme")})):null};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("ReactComposerSponsorTaggerSponsorshipRadioList.react",["cx","fbt","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","InputLabel.react","Link.react","React","SUIBusinessTheme","SUISimplePopover.react","XUIAmbientNUX.react","XUICheckboxInput.react","XUIRadioInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_1dyq"},c("React").createElement("div",null,i._("What type of relationship do you have with your business partner?"),c("React").createElement(c("SUISimplePopover.react"),{display:"inline",content:c("React").createElement("div",null,i._("If your business partner influenced the content of this post, their name will be displayed along with a \"paid\" label. Be sure to follow all applicable laws and regulations in providing clear and transparent disclosure of your business partners."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/business/help/1190980254246452/",target:"_blank"},i._("Learn more")))),theme:c("SUIBusinessTheme")})),this.$ReactComposerSponsorTaggerSponsorshipRadioList1(),this.$ReactComposerSponsorTaggerSponsorshipRadioList2())};l.prototype.$ReactComposerSponsorTaggerSponsorshipRadioList1=function(){return c("React").createElement("div",{className:"_1dvk"},c("React").createElement("div",{className:"_1dvh"},i._("Branded content")),c("React").createElement("div",{className:"_1dyr"},c("React").createElement(c("InputLabel.react"),{label:i._("{=My business partner influenced the content of this post.}",[i.param("=My business partner influenced the content of this post.",c("React").createElement("span",{className:"_1dys"},i._("My business partner influenced the content of this post.")))])},c("React").createElement(c("XUIRadioInput.react"),{checked:this.props.sponsorRelationship!==c("BrandedContentSponsorRelationship").PRESENTED_BY,onChange:this.props.onSponsorRelationshipChange,value:c("BrandedContentSponsorRelationship").PAID_RELATIONSHIP_WITH}))),this.$ReactComposerSponsorTaggerSponsorshipRadioList3())};l.prototype.$ReactComposerSponsorTaggerSponsorshipRadioList3=function(){var m=this.props.sponsorRelationship===c("BrandedContentSponsorRelationship").PRESENTED_BY,n=!m&&this.props.directShareStatus===c("BrandedContentSharedToSponsorStatus").ALL_SHARED;return c("React").createElement("div",null,c("React").createElement("div",{className:"_1dyr _1dyt"},c("React").createElement(c("InputLabel.react"),{display:"inline",label:i._("{=Allow business partner to boost this post.}",[i.param("=Allow business partner to boost this post.",c("React").createElement("span",{className:(m?"_1dvj":"")+" _1dys"},i._("Allow business partner to boost this post.")))])},c("React").createElement(c("XUICheckboxInput.react"),{disabled:m,name:"directBoostToggle",checked:n,onChange:this.props.onDirectStatusChange,ref:"fbReactComposerDirectBoostCheckbox"})),c("React").createElement(c("SUISimplePopover.react"),{content:c("React").createElement("div",null,i._("Your business partner will be able to boost your post. When they do, the post will continue to show your Page as its author, and you'll be able to see the total amount spent boosting it in your Page Insights."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/business/help/2021526178075899/",target:"_blank"},i._("Learn more")))),theme:c("SUIBusinessTheme")})),this.$ReactComposerSponsorTaggerSponsorshipRadioList4())};l.prototype.$ReactComposerSponsorTaggerSponsorshipRadioList4=function(){if(!this.props.showDirectBoostNUX||!this.refs.fbReactComposerDirectBoostCheckbox)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return this.refs.fbReactComposerDirectBoostCheckbox}.bind(this),position:"left",shown:true,onCloseButtonClick:function(){return this.props.onDirectBoostNUXClose()}.bind(this),width:"custom",customwidth:240},i._("New! Your business partner will be able to boost your post."))};l.prototype.$ReactComposerSponsorTaggerSponsorshipRadioList2=function(){return c("React").createElement("div",{className:"_1dvk"},c("React").createElement("div",{className:"_1dvh"},i._("Sponsorship")),c("React").createElement("div",{className:"_1dyr"},c("React").createElement(c("InputLabel.react"),{label:i._("{=My business partner is disclosed in the content, but didn't influence it.}",[i.param("=My business partner is disclosed in the content, but didn't influence it.",c("React").createElement("span",{className:"_1dys"},i._("My business partner is disclosed in the content, but didn't influence it.")))])},c("React").createElement(c("XUIRadioInput.react"),{checked:this.props.sponsorRelationship===c("BrandedContentSponsorRelationship").PRESENTED_BY,onChange:this.props.onSponsorRelationshipChange,value:c("BrandedContentSponsorRelationship").PRESENTED_BY}))))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("ReactComposerSponsorTaggerComponent.react",["cx","fbt","AsyncRequest","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","Grid.react","InputLabel.react","Link.react","React","ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react","ReactComposerSponsorTaggerSponsorshipRadioList.react","ReactComposerTaggerViewStyles","SUIBusinessTheme","SUISimplePopover.react","TaggingLimits","TokenizerExampleSearchSource","XBasicFBNuxDismissController","XBasicFBNuxViewController","XUIAmbientNUX.react","XUICheckboxInput.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUITokenizer.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes,n=5078;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={tipFocused:false,inputFocused:false,edited:false,showDirectBoostNUX:false},this.$ReactComposerSponsorTaggerComponent10=function(u){var v=parseInt(u.target.value,10),w=v==c("BrandedContentSponsorRelationship").PRESENTED_BY?c("BrandedContentSharedToSponsorStatus").NOT_SHARED:c("BrandedContentSharedToSponsorStatus").ALL_SHARED,x={sponsors:this.props.taggerData.sponsors,directShareStatus:w,sponsorRelationship:v};this.props.onSelect&&this.props.onSelect(x)}.bind(this),this.$ReactComposerSponsorTaggerComponent12=function(){this.setState({showDirectBoostNUX:false});var u=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",n).getURI();new(c("AsyncRequest"))().setURI(u).send()}.bind(this),this.$ReactComposerSponsorTaggerComponent11=function(u){var v=u.target.checked?c("BrandedContentSharedToSponsorStatus").ALL_SHARED:c("BrandedContentSharedToSponsorStatus").NOT_SHARED;this.setState({edited:true});var w={sponsors:this.props.taggerData.sponsors,directShareStatus:v,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(w)}.bind(this),this.$ReactComposerSponsorTaggerComponent13=function(u){var v=u.target.checked?c("BrandedContentSponsorRelationship").PAID_RELATIONSHIP_WITH:c("BrandedContentSponsorRelationship").PRESENTED_BY,w={sponsors:this.props.taggerData.sponsors,directShareStatus:this.props.taggerData.directShareStatus,sponsorRelationship:v};this.props.onSelect&&this.props.onSelect(w)}.bind(this),this.$ReactComposerSponsorTaggerComponent5=function(u){var v=this.props.taggerData.sponsors,w=u.getUniqueID(),x=v.some(function(u){return u.getUniqueID()===w});if(x)return;else{this.setState({edited:true});v.push(u)}var y={sponsors:v,directShareStatus:this.props.taggerData.directShareStatus,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(y)}.bind(this),this.$ReactComposerSponsorTaggerComponent9=function(u){var v=this.props.taggerData.sponsors,w=v.indexOf(u);if(w==-1)return;this.setState({edited:true});v.splice(w,1);var x={sponsors:v,directShareStatus:this.props.taggerData.directShareStatus,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(x)}.bind(this),this.$ReactComposerSponsorTaggerComponent6=function(){this.setState({inputFocused:false})}.bind(this),this.$ReactComposerSponsorTaggerComponent7=function(){this.setState({inputFocused:true})}.bind(this),this.$ReactComposerSponsorTaggerComponent4=function(){this.setState({tipFocused:true})}.bind(this),this.$ReactComposerSponsorTaggerComponent3=function(){this.setState({tipFocused:false})}.bind(this),this.$ReactComposerSponsorTaggerComponent8=function(event){this.setState({edited:true})}.bind(this),q}o.prototype.componentDidMount=function(){"use strict";__p&&__p();if(this.props.showDirectBoost&&this.props.taggerData.sponsors.length===0){var p={sponsors:this.props.taggerData.sponsors,directShareStatus:c("BrandedContentSharedToSponsorStatus").ALL_SHARED,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(p)}if(this.props.showDirectBoostNUX){this.setState({showDirectBoostNUX:true});var q=c("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",n).getURI();new(c("AsyncRequest"))().setURI(q).send()}};o.prototype.$ReactComposerSponsorTaggerComponent1=function(){"use strict";this.props.onSelect&&this.props.onSelect({})};o.prototype.$ReactComposerSponsorTaggerComponent2=function(){"use strict";var p=!this.state.edited&&(this.state.inputFocused||this.state.tipFocused)&&this.props.taggerData.sponsors&&this.props.taggerData.sponsors.length===0,q=function(){return this.refs.typeahead}.bind(this),r=c("React").createElement("span",{onMouseLeave:this.$ReactComposerSponsorTaggerComponent3,onMouseEnter:this.$ReactComposerSponsorTaggerComponent4},i._("Pages you tag will be notified. Business partners will be able to view this post's metrics. If you promote this post, the tagged business partner will see ad spend and CPM metrics."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/policies/brandedcontent/",target:"_blank"},i._("See policy"))));return c("React").createElement(c("XUIContextualDialog.react"),{contextRef:q,position:"above",shown:p,width:350},c("React").createElement(c("XUIContextualDialogBody.react"),null,r))};o.prototype.render=function(){"use strict";var p=i._("With"),q="_5esm";return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl"},c("React").createElement(l,{className:q,key:"label"},p),c("React").createElement(l,{key:"tokenizer",className:"_5esw"},c("React").createElement("div",null,c("React").createElement(c("XUITokenizer.react"),babelHelpers["extends"]({ref:"typeahead"},this.props,{className:"_5esx",entries:this.props.taggerData.sponsors,focusedOnInit:this.props.autoFocus,onAddEntryAttempt:this.$ReactComposerSponsorTaggerComponent5,onInputBlur:this.$ReactComposerSponsorTaggerComponent6,onInputFocus:this.$ReactComposerSponsorTaggerComponent7,onQueryStringChange:this.$ReactComposerSponsorTaggerComponent8,onRemoveEntryAttempt:this.$ReactComposerSponsorTaggerComponent9,placeholder:this.props.placeholder,searchSource:this.props.taggerSource,limit:c("TaggingLimits").MAX_SPONSOR_TAGS})),this.$ReactComposerSponsorTaggerComponent2())),c("React").createElement(l,{colSpan:2,key:"radio_list_branded_content"},this.props.showSponsorRelationshipRadioList?c("React").createElement(c("ReactComposerSponsorTaggerSponsorshipRadioList.react"),{onSponsorRelationshipChange:this.$ReactComposerSponsorTaggerComponent10,onDirectStatusChange:this.$ReactComposerSponsorTaggerComponent11,sponsorRelationship:this.props.taggerData.sponsorRelationship,directShareStatus:this.props.taggerData.directShareStatus,showDirectBoostNUX:this.state.showDirectBoostNUX,onDirectBoostNUXClose:this.$ReactComposerSponsorTaggerComponent12}):null),this.props.showSponsorRelationshipRadioList?null:c("React").createElement(l,{colSpan:2,key:"sponsor_relationship_toggle"},c("React").createElement(c("ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react"),{onChange:this.$ReactComposerSponsorTaggerComponent13,defalutSponsorRelationship:this.props.taggerData.sponsorRelationship,showSponsorRelationship:this.props.showSponsorRelationship})),this.props.showSponsorRelationshipRadioList?null:this.$ReactComposerSponsorTaggerComponent14(),c("React").createElement(l,{colSpan:2,className:"_36y5",key:"branded_content_help_center"},c("React").createElement(c("Link.react"),{href:"/business/help/1190980254246452/",target:"_blank"},i._("Learn more"))))};o.prototype.$ReactComposerSponsorTaggerComponent14=function(){"use strict";var p=this.props.taggerData.directShareStatus===c("BrandedContentSharedToSponsorStatus").ALL_SHARED;return this.props.showDirectBoost?c("React").createElement(l,{colSpan:2,key:"toggle"},c("React").createElement("div",{className:"_4m0r"},c("React").createElement(c("InputLabel.react"),{display:"inline",label:i._("Allow business partner to boost this post")},c("React").createElement(c("XUICheckboxInput.react"),{name:"directBoostToggle",checked:p,onChange:this.$ReactComposerSponsorTaggerComponent11,ref:"fbReactComposerDirectBoostCheckbox"})),c("React").createElement(c("SUISimplePopover.react"),{content:c("React").createElement("div",null,i._("Your business partner will be able to boost your post. When they do, the post will continue to show your Page as its author, and you'll be able to see the total amount spent boosting it in your Page Insights."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/business/help/2021526178075899/",target:"_blank"},i._("Learn more")))),theme:c("SUIBusinessTheme")})),this.$ReactComposerSponsorTaggerComponent15()):null};o.prototype.$ReactComposerSponsorTaggerComponent15=function(){"use strict";if(!this.state.showDirectBoostNUX||!this.refs.fbReactComposerDirectBoostCheckbox)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return this.refs.fbReactComposerDirectBoostCheckbox}.bind(this),position:"left",shown:true,onCloseButtonClick:function(){return this.$ReactComposerSponsorTaggerComponent12()}.bind(this),width:"custom",customwidth:240},i._("New! Your business partner will be able to boost your post."))};o.propTypes={autoFocus:m.bool,placeholder:m.string,taggerSource:m.object,taggerData:m.object.isRequired,onPeopleTagRemove:m.func,onSelect:m.func,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape),showDirectBoost:m.bool,showDirectBoostNUX:m.bool,showSponsorRelationship:m.bool,showSponsorRelationshipRadioList:m.bool};o.defaultProps={autoFocus:true,onSelect:c("emptyFunction"),placeholder:i._("Who is your business partner for this post?"),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,taggerSource:new(c("TokenizerExampleSearchSource"))(),showDirectBoost:false,showDirectBoostNUX:false,showSponsorRelationship:false,showSponsorRelationshipRadioList:false,taggerData:{sponsors:[],directShareStatus:c("BrandedContentSharedToSponsorStatus").NOT_SHARED,sponsorRelationship:c("BrandedContentSponsorRelationship").PAID_RELATIONSHIP_WITH}};f.exports=o}),null);
__d("ReactComposerSponsorTaggerContainer.react",["React","ReactComposerLoggingName","ReactComposerSponsorTaggerComponent.react","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","VideoComposerDialogAdBreakActions","WebAsyncSearchSource"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerSponsorTaggerContainer",_subscriptions:undefined,mixins:[c("ReactComposerTaggerContainerMixin")()],statics:{taggerID:c("ReactComposerTaggerType").SPONSOR,loggingName:c("ReactComposerLoggingName").SPONSOR_TAGGER,taggerComponent:c("ReactComposerSponsorTaggerComponent.react")},propTypes:{viewer:h.string.isRequired},getInitialState:function j(){return{sponsorSentences:null,reachEstimate:null,searchSource:null}},componentWillMount:function j(){this._updateSponsorSearchSource()},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release()},componentDidMount:function j(){c("ReactComposerTaggerActions").setIsBrandedContentVideo(this.context.composerID,this.state.taggerData.sponsors.length!==0);c("VideoComposerDialogAdBreakActions").setIsBrandedContentVideo(this.state.taggerData.sponsors.length!==0)},__onTaggerDataChanged:function j(k){c("ReactComposerTaggerActions").setIsBrandedContentVideo(this.context.composerID,k.sponsors.length!==0);c("VideoComposerDialogAdBreakActions").setIsBrandedContentVideo(k.sponsors.length!==0)},_updateSponsorSearchSource:function j(){var k=this.state.searchSource;if(k===null)k=this._createAndBootstrapSponsorTypeSearchSource();c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").SPONSOR,k)},_createAndBootstrapSponsorTypeSearchSource:function j(){var k={filter:["page"],viewer:this.props.viewer,rsp:"mentions",bsp:"true"};return new(c("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/search.php",data:Object.assign({},k,{is_bootstrap:false})}],bootstrapRequests:[{uri:"/ajax/typeahead/first_degree.php",data:Object.assign({},k,{is_bootstrap:true})}],auxiliaryFields:{verified:"is_verified"}})}});f.exports=i}),null);
__d("PagesComposerAudiences.react",["cx","fbt","BanzaiODS","BootloadedComponent.react","JSResource","LayerFadeOnHide","Link.react","React","ReactComposerContextTypes","ReactComposerTaggerStore","ReactComposerTargetingUtils","ReactTargetingTaggerStore.react","TargetingSpecStore","WebApiApplication","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogSaveButton.react","XUISpinner.react","XUIText.react","areEqual","gkx","idx","isEmpty"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("gkx")("AT4XL2t-wa00hmW-66Az9QaF0cGFY8DGGRpG9yabO_7-z46IsTWd_E-_OBbO4z-YheXhycgEn3xN9Bm4Cw7XJ_pNynrGtcF83Akhd1j-tKF_vQ"),k=c("React").PropTypes,l=587,m=c("React").createClass({displayName:"PagesComposerAudiences",contextTypes:c("ReactComposerContextTypes"),propTypes:{accessToken:k.string,appID:k.string,shown:k.bool.isRequired,onToggle:k.func.isRequired,onSave:k.func.isRequired,rootElement:k.object,callbackDataStatus:k.func,callbackSelectionStatus:k.func,saveData:k.func,initialActiveKey:k.string,canSeeCompleteList:k.bool,useTargetingAsFilter:k.bool,canSeeDemographicOptions:k.bool,feedTargetingShowReachGK:k.bool,hideFeedTargeting:k.bool,useFromLegacyComposer:k.bool,shouldShowRestrictionTabNux:k.bool,shouldHideLeftFooter:k.bool,allowExclusionsWithoutInclusions:k.bool,isLiveVideo:k.bool},getStores:function n(){if(this.props.useFromLegacyComposer)return[c("ReactTargetingTaggerStore.react")];return[c("ReactComposerTaggerStore")]},getInitialState:function n(){return{fetching:false,targeting:this.getInitialSavedData("targeting"),gating:this.getInitialSavedData("gating"),hints:this.getInitialSavedData("hints"),targetingSentences:this.getInitialSavedData("targetingSentences"),gatingSentences:this.getInitialSavedData("gatingSentences"),reachEstimate:this.getInitialReachEstimate()}},componentWillMount:function n(){if(this.props.callbackSelectionStatus)this.props.callbackSelectionStatus(true);if(this.props.appID&&this.props.accessToken)c("WebApiApplication").init(this.props.accessToken,this.props.appID)},componentWillUnmount:function n(){if(this.props.callbackSelectionStatus)this.props.callbackSelectionStatus(false)},componentDidMount:function n(){c("BanzaiODS").bumpEntityKey("ui_audience_targeting","dialog_open")},_onSave:function n(){__p&&__p();var o={};Object.assign(o,this.state);if(!c("isEmpty")(o.targeting)&&!j)o.targeting=this.convertConnectionsToInterestsFromApiToTargetingSpec(c("TargetingSpecStore").getTargetingApiSpec());if(!c("isEmpty")(o.gating))o.gating=c("TargetingSpecStore").getTargetingApiSpec();if(this.props.useFromLegacyComposer)this._onSaveLegacy(o);else this._onSaveStore(o);this.props.onSave()},_onSaveStore:function n(o){c("ReactComposerTargetingUtils").setData(this.context.composerID,o)},_isDefaultSpec:function n(o){return c("areEqual")(o,{age_max:65,age_min:13})},_onSaveLegacy:function n(o){if(this.props.callbackDataStatus)this.props.callbackDataStatus(o.gating&&!c("isEmpty")(o.gating)&&!this._isDefaultSpec(o.gating)||o.targeting&&!c("isEmpty")(o.targeting)&&!this._isDefaultSpec(o.targeting)||o.hints&&!c("isEmpty")(o.hints)&&!this._isDefaultSpec(o.hints));c("ReactComposerTargetingUtils").setData(this.context.targetID,o)},_onTargetingChange:function n(o){if(!this.props.useTargetingAsFilter){delete o.age_min;delete o.age_max}if(c("areEqual")(this.state.targeting,o)||c("areEqual")(this.state.hints,o))return;this.setState({fetching:true});var p=this.props.useTargetingAsFilter?o:Object.assign({},o,this.state.gating);c("ReactComposerTargetingUtils").fetchMetadata(p,this.context.targetID,this._onTargetingChangeHandler)},_onTargetingChangeHandler:function n(o,p,q){if(this.props.useTargetingAsFilter)this.setState({fetching:false,targeting:o,targetingSentences:p,reachEstimate:q});else this.setState({fetching:false,hints:o,targetingSentences:p})},_onGatingChange:function n(o){var p;if(c("areEqual")(this.state.gating,o))return;this.setState({fetching:true});var q=this.props.useTargetingAsFilter?o:Object.assign({},o,this.state.hints),r=(p=o)!=null?(p=p.geo_locations)!=null?(p=p.zips)!=null?p.length:p:p:p;if(j&&r&&r>=1e3)this.setState({fetching:false,gating:o,targetingSentences:c("React").createElement("span",null,i._("{=Location - Living in:}",[i.param("=Location - Living in:",c("React").createElement(c("XUIText.react"),{weight:"bold"},i._("Location \u2013 Living in:")))]),c("React").createElement(c("XUIText.react"),{weight:"bold"}," \u2026"))});else c("ReactComposerTargetingUtils").fetchMetadata(q,this.context.targetID,this._onGatingChangeHandler)},_onGatingChangeHandler:function n(o,p){if(this.props.useTargetingAsFilter)this.setState({fetching:false,gating:o,gatingSentences:p});else this.setState({fetching:false,gating:o,targetingSentences:p})},convertConnectionsToInterestsFromApiToTargetingSpec:function n(o){if(o&&o.connections&&!o.fan_of){o.fan_of=o.connections;delete o.connections}return o},convertInterestsToConnectionsFromTargetingSpecToApi:function n(o){if(o&&o.fan_of&&!o.connections){o.connections=o.fan_of;delete o.fan_of}return o},getInitialSavedData:function n(o){var p={};if(this.props.useFromLegacyComposer)p=this.getSavedSpec(o,this.context.targetID);else p=this.getSavedSpec(o,this.context.composerID);return this.convertInterestsToConnectionsFromTargetingSpecToApi(p)},getSavedSpec:function n(o,p){if(this.props.useFromLegacyComposer)var q=c("ReactComposerTargetingUtils").getDataFromTargetingTaggerStore(p);else q=c("ReactComposerTargetingUtils").getDataFromComposerTaggerStore(p);return q==null?null:q[o]},getInitialReachEstimate:function n(){if(!this.props.useTargetingAsFilter)return null;else{var o=c("ReactComposerTargetingUtils").getDataFromComposerTaggerStore(this.context.composerID);return o==null?null:o.reachEstimate}},renderReachEstimate:function n(){if(!this.state.reachEstimate)return null;var o=this.state.reachEstimate===20?i._("0\u201320"):this.state.reachEstimate,p=i._("Reach estimate for News Feed targeting: {estimate_number}",[i.param("estimate_number",o)]);return c("React").createElement(c("XUIText.react"),null,p)},renderHelpLink:function n(){var o=i._("Have a question?"),p="https://www.facebook.com/facebookmedia/get-started/audience-optimization/",q=c("React").createElement(c("Link.react"),{href:p,target:"_blank"},i._("Read our Guidelines."));return c("React").createElement("div",{className:"_3xrd"},c("React").createElement(c("XUIText.react"),null,o)," ",q)},renderFooterLeftContent:function n(){if(this.props.shouldHideLeftFooter)return null;if(!this.props.useTargetingAsFilter)return this.renderHelpLink();return this.renderReachEstimate()},render:function n(){var o=c("React").createElement("div",{className:"_1220"},c("React").createElement(c("XUISpinner.react"),null)),p=this.props.useTargetingAsFilter?this.state.targeting:this.state.hints;return c("React").createElement(c("XUIDialog.react"),{shown:this.props.shown,behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},layerHideOnBlur:false,onToggle:this.props.onToggle,width:l},c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("BootloadedComponent.react"),{accessToken:this.props.accessToken,bootloadLoader:c("JSResource")("PagesComposerAudiencesBody.react").__setRef("PagesComposerAudiences.react"),bootloadPlaceholder:o,disallowRadiusSelection:this.props.isLiveVideo,initialTargetingSpec:p,initialGatingSpec:this.state.gating,onTargetingChange:this._onTargetingChange,onGatingChange:this._onGatingChange,initialActiveKey:this.props.initialActiveKey,canSeeCompleteList:this.props.canSeeCompleteList,useTargetingAsFilter:this.props.useTargetingAsFilter,canSeeDemographicOptions:this.props.canSeeDemographicOptions,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,hideFeedTargeting:this.props.hideFeedTargeting,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux,allowExclusionsWithoutInclusions:this.props.allowExclusionsWithoutInclusions})),c("React").createElement(c("XUIDialogFooter.react"),{leftContent:this.renderFooterLeftContent()},c("React").createElement(c("XUIDialogCancelButton.react"),{use:"default"}),c("React").createElement(c("XUIDialogSaveButton.react"),{className:"_2uyv",use:"confirm",action:"confirm",disabled:this.state.fetching,onClick:this._onSave})))}});f.exports=m}),null);
__d("ReactComposerTargetingTaggerButtonMixin",["cx","fbt"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={getInitialState:function k(){return{dialogShown:false}},getTitleTooltip:function k(){if(this.props.createLiveVideoTooltipText!=null)return this.props.createLiveVideoTooltipText;else if(this.props.useTargetingAsFilter)return i._("Narrow the potential News Feed audience for this post");else return i._("Choose the preferred audiences for this post")},getTitle:function k(){return this.getTitleTooltip()},getTooltip:function k(){return this.getTitleTooltip()},getClassName:function k(){return"_lmf"},getRef:function k(){return"fbReactComposerTargetingTagger"},_onToggle:function k(l){setTimeout(function(){return this.setState({dialogShown:l})}.bind(this),0)},_onSelectX:function k(){this.setState({dialogShown:true})}};f.exports=j}),null);
__d("XReactComposerTargetingTaggerNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/edit/targeting_tagger_nux/",{})}),null);
__d("ReactComposerTargetingTaggerButton.react",["fbt","AsyncRequest","PageNuxIDEnum","PagesComposerAudiences.react","PagesNuxFrameworkHelper","React","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","ReactComposerTargetingTaggerButtonMixin","ReactLayeredComponentMixin_DEPRECATED","XReactComposerTargetingTaggerNuxController","XUIAmbientNUX.react","XUIText.react","PagesComposerAudiencesConstants","PageNuxSurfaceEnum"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("PagesComposerAudiencesConstants").TABS,k=-12,l=300,m=c("React").createClass({displayName:"ReactComposerTargetingTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin"),c("ReactComposerTargetingTaggerButtonMixin"),c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{accessToken:i.string,appID:i.string,createLiveVideoTooltipText:i.string,isLiveVideo:i.bool,feedTargetingGK:i.bool,feedTargetingShowReachGK:i.bool,hideFeedTargeting:i.bool,shouldShowTargetingTaggerNux:i.bool,shouldShowRestrictionTabNux:i.bool,useTargetingAsFilter:i.bool,shouldHideLeftFooter:i.bool,allowExclusionsWithoutInclusions:i.bool,shouldUseNewNuxFramework:i.bool,targetingTaggerNuxID:i.number},statics:{taggerID:c("ReactComposerTaggerType").TARGETING,disableToggle:true},getDefaultProps:function n(){return{feedTargetingGK:false,feedTargetingShowReachGK:false,hideFeedTargeting:false,useTargetingAsFilter:true,shouldUseNewNuxFramework:false}},getInitialState:function n(){return{showTargetingTaggerNux:this.props.shouldShowTargetingTaggerNux,isTargetingTaggerNuxVisible:!this._shouldUseNuxFramework()}},componentDidMount:function n(){var o=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(o){var p=c("XReactComposerTargetingTaggerNuxController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(p).setMethod("POST").setData({impression:true}).send()}},componentWillUnmount:function n(){if(this.state.showTargetingTaggerNux)this.setState({showTargetingTaggerNux:false,isTargetingTaggerNuxVisible:!this._shouldUseNuxFramework()})},_onNuxClose:function n(){this.setState({showTargetingTaggerNux:false,isTargetingTaggerNuxVisible:false});if(this._shouldUseNuxFramework())c("PagesNuxFrameworkHelper").closeNux(c("PageNuxIDEnum").COMPOSER_TARGETING_TAGGER,c("PageNuxSurfaceEnum").PAGE_COMPOSER);var o=c("XReactComposerTargetingTaggerNuxController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(o).setMethod("POST").setData({acked:true}).send()},_showNux:function n(){this.setState({isTargetingTaggerNuxVisible:true})},_shouldUseNuxFramework:function n(){return!!this.props.targetingTaggerNuxID&&!!this.props.shouldUseNewNuxFramework},_renderNux:function n(){var o=c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.fbReactComposerTargetingTagger}.bind(this),onCloseButtonClick:this._onNuxClose,offsetY:k,position:"below",shown:this.state.isTargetingTaggerNuxVisible,width:"custom",customwidth:l},c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),null,h._("Use Audience Optimisation to reach people who are more likely to engage with your post."))));if(this._shouldUseNuxFramework())c("PagesNuxFrameworkHelper").registerNux(c("PageNuxIDEnum").COMPOSER_TARGETING_TAGGER,c("PageNuxSurfaceEnum").PAGE_COMPOSER,function(){return this._showNux()}.bind(this));return o},renderLayers:function n(){var o=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(o)return this._renderNux();if(this.state.dialogShown)return c("React").createElement(c("PagesComposerAudiences.react"),{accessToken:this.props.accessToken,allowExclusionsWithoutInclusions:this.props.allowExclusionsWithoutInclusions,appID:this.props.appID,shown:this.state.dialogShown,onToggle:this._onToggle,onSave:function(){return this._onToggle(false)}.bind(this),initialActiveKey:this.props.hideFeedTargeting?j.GATING:j.TARGETING,shouldHideLeftFooter:this.props.shouldHideLeftFooter,useTargetingAsFilter:this.props.useTargetingAsFilter,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,hideFeedTargeting:this.props.hideFeedTargeting,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux,isLiveVideo:this.props.isLiveVideo});return{}}});f.exports=m}),null);
__d("ReactComposerTargetingTaggerComponent.react",["cx","fbt","Grid.react","React","XUICloseButton.react","XUIText.react","emptyFunction","isEmpty"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerTargetingTaggerComponent1=function(){this.props.onSelect({})}.bind(this),p}n.prototype.render=function(){"use strict";return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl"},c("React").createElement(l,{key:"prefix",className:"_5esm"},i._("Targeting")),c("React").createElement(l,{key:"tagger",className:"_5esw"},c("React").createElement("div",{className:"_2doa"},c("React").createElement("div",{className:"_2dob"},c("React").createElement(c("XUICloseButton.react"),{className:"_2doc"+(c("isEmpty")(this.props.taggerData)?" hidden_elem":""),size:"small",type:"button",onClick:this.$ReactComposerTargetingTaggerComponent1})),c("React").createElement("div",{className:"_2dod"},c("React").createElement(c("XUIText.react"),null,this.props.targetingSentences)))))};n.propTypes={taggerData:m.object.isRequired,onSelect:m.func.isRequired,targetingSentences:m.object};n.defaultProps={taggerData:{},onSelect:c("emptyFunction")};f.exports=n}),null);
__d("ReactComposerTargetingTaggerContainer.react",["React","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerContainerStateMixin","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTargetingTaggerComponent.react","SubscriptionsHandler"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").createClass({displayName:"ReactComposerTargetingTaggerContainer",_subscriptions:undefined,mixins:[c("ReactComposerTaggerContainerStateMixin")()],statics:{taggerID:c("ReactComposerTaggerType").TARGETING},getInitialState:function i(){return{targetingSentences:null}},componentWillMount:function i(){var j=new(c("SubscriptionsHandler"))();j.addSubscriptions(c("ReactComposerTaggerStore").addChangeListener(this._onChange));this._subscriptions=j},componentWillUnmount:function i(){this._subscriptions&&this._subscriptions.release()},_onChange:function i(){var j=c("ReactComposerTaggerStore").getTaggerData(this.context.composerID,c("ReactComposerTaggerType").TARGETING);this.setState({targetingSentences:j?j.targetingSentences:null})},_onTaggerDataChanged:function i(j){this.__onTaggerDataChanged&&this.__onTaggerDataChanged(j);c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").TARGETING_TAGGER,c("ReactComposerTaggerType").TARGETING,j);this.props.onSelect&&this.props.onSelect(j)},render:function i(){if(!this.state.isSelected)return c("React").createElement("noscript",null);return c("React").createElement(c("ReactComposerTargetingTaggerComponent.react"),babelHelpers["extends"]({},this.props,this.state,{autoFocus:this.state.autoFocus,taggerSource:this.state.taggerSource,taggerData:this.state.taggerData,onSelect:this._onTaggerDataChanged}))}});f.exports=h}),null);
__d("VideoComposerDialogBasicComposerTaggers.react",["invariant","BasicTypeaheadLoggerJSConstants","BootloadedReactComposerFundraiserTaggerButton.react","BootloadedReactComposerFundraiserTaggerContainer.react","PlaceSearchConstants","React","ReactComposerActivityTaggerButton.react","ReactComposerActivityTaggerContainer.react","ReactComposerBackdateTaggerButton.react","ReactComposerBackdateTaggerContainer.react","ReactComposerContextProviderMixin","ReactComposerImplicitLocationContainer.react","ReactComposerLocationTaggerButton.react","ReactComposerLocationTaggerContainer.react","ReactComposerMessagingTaggerButton.react","ReactComposerMessagingTaggerContainer.react","ReactComposerPeopleTaggerButton.react","ReactComposerPeopleTaggerContainer.react","ReactComposerProductTaggerButton.react","ReactComposerProductTaggerContainer.react","ReactComposerSponsorTaggerButton.react","ReactComposerSponsorTaggerContainer.react","ReactComposerTaggerButtons.react","ReactComposerTaggers.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ReactComposerTargetingTaggerButton.react","ReactComposerTargetingTaggerContainer.react","dotAccess"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("BasicTypeaheadLoggerJSConstants").EventNames;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){if(!this.props.bootloaded||!this.props.composerConfig)return c("React").createElement("div",null);var n=this.props.composerConfig.taggersConfig,o=Array.from(n).reduce(function(P,Q){var R,S=Q[0],T=Q[1];return Object.assign(P,(R={},R[S]=T,R))},{}),p=n.get(c("ReactComposerTaggerType").LOCATION),q=n.get(c("ReactComposerTaggerType").OG),r=n.get(c("ReactComposerTaggerType").TARGETING),s=n.get(c("ReactComposerTaggerType").BACKDATE),t=n.get(c("ReactComposerTaggerType").SPONSOR),u=n.get(c("ReactComposerTaggerType").PRODUCT),v=n.get(c("ReactComposerTaggerType").FUNDRAISER),w=n.get(c("ReactComposerTaggerType").MESSAGING),x=c("React").createElement(c("ReactComposerPeopleTaggerContainer.react"),{actorID:this.props.actorID,showEntriesOnFocus:false,taggerConfig:n.get(c("ReactComposerTaggerType").PEOPLE),taggerSource:this.props.taggerSearchSource}),y=q&&q.enabled&&q.actionTypeIDsToPrefetch&&q.actionTypeIDsWithNoFreeForm&&q.rankVerbs?c("React").createElement(c("ReactComposerActivityTaggerContainer.react"),{actionTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,actionTypeIDsToPrefetch:q.actionTypeIDsToPrefetch,actionTypeIDsWithNoFreeForm:q.actionTypeIDsWithNoFreeForm,actorID:this.props.actorID,isPersonalTimeline:false,objectTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,rankVerbs:q.rankVerbs,typeaheadLoggerEventName:k.OGCOMPOSER_TAGGER}):null,z=p&&typeof p.implicitLocationEnabled==="boolean"?c("React").createElement(c("ReactComposerLocationTaggerContainer.react"),{implicitLocationEnabled:p.implicitLocationEnabled,taggerConfig:p,taggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,typeaheadLoggerEventName:k.REACT_COMPOSER_LOCATION_TAGGER,typeaheadSearchSource:c("PlaceSearchConstants").SOURCE_W_COMPOSER}):null,A=s&&s.enabled?c("React").createElement(c("ReactComposerBackdateTaggerContainer.react"),null):null,B=r&&r.enabled?c("React").createElement(c("ReactComposerTargetingTaggerContainer.react"),null):null,C=t&&t.enabled&&typeof t.showSponsorTaggerDirectBoost==="boolean"&&typeof t.showSponsorTaggerSponsorRelationship==="boolean"&&typeof t.showSponsorTaggerSponsorRelationshipRadioList==="boolean"?c("React").createElement(c("ReactComposerSponsorTaggerContainer.react"),{viewer:this.props.actorID,showDirectBoost:t.showSponsorTaggerDirectBoost,showSponsorRelationship:t.showSponsorTaggerSponsorRelationship,showSponsorRelationshipRadioList:t.showSponsorTaggerSponsorRelationshipRadioList}):null;!!this.props.composerConfig||h(0);var D=u&&u.enabled&&typeof u.productTaggerType==="string"&&typeof u.showAddProduct==="boolean"?c("React").createElement(c("ReactComposerProductTaggerContainer.react"),{pageID:this.props.composerConfig.contextConfig.targetID,productTaggerType:u.productTaggerType,reactComposerID:this.props.composerConfig.contextConfig.composerID,showAddProduct:u.showAddProduct,viewer:this.props.actorID}):null,E=v&&v.enabled?c("React").createElement(c("BootloadedReactComposerFundraiserTaggerContainer.react"),{taggersConfig:o}):null,F=w&&w.enabled?c("React").createElement(c("ReactComposerMessagingTaggerContainer.react"),{reactComposerID:this.props.composerConfig.contextConfig.composerID}):null,G=c("React").createElement(c("ReactComposerPeopleTaggerButton.react"),null),H=q&&q.enabled?c("React").createElement(c("ReactComposerActivityTaggerButton.react"),null):null,I=c("React").createElement(c("ReactComposerLocationTaggerButton.react"),null,c("React").createElement(c("ReactComposerImplicitLocationContainer.react"),null)),J=r&&r.enabled?c("React").createElement(c("ReactComposerTargetingTaggerButton.react"),{allowExclusionsWithoutInclusions:c("dotAccess")(r,"allowExclusionsWithoutInclusionsGK"),feedTargetingGK:c("dotAccess")(r,"feedTargetingGK"),feedTargetingShowReachGK:c("dotAccess")(r,"feedTargetingShowReachGK"),useTargetingAsFilter:!c("dotAccess")(r,"feedTargetingGK")}):null,K=s&&s.enabled?c("React").createElement(c("ReactComposerBackdateTaggerButton.react"),null):null,L=t&&t.enabled?c("React").createElement(c("ReactComposerSponsorTaggerButton.react"),null):null,M=u&&u.productTaggerType?c("React").createElement(c("ReactComposerProductTaggerButton.react"),{productTaggerType:u.productTaggerType}):null,N=v&&v.enabled?c("React").createElement(c("BootloadedReactComposerFundraiserTaggerButton.react"),{taggersConfig:o,source:"composer"}):null,O=w&&w.enabled?c("React").createElement(c("ReactComposerMessagingTaggerButton.react"),{reactComposerID:this.props.composerConfig.contextConfig.composerID}):null;return c("React").createElement(m,{contextConfig:this.props.composerConfig.contextConfig},c("React").createElement(c("ReactComposerTaggers.react"),null,x,y,z,A,B,C,D,E,F),c("React").createElement(c("ReactComposerTaggerButtons.react"),null,G,H,I,K,J,L,M,N,O))};function l(){i.apply(this,arguments)}var m=c("React").createClass({displayName:"VideoComposerTaggerWrapper",mixins:[c("ReactComposerContextProviderMixin")],render:function n(){return this.props.children}});f.exports=l}),null);
__d("VideoComposerDialogShowVideo",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BASIC_VIDEO:"basic_video",EPISODE:"episode",TRAILER:"trailer"})}),null);
__d("VideoComposerDialogBasicComposer.react",["ix","cx","fbt","AtSignMentionsStrategy","DocumentCompositeMentionsSource","DocumentMentionsSource","EditorState","FlexLayout.react","Image.react","Link.react","MentionsInput.react","MentionsInputTypeaheadView.react","React","ReactComposerContextProviderMixin","ReactComposerProfilePhoto.react","ReactComposerTaggerSummaryContainer.react","Tooltip","VideoComposerDialogBasicActions","VideoComposerDialogBasicComposerTaggers.react","VideoComposerDialogShowVideo","XUICheckboxInput.react","XUIContextualDialog.react","XUIContextualDialogBody.react","asset","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(o){l.constructor.call(this,o);this.$VideoComposerDialogBasicComposer5=function(){this.$VideoComposerDialogBasicComposer2&&this.$VideoComposerDialogBasicComposer2.focus()}.bind(this);var p=new(c("DocumentMentionsSource"))(c("AtSignMentionsStrategy"),o.mentionsSearchSource);this.$VideoComposerDialogBasicComposer1=new(c("DocumentCompositeMentionsSource"))([p])}m.prototype.componentWillReceiveProps=function(o){if(o.bootloaded&&!this.props.bootloaded){var p=new(c("DocumentMentionsSource"))(c("AtSignMentionsStrategy"),o.mentionsSearchSource);this.$VideoComposerDialogBasicComposer1=new(c("DocumentCompositeMentionsSource"))([p])}};m.prototype.$VideoComposerDialogBasicComposer4=function(o){c("VideoComposerDialogBasicActions").updateDescriptionEditorState(o)};m.prototype.render=function(){var o=this.props.showVideoType===c("VideoComposerDialogShowVideo").EPISODE&&this.props.showParentPageName,p=j._("When you publish your episode, it will be crossposted to {parent page name}. The post will include your original description and a link to follow your show.",[j.param("parent page name",this.props.showParentPageName)]),q=!this.props.canEditShowAndParent?j._("Your show is attributed to another Page, so you can automatically crosspost to that Page if you're an admin. Contact {parent page link} to become an admin.",[j.param("parent page link",c("React").createElement(c("Link.react"),{href:this.props.showParentPageProfileURI,target:"_blank"},this.props.showParentPageName))]):null;return c("React").createElement("div",{className:"_64ik"},c("React").createElement("div",{className:"_64il",onClick:this.$VideoComposerDialogBasicComposer5},c("React").createElement("div",{className:"_64im"},this.props.profilePicUri!==""?c("React").createElement(c("ReactComposerProfilePhoto.react"),{src:this.props.profilePicUri,onClick:c("emptyFunction")}):null),c("React").createElement(c("MentionsInput.react"),{className:"_64in",editorState:this.props.editorState,mentionsSource:this.$VideoComposerDialogBasicComposer1,placeholder:j._("Describe your video so people will know what it's about."),ref:function(r){return this.$VideoComposerDialogBasicComposer2=r}.bind(this),renderEmoji:true,typeaheadView:c("MentionsInputTypeaheadView.react"),onChange:this.$VideoComposerDialogBasicComposer4}),this.props.composerConfig?c("React").createElement(n,{contextConfig:this.props.composerConfig.contextConfig},c("React").createElement(c("ReactComposerTaggerSummaryContainer.react"),null)):null),c("React").createElement(c("FlexLayout.react"),{direction:"horizontal",justify:"all",align:"center"},c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogBasicComposerTaggers.react"),{actorID:this.props.actorID,bootloaded:this.props.bootloaded,composerConfig:this.props.composerConfig,taggerSearchSource:this.props.taggerSearchSource})),o?c("React").createElement(c("FlexLayout.react"),{className:"_3-90"},c("React").createElement("div",{className:"_p9j",ref:function(r){return this.$VideoComposerDialogBasicComposer3=r}.bind(this)},c("React").createElement(c("XUICheckboxInput.react"),{className:"_3-8_",checked:this.props.autoCrosspostToShowParent,onChange:c("VideoComposerDialogBasicActions").toggleCrosspostToParent,disabled:!this.props.canEditShowAndParent}),c("React").createElement("div",{className:"_p9k"+(!this.props.canEditShowAndParent?" _p9l":"")},j._("Crosspost to {page name}",[j.param("page name",this.props.showParentPageName)]))),!this.props.canEditShowAndParent?c("React").createElement(c("XUIContextualDialog.react"),{label:"auto-crosspost disabled help",autoFocus:false,contextRef:function(){return this.$VideoComposerDialogBasicComposer3}.bind(this),hoverContextRef:function(){return this.$VideoComposerDialogBasicComposer3}.bind(this),position:"above",alignment:"left",width:c("XUIContextualDialog.react").WIDTH.NORMAL},c("React").createElement(c("XUIContextualDialogBody.react"),null,q)):null,c("React").createElement(c("Image.react"),babelHelpers["extends"]({className:"_pa4"},c("Tooltip").propsFor(p),{src:h("360717")}))):null))};var n=c("React").createClass({displayName:"VideoComposerTaggerSummaryWrapper",mixins:[c("ReactComposerContextProviderMixin")],render:function o(){return this.props.children}});f.exports=m}),null);
__d("VideoComposerDialogContentTagsField.react",["ix","cx","fbt","FlexLayout.react","Image.react","React","SearchableEntry","Tooltip","VideoComposerDialogBasicActions","VideoComposerDialogBasicUtils","XUITokenizer.react","XUIText.react","asset","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=8;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={currentEntries:[],queryString:"",showFreeFormOption:true},this.$VideoComposerDialogContentTagsField6=function(t){__p&&__p();if(this.$VideoComposerDialogContentTagsField5(t))return;var u=this.props.entries.slice();if(this.$VideoComposerDialogContentTagsField4())return;var v=t;if(t.getAuxiliaryData().isFreeForm)v=new(c("SearchableEntry"))({uniqueID:t.getUniqueID(),title:t.getUniqueID(),auxiliaryData:{isFreeForm:true}});u.push(v);this.$VideoComposerDialogContentTagsField3(u)}.bind(this),this.$VideoComposerDialogContentTagsField7=function(t){var u=this.props.entries.slice();if(this.$VideoComposerDialogContentTagsField5(t))u.splice(u.indexOf(t),1);this.$VideoComposerDialogContentTagsField3(u)}.bind(this),this.$VideoComposerDialogContentTagsField8=function(){this.$VideoComposerDialogContentTagsField2.focusInput()}.bind(this),this.$VideoComposerDialogContentTagsField10=function(event){var t=event.target.value,u=this.$VideoComposerDialogContentTagsField9(t,this.props.entries.concat(this.state.currentEntries));this.setState({showFreeFormOption:!u,queryString:t})}.bind(this),this.$VideoComposerDialogContentTagsField11=function(t){var u=this.$VideoComposerDialogContentTagsField9(this.state.queryString,t.concat(this.state.currentEntries));this.setState({showFreeFormOption:this.state.showFreeFormOption&&!u,currentEntries:t})}.bind(this),p}n.prototype.componentWillMount=function(){this.$VideoComposerDialogContentTagsField1=c("VideoComposerDialogBasicUtils").getContentTagSearchSource()};n.prototype.$VideoComposerDialogContentTagsField3=function(o){c("VideoComposerDialogBasicActions").updateContentTags(o)};n.prototype.$VideoComposerDialogContentTagsField4=function(){return this.props.entries.length>=m};n.prototype.$VideoComposerDialogContentTagsField5=function(o){var p=o.getUniqueID(),q=o.getAuxiliaryData().isFreeForm,r=o.getTitle(),s=this.props.entries,t=s.some(function(o){if(o.getUniqueID()===p)return true;else if(q&&p===o.getTitle()||o.getAuxiliaryData().isFreeForm&&o.getUniqueID()===r)return true;return false});return t};n.prototype.$VideoComposerDialogContentTagsField9=function(o,p){var q=p.some(function(r){return o===r.getTitle()});return q};n.prototype.render=function(){var o=this.$VideoComposerDialogContentTagsField1,p={};if(!this.state.showFreeFormOption)p[this.state.queryString]=new(c("SearchableEntry"))({uniqueID:this.state.queryString,title:this.state.queryString});var q=j._("Add tags by typing in relevant topics to your video. Tags help people find your post on search and news feed.");return c("React").createElement("div",{onClick:this.$VideoComposerDialogContentTagsField8,tabIndex:0,role:"textbox"},c("React").createElement(c("FlexLayout.react"),{align:"stretch",className:c("joinClasses")(this.props.className,"_k38")},c("React").createElement("div",babelHelpers["extends"]({},c("Tooltip").propsFor(q),{className:"_4vsq"}),c("React").createElement(c("Image.react"),{className:"_k39",src:h("423746")}),c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold",className:"_4vss"},j._("Tags"))),c("React").createElement(c("XUITokenizer.react"),{className:"_k3b",entries:this.props.entries,excludedEntries:p,limit:m,placeholder:j._("Add tags to help people discover your video. E.g. cat, sport, piano"),ref:function(r){return this.$VideoComposerDialogContentTagsField2=r}.bind(this),searchSource:o,onEntriesFound:this.$VideoComposerDialogContentTagsField11,onQueryStringChange:this.$VideoComposerDialogContentTagsField10,onRemoveEntryAttempt:this.$VideoComposerDialogContentTagsField7,onAddEntryAttempt:this.$VideoComposerDialogContentTagsField6})))};f.exports=n}),null);
__d("ShowVideoListDialogEntryPoint",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAGE_CONTENT_TAB:"page_content_tab",VIDEO_LIST_SELECTOR:"video_list_selector",VIDEO_LIST_SELECTOR_V2:"video_list_selector_v2"})}),null);
__d("VideoComposerDialogPlaylistSelector.react",["ix","fbt","AsyncDialog","AsyncRequest","React","ShowVideoListDialogEntryPoint","SUIAtlasTheme","SUIGlyphIcon.react","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUITooltip.react","VideoComposerDialogBasicActions","XShowPagesCreatePlaylistDialogController","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=35,m="new",n=300,o=l-10;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$VideoComposerDialogPlaylistSelector2=function(v){if(v.length>0&&v[v.length-1]===m){var w=c("XShowPagesCreatePlaylistDialogController").getURIBuilder().setFBID("page_id",this.props.pageID).setEnum("entry_point",c("ShowVideoListDialogEntryPoint").VIDEO_LIST_SELECTOR_V2).getURI(),x=new(c("AsyncRequest"))().setURI(w);c("AsyncDialog").send(x)}else c("VideoComposerDialogBasicActions").updatePlaylistIDs(v)}.bind(this),r}p.prototype.$VideoComposerDialogPlaylistSelector1=function(){__p&&__p();if(this.props.playlistIDs.length===0||Object.keys(this.props.playlistOptions).length===0)return i._("Add to playlist");var q=this.props.playlistIDs,r=this.props.playlistOptions[q[0]],s=1;while(r.length<l&&s<q.length){r+=", "+this.props.playlistOptions[q[s]];s+=1}if(r.length>=l)return c("React").createElement("span",null,r.slice(0,o),i._("...{number of hidden selected playlists} more",[i.param("number of hidden selected playlists",q.length-s+1)]));else return c("React").createElement("span",null,r)};p.prototype.render=function(){return c("React").createElement(c("SUISelector.react"),{canSelectMultiple:true,theme:c("SUIAtlasTheme"),width:n,button:c("React").createElement(c("SUISelectorButton.react"),{height:"tall",icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("441126")}),label:c("React").createElement(c("SUITooltip.react"),{position:"right",offset:12,theme:c("SUIAtlasTheme"),tooltip:i._("You can add videos and episodes to playlists")},this.$VideoComposerDialogPlaylistSelector1())}),onChange:this.$VideoComposerDialogPlaylistSelector2,value:this.props.playlistIDs},Object.keys(this.props.playlistOptions).map(function(q){return c("React").createElement(c("SUISelectorOption.react"),{value:q,key:q},this.props.playlistOptions[q])}.bind(this)),c("React").createElement(c("SUISelectorOption.react"),{value:m,key:0},i._("+ Create New Playlist")))};f.exports=p}),null);
__d("VideoComposerDialogSeasonSelector.react",["ix","fbt","AsyncDialog","AsyncRequest","React","ShowVideoListDialogEntryPoint","SUIAtlasTheme","SUIGlyphIcon.react","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUITooltip.react","VideoComposerDialogBasicActions","XShowPagesCreateSeasonDialogController","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l="new",m=300;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$VideoComposerDialogSeasonSelector3=function(t){if(t===l){var u=c("XShowPagesCreateSeasonDialogController").getURIBuilder().setFBID("page_id",this.props.pageID).setEnum("entry_point",c("ShowVideoListDialogEntryPoint").VIDEO_LIST_SELECTOR).getURI(),v=new(c("AsyncRequest"))().setURI(u);c("AsyncDialog").send(v)}else c("VideoComposerDialogBasicActions").updateSeasonID(t)}.bind(this),p}n.prototype.$VideoComposerDialogSeasonSelector1=function(){var o=this.props.seasonOptions;if(this.props.seasonID)return this.$VideoComposerDialogSeasonSelector2(o[this.props.seasonID]);else return i._("Add to series")};n.prototype.$VideoComposerDialogSeasonSelector2=function(o){return i._("Series {seasonNumber}",[i.param("seasonNumber",o)])};n.prototype.render=function(){return c("React").createElement(c("SUISelector.react"),{theme:c("SUIAtlasTheme"),width:m,button:c("React").createElement(c("SUISelectorButton.react"),{height:"tall",icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("431755")}),label:c("React").createElement(c("SUITooltip.react"),{position:"right",offset:12,theme:c("SUIAtlasTheme"),tooltip:i._("Only episodes can be added to series")},this.$VideoComposerDialogSeasonSelector1())}),onChange:this.$VideoComposerDialogSeasonSelector3,value:this.props.seasonID},c("React").createElement(c("SUISelectorOption.react"),{value:null,key:0},i._("Not in any series")),Object.keys(this.props.seasonOptions).map(function(o){return c("React").createElement(c("SUISelectorOption.react"),{value:o,key:o},this.$VideoComposerDialogSeasonSelector2(this.props.seasonOptions[o]))}.bind(this)),c("React").createElement(c("SUISelectorOption.react"),{value:l,key:l},i._("+ Create new series")))};f.exports=n}),null);
__d("VideoComposerDialogVideoPlayer.react",["cx","ErrorBoundary.react","React","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentScrubberPreview.react","VideoComponentWithLoopingPlayback.react","VideoComponentWithSpacePlayPause.react","VideoComposerDialogBasicActions","VideoComposerDialogConstants","VideoPlayer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_474y"},c("React").createElement(c("ErrorBoundary.react"),null,c("React").createElement(c("VideoPlayer.react"),{className:"_4jg1",videoData:this.props.videoData,height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,width:c("VideoComposerDialogConstants").PLAYER_WIDTH,autoplay:false,onVpcUpdate:c("VideoComposerDialogBasicActions").updateVideoPreviewController},c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentEmbeddedControls.react"),{showSettingsButton:true}),c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),null),c("React").createElement(c("VideoComponentWithSpacePlayPause.react"),null),c("React").createElement(c("VideoComponentScrubberPreview.react"),null))))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogBasicSection.react",["cx","FlexLayout.react","React","VideoComposerDialogBasicComposer.react","VideoComposerDialogContentTagsField.react","VideoComposerDialogPlaylistSelector.react","VideoComposerDialogSeasonSelector.react","VideoComposerDialogVideoPlayer.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.videoData;return c("React").createElement("div",null,l?c("React").createElement(c("VideoComposerDialogVideoPlayer.react"),{videoData:l}):c("React").createElement("div",{className:"_1fxr"},c("React").createElement(c("XUISpinner.react"),{size:"large"})),c("React").createElement(c("VideoComposerDialogBasicComposer.react"),{showVideoType:this.props.showVideoType,autoCrosspostToShowParent:this.props.autoCrosspostToShowParent,canEditShowAndParent:this.props.canEditShowAndParent,showParentPageName:this.props.showParentPageName,showParentPageProfileURI:this.props.showParentPageProfileURI,bootloaded:this.props.bootloaded,composerConfig:this.props.composerConfig,editorState:this.props.descriptionEditorState,mentionsSearchSource:this.props.mentionsSearchSource,taggerSearchSource:this.props.taggerSearchSource,profilePicUri:this.props.profilePictureURI,actorID:this.props.actorID}),this.props.bootloaded?c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogContentTagsField.react"),{className:"_3-8y",accessToken:this.props.accessToken,entries:this.props.contentTags}),c("React").createElement(c("FlexLayout.react"),{className:"_3-8y",align:"center",justify:"all"},this.props.showSeasonSelector?c("React").createElement(c("VideoComposerDialogSeasonSelector.react"),{pageID:this.props.actorID,seasonID:this.props.seasonID,seasonOptions:this.props.seasonOptions}):null,this.props.showPlaylistSelector?c("React").createElement(c("VideoComposerDialogPlaylistSelector.react"),{className:"_3-9b",pageID:this.props.actorID,playlistIDs:this.props.playlistIDs,playlistOptions:this.props.playlistOptions}):null)):null)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogBasicVideoController",["SubscriptionsHandler","VideoComposerDialogBasicActions","VideoPlayerReason"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$VideoComposerDialogBasicVideoController1=new(c("SubscriptionsHandler"))()}h.prototype.updateVPC=function(i){__p&&__p();if(this.$VideoComposerDialogBasicVideoController2===i)return;this.$VideoComposerDialogBasicVideoController1.release();if(!i)return;this.$VideoComposerDialogBasicVideoController2=i;this.$VideoComposerDialogBasicVideoController1=new(c("SubscriptionsHandler"))();this.$VideoComposerDialogBasicVideoController1.addSubscriptions(i.addListener("playRequested",function(j){if(j===c("VideoPlayerReason").USER)c("VideoComposerDialogBasicActions").userPlayedVideoPreview()}))};h.prototype.unmount=function(){this.$VideoComposerDialogBasicVideoController1.release();this.$VideoComposerDialogBasicVideoController2=null};f.exports=new h()}),null);
__d("VideoComposerDialogBasicContainer.react",["FluxContainer","React","VideoComposerDialogBasicSection.react","VideoComposerDialogBasicStore","VideoComposerDialogBasicVideoController","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogShowVideo","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogBasicStore"),c("VideoComposerDialogUploadStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogBasicStore").getState(),l=k.autoCrosspostToShowParent,m=k.bootloaded,n=k.canEditShowAndParent,o=k.composerConfig,p=k.contentTags,q=k.descriptionEditorState,r=k.mentionsSearchSource,s=k.playlistIDs,t=k.playlistOptions,u=k.seasonID,v=k.seasonOptions,w=k.showParentPageName,x=k.showParentPageProfileURI,y=k.taggerSearchSource,z=k.videoPreviewController,A=c("VideoComposerDialogUploadStore").getState(),B=A.videoData,C=c("VideoComposerDialogMetadataStore").getState(),D=C.accessToken,E=C.actorID,F=C.dialogMode,G=C.profilePictureURI,H=C.showVideoType,I=C.videoDataForID;return{autoCrosspostToShowParent:l,accessToken:D,actorID:E?E:"",bootloaded:m,canEditShowAndParent:n,composerConfig:o,contentTags:p,descriptionEditorState:q,mentionsSearchSource:r,playlistIDs:s,playlistOptions:t,profilePictureURI:G,seasonID:u,seasonOptions:v,showParentPageName:w,showParentPageProfileURI:x,showPlaylistSelector:j.shouldShowPlaylistSelector(F,H),showSeasonSelector:j.shouldShowSeasonSelector(F,H),showVideoType:H,taggerSearchSource:y,videoData:F===c("VideoComposerDialogMode").VIDEO_UPLOAD?B:I,videoPreviewController:z}};j.shouldShowPlaylistSelector=function(k,l){return k===c("VideoComposerDialogMode").VIDEO_EDIT&&(l===c("VideoComposerDialogShowVideo").BASIC_VIDEO||l===c("VideoComposerDialogShowVideo").EPISODE)};j.shouldShowSeasonSelector=function(k,l){return(k===c("VideoComposerDialogMode").VIDEO_EDIT||k===c("VideoComposerDialogMode").VIDEO_UPLOAD)&&l===c("VideoComposerDialogShowVideo").EPISODE};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.componentDidUpdate=function(k,l){c("VideoComposerDialogBasicVideoController").updateVPC(this.state.videoPreviewController)};j.prototype.componentWillUnmount=function(){c("VideoComposerDialogBasicVideoController").unmount()};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogBasicSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogBasicTabContainer.react",["FluxContainer","React","VideoComposerDialogBasicStore","VideoComposerDialogBasicTabConfig","VideoComposerDialogDispatcher","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{isSelected:l===c("VideoComposerDialogTab").BASIC}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogBasicStore")])};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogBasicTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogBodySectionContainer.react",["FluxContainer","React","VideoComposerDialogBodySection.react","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{selectedTab:l}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogBodySection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCheckboxItem.react",["ix","cx","FBCheckbox.react","FlexLayout.react","LeftRight.react","React","Tooltip","Image.react","XUICardSection.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogCheckboxItem1=function(){if(!this.props.disabled)this.props.onToggle()}.bind(this),n}l.prototype.render=function(){var m=this.props.disabled&&this.props.disabledTooltip||null;return c("React").createElement(c("XUICardSection.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(m,"below"),{onClick:this.$VideoComposerDialogCheckboxItem1,className:"_19pq"+(this.props.checked?" _2e9y":"")+(!this.props.disabled?" _242x":"")}),c("React").createElement(c("LeftRight.react"),null,c("React").createElement(c("FlexLayout.react"),{direction:"horizontal",align:"center",className:"_1qng"},c("React").createElement(c("FBCheckbox.react"),{className:"_246b",checked:this.props.checked,disabled:!!this.props.disabled}),c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold",className:"_19pr"},this.props.label)),c("React").createElement(c("FlexLayout.react"),{direction:"horizontal",align:"center",className:"_1qng"},this.props.tooltip?c("React").createElement(c("Image.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(this.props.tooltip,"above"),{className:"_inj",src:h("126340")})):null,this.props.profilePicUri?c("React").createElement(c("Image.react"),{height:28,width:28,src:this.props.profilePicUri,className:"_1qnh"}):null)))};f.exports=l}),null);
__d("VideoComposerDialogCrossPostSection.react",["ix","cx","fbt","FlexLayout.react","Link.react","PageSettingsRef","React","VideoComposerDialogCheckboxItem.react","VideoComposerDialogDistributionActions","VideoComposerDialogField.react","XUIButton.react","XUICard.react","XUIGrayText.react","XUISpinner.react","XPagesManagerSettingsController","asset","Image.react","Tooltip"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=4;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={showAll:false},this.$VideoComposerDialogCrossPostSection3=function(){return this.setState({showAll:!this.state.showAll})}.bind(this),p}n.prototype.render=function(){var o=this.$VideoComposerDialogCrossPostSection1(),p=c("React").createElement(c("Link.react"),{href:"/help/678485232304895",target:"_blank"},j._("Help Centre"));return c("React").createElement(c("VideoComposerDialogField.react"),{input:o,subtitle:j._("Allow other Pages to use your video in their posts. Learn more about crossposting in the {Link. =Help Center}.",[j.param("Link. =Help Center",p)]),title:j._("Crossposting")})};n.prototype.$VideoComposerDialogCrossPostSection2=function(){return c("XPagesManagerSettingsController").getURIBuilder().setString("page_token",this.props.pageID).setString("tab","video_crossposting").setString("ref",c("PageSettingsRef").VIDEO_COMPOSER).getURI()};n.prototype.$VideoComposerDialogCrossPostSection1=function(){__p&&__p();if(!Array.isArray(this.props.crosspostPages))return c("React").createElement("div",{className:"_2kkh"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));if(this.props.crosspostPages.length===0){var o=!this.props.enableCrosspostRefresh?j._("When you have added Pages, click here to refresh the list"):null;return c("React").createElement(c("XUICard.react"),{className:"_19pp"},c("React").createElement(c("FlexLayout.react"),{direction:"vertical",justify:"all",align:"center",className:"_ka9"},c("React").createElement("div",{className:"_kaj"},c("React").createElement(c("Image.react"),{src:h("398197")})),c("React").createElement("div",{className:"_kak"},j._("Allow other Pages to crosspost your video")),c("React").createElement(c("FlexLayout.react"),null,c("React").createElement(c("XUIButton.react"),{size:"large",label:j._("Choose Pages"),target:"_blank",onClick:c("VideoComposerDialogDistributionActions").crosspostLinkClicked,href:this.$VideoComposerDialogCrossPostSection2(),imageRight:c("React").createElement(c("Image.react"),{src:h("401037")}),className:"_3-8_"}),c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({size:"large"},c("Tooltip").propsFor(o,"above"),{disabled:!this.props.enableCrosspostRefresh,label:j._("Refresh"),imageRight:c("React").createElement(c("Image.react"),{src:h("435672")}),onClick:c("VideoComposerDialogDistributionActions").refreshCrosspostPages})))))}var p=[],q=null;if(this.props.crosspostPages.length<=m)p=this.props.crosspostPages;else if(this.state.showAll){p=this.props.crosspostPages;q=j._("See less")}else{p=this.props.crosspostPages.slice(0,m);q=j._({"*":"See all {pages count} Pages"},[j.param("pages count",this.props.crosspostPages&&this.props.crosspostPages.length,[0])])}var r=this.state.showAll?h("401025"):h("363522"),s=q===null?null:c("React").createElement(c("Link.react"),{className:"_2kma",onClick:this.$VideoComposerDialogCrossPostSection3},c("React").createElement(c("XUIGrayText.react"),null,q),c("React").createElement(c("Image.react"),{className:"_3-99",src:r}));return c("React").createElement("div",null,c("React").createElement(c("XUICard.react"),{className:"_19pp"},p.map(function(t){return c("React").createElement(c("VideoComposerDialogCheckboxItem.react"),{key:t.id,checked:t.allow,label:t.name,profilePicUri:t.profile_pic_uri,onToggle:function(){return this.props.onPageToggle(t.id)}.bind(this)})}.bind(this))),s)};f.exports=n}),null);
__d("VideoComposerDialogDistributionSection.react",["cx","fbt","React","VideoComposerDialogCheckboxItem.react","VideoComposerDialogField.react","XUICard.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=[{label:i._("News Feed"),checked:this.props.showInNewsFeed,hidden:!this.props.showNewsFeedOption,onToggle:function(){return this.props.onToggleNewFeed()}.bind(this),tooltip:i._("Unselect if you don't want your video to appear in News Feed"),disabled:this.props.disableShowInNewsFeed,disabledTooltip:i._("Secret video cannot appear in News Feed.")},{label:i._("Allow embedding"),checked:this.props.allowEmbedding,onToggle:function(){return this.props.onToggleEmbedding()}.bind(this),tooltip:i._("Unselect if you don't want third parties to embed your video")},{label:i._("Add as secret video"),checked:this.props.addAsSecretVideo,hidden:!this.props.showSecretVideoOption,onToggle:function(){return this.props.onToggleSecretVideo()}.bind(this),tooltip:i._("Secret videos are only available for embedding and for people who have the link")}],n=c("React").createElement(c("XUICard.react"),{className:"_19pp"},m.map(function(o,p){if(o.hidden)return null;return c("React").createElement(c("VideoComposerDialogCheckboxItem.react"),babelHelpers["extends"]({key:p},o))}));return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogField.react"),{input:n,subtitle:i._("Choose where you would like your video to appear."),title:i._("Custom distribution"),showTopBorder:false}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogModerationSection.react",["cx","fbt","React","VideoComposerDialogCheckboxItem.react","VideoComposerDialogField.react","XUICard.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=[{label:i._("Show graphic warning"),checked:this.props.showGraphicWarning,onToggle:function(){return this.props.onGraphicWarningToggle()}.bind(this),tooltip:i._("Viewers will see a warning that your video contains graphic content before it starts"),hidden:!this.props.allowGraphicWarningOption},{label:i._("Turn off reactions, comments and shares"),checked:this.props.blockSocial,onToggle:function(){return this.props.onBlockSocialToggle()}.bind(this),tooltip:i._("People will not be able to share, react to or comment on your post"),disabled:this.props.disableBlockSocial,disabledTooltip:i._("Only available if a video is added as a secret video")}],n=c("React").createElement(c("XUICard.react"),{className:"_2km8"},m.map(function(p,q){if(p.hidden)return null;return c("React").createElement(c("VideoComposerDialogCheckboxItem.react"),babelHelpers["extends"]({key:q},p))})),o=this.props.allowGraphicWarningOption?i._("Moderate your content by showing graphic warnings and turning off reactions, comments and shares."):i._("Moderate your content by turning off reactions, comments and shares.");return c("React").createElement(c("VideoComposerDialogField.react"),{input:n,subtitle:o,title:i._("Moderation")})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogDistributionContainer.react",["cx","FluxContainer","React","VideoComposerDialogCrossPostSection.react","VideoComposerDialogMode","VideoComposerDialogModerationSection.react","VideoComposerDialogDispatcher","VideoComposerDialogDistributionActions","VideoComposerDialogDistributionSection.react","VideoComposerDialogDistributionStore","VideoComposerDialogMetadataStore"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogDistributionStore"),c("VideoComposerDialogMetadataStore")]};k.calculateState=function(){var l=c("VideoComposerDialogDistributionStore").getState(),m=c("VideoComposerDialogMetadataStore").getState(),n=m.actorID,o=m.dialogMode,p=m.isVideoAssetOwner;return{dialogMode:o,pageID:n||"",showInNewsFeed:l.showInNewsFeed,allowEmbedding:l.allowEmbedding,addAsSecretVideo:l.addAsSecretVideo,disableShowInNewsFeed:l.disableShowInNewsFeed,crosspostPages:l.crosspostPages,allowGraphicWarningOption:l.allowGraphicWarningOption,showGraphicWarning:l.showGraphicWarning,blockSocial:l.blockSocial,disableBlockSocial:!l.addAsSecretVideo,enableCrosspostRefresh:l.enableCrosspostRefresh,isVideoAssetOwner:p}};k.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(k.getStores())};k.prototype.render=function(){var l=this.state.dialogMode===c("VideoComposerDialogMode").VIDEO_EDIT,m=this.state.dialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST,n=!m&&this.state.isVideoAssetOwner;return c("React").createElement("div",{className:"_ogq"},c("React").createElement(c("VideoComposerDialogDistributionSection.react"),babelHelpers["extends"]({},this.state,{showNewsFeedOption:!l,showSecretVideoOption:!l,onToggleNewFeed:c("VideoComposerDialogDistributionActions").toggleNewsFeed,onToggleEmbedding:c("VideoComposerDialogDistributionActions").toggleEmbedding,onToggleSecretVideo:c("VideoComposerDialogDistributionActions").toggleSecretVideo})),n?c("React").createElement(c("VideoComposerDialogCrossPostSection.react"),{pageID:this.state.pageID,crosspostPages:this.state.crosspostPages,enableCrosspostRefresh:this.state.enableCrosspostRefresh,onPageToggle:c("VideoComposerDialogDistributionActions").toggleCrosspostPage}):null,l?null:c("React").createElement(c("VideoComposerDialogModerationSection.react"),babelHelpers["extends"]({},this.state,{onGraphicWarningToggle:c("VideoComposerDialogDistributionActions").toggleGraphicWarning,onBlockSocialToggle:c("VideoComposerDialogDistributionActions").toggleBlockSocial})))};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogDistributionTabContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogDistributionStore","VideoComposerDialogDistributionTabConfig","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{isSelected:l===c("VideoComposerDialogTab").DISTRIBUTION}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogDistributionStore")])};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogDistributionTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogFooterSectionContainer.react",["FluxContainer","React","VideoComposerDialogAdBreakStore","VideoComposerDialogBasicStore","VideoComposerDialogDistributionStore","VideoComposerDialogEditStore","VideoComposerDialogFooterSection.react","VideoComposerDialogMetadataStore","VideoComposerDialogPublishingStore","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogAdBreakStore"),c("VideoComposerDialogDistributionStore"),c("VideoComposerDialogEditStore"),c("VideoComposerDialogUIStore"),c("VideoComposerDialogPublishingStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogBasicStore")]};j.calculateState=function(){var k=c("VideoComposerDialogDistributionStore").getState(),l=k.allowEmbedding,m=c("VideoComposerDialogUIStore").getState(),n=m.oneClickPublish,o=m.saveAsDraftDialogShown,p=c("VideoComposerDialogMetadataStore").getState(),q=p.actorID,r=p.dialogMode,s=p.minBackdateTime,t=p.title,u=p.showRightsConfirmationDialog,v=p.boostedPostButtonConfig,w=p.profileDisplayName,x=p.profilePictureURI,y=p.userName,z=p.userProfilePictureURI,A=p.videoID,B=c("VideoComposerDialogPublishingStore").getState(),C=B.backdateYear,D=B.disablePublish,E=B.expireDate,F=B.postEndDate,G=B.isPosting,H=B.isPostPending,I=B.isDraft,J=B.scheduleDate,K=c("VideoComposerDialogBasicStore").getState(),L=K.bootloaded,M=K.composerConfig,N=c("VideoComposerDialogEditStore").getState(),O=c("VideoComposerDialogAdBreakStore").getState(),P=O.isAdBreakPrereviewVisible,Q=O.insertedAdBreaks,R=false,S=false,T=false;if(G||H)if(I)S=true;else if(C||F||J||E)T=true;else R=true;return{allowEmbedding:l,boostedPostButtonConfig:v,bootloaded:L,canMakeFeatured:N.canMakeFeatured,composerID:M&&M.contextConfig.composerID||"",creationTime:N.creationTime,dialogMode:r,disablePublish:D,downloadHDUrl:N.downloadHDUrl,downloadSDUrl:N.downloadSDUrl,editPublishingAction:N.selectedPublishingAction,editTabsLoaded:N.editTabsLoaded,embedURL:N.embedURL,hasInsertedAdBreak:Q?Q.count()>0:false,isAdBreakPrereviewVisible:P,isEditSaving:N.isSaving,isFeaturedVideo:N.isFeaturedVideo,isMissingTitle:t.trim()==="",isSavingAsDraft:S,isPublishing:R,isSchedulingOrBackdating:T,oneClickPublish:n,pageID:q||"",minBackdateTime:s?s:0,publishingConfig:N.publishingConfig||{},saveAsDraftDialogShown:o,showRightsConfirmationDialog:u,profileDisplayName:w,profilePictureURI:x,userName:y,userProfilePictureURI:z,videoID:A}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogFooterSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogMomentsOfInterestActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){var j={type:c("VideoComposerDialogActionTypes").UPDATE_MOMENTS_OF_INTEREST,momentsOfInterest:i};c("VideoComposerDialogDispatcher").dispatch(j)};f.exports={updateMomentsOfInterest:h}}),null);
__d("VideoComposerDialogMomentsOfInterestFormRow.react",["cx","React","SUIAtlasTheme","SUITextInput.react","suiMargin"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={timestamp:this.props.initialTimestamp||"",description:this.props.initialDescription||""},this.$VideoComposerDialogMomentsOfInterestFormRow1=function(q){this.setState({timestamp:q});this.props.sendTimestamp(this.props.index,q)}.bind(this),this.$VideoComposerDialogMomentsOfInterestFormRow2=function(q){this.setState({description:q});this.props.sendDescription(this.props.index,q)}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_2aaf"},c("React").createElement(c("SUITextInput.react"),{theme:c("SUIAtlasTheme"),width:80,display:"inline",onChange:this.$VideoComposerDialogMomentsOfInterestFormRow1,value:this.state.timestamp}),c("React").createElement(c("SUITextInput.react"),{theme:c("SUIAtlasTheme"),width:350,display:"inline",margin:"_3-9b",onChange:this.$VideoComposerDialogMomentsOfInterestFormRow2,value:this.state.description}))};f.exports=k}),null);
__d("VideoComposerDialogMomentsOfInterestContainer.react",["cx","fbt","FluxContainer","React","VideoComposerDialogDispatcher","SUIAtlasTheme","SUIButton.react","SUIButtonIcon.react","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogMomentsOfInterestStore","VideoComposerDialogUploadStore","VideoComposerDialogVideoPlayer.react","VideoComposerDialogMomentsOfInterestFormRow.react","VideoComposerDialogMomentsOfInterestActions","XUISpinner.react","XUIText.react","suiMargin"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=function l(){return c("React").createElement("div",{className:"_2aam"},c("React").createElement(c("XUIText.react"),{className:"_2aan"},i._("Moments Of Interest")),c("React").createElement(c("XUIText.react"),{className:"_2aao"},i._("Annotate particular moments of your video that viewers can jump to by providing a timestamp and a corresponding mini-description of what occurs at that timestamp")))};j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$VideoComposerDialogMomentsOfInterestContainer1=function(){this.setState(function(s,t){return{currNumRows:s.currNumRows+1,momentsOfInterest:s.momentsOfInterest.concat([{}])}})}.bind(this),this.sendTimestamp=function(s,t){for(var u=0;u<this.state.momentsOfInterest.length;u++)if(this.state.momentsOfInterest[u].time_offset===t)return;var v=this.state.momentsOfInterest[s];v.time_offset=t;c("VideoComposerDialogMomentsOfInterestActions").updateMomentsOfInterest(this.state.momentsOfInterest)}.bind(this),this.sendDescription=function(s,t){var u=this.state.momentsOfInterest[s];u.description=t;c("VideoComposerDialogMomentsOfInterestActions").updateMomentsOfInterest(this.state.momentsOfInterest)}.bind(this),o}m.getStores=function(){return[c("VideoComposerDialogUploadStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogMomentsOfInterestStore")]};m.calculateState=function(){c("VideoComposerDialogMomentsOfInterestStore").getState();var n=c("VideoComposerDialogUploadStore").getState(),o=n.videoData,p=c("VideoComposerDialogMetadataStore").getState(),q=p.dialogMode,r=p.videoDataForID,s=c("VideoComposerDialogMomentsOfInterestStore").getState(),t=s.momentsOfInterest,u=t.length;if(u===0){u=2;t=[{},{}]}return{currNumRows:u,momentsOfInterest:t,videoData:q===c("VideoComposerDialogMode").VIDEO_UPLOAD?o:r}};m.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(m.getStores())};m.prototype.render=function(){var n=this.state.videoData,o=[],p=this.state.currNumRows;for(var q=0;q<p;q++)o.push(c("React").createElement(c("VideoComposerDialogMomentsOfInterestFormRow.react"),{key:q,index:q,sendTimestamp:this.sendTimestamp,sendDescription:this.sendDescription,initialTimestamp:this.state.momentsOfInterest[q].time_offset,initialDescription:this.state.momentsOfInterest[q].description}));return c("React").createElement("div",null,n?c("React").createElement(c("VideoComposerDialogVideoPlayer.react"),{videoData:n}):c("React").createElement("div",{className:"_1fxr"},c("React").createElement(c("XUISpinner.react"),{size:"large"})),c("React").createElement(l,null),c("React").createElement("div",{className:"_3-8y"},c("React").createElement(c("XUIText.react"),{className:"_2aap"},i._("Timestamp")),c("React").createElement(c("XUIText.react"),{className:"_2aaq"},i._("Description"))),o,c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("SUIButtonIcon.react"),{name:"create",use:"confirm"}),label:"",margin:"_3-8y",onClick:this.$VideoComposerDialogMomentsOfInterestContainer1,ref:"add_button",theme:c("SUIAtlasTheme"),use:"confirm"}))};f.exports=c("FluxContainer").create(m)}),null);
__d("VideoComposerDialogMomentsOfInterestTabContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogMomentsOfInterestStore","VideoComposerDialogMomentsOfInterestTabConfig","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{isSelected:l===c("VideoComposerDialogTab").MOMENTS_OF_INTEREST}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogMomentsOfInterestStore")])};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogMomentsOfInterestTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("CopyrightCountryListToggleLink.react",["cx","fbt","Link.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){if(!this.props.canShowMore)return null;return c("React").createElement("div",{className:"_mmz"},c("React").createElement(c("Link.react"),{onClick:this.props.onToggle},this.props.showingAll?i._("Show Less"):i._("Show All")))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("SortedCopyrightCountryCodes",["CopyrightCountryNames"],(function a(b,c,d,e,f,g){f.exports=Object.keys(c("CopyrightCountryNames")).sort(function(h,i){if(c("CopyrightCountryNames")[h]<c("CopyrightCountryNames")[i])return-1;if(c("CopyrightCountryNames")[h]>c("CopyrightCountryNames")[i])return 1;return 0})}),null);
__d("CopyrightCountryList.react",["cx","fbt","CopyrightCountryNames","SortedCopyrightCountryCodes","CopyrightCountryListToggleLink.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={showingAll:false},this.$CopyrightCountryList1=function(){var r=this.state.showingAll;this.setState({showingAll:!r})}.bind(this),n}l.prototype.render=function(){__p&&__p();var m=void 0,n=false;if(this.props.countries.length===c("SortedCopyrightCountryCodes").length)if(this.props.showWorldwide)m=i._("Worldwide");else return null;else{m=c("SortedCopyrightCountryCodes").filter(function(p){return this.props.countries.indexOf(p)!==-1}.bind(this)).map(function(p){return c("CopyrightCountryNames")[p]}).join(", ");n=m.length>this.props.previewCharLimit;if(n&&!this.state.showingAll)m=m.substr(0,this.props.previewCharLimit)+"..."}var o=this.props.className||"_1brk";return c("React").createElement("div",{className:o},c("React").createElement("div",{className:this.props.listClassName},this.props.label?c("React").createElement("div",{className:"_1brm"},this.props.label,":"," "):null,m),c("React").createElement(c("CopyrightCountryListToggleLink.react"),{canShowMore:n,showingAll:this.state.showingAll,onToggle:this.$CopyrightCountryList1}))};l.defaultProps={previewCharLimit:295};f.exports=l}),null);
__d("CopyrightCountrySearchSource",["AbstractSearchSource","CopyrightCountryNames","SearchableEntry","SortedCopyrightCountryCodes"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;j.prototype.getAllCountries=function(){"use strict";return c("SortedCopyrightCountryCodes").map(function(k,l){return new(c("SearchableEntry"))({order:l,title:c("CopyrightCountryNames")[k],uniqueID:k})})};j.prototype.getAllCountryIDs=function(){"use strict";return c("SortedCopyrightCountryCodes").slice()};j.prototype.getCountriesCount=function(){"use strict";return c("SortedCopyrightCountryCodes").length};j.prototype.searchImpl=function(k,l){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];"use strict";var n=this.getAllCountries();if(k&&k.length>0)return l(n.filter(function(o){return o.getTitle().toLowerCase().startsWith(k.toLowerCase())}),k);return l(n,k)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("CopyrightCountrySelectorHeader.react",["fbt","Link.react","React","SortedCopyrightCountryCodes","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=h._("Select All"),l=h._("Deselect All"),m=j.countryCount===0?c("React").createElement(c("XUIGrayText.react"),null,l):c("React").createElement(c("Link.react"),{onClick:j.onDeselectAll},l),n=j.countryCount===c("SortedCopyrightCountryCodes").length?c("React").createElement(c("XUIGrayText.react"),null,k):c("React").createElement(c("Link.react"),{onClick:j.onSelectAll},k);return c("React").createElement("div",null,n," | ",m)};f.exports=i}),null);
__d("CopyrightCountrySelectorLabel.react",["fbt","React","SortedCopyrightCountryCodes"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){if(j.countryCount===0)return h._("Select countries");else if(j.countryCount===c("SortedCopyrightCountryCodes").length)return h._("All countries");else return h._({"*":"{number} countries selected","_1":"1 country selected"},[h.plural(j.countryCount,"number")])};f.exports=i}),null);
__d("CopyrightCountrySelector.react",["cx","fbt","CopyrightCountryList.react","CopyrightCountrySearchSource","CopyrightCountrySelectorHeader.react","CopyrightCountrySelectorLabel.react","React","SUIBusinessTheme","SUISearchableSelector.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=new(c("CopyrightCountrySearchSource"))();j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={countries:this.$CopyrightCountrySelector1()},this.$CopyrightCountrySelector2=function(s){var t=this.state.countries.slice(0),u=t.find(function(w){return w.getUniqueID()===s.getUniqueID()}),v=t.indexOf(u);if(v>=0)t.splice(v,1);else t.push(s);return this.setCountries(t)}.bind(this),this.$CopyrightCountrySelector3=function(s){s.stopPropagation();this.setCountries([])}.bind(this),this.$CopyrightCountrySelector4=function(s){s.stopPropagation();this.setCountries(l.getAllCountries())}.bind(this),o}m.prototype.$CopyrightCountrySelector1=function(){var n=l.getAllCountries(),o=this.props.selectedCountries;if(!o||o.length===0)return n;if(this.props.areCountriesIncluded)return n.filter(function(p){return o.indexOf(p.getUniqueID())!==-1});else return n.filter(function(p){return o.indexOf(p.getUniqueID())===-1})};m.prototype.setCountries=function(n){__p&&__p();var o,p=this;this.setState({countries:n.slice()});if(this.props.onChange)(function(){__p&&__p();var q=n.map(function(s){return s.getUniqueID().toString()}),r=true;if(p.props.enableExcludedCountries)if(n.length===l.getCountriesCount()){r=true;q=[]}else if(n.length>l.getCountriesCount()/2){r=false;q=l.getAllCountryIDs().filter(function(s){return q.indexOf(s)===-1})}p.props.onChange&&p.props.onChange(q,r)})()};m.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_2q5q")},c("React").createElement(c("SUISearchableSelector.react"),{canSelectMultiple:true,customLabel:c("React").createElement(c("CopyrightCountrySelectorLabel.react"),{countryCount:this.state.countries.length}),dropdownWidth:"auto",emptySearchResultsContent:i._("No matching results"),header:c("React").createElement(c("CopyrightCountrySelectorHeader.react"),{countryCount:this.state.countries.length,onDeselectAll:this.$CopyrightCountrySelector3,onSelectAll:this.$CopyrightCountrySelector4}),isDisabled:this.props.disabled,onChange:this.$CopyrightCountrySelector2,placeholder:i._("All countries"),searchPlaceholder:i._("Search countries"),searchSource:l,theme:c("SUIBusinessTheme"),values:this.state.countries,width:"auto"}),c("React").createElement(c("CopyrightCountryList.react"),{listClassName:this.props.listClassName,countries:this.state.countries.map(function(n){return n.getUniqueID().toString()}),previewCharLimit:this.props.previewCharLimit}))};f.exports=m}),null);
__d("ComposerVideoUploadContextualTooltip.react",["ix","cx","Image.react","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIText.react","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){"use strict";var m=void 0;if(this.props.light)m=h("126340");else m=h("127942");return c("React").createElement("span",null,c("React").createElement(c("Image.react"),{className:c("joinClasses")("_50lr",this.props.className),ref:"infoIcon",src:m}),c("React").createElement(c("XUIContextualDialog.react"),{contextRef:function(){return this.refs.infoIcon}.bind(this),hoverContextRef:function(){return this.refs.infoIcon}.bind(this),position:"right",width:c("XUIContextualDialog.react").WIDTH.NORMAL},c("React").createElement(c("XUIContextualDialogTitle.react"),{className:this.props.className},this.props.contextualTooltipTitle),this.props.contextualTooltipBody&&this.props.contextualTooltipBody.length!==0?c("React").createElement(c("XUIContextualDialogBody.react"),{className:this.props.className},this.props.contextualTooltipBody.map(function(n){return c("React").createElement(c("XUIText.react"),{display:"block",size:"meta1"},n)})):c("React").createElement("div",null),this.props.contextualTooltipFooter?c("React").createElement(c("XUIContextualDialogFooter.react"),{className:this.props.className},this.props.contextualTooltipFooter):c("React").createElement("div",null)))};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("ComposerVideoUploadTooltip.react",["ix","cx","Image.react","React","Tooltip.react","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";var n=void 0;if(this.props.light)n=h("126340");else n=h("127942");return c("React").createElement(c("Tooltip.react"),{alignH:this.props.alignH,position:this.props.alignV,tooltip:this.props.tooltip},c("React").createElement(c("Image.react"),{className:c("joinClasses")("_50lr",this.props.className),src:n}))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={alignH:l.string,alignV:l.string,className:l.string,light:l.bool,tooltip:l.any.isRequired};f.exports=m}),null);
__d("ComposerVideoUploadSection.react",["cx","ComposerVideoUploadContextualTooltip.react","ComposerVideoUploadTooltip.react","React","XUIText.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props.contextualTooltipTitle||this.props.contextualTooltipBody||this.props.contextualTooltipFooter;return c("React").createElement("div",{className:this.props.className},c("React").createElement("div",{className:"_1_hd _4qoq"},c("React").createElement(c("XUIText.react"),{size:"meta1",weight:"bold"},this.props.title),this.props.subtitle?c("React").createElement(c("XUIGrayText.react"),{size:"meta1",shade:"light",className:"_3-99"},this.props.subtitle):null,this.props.tooltip?c("React").createElement(c("ComposerVideoUploadTooltip.react"),{tooltip:this.props.tooltip}):m?c("React").createElement(c("ComposerVideoUploadContextualTooltip.react"),{contextualTooltipTitle:this.props.contextualTooltipTitle,contextualTooltipBody:this.props.contextualTooltipBody,contextualTooltipFooter:this.props.contextualTooltipFooter}):null),this.props.children)};function l(){"use strict";i.apply(this,arguments)}l.propTypes={className:k.string,title:k.string.isRequired,subtitle:k.node,tooltip:k.string,contextualTooltipTitle:k.string,contextualTooltipBody:k.arrayOf(k.string),contextualTooltipFooter:k.string};f.exports=l}),null);
__d("CopyrightReferenceCategorySelector.react",["cx","fbt","AdsSelectorWithTooltips.react","ComposerVideoUploadSection.react","React","VideoCopyrightContentCategoryString"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("AdsSelectorWithTooltips.react").Option;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.$CopyrightReferenceCategorySelector1=function(n){"use strict";if(this.props.showCategoryRequiredError&&!n)return i._("Required");return null};m.prototype.render=function(){"use strict";var n=[m.defaultCategory.value].concat(Object.keys(c("VideoCopyrightContentCategoryString"))),o=n.map(function(p){if(p)var q=c("VideoCopyrightContentCategoryString")[p];else q=m.defaultCategory;return c("React").createElement(l,{tooltip:q.description,tooltipPosition:"right",key:q.value,value:q.value},q.label)});return c("React").createElement(c("ComposerVideoUploadSection.react"),{className:this.props.className||"_3-8-",title:this.props.hideTitleAndTooltip?"":i._("Media category"),tooltip:this.props.hideTitleAndTooltip?null:i._("Select the format of your reference file. This selection is necessary for taxable ad earnings and can't be changed after you've saved it.")},c("React").createElement(c("AdsSelectorWithTooltips.react"),{className:"_d6-",disabled:this.props.disabled,onChange:function(p){return this.props.onReferenceCategoryChange(p.value)}.bind(this),value:this.props.selectedCategory||m.defaultCategory.value,defaultLabel:m.defaultCategory.label,defaultValue:m.defaultCategory.value,maxheight:400,xuiError:this.$CopyrightReferenceCategorySelector1(this.props.selectedCategory),xuiErrorPosition:"right"},o))};function m(){"use strict";j.apply(this,arguments)}m.defaultCategory={value:null,label:i._("Choose a category"),description:""};f.exports=m}),null);
__d("MediaCopyrightAttributionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAGE:"PAGE",VIDEO:"VIDEO"})}),null);
__d("CopyrightAttributionTypeComponent.react",["ix","cx","fbt","Image.react","LeftRight.react","MediaCopyrightAttributionType","React","asset","gkx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$CopyrightAttributionTypeComponent1=function(){this.props.onSelectionChanged(this.props.attribution_type)}.bind(this),o}m.prototype.render=function(){__p&&__p();var n=null;if(this.props.attribution_type===c("MediaCopyrightAttributionType").PAGE)n=this.props.isSelected?c("React").createElement(c("Image.react"),{src:h("418180")}):c("React").createElement(c("Image.react"),{src:h("418183")});else n=this.props.isSelected?c("React").createElement(c("Image.react"),{src:h("419115")}):c("React").createElement(c("Image.react"),{src:h("419119")});var o=c("gkx")("AT7tRsbXgdfpVIxZEDHUHhVidRHLaGCiELuc73mIrKJ1toFkqyNiK6bc6019oDdRue30tdh5NPvfFJbnGf1aEC_HYzwlBLOQMleHm1dp954kFw"),p=null;if(this.props.attribution_type===c("MediaCopyrightAttributionType").PAGE)p=j._("Follow");else p=o?j._("Link"):j._("Link (Coming Soon)");var q=this.props.attribution_type===c("MediaCopyrightAttributionType").VIDEO?j._("Direct viewers of the matching video to the original video or a related video."):j._("Direct viewers of the matching video to follow your Page.");return c("React").createElement(c("LeftRight.react"),{direction:"left",className:"_16z5"+(this.props.isSelected?" _16z6":"")+(this.props.attribution_type===c("MediaCopyrightAttributionType").VIDEO&&!o?" _2h1a":""),onClick:this.props.attribution_type===c("MediaCopyrightAttributionType").VIDEO&&!o?null:this.$CopyrightAttributionTypeComponent1},c("React").createElement("div",{className:"_16z7"},n),c("React").createElement("div",null,c("React").createElement("div",{className:"_16z9"},p),c("React").createElement("div",{className:"_16za"},q)))};f.exports=m}),null);
__d("FormRowTextInput.react",["ix","cx","Image.react","React","SUIBusinessTheme","SUITextInput.react","Tooltip.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){return c("React").createElement("div",{className:"_18ri"},c("React").createElement("div",{className:"_18rj"},c("React").createElement("div",{className:"_18rl"},k.label)),c("React").createElement(c("Tooltip.react"),{alignH:"center",tooltip:k.tooltip},c("React").createElement(c("Image.react"),{className:"_18rm",src:h("126340")})),c("React").createElement("div",{className:"_18rj _18ro"},c("React").createElement(c("SUITextInput.react"),{errorMessage:k.errorMessage,placeholder:k.placeholder,theme:c("SUIBusinessTheme"),onChange:k.onChange,value:k.value})))}f.exports=j}),null);
__d("VideoCopyrightAttributionInfoIcon.react",["ix","cx","fbt","Image.react","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIGrayText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){"use strict";var n=j._("Your attribution will appear below videos that match your reference files. You can direct viewers to the original video, a related video, or your Page.");return c("React").createElement("div",null,c("React").createElement("div",{className:this.props.className,ref:"infoIcon"},c("React").createElement(c("Image.react"),{src:h("134353")})),c("React").createElement(c("XUIContextualDialog.react"),{autoFocus:false,contextRef:function(){return this.refs.infoIcon}.bind(this),hoverContextRef:function(){return this.refs.infoIcon}.bind(this),label:n,position:"left",width:c("XUIContextualDialog.react").WIDTH.NORMAL},c("React").createElement(c("XUIContextualDialogBody.react"),null,c("React").createElement(c("XUIGrayText.react"),{className:"_2phz",display:"block"},n))))};function m(){"use strict";k.apply(this,arguments)}f.exports=m}),null);
__d("XVideoCopyrightAttributionFieldValidationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/copyright/attribution/field_validation/",{attribution_id:{type:"FBID"},url:{type:"String"},attribution_type:{type:"Enum",enumType:1},title:{type:"String"}})}),null);
__d("CopyrightAttributionDialog.react",["cx","fbt","ix","ActorURI","AsyncRequest","CopyrightAttributionTypeComponent.react","FormRowTextInput.react","GraphAPI","Image.react","LeftRight.react","MediaCopyrightAttributionGraphFields","MediaCopyrightAttributionType","PageContentTabAccessToken","PageContentTabConstants","PageContentTabDispatcher","PageContentTabLoadingDialog","PageContentTabLogger","PageContentTabLoggingEvents","React","SUIAnalyticsGriffinTheme","SUIToggle.react","VideoCopyrightAttributionInfoIcon.react","VideoCopyrightMatchActionTypes","VideoCopyrightUtils","XUIButton.react","XUICardSection.react","XUIDialog.react","XUIDialogTitle.react","XVideoCopyrightAttributionFieldValidationController"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=500,n=c("PageContentTabConstants").TABS;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){"use strict";__p&&__p();l.constructor.call(this,p);this.$CopyrightAttributionDialog3=function(q){this.setState({selectedType:q},function(){return this.$CopyrightAttributionDialog4(this.state.attributionURL)}.bind(this))}.bind(this);this.$CopyrightAttributionDialog11=function(q){this.setState({attributionName:q});if(this.$CopyrightAttributionDialog2!=null)clearTimeout(this.$CopyrightAttributionDialog2);this.$CopyrightAttributionDialog2=setTimeout(function(){this.$CopyrightAttributionDialog5(q);this.$CopyrightAttributionDialog2=null}.bind(this),m)}.bind(this);this.$CopyrightAttributionDialog12=function(q){this.setState({linkTitle:q})}.bind(this);this.$CopyrightAttributionDialog13=function(q){this.setState({attributionURL:q});if(this.$CopyrightAttributionDialog1!=null)clearTimeout(this.$CopyrightAttributionDialog1);this.$CopyrightAttributionDialog1=setTimeout(function(){this.$CopyrightAttributionDialog4(q);this.$CopyrightAttributionDialog1=null}.bind(this),m)}.bind(this);this.onChangeStatus=function(){this.setState({isEnabled:!this.state.isEnabled})}.bind(this);this.state=this.getInitialState(p)}o.prototype.componentWillReceiveProps=function(p){"use strict";this.setState(this.getInitialState(p))};o.prototype.getInitialState=function(p){"use strict";return{selectedType:p.attributionType,attributionURL:p.attributionURL,attributionName:p.attributionName,linkTitle:p.linkTitle,linkTitlePlaceholder:null,isEnabled:!!p.isEnabled,isValidating:false,attributionTargetID:p.attributionTargetID,hasTitleError:false,hasURLError:false,didSubmit:false,shown:p.shown}};o.prototype.$CopyrightAttributionDialog4=function(p){"use strict";if(p.length===0)return;this.setState({isValidating:true});var q=c("ActorURI").create(c("XVideoCopyrightAttributionFieldValidationController").getURIBuilder().setString("url",p).setEnum("attribution_type",this.state.selectedType).getURI(),this.props.pageID);new(c("AsyncRequest"))().setURI(q).setHandler(function(r){var s=r.payload.attribution_target_id;this.setState({attributionTargetID:s,hasURLError:!s,isValidating:false,linkTitlePlaceholder:r.payload.video_title})}.bind(this)).send()};o.prototype.$CopyrightAttributionDialog5=function(p){"use strict";if(p.length===0)return;this.setState({isValidating:true});var q=c("ActorURI").create(c("XVideoCopyrightAttributionFieldValidationController").getURIBuilder().setFBID("attribution_id",this.props.attributionID).setString("title",p).getURI(),this.props.pageID);new(c("AsyncRequest"))().setURI(q).setHandler(function(r){var s=r.payload.is_title_valid;this.setState({hasTitleError:!s,isValidating:false})}.bind(this)).send()};o.prototype.$CopyrightAttributionDialog6=function(){"use strict";var p=this.$CopyrightAttributionDialog7();return this.state.attributionName.trim().length===0||this.state.attributionURL.length===0||this.state.attributionType===c("MediaCopyrightAttributionType").VIDEO&&!!p&&p.length===0};o.prototype.$CopyrightAttributionDialog8=function(){"use strict";return this.$CopyrightAttributionDialog6()||this.state.isValidating||this.state.hasTitleError||this.state.hasURLError};o.prototype.$CopyrightAttributionDialog9=function(){"use strict";if(this.state.hasTitleError)return i._("This title has already been used.");return null};o.prototype.$CopyrightAttributionDialog10=function(){"use strict";if(this.state.hasURLError)return i._("The URL provided is invalid.");return null};o.prototype.$CopyrightAttributionDialog7=function(){"use strict";if(this.state.selectedType===c("MediaCopyrightAttributionType").PAGE)return null;return this.state.linkTitle&&this.state.linkTitle.length>0?this.state.linkTitle:this.state.linkTitlePlaceholder};o.prototype.$CopyrightAttributionDialog14=function(){"use strict";__p&&__p();var p=!this.props.attributionID?i._("Create Attribution"):i._("Done");return c("React").createElement(c("XUICardSection.react"),{background:"light-wash",className:"_1biv"},c("React").createElement(c("XUIButton.react"),{className:"_1biw",label:p,onClick:function(){__p&&__p();var q=this.props.attributionID;c("PageContentTabLoadingDialog").show();var r={};r[c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_URL]=this.state.attributionURL;r[c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_TYPE]=this.state.selectedType;r[c("MediaCopyrightAttributionGraphFields").TITLE]=this.state.attributionName;r[c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_TARGET_ID]=this.state.attributionTargetID;r[c("MediaCopyrightAttributionGraphFields").IS_ENABLED]=this.state.isEnabled;r[c("MediaCopyrightAttributionGraphFields").LINK_TITLE]=this.$CopyrightAttributionDialog7();var s=void 0;if(!q)s=c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",this.props.pageID).edge("media_copyright_attributions");else s=c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("media_copyright_attribution",q);var t=this.props.accessToken?this.props.accessToken:c("PageContentTabAccessToken").getAccessToken();s.post(babelHelpers["extends"]({},r,{access_token:t})).done(function(u){c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("media_copyright_attribution",q||u.id).get({fields:c("VideoCopyrightUtils").getCopyrightAttributionGraphAPIFields(),access_token:t}).done(function(v){if(q)c("PageContentTabDispatcher").handlePostChanged(v,c("PageContentTabConstants").TABS.ATTRIBUTIONS,this.props.pageID);else c("PageContentTabDispatcher").handlePostCreated(c("PageContentTabConstants").TABS.ATTRIBUTIONS,v,this.props.pageID);c("PageContentTabLoadingDialog").hide();this.setState({didSubmit:true},this.$CopyrightAttributionDialog15)}.bind(this))}.bind(this))}.bind(this),use:"confirm",disabled:this.$CopyrightAttributionDialog8()}),c("React").createElement(c("XUIButton.react"),{className:"_1biw",label:i._("Cancel"),onClick:function(){this.maybeLogExitCreation();this.$CopyrightAttributionDialog15()}.bind(this)}))};o.prototype.$CopyrightAttributionDialog15=function(){"use strict";this.setState({shown:false});this.props.onClose&&this.props.onClose(this.state.didSubmit)};o.prototype.maybeLogExitCreation=function(){"use strict";if(this.props.attributionID||this.state.didSubmit)return;c("PageContentTabLogger").log(c("PageContentTabLoggingEvents").ACTION_TAKEN_MAIN_VIEW,n.ATTRIBUTIONS,{action:c("VideoCopyrightMatchActionTypes").ATTRIBUTION_CREATION_CANCELLED})};o.prototype.render=function(){"use strict";var p=c("React").createElement("div",null,i._("Set up attributions to get credit for videos that contain your content. Once you assign an attribution to a reference file, a link to your video or Page will appear on every monitored video that includes your content.")),q=this.state.selectedType===c("MediaCopyrightAttributionType").VIDEO?c("React").createElement(c("Image.react"),{src:j("395928"),className:"_1bix"}):c("React").createElement(c("Image.react"),{src:j("395927"),className:"_1bix"}),r=!this.props.attributionID?i._("Create attribution"):i._("Edit attribution"),s=this.props.attributionID?c("React").createElement("div",{className:"_1bj1"},c("React").createElement("div",{className:"__88"},i._("Status")),c("React").createElement(c("SUIToggle.react"),{className:"__88",onClick:this.onChangeStatus,value:this.state.isEnabled,theme:c("SUIAnalyticsGriffinTheme")})):null,t=this.state.selectedType===c("MediaCopyrightAttributionType").VIDEO?c("React").createElement(c("FormRowTextInput.react"),{label:i._("Link Title"),tooltip:i._("The link title will be displayed in the attribution. It will link to your video post or Page."),placeholder:this.state.linkTitlePlaceholder||i._("Enter a link title..."),onChange:this.$CopyrightAttributionDialog12,value:this.state.linkTitle}):null;return c("React").createElement(c("XUIDialog.react"),{width:806,height:538,shown:this.state.shown,onToggle:function(u){if(!u){this.maybeLogExitCreation();this.$CopyrightAttributionDialog15()}}.bind(this),titleID:"main panel"},c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement("span",null,r)),c("React").createElement(c("LeftRight.react"),{direction:"right",className:"_1biy"},c("React").createElement("div",{className:"_1biz"},p,s,c("React").createElement("div",{className:"_2qii"},i._("Select an attribution type")),c("React").createElement("div",{className:"_1bj1 _1bj2"},c("React").createElement(c("CopyrightAttributionTypeComponent.react"),{attribution_type:c("MediaCopyrightAttributionType").PAGE,isSelected:this.state.selectedType===c("MediaCopyrightAttributionType").PAGE,onSelectionChanged:this.$CopyrightAttributionDialog3}),c("React").createElement(c("CopyrightAttributionTypeComponent.react"),{attribution_type:c("MediaCopyrightAttributionType").VIDEO,isSelected:this.state.selectedType===c("MediaCopyrightAttributionType").VIDEO,onSelectionChanged:this.$CopyrightAttributionDialog3})),c("React").createElement(c("FormRowTextInput.react"),{errorMessage:this.$CopyrightAttributionDialog9(),label:i._("Attribution Name"),tooltip:i._("Only you will see this title. It is for you to organize your attributions."),placeholder:i._("Enter an attribution name..."),onChange:this.$CopyrightAttributionDialog11,value:this.state.attributionName}),c("React").createElement(c("FormRowTextInput.react"),{errorMessage:this.$CopyrightAttributionDialog10(),label:this.state.selectedType===c("MediaCopyrightAttributionType").PAGE?i._("Page URL"):i._("Video Post URL"),tooltip:i._("This URL is the video post or Page you choose for the destination of your attribution."),placeholder:i._("http:\/\/"),onChange:this.$CopyrightAttributionDialog13,value:this.state.attributionURL}),t),c("React").createElement("div",{className:"_1bj3"},c("React").createElement("div",{className:"_1bj4"},i._("How attributions will appear in News Feed:")),q,c("React").createElement(c("VideoCopyrightAttributionInfoIcon.react"),{className:"_1bis"}))),this.$CopyrightAttributionDialog14())};o.defaultProps={attributionName:"",attributionURL:"",attributionType:c("MediaCopyrightAttributionType").PAGE,isEnabled:true};f.exports=o}),null);
__d("VideoCopyrightAttributionSelector.react",["cx","fbt","AdsSelectorWithTooltips.react","CopyrightAttributionDialog.react","GraphAPI","Link.react","LoadingIndicator.react","MediaCopyrightAttributionGraphFields","MediaCopyrightAttributionType","PageContentTabAccessToken","PageContentTabRightsManagerStore","React","VideoCopyrightUtils","XUIText.react","formatDate","keyMirror","parseISODate"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("keyMirror")({CREATE:null,DEFAULT:null}),m={id:l.CREATE,title:i._("Create new attribution..."),is_enabled:true},n=30;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={attributions:[],isLoading:true,isAttributionDialogShown:false},this.$VideoCopyrightAttributionSelector9=function(u){if(u){this.setState({isLoading:true,isAttributionDialogShown:false},function(){return this.$VideoCopyrightAttributionSelector3(true)}.bind(this));return}this.setState({isAttributionDialogShown:false})}.bind(this),q}o.prototype.componentWillMount=function(){"use strict";this.$VideoCopyrightAttributionSelector1=true;if(c("PageContentTabRightsManagerStore").getIsRMLite())this.$VideoCopyrightAttributionSelector2();else this.$VideoCopyrightAttributionSelector3()};o.prototype.componentWillUnmount=function(){"use strict";this.$VideoCopyrightAttributionSelector1=false};o.prototype.$VideoCopyrightAttributionSelector4=function(){"use strict";var p=this.props.selectedAttribution;return this.state.attributions.some(function(q){return p==q.id})?p:null};o.prototype.$VideoCopyrightAttributionSelector3=function(p){"use strict";__p&&__p();var q=this.props.accessToken?this.props.accessToken:c("PageContentTabAccessToken").getAccessToken();c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",this.props.pageID).edge("media_copyright_attributions").get({access_token:q,fields:[c("MediaCopyrightAttributionGraphFields").TITLE,c("MediaCopyrightAttributionGraphFields").IS_ENABLED,c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_TYPE,c("MediaCopyrightAttributionGraphFields").CREATION_TIME,c("MediaCopyrightAttributionGraphFields").COPYRIGHT_COUNT]}).done(function(r){if(!this.$VideoCopyrightAttributionSelector1)return;var s=r.data,t=!Array.isArray(s)||!s.length?[]:s;this.setState({isLoading:false,attributions:t},function(){if(p&&t.length>1)this.$VideoCopyrightAttributionSelector5(t[0].id);else if(this.props.selectedAttribution)this.$VideoCopyrightAttributionSelector5(this.props.selectedAttribution)}.bind(this));this.props.onAttributionLoaded&&this.props.onAttributionLoaded()}.bind(this))};o.prototype.$VideoCopyrightAttributionSelector2=function(){"use strict";__p&&__p();c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).me().edge("accounts").get({access_token:c("PageContentTabRightsManagerStore").getUserAccessToken(),is_promotable:true,fields:["name"]}).done(function(p){__p&&__p();if(!this.$VideoCopyrightAttributionSelector1)return;var q=p.data.map(function(t){return{id:t.id,title:t.name,is_enabled:true}}),r=this.props.selectedAttribution,s=q.some(function(t){return t.id===r});if(r&&!s)c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",r).get({is_promotable:true,fields:["name"]}).done(function(p){q.push({id:p.id,title:p.name,is_enabled:true});this.setState({attributions:q,isLoading:false})}.bind(this));else this.setState({attributions:q,isLoading:false})}.bind(this))};o.prototype.$VideoCopyrightAttributionSelector5=function(p){"use strict";__p&&__p();var q=void 0,r=void 0;if(p===l.CREATE){this.$VideoCopyrightAttributionSelector6();return}else if(p===l.DEFAULT)q=null;else{q=p;r=this.state.attributions.find(function(r){return r.id===p})}var s=this.$VideoCopyrightAttributionSelector4();if(q!==s)this.props.onChange(q,r)};o.prototype.$VideoCopyrightAttributionSelector7=function(event){"use strict";this.$VideoCopyrightAttributionSelector5(event.value)};o.prototype.$VideoCopyrightAttributionSelector8=function(p){"use strict";if(p&&p[c("MediaCopyrightAttributionGraphFields").CREATION_TIME]&&p[c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_TYPE]){var q=p[c("MediaCopyrightAttributionGraphFields").CREATION_TIME],r=q?c("formatDate")(c("parseISODate")(q),"M j, Y"):"-",s=p[c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_TYPE]===c("MediaCopyrightAttributionType").PAGE?i._("Follow"):i._("Link");return c("React").createElement("div",{className:"_2pi8 _2pic _2pin"},c("React").createElement("div",null,i._("{=Type}: {attribution type}",[i.param("=Type",c("React").createElement("b",null,i._("Type"))),i.param("attribution type",s)])),c("React").createElement("div",null,i._("{=Created}: {creation date}",[i.param("=Created",c("React").createElement("b",null,i._("Created"))),i.param("creation date",r)])),c("React").createElement("div",{className:"_3-8-"},c("React").createElement("li",null,i._({"*":"{number} connected reference files","_1":"1 connected reference file"},[i.plural(p[c("MediaCopyrightAttributionGraphFields").COPYRIGHT_COUNT]||0,"number")]))))}return null};o.prototype.$VideoCopyrightAttributionSelector6=function(){"use strict";this.setState({isAttributionDialogShown:true})};o.prototype.render=function(){"use strict";__p&&__p();if(this.state.isLoading)return c("React").createElement(c("LoadingIndicator.react"),{size:"small",color:"white"});var p=c("PageContentTabRightsManagerStore").getIsRMLite()?i._("Choose Page"):i._("Select attribution"),q={id:l.DEFAULT,title:p,is_enabled:true},r=[q].concat(this.state.attributions),s=void 0;if(!c("PageContentTabRightsManagerStore").getIsRMLite())if(this.props.showCreateNewLink)s=c("React").createElement(c("Link.react"),{onClick:function(){return this.$VideoCopyrightAttributionSelector5(l.CREATE)}.bind(this)},c("React").createElement(c("XUIText.react"),{className:"_2pis",size:"meta1",weight:"bold"},i._("Create New")));else r.push(m);var t=this.$VideoCopyrightAttributionSelector4()||l.DEFAULT,u=r.map(function(v){var w=v[c("MediaCopyrightAttributionGraphFields").TITLE];if(w.toString().length>n)w=w.toString().substring(0,n)+"...";return c("React").createElement(c("AdsSelectorWithTooltips.react").Option,{key:v[c("MediaCopyrightAttributionGraphFields").ID],value:v[c("MediaCopyrightAttributionGraphFields").ID],tooltip:c("PageContentTabRightsManagerStore").getIsRMLite()?null:this.$VideoCopyrightAttributionSelector8(v),disabled:!v[c("MediaCopyrightAttributionGraphFields").IS_ENABLED]},w)}.bind(this));return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("AdsSelectorWithTooltips.react"),{disabled:this.props.disabled,onChange:this.$VideoCopyrightAttributionSelector7.bind(this),value:t,defaultValue:l.DEFAULT,maxheight:400,xuiError:this.props.hasError?i._("Your reference file must have a title in order to apply an attribution."):null},u),s,this.state.isAttributionDialogShown&&c("React").createElement(c("CopyrightAttributionDialog.react"),{onClose:this.$VideoCopyrightAttributionSelector9,pageID:this.props.pageID,accessToken:this.props.accessToken,shown:this.state.isAttributionDialogShown}))};f.exports=o}),null);
__d("VideoCopyrightWhitelistSelector.react",["fbt","CurrentUser","React","SearchableEntry","WebAsyncSearchSource","XUITokenizer.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){"use strict";__p&&__p();j.constructor.call(this,l);this.$VideoCopyrightWhitelistSelector2=function(m){var n=this.props.entries;n.push({id:m.getUniqueID().toString(),name:m.getTitle()});this.props.onEntriesUpdated(n)}.bind(this);this.$VideoCopyrightWhitelistSelector3=function(m){var n=this.props.entries;n=n.filter(function(o){return o.id!=m.getUniqueID().toString()});this.props.onEntriesUpdated(n)}.bind(this);this.state={entries:[],searchSource:new(c("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/search.php",data:{filter:["user","page"],viewer:c("CurrentUser").getID()}}]})}}k.prototype.componentWillMount=function(){"use strict";this.$VideoCopyrightWhitelistSelector1(this.props.entries||[])};k.prototype.componentWillReceiveProps=function(l){"use strict";this.$VideoCopyrightWhitelistSelector1(l.entries||[])};k.prototype.$VideoCopyrightWhitelistSelector1=function(l){"use strict";var m=l.map(function(n,o){return new(c("SearchableEntry"))({order:o,title:n.name,uniqueID:n.id})});this.setState({entries:m})};k.prototype.render=function(){"use strict";return c("React").createElement(c("XUITokenizer.react"),{className:this.props.className,entries:this.state.entries,onAddEntryAttempt:this.$VideoCopyrightWhitelistSelector2,onRemoveEntryAttempt:this.$VideoCopyrightWhitelistSelector3,placeholder:this.props.disabled?null:h._("Add Page or person"),searchSource:this.state.searchSource,xuiError:this.props.error,disabled:this.props.disabled})};f.exports=k}),null);
__d("VideoCopyrightWhitelistSection.react",["cx","fbt","React","VideoCopyrightWhitelistedIGUserList.react","VideoCopyrightWhitelistSelector.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_kmg"},i._("Facebook")),c("React").createElement(c("VideoCopyrightWhitelistSelector.react"),{className:"_64ut",onEntriesUpdated:this.props.onFBWhitelistUpdated,placeholder:i._("Add Page or person"),entries:this.props.whitelistedFBUsers,disabled:this.props.disabled}),c("React").createElement("div",{className:"_kmg"},i._("Instagram")),c("React").createElement(c("VideoCopyrightWhitelistedIGUserList.react"),{pageID:this.props.pageID,disabled:this.props.disabled,whitelistedIGUserNames:this.props.whitelistedIGUserNames||[],onIGWhitelistUpdated:this.props.onIGWhitelistUpdated}))};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogRightsSection.react",["cx","fbt","CopyrightCountrySelector.react","CopyrightReferenceCategorySelector.react","PageContentTabRightsManagerStore","React","VideoComposerDialogField.react","VideoComposerDialogRadioButton.react","VideoComposerDialogRightsActions","VideoCopyrightAttributionSelector.react","VideoCopyrightMatchRuleSelector.react","VideoCopyrightMonitoringSelector.react","VideoCopyrightRuleTemplateBlankSelectDialog","VideoCopyrightWhitelistSection.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogRightsSection9=function(){c("VideoCopyrightRuleTemplateBlankSelectDialog").show(this.props.targetID,this.props.accessToken)}.bind(this),n}l.prototype.$VideoComposerDialogRightsSection1=function(m){c("VideoComposerDialogRightsActions").updateShouldDetectMatches(m)};l.prototype.$VideoComposerDialogRightsSection2=function(m){c("VideoComposerDialogRightsActions").updateMatchRule(m)};l.prototype.$VideoComposerDialogRightsSection3=function(m){c("VideoComposerDialogRightsActions").updateCategory(m)};l.prototype.$VideoComposerDialogRightsSection4=function(event){c("VideoComposerDialogRightsActions").updateMonitoringType(event.value)};l.prototype.$VideoComposerDialogRightsSection5=function(m,n){c("VideoComposerDialogRightsActions").updateOwnershipCountries(m.slice(),n)};l.prototype.$VideoComposerDialogRightsSection6=function(m){c("VideoComposerDialogRightsActions").updateAttribution(m)};l.prototype.$VideoComposerDialogRightsSection7=function(m){c("VideoComposerDialogRightsActions").updateFBWhitelistedUsers(m.slice())};l.prototype.$VideoComposerDialogRightsSection8=function(m){c("VideoComposerDialogRightsActions").updateIGWhitelistedUsers(m.slice())};l.prototype.render=function(){var m=void 0;if(this.props.showAttributionSelector)m=c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Apply attribution"),tooltip:i._("Attribution is for matching videos connected to your Monitor match rules. Attribution is added to matching content on Facebook. Reference files can only be connected to one Attribution."),input:c("React").createElement(c("VideoCopyrightAttributionSelector.react"),{accessToken:this.props.accessToken,disabled:!this.props.shouldDetectMatches,onChange:this.$VideoComposerDialogRightsSection6,pageID:this.props.targetID,selectedAttribution:this.props.attributionID})});return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogField.react"),{showTopBorder:false,title:i._("Monitor rights"),subtitle:i._("Choose whether you would like to monitor rights to this video"),input:c("React").createElement("div",{className:"_2j6t"},c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:this.props.shouldDetectMatches,label:i._("Yes"),onSelect:function(){return this.$VideoComposerDialogRightsSection1(true)}.bind(this)}),c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:!this.props.shouldDetectMatches,label:i._("No"),onSelect:function(){return this.$VideoComposerDialogRightsSection1(false)}.bind(this)}))}),c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Specify ownership"),subtitle:i._("Which parts of the video do you own and where"),tooltip:i._("Ownership establishes which elements of the content belong to you in which parts of the world"),input:c("React").createElement("div",null,c("React").createElement("div",{className:"_1z3m"},i._("Monitored content")),c("React").createElement(c("VideoCopyrightMonitoringSelector.react"),{disabled:!this.props.shouldDetectMatches,onChange:this.$VideoComposerDialogRightsSection4,value:this.props.monitoringType}),c("React").createElement("div",{className:"_1z3m _3-8y"},i._("Geography")),c("React").createElement(c("CopyrightCountrySelector.react"),{areCountriesIncluded:this.props.areCountriesIncluded,disabled:!this.props.shouldDetectMatches,enableExcludedCountries:true,onChange:this.$VideoComposerDialogRightsSection5,previewCharLimit:100,selectedCountries:this.props.ownershipCountries}))}),c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Select media category"),tooltip:i._("You must specify what type of format the content in your reference file appears in for tax purposes before you can receive any ad earnings. This selection can't be undone after you've saved it."),input:c("React").createElement(c("CopyrightReferenceCategorySelector.react"),{className:"_2j6u",disabled:!this.props.shouldDetectMatches,hideTitleAndTooltip:true,onReferenceCategoryChange:this.$VideoComposerDialogRightsSection3,selectedCategory:this.props.category,showCategoryRequiredError:this.props.showCategoryRequiredError})}),c("PageContentTabRightsManagerStore").getIsRMLite()?null:c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Apply match rule"),tooltip:i._("Select which rule to apply to matching content"),input:c("React").createElement(c("VideoCopyrightMatchRuleSelector.react"),{accessToken:this.props.accessToken,disabled:!this.props.shouldDetectMatches,onChange:this.$VideoComposerDialogRightsSection2,onCreateNewRule:this.$VideoComposerDialogRightsSection9,pageID:this.props.targetID,selectedRule:this.props.matchRuleID})}),m,c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Grant permissions"),tooltip:i._("Grant permission to any Page or person on Facebook to upload videos that contain this one."),input:c("React").createElement(c("VideoCopyrightWhitelistSection.react"),{disabled:!this.props.shouldDetectMatches,pageID:this.props.targetID,canSeeIGMatches:this.props.isIgRightsManagementEnabled,onFBWhitelistUpdated:this.$VideoComposerDialogRightsSection7,onIGWhitelistUpdated:this.$VideoComposerDialogRightsSection8,whitelistedIGUserNames:this.props.igWhitelistedUsers,whitelistedFBUsers:this.props.fbWhitelistedUsers})}))};f.exports=l}),null);
__d("VideoComposerDialogRightsContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogRightsSection.react","VideoComposerDialogRightsStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogRightsStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogRightsStore").getState(),l=k.attributionID,m=k.category,n=k.fbWhitelistedUsers,o=k.igWhitelistedUsers,p=k.isIgRightsManagementEnabled,q=k.matchRuleID,r=k.monitoringType,s=k.ownershipCountries,t=k.areCountriesIncluded,u=k.shouldDetectMatches,v=k.showAttributionSelector,w=k.showCategoryRequiredError,x=c("VideoComposerDialogMetadataStore").getState(),y=x.accessToken,z=x.targetID;return{accessToken:y,areCountriesIncluded:t,attributionID:l,category:m,fbWhitelistedUsers:n,igWhitelistedUsers:o,isIgRightsManagementEnabled:p,matchRuleID:q,monitoringType:r,ownershipCountries:s,shouldDetectMatches:u,showAttributionSelector:v,showCategoryRequiredError:w,targetID:z?z:""}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogRightsSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogRightsTabCustomDescription.react",["fbt","React","VideoCopyrightMonitoringType"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){if(!j.shouldDetectMatches)return h._("This video is not being monitored for rights and matching uploads.");var k=void 0;if(j.ownershipCountries&&j.ownershipCountries.length>0)if(j.areCountriesIncluded)return h._({"audio":{"*":"Monitoring for audio rights in {number} territories","_1":"Monitoring for audio rights in 1 territory"},"video":{"*":"Monitoring for video rights in {number} territories","_1":"Monitoring for video rights in 1 territory"},"video and audio":{"*":"Monitoring for video and audio rights in {number} territories","_1":"Monitoring for video and audio rights in 1 territory"}},[h["enum"](j.monitoringType===c("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value?"video and audio":j.monitoringType===c("VideoCopyrightMonitoringType").VIDEO_ONLY.value?"video":"audio",{audio:"audio",video:"video","video and audio":"video and audio"}),h.plural(j.ownershipCountries.length,"number")]);else return h._({"audio":{"*":"Monitoring for audio rights worldwide, except for {number} territories","_1":"Monitoring for audio rights worldwide, except for 1 territory"},"video":{"*":"Monitoring for video rights worldwide, except for {number} territories","_1":"Monitoring for video rights worldwide, except for 1 territory"},"video and audio":{"*":"Monitoring for video and audio rights worldwide, except for {number} territories","_1":"Monitoring for video and audio rights worldwide, except for 1 territory"}},[h["enum"](j.monitoringType===c("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value?"video and audio":j.monitoringType===c("VideoCopyrightMonitoringType").VIDEO_ONLY.value?"video":"audio",{audio:"audio",video:"video","video and audio":"video and audio"}),h.plural(j.ownershipCountries.length,"number")]);else return h._({"audio":"Monitoring for audio rights worldwide","video":"Monitoring for video rights worldwide","video and audio":"Monitoring for video and audio rights worldwide"},[h["enum"](j.monitoringType===c("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value?"video and audio":j.monitoringType===c("VideoCopyrightMonitoringType").VIDEO_ONLY.value?"video":"audio",{audio:"audio",video:"video","video and audio":"video and audio"})])}f.exports=i}),null);
__d("VideoComposerDialogRightsTabContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogRightsTabCustomDescription.react","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogRightsStore","VideoComposerDialogRightsTabConfig","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogRightsStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab,m=c("VideoComposerDialogMetadataStore").getState(),n=m.showRightsTab,o=c("VideoComposerDialogRightsStore").getState(),p=o.areCountriesIncluded,q=o.monitoringType,r=o.shouldDetectMatches,s=o.ownershipCountries;return{areCountriesIncluded:p,isSelected:l===c("VideoComposerDialogTab").RIGHTS,isVisible:n,monitoringType:q,shouldDetectMatches:r,ownershipCountries:s}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogRightsStore")])};j.prototype.render=function(){var k=this.state,l=k.isSelected,m=k.isVisible,n=babelHelpers.objectWithoutProperties(k,["isSelected","isVisible"]);if(!m)return null;return c("React").createElement(c("VideoComposerDialogTabItem.react"),{customDescription:c("React").createElement(c("VideoComposerDialogRightsTabCustomDescription.react"),n),isSelected:l,tabConfig:c("VideoComposerDialogRightsTabConfig")})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogRootContainer.react",["cx","EventListener","FluxContainer","PagesSettingsInstreamAdsBlockListContentStore","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListStore","React","ReactDOM","VideoComposerDialogActions","VideoComposerDialogAdBreakStore","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionsStore","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogPublishingStore","VideoComposerDialogRoot.react","VideoComposerDialogThumbnailsStore","VideoComposerDialogUIStore","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogRootContainer1=null,m}k.getStores=function(){return[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogPublishingStore"),c("VideoComposerDialogUIStore"),c("VideoComposerDialogUploadStore")]};k.calculateState=function(){var l=c("VideoComposerDialogUIStore").getState(),m=l.dialogShown,n=l.showExitConfirmDialog,o=c("VideoComposerDialogMetadataStore").getState(),p=o.dialogMode,q=o.title,r=c("VideoComposerDialogPublishingStore").getState(),s=r.errorMessage,t=c("VideoComposerDialogUploadStore").getState(),u=t.videoFile;return{dialogMode:p,showExitConfirmDialog:n,shown:m,showSaveDraftButton:!!q&&s===null,videoFile:u}};k.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([].concat(k.getStores(),[c("VideoComposerDialogAdBreakStore"),c("VideoComposerDialogCaptionEditorStore"),c("VideoComposerDialogCaptionsStore"),c("VideoComposerDialogThumbnailsStore")]));c("PagesSettingsInstreamAdsBlockListDispatcher").explicitlyRegisterStores([c("PagesSettingsInstreamAdsBlockListContentStore"),c("PagesSettingsInstreamAdsBlockListStore")])};k.prototype.componentDidMount=function(){if(this.state.videoFile)this.$VideoComposerDialogRootContainer2(this.state.videoFile)};k.prototype.componentWillUpdate=function(l,m){var n=m.videoFile;if(n&&this.state.videoFile!==n)this.$VideoComposerDialogRootContainer2(n)};k.prototype.$VideoComposerDialogRootContainer2=function(l){var m=b.URL.createObjectURL(l),n=void 0,o=c("React").createElement("video",{ref:function p(q){return n=q},className:"_3hni",src:m});c("ReactDOM").render(o,this.$VideoComposerDialogRootContainer1,function(){if(n)c("EventListener").listen(n,"loadedmetadata",function(){return n&&c("VideoComposerDialogActions").metadataLoadedFromHTMLPlayer(n)})})};k.prototype.$VideoComposerDialogRootContainer3=function(){c("VideoComposerDialogActions").exitDialogAttempt()};k.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{ref:function(l){return this.$VideoComposerDialogRootContainer1=l}.bind(this)}),c("React").createElement(c("VideoComposerDialogRoot.react"),babelHelpers["extends"]({onCloseButtonClick:this.$VideoComposerDialogRootContainer3},this.state)))};f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogTabSectionContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogTabSection.react","VideoComposerDialogUIStore","VideoComposerDialogVideoTypeConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){c("VideoComposerDialogUIStore").getState();var k=c("VideoComposerDialogMetadataStore").getState(),l=k.videoType,m=k.showCaptionsTab,n=c("VideoComposerDialogVideoTypeConfig").typeConfig[l].displayedTabs;n=n.filter(function(o){return!(o==="captions"&&!m)});return{displayedTabs:n}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogThumbnailImage.react",["ix","cx","BackgroundImage.react","Image.react","React","VideoComposerDialogConstants","asset","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_uy-",this.props.className)},c("React").createElement(c("BackgroundImage.react"),{className:"_uy_"+(this.props.isSelected?" _uz0":"")+(this.props.isSelectable?" _1pl9":"")+(this.props.isSelectable&&!this.props.isSelected?" _1plb":""),width:this.props.width?this.props.width:c("VideoComposerDialogConstants").THUMBNAIL_WIDTH,height:this.props.height?this.props.height:c("VideoComposerDialogConstants").THUMBNAIL_HEIGHT,backgroundSize:"contain",src:this.props.imageURL}),this.props.isSelected?c("React").createElement("div",{className:"_uz1"},c("React").createElement(c("Image.react"),{className:"_uz2",src:h("393776")})):c("React").createElement("div",null))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogThumbnailTitleComponent.react",["cx","Image.react","LeftRight.react","React","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",{className:"_2onq"},c("React").createElement(c("Image.react"),{className:"_2ons _3-90",src:this.props.image}),c("React").createElement("div",{className:"_2ont"},this.props.isSelected?c("React").createElement(c("XUIText.react"),{className:"_3-94",display:"block",size:"meta1",weight:"bold"},this.props.title):c("React").createElement(c("XUIGrayText.react"),{className:"_3-94",display:"block",size:"meta1",weight:"bold"},this.props.title),c("React").createElement(c("XUIGrayText.react"),{size:"meta1"},this.props.subTitle))),this.props.rightComponent)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCustomThumbnailSection.react",["ix","cx","fbt","FileInput.react","FileVideoThumbnail","React","VideoComposerDialogThumbnailImage.react","VideoComposerDialogThumbnailTitleComponent.react","XUIButton.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=this.props.customThumbnail,o=j._("Change Image");return c("React").createElement("div",{className:"_1jiv _3-8y"+(this.props.isSelected?" _1jiw":"")+(!this.props.isSelected?" _1jix":"")},c("React").createElement(c("VideoComposerDialogThumbnailTitleComponent.react"),{title:j._("Custom image"),subTitle:j._("Upload a high-resolution image that best represents your video."),isSelected:this.props.isSelected,image:this.props.isSelected?h("416790"):h("416798"),rightComponent:c("React").createElement(c("FileInput.react"),{accept:"image/*",onChange:this.props.onCustomImageInput},c("React").createElement(c("XUIButton.react"),{className:"_654r"+(!this.props.isSelected?" _1jiz":""),href:"#",size:"large",label:n!==null?o:j._("Add Image")}))}),this.props.isSelected&&n?c("React").createElement(c("VideoComposerDialogThumbnailImage.react"),{className:"_3-8-",imageURL:n.getURL(),isSelected:true}):null)};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogThumbnailSlider.react",["cx","React","ShimButton.react","VideoComposerDialogConstants","VideoComposerDialogThumbnailActions","VideoComposerDialogThumbnailImage.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=22,l=12,m=3,n=635;i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;o.prototype.$VideoComposerDialogThumbnailSlider1=function(){var p=l+c("VideoComposerDialogConstants").THUMBNAIL_WIDTH,q=p*m,r=(n-(l+q))/2,s=k+c("VideoComposerDialogConstants").THUMBNAIL_WIDTH-r,t=l+c("VideoComposerDialogConstants").THUMBNAIL_WIDTH,u=t-(c("VideoComposerDialogConstants").THUMBNAIL_WIDTH+k-r),v=0;if(this.props.sliderIndex>=1)v=s+t*(this.props.sliderIndex-1);if(this.props.sliderIndex===this.props.thumbnails.length-m)v-=u;return v};o.prototype.$VideoComposerDialogThumbnailSlider2=function(p){c("VideoComposerDialogThumbnailActions").toggleSelectedGeneratedThumbnail(p)};o.prototype.render=function(){var p=this.props.thumbnails.map(function(q,r){return c("React").createElement(c("ShimButton.react"),{key:r,tabIndex:"-1",onClick:function(){this.$VideoComposerDialogThumbnailSlider2(r)}.bind(this)},c("React").createElement(c("VideoComposerDialogThumbnailImage.react"),{className:"_3-90",imageURL:q.getURL(),isSelected:r===this.props.selectedIndex,isSelectable:true}))}.bind(this));return c("React").createElement("div",{style:{right:this.$VideoComposerDialogThumbnailSlider1()+"px"},className:"_3bre"},p)};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d("VideoComposerDialogGeneratedThumbnailsSection.react",["ix","cx","fbt","Image.react","React","VideoComposerDialogConstants","VideoComposerDialogThumbnailSlider.react","VideoComposerDialogThumbnailTitleComponent.react","XUIButton.react","XUIButtonGroup.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=3;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={sliderIndex:0},this.$VideoComposerDialogGeneratedThumbnailsSection1=function(){if(this.state.sliderIndex>0)this.setState({sliderIndex:this.state.sliderIndex-1})}.bind(this),this.$VideoComposerDialogGeneratedThumbnailsSection2=function(){if(this.state.sliderIndex<this.props.generatedThumbnails.length-m)this.setState({sliderIndex:this.state.sliderIndex+1})}.bind(this),p}n.prototype.render=function(){return c("React").createElement("div",{className:"_1jiv _3-8-"+(this.props.isSelected?" _1jiw":"")+(!this.props.isSelected?" _1jix":"")},c("React").createElement(c("VideoComposerDialogThumbnailTitleComponent.react"),{title:j._("Auto-generated image"),subTitle:j._({"*":"Select one of these {thumbnails} images from your video."},[j.param("thumbnails",this.props.generatedThumbnails.length,[0,this.props.generatedThumbnails.length])]),isSelected:this.props.isSelected,image:this.props.isSelected?h("416777"):h("416781"),rightComponent:this.props.isSelected?c("React").createElement(c("XUIButtonGroup.react"),null,c("React").createElement(c("XUIButton.react"),{disabled:this.state.sliderIndex<=0,onClick:this.$VideoComposerDialogGeneratedThumbnailsSection1,size:"large",image:c("React").createElement(c("Image.react"),{src:h("406776")}),label:"Previous",labelIsHidden:true}),c("React").createElement(c("XUIButton.react"),{disabled:this.state.sliderIndex>=this.props.generatedThumbnails.length-m,onClick:this.$VideoComposerDialogGeneratedThumbnailsSection2,size:"large",image:c("React").createElement(c("Image.react"),{src:h("363528")}),label:"Next",labelIsHidden:true})):c("React").createElement(c("XUIButton.react"),{className:"_654r _1jiz",size:"large",label:j._("Choose Image")})}),this.props.isSelected&&this.props.generatedThumbnails.length>0?c("React").createElement(c("VideoComposerDialogThumbnailSlider.react"),{thumbnails:this.props.generatedThumbnails,selectedIndex:this.props.selectedIndex,sliderIndex:this.state.sliderIndex}):null)};f.exports=n}),null);
__d("VideoComposerDialogVideoFrameThumbnailSection.react",["ix","cx","fbt","ComposerVideoThumbnailScrubber.react","React","VideoComposerDialogThumbnailActions","VideoComposerDialogThumbnailImage.react","VideoComposerDialogThumbnailTitleComponent.react","XUIButton.react","asset","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={showThumbnailScrubberDialog:false},o}m.prototype.componentWillReceiveProps=function(n){if(!this.props.isSelected&&n.isSelected&&n.thumbnail===null)this.setState({showThumbnailScrubberDialog:true})};m.prototype.$VideoComposerDialogVideoFrameThumbnailSection1=function(n){if(n)n.then(function(o){var p=o.thumbnails;if(p.length===1)c("VideoComposerDialogThumbnailActions").updateScrubbedThumbnail(p[0])}).done()};m.prototype.render=function(){var n=this.props.thumbnail;return c("React").createElement("div",{className:"_1jiv _3-8y"+(this.props.isSelected?" _1jiw":"")+(!this.props.isSelected?" _1jix":"")},c("React").createElement(c("VideoComposerDialogThumbnailTitleComponent.react"),{title:j._("Video frame"),subTitle:j._("Choose any still frame from your video."),isSelected:this.props.isSelected,image:this.props.isSelected?h("416769"):h("416772"),rightComponent:c("React").createElement(c("XUIButton.react"),{className:"_654r"+(!this.props.isSelected?" _1jiz":""),onClick:function(){return this.setState({showThumbnailScrubberDialog:true})}.bind(this),size:"large",label:this.props.thumbnail===null?j._("Choose Frame"):j._("Change Frame")})}),this.props.isSelected&&n?c("React").createElement(c("VideoComposerDialogThumbnailImage.react"),{className:"_3-8-",imageURL:n.getURL(),isSelected:true}):null,c("React").createElement(c("ComposerVideoThumbnailScrubber.react"),{showThumbnailScrubberDialog:this.state.showThumbnailScrubberDialog,onScrubbedThumbnailSave:c("emptyFunction"),onSelectedThumbnailsFromScrubber:this.$VideoComposerDialogVideoFrameThumbnailSection1,videoURL:this.props.videoURL,pageID:this.props.actorID,scrubbedThumbnail:n?n.getTime():null,thumbnails:this.props.generatedThumbnails,closeDialog:function(){return this.setState({showThumbnailScrubberDialog:false})}.bind(this)}))};f.exports=m}),null);
__d("VideoComposerDialogThumbnailsSection.react",["cx","fbt","FileInput.react","FileVideoThumbnail","Link.react","React","ShimButton.react","VideoComposerDialogCustomThumbnailSection.react","VideoComposerDialogGeneratedThumbnailsSection.react","VideoComposerDialogThumbnailActions","VideoComposerDialogThumbnailTypes","VideoComposerDialogVideoFrameThumbnailSection.react","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogThumbnailsSection1=function(){if(this.props.selectedSection!==c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED)c("VideoComposerDialogThumbnailActions").selectThumbnailSection(c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED)}.bind(this),this.$VideoComposerDialogThumbnailsSection2=function(){if(this.props.selectedSection!==c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM&&this.props.customThumbnail!==null)c("VideoComposerDialogThumbnailActions").selectThumbnailSection(c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM)}.bind(this),this.$VideoComposerDialogThumbnailsSection4=function(){if(this.props.selectedSection!==c("VideoComposerDialogThumbnailTypes").ThumbnailSection.VIDEO_FRAME)c("VideoComposerDialogThumbnailActions").selectThumbnailSection(c("VideoComposerDialogThumbnailTypes").ThumbnailSection.VIDEO_FRAME)}.bind(this),n}l.prototype.$VideoComposerDialogThumbnailsSection3=function(event){var m=event.currentTarget.files;if(!m||m.length!==1)return;else{var n=new(c("FileVideoThumbnail"))(m[0]);c("VideoComposerDialogThumbnailActions").selectThumbnailSection(c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM);c("VideoComposerDialogThumbnailActions").updateCustomThumbnail(n)}};l.prototype.render=function(){var m=this.props.showScrubber?i._("This image will be displayed when your video isn't auto playing. You can select an auto-generated image, upload a custom image or choose a still frame from your video."):i._("This image will display when your video isn't auto playing. You can select an auto-generated image or upload a custom image.");return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_3-96",display:"block",weight:"bold"},i._("Choose a thumbnail for your video")),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},m),c("React").createElement(c("ShimButton.react"),{onClick:this.$VideoComposerDialogThumbnailsSection1},c("React").createElement(c("VideoComposerDialogGeneratedThumbnailsSection.react"),{generatedThumbnails:this.props.generatedThumbnails,isSelected:this.props.selectedSection===c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED,selectedIndex:this.props.selectedGeneratedIndex})),c("React").createElement("div",{className:"_tfr"},c("React").createElement(c("ShimButton.react"),{onClick:this.$VideoComposerDialogThumbnailsSection2},c("React").createElement(c("VideoComposerDialogCustomThumbnailSection.react"),{customThumbnail:this.props.customThumbnail,isSelected:this.props.selectedSection===c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM,onCustomImageInput:this.$VideoComposerDialogThumbnailsSection3})),this.props.customThumbnail===null?c("React").createElement(c("FileInput.react"),{containerClassName:"_654s",accept:"image/*",onChange:this.$VideoComposerDialogThumbnailsSection3},c("React").createElement(c("Link.react"),{href:"#",label:i._("Image upload")})):null),this.props.showScrubber?c("React").createElement(c("ShimButton.react"),{onClick:this.$VideoComposerDialogThumbnailsSection4},c("React").createElement(c("VideoComposerDialogVideoFrameThumbnailSection.react"),{actorID:this.props.actorID,generatedThumbnails:this.props.generatedThumbnails,isSelected:this.props.selectedSection===c("VideoComposerDialogThumbnailTypes").ThumbnailSection.VIDEO_FRAME,thumbnail:this.props.scrubbedThumbnail,videoURL:this.props.videoURL})):null)};f.exports=l}),null);
__d("VideoComposerDialogThumbnailsContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogThumbnailsSection.react","VideoComposerDialogThumbnailsStore","VideoComposerDialogThumbnailUtils","VideoComposerDialogMode","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogThumbnailsStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]};j.calculateState=function(){var k=c("VideoComposerDialogThumbnailsStore").getState(),l=k.customThumbnail,m=k.generatedThumbnails,n=k.scrubbedThumbnail,o=k.selectedGeneratedIndex,p=k.selectedSection,q=c("VideoComposerDialogUploadStore").getState(),r=q.videoFile,s=c("VideoComposerDialogMetadataStore").getState(),t=s.actorID,u=s.dialogMode;return{actorID:t?t:"",customThumbnail:l,generatedThumbnails:m,scrubbedThumbnail:n,selectedGeneratedIndex:o,selectedSection:p,showScrubber:c("VideoComposerDialogThumbnailUtils").shouldShowThumbnailScrubber(u),videoURL:r?b.URL.createObjectURL(r):""}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([])};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogThumbnailsSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogThumbnailsTabContainer.react",["cx","FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogThumbnailImage.react","VideoComposerDialogThumbnailsStore","VideoComposerDialogThumbnailsTabConfig","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=128,l=72;i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;m.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogThumbnailsStore")]};m.calculateState=function(){var n=c("VideoComposerDialogUIStore").getState(),o=n.selectedTab,p=c("VideoComposerDialogThumbnailsStore").getState(),q=p.selectedThumbnail;return{isSelected:o===c("VideoComposerDialogTab").THUMBNAILS,selectedThumbnail:q}};m.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(m.getStores())};m.prototype.render=function(){var n=this.state.selectedThumbnail;return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({customDescription:n?c("React").createElement(c("VideoComposerDialogThumbnailImage.react"),{imageURL:n.getURL(),isSelected:false,width:k,height:l}):null,tabConfig:c("VideoComposerDialogThumbnailsTabConfig")},this.state))};function m(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(m)}),null);
__d("VideoComposerDialogUploadPopover.react",["ix","cx","fbt","DurationFormatter","FileInput.react","FlexLayout.react","Image.react","Link.react","React","VideoComposerDialogActions","XUIButton.react","asset","formatNumber"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=1e6;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$VideoComposerDialogUploadPopover1=function(event,t){var u=event.currentTarget.files,v=this.props.onReplaceFile;if(!u||u.length!==1)return;c("VideoComposerDialogActions").fileAdded(u[0],t);if(v)v()}.bind(this),p}n.prototype.render=function(){var o=this.props.videoSize/m,p=this.props.uploadPercent/100*o;return c("React").createElement("div",null,c("React").createElement(c("FlexLayout.react"),{className:"_652a",justify:"all"},c("React").createElement(c("FlexLayout.react"),{className:"_13yt"},c("React").createElement(c("Image.react"),{className:"_3-8_",src:h("431724")}),c("React").createElement("div",{className:"_13yu"},this.props.fileName)),c("React").createElement(c("Link.react"),{href:"#",onClick:this.props.onCloseButtonClick},c("React").createElement(c("Image.react"),{src:h("368785")}))),c("React").createElement(c("FlexLayout.react"),{direction:"vertical",className:"_13yv"},this.props.errorMessage!==null?c("React").createElement("div",{className:"_l8_"},this.props.errorMessage):null,j._("{percentage}\u0025 uploaded ({uploaded amount} MB\/{file size} MB)",[j.param("percentage",c("formatNumber")(this.props.uploadPercent)),j.param("uploaded amount",c("formatNumber")(p,1)),j.param("file size",c("formatNumber")(o,1))]),c("React").createElement("div",{className:"_3-8m"},j._("Duration: {duration}",[j.param("duration",c("DurationFormatter").formatShort(Math.round(this.props.videoDuration)))])),j._("Dimensions: {width} x {height}",[j.param("width",this.props.videoWidth),j.param("height",this.props.videoHeight)])),c("React").createElement(c("FlexLayout.react"),{className:"_13yy"},c("React").createElement(c("FileInput.react"),{onChange:this.$VideoComposerDialogUploadPopover1},c("React").createElement(c("XUIButton.react"),{href:"#",size:"large",label:j._("Upload New")}))))};f.exports=n}),null);
__d("VideoComposerDialogUploaderPill.react",["ix","cx","fbt","FlexLayout.react","Image.react","InlineBlock.react","LayerHideOnBlur","LayerHideOnEscape","React","ShimButton.react","VideoComposerDialogUploadPopover.react","XUIContextualDialog.react","asset","fbglyph","formatNumber"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=260;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={showPopover:false},this.$VideoComposerDialogUploaderPill1=function(){this.setState({showPopover:!this.state.showPopover})}.bind(this),p}n.prototype.componentWillReceiveProps=function(o){if(this.props.errorMessage===null&&o.errorMessage)this.setState({showPopover:true});else if(this.props.errorMessage!==null&&o.errorMessage===null)this.setState({showPopover:false})};n.prototype.renderLayers=function(o){if(!this.state.showPopover)return null;return c("React").createElement(c("XUIContextualDialog.react"),{behaviors:{LayerHideOnEscape:c("LayerHideOnEscape"),LayerHideOnBlur:c("LayerHideOnBlur")},contextRef:function(){return this.refs.uploaderPill}.bind(this),shown:this.state.showPopover,alignment:"right",position:"below",onToggle:this.$VideoComposerDialogUploaderPill1,label:j._("metadata"),width:m},c("React").createElement(c("VideoComposerDialogUploadPopover.react"),{errorMessage:this.props.errorMessage,fileName:this.props.fileName,onCloseButtonClick:this.$VideoComposerDialogUploaderPill1,onReplaceFile:this.$VideoComposerDialogUploaderPill1,uploadPercent:o,videoDuration:this.props.videoDuration,videoWidth:this.props.videoWidth,videoHeight:this.props.videoHeight,videoSize:this.props.videoSize}))};n.prototype.render=function(){var o=this.props.errorMessage!==null,p=this.props.uploadPercent===100&&this.props.uploadFinished,q=this.props.uploadPercent===100&&!p?99.9:this.props.uploadPercent,r=q===100?0:1,s=o?c("React").createElement(c("Image.react"),{src:h("118806")}):p?c("React").createElement(c("Image.react"),{src:h("407719")}):c("React").createElement(c("Image.react"),{src:h("360748")}),t=o?c("React").createElement(c("Image.react"),{src:h("412694")}):p?c("React").createElement(c("Image.react"),{src:h("364972")}):c("React").createElement(c("Image.react"),{src:h("379681")});return c("React").createElement(c("ShimButton.react"),{ref:"uploaderPill",onClick:this.$VideoComposerDialogUploaderPill1,className:"_4unx"},c("React").createElement("div",{style:{width:q+"%"},className:"_4un-"+(p?" _4jg0":"")+(o?" _6538":"")}),c("React").createElement("div",{className:"_4un_"+(o?" _6539":"")}),c("React").createElement(c("FlexLayout.react"),{justify:"all",align:"center",className:"_4uny"+(p?" _4jf_":"")+(o?" _1jua":"")},c("React").createElement(c("FlexLayout.react"),{align:"center"},s,c("React").createElement(c("InlineBlock.react"),{className:"_4unz"},j._("{percentage}",[j.param("percentage",c("formatNumber")(q,r)+"%")]))),t),this.renderLayers(q))};f.exports=n}),null);
__d("VideoComposerDialogTitleSection.react",["cx","fbt","AbstractTextInput.react","FlexLayout.react","Keys","React","VideoComposerDialogActions","VideoComposerDialogUploaderPill.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogTitleSection3=function(event){if(event.keyCode===c("Keys").RETURN)this.$VideoComposerDialogTitleSection1&&this.$VideoComposerDialogTitleSection1.blurInput()}.bind(this),n}l.prototype.componentDidMount=function(){var m=this.$VideoComposerDialogTitleSection1;if(m&&m!==null)m.focusInput()};l.prototype.componentWillReceiveProps=function(m){var n=this.$VideoComposerDialogTitleSection1;if(n&&n!==null&&this.props.videoDuration!==m.videoDuration)n.focusInput()};l.prototype.$VideoComposerDialogTitleSection2=function(event){c("VideoComposerDialogActions").updateTitle(event.target.value)};l.prototype.render=function(){return c("React").createElement(c("FlexLayout.react"),{direction:"horizontal",justify:"all",className:"_62qs"},c("React").createElement(c("AbstractTextInput.react"),{className:"_63k1",ref:function(m){return this.$VideoComposerDialogTitleSection1=m}.bind(this),placeholder:i._("Give your video a title..."),onChange:this.$VideoComposerDialogTitleSection2,value:this.props.title,onKeyUp:this.$VideoComposerDialogTitleSection3}),this.props.showUploaderPill?c("React").createElement(c("VideoComposerDialogUploaderPill.react"),{errorMessage:this.props.errorMessage,fileName:this.props.fileName,uploadFinished:this.props.uploadFinished,uploadPercent:this.props.uploadProgress,videoDuration:this.props.videoDuration,videoWidth:this.props.videoWidth,videoHeight:this.props.videoHeight,videoSize:this.props.videoSize}):null)};f.exports=l}),null);
__d("VideoComposerDialogTitleSectionContainer.react",["FluxContainer","React","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogPublishingStore","VideoComposerDialogTitleSection.react","VideoComposerDialogUIStore","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogPublishingStore"),c("VideoComposerDialogUploadStore")]};j.calculateState=function(){c("VideoComposerDialogUIStore").getState();var k=c("VideoComposerDialogUploadStore").getState(),l=k.videoFile,m=k.uploadFinished,n=k.uploadProgress,o=k.videoSize,p=c("VideoComposerDialogPublishingStore").getState(),q=p.errorMessage,r=c("VideoComposerDialogMetadataStore").getState(),s=r.title,t=r.dialogMode,u=r.videoDuration,v=r.videoWidth,w=r.videoHeight;return{dialogMode:t,errorMessage:q,fileName:l?l.name:"",showUploaderPill:t===c("VideoComposerDialogMode").VIDEO_UPLOAD,title:s,uploadFinished:m,uploadProgress:n,videoDuration:u?u:0,videoWidth:v?v:0,videoHeight:w?w:0,videoSize:o?o:0}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTitleSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogTrackingCustomLabels.react",["cx","fbt","React","SearchableEntry","VideoComposerDialogTrackingActions","VideoComposerDialogTrackingUtils","XUITokenizer.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={entries:this.props.customLabels.map(function(r){return new(c("SearchableEntry"))({uniqueID:r,title:r})}),queryString:"",searchSource:this.$VideoComposerDialogTrackingCustomLabels1.bind(this)()},n}l.prototype.$VideoComposerDialogTrackingCustomLabels2=function(m){var n=this.state.entries,o=n.some(function(p){return p.getUniqueID()===m.getUniqueID()});if(!o)n.push(m);this.setState({entries:n,queryString:""});c("VideoComposerDialogTrackingActions").updateCustomLabels(n.map(function(p){return p.getUniqueID()}))};l.prototype.$VideoComposerDialogTrackingCustomLabels3=function(m){var n=this.state.entries,o=n.some(function(p){return p.getUniqueID()===m.getUniqueID()});if(o)n.splice(n.indexOf(m),1);this.setState({entries:n,queryString:""});c("VideoComposerDialogTrackingActions").updateCustomLabels(n.map(function(p){return p.getUniqueID()}))};l.prototype.$VideoComposerDialogTrackingCustomLabels4=function(event){this.setState({queryString:event.target.value})};l.prototype.$VideoComposerDialogTrackingCustomLabels1=function(){return c("VideoComposerDialogTrackingUtils").loadCustomLabelsSearchSource(this.props.targetID)};l.prototype.render=function(){var m=[],n={},o=this.state.queryString.trim();if(o){m=[new(c("SearchableEntry"))({uniqueID:o,title:o})];n[o]=o}return c("React").createElement(c("XUITokenizer.react"),{className:"_1325",additionalEntries:m,entries:this.state.entries,excludedEntries:n,onQueryStringChange:this.$VideoComposerDialogTrackingCustomLabels4.bind(this),onAddEntryAttempt:this.$VideoComposerDialogTrackingCustomLabels2.bind(this),onRemoveEntryAttempt:this.$VideoComposerDialogTrackingCustomLabels3.bind(this),queryString:this.state.queryString,placeholder:i._("Category, employee name, video type"),searchSource:this.state.searchSource,showEntriesOnFocus:true})};f.exports=l}),null);
__d("VideoComposerDialogTrackingSection.react",["cx","fbt","React","VideoComposerDialogField.react","VideoComposerDialogTrackingActions","VideoComposerDialogTrackingCustomLabels.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogTrackingSection1=function(event){var m=event.target.value;c("VideoComposerDialogTrackingActions").updateUniversalID(m)};l.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogField.react"),{showTopBorder:false,title:i._("Internal labels"),subtitle:i._("Add labels to help you search for your video. These labels are only visible to Page admins."),input:c("React").createElement(c("VideoComposerDialogTrackingCustomLabels.react"),this.props)}),c("React").createElement(c("VideoComposerDialogField.react"),{title:i._("Universal ID"),tooltip:i._("If your video has a unique code in another content management system, you can add it here. This won't affect your post."),input:c("React").createElement(c("XUITextInput.react"),{className:"_1325",height:"tall",onChange:this.$VideoComposerDialogTrackingSection1,placeholder:i._("Asset management code (optional)"),value:this.props.universalID})}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogTrackingContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogTrackingSection.react","VideoComposerDialogTrackingStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogTrackingStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogTrackingStore").getState(),l=k.customLabels,m=k.universalID,n=c("VideoComposerDialogMetadataStore").getState(),o=n.targetID;return{customLabels:l,targetID:o?o:"",universalID:m}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTrackingSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogTrackingTabContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogTrackingStore","VideoComposerDialogTrackingTabConfig","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogMetadataStore").getState(),l=k.dialogMode,m=k.isVideoAssetOwner,n=c("VideoComposerDialogUIStore").getState(),o=n.selectedTab;return{isSelected:o===c("VideoComposerDialogTab").TRACKING,shouldShowTab:j.$VideoComposerDialogTrackingTabContainer1(l,m)}};j.$VideoComposerDialogTrackingTabContainer1=function(k,l){return k!==c("VideoComposerDialogMode").VIDEO_CROSSPOST&&l};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogTrackingStore")])};j.prototype.render=function(){return this.state.shouldShowTab?c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogTrackingTabConfig")},this.state)):null};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogShowVideoTypeSelector.react",["ix","cx","fbt","FlexLayout.react","Image.react","PopoverMenu.react","React","ReactXUIMenu","VideoComposerDialogActions","VideoComposerDialogMode","VideoComposerDialogShowVideo","XUIText.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){__p&&__p();var o=void 0,p=void 0;switch(this.props.dialogMode){case c("VideoComposerDialogMode").VIDEO_UPLOAD:if(this.props.showVideoType===c("VideoComposerDialogShowVideo").BASIC_VIDEO){o=j._("Add Video");p=h("391693")}else{o=j._("Video Type: Episode");p=h("431752")}break;case c("VideoComposerDialogMode").VIDEO_EDIT:if(this.props.showVideoType===c("VideoComposerDialogShowVideo").BASIC_VIDEO){o=j._("Edit Video");p=h("391693")}else{o=j._("Edit Episode");p=h("431752")}break;default:o=j._("Add Video");p=h("391693");break}var q=c("React").createElement(c("ReactXUIMenu"),{className:"_w2-"},c("React").createElement(m,{className:"_w2_",onClick:function r(){c("VideoComposerDialogActions").updateShowVideoType(c("VideoComposerDialogShowVideo").EPISODE)}},c("React").createElement(c("FlexLayout.react"),{justify:"all",align:"center"},c("React").createElement(c("FlexLayout.react"),{align:"center"},c("React").createElement(c("Image.react"),{src:h("431752")}),c("React").createElement(c("XUIText.react"),{size:"header3",weight:"bold",className:"_3-9a"},j._("Episode"))),this.props.showVideoType===c("VideoComposerDialogShowVideo").EPISODE?c("React").createElement(c("Image.react"),{src:h("367572")}):c("React").createElement("div",null))),c("React").createElement(m,{className:"_w2_",onClick:function r(){c("VideoComposerDialogActions").updateShowVideoType(c("VideoComposerDialogShowVideo").BASIC_VIDEO)}},c("React").createElement(c("FlexLayout.react"),{align:"center",justify:"all"},c("React").createElement(c("FlexLayout.react"),{align:"center"},c("React").createElement(c("Image.react"),{src:h("391693")}),c("React").createElement(c("XUIText.react"),{size:"header3",weight:"bold",className:"_3-9a"},j._("Video"))),this.props.showVideoType===c("VideoComposerDialogShowVideo").BASIC_VIDEO?c("React").createElement(c("Image.react"),{src:h("367572")}):c("React").createElement("div",null))));return c("React").createElement(c("PopoverMenu.react"),{alignv:"middle",menu:q},c("React").createElement(c("FlexLayout.react"),{justify:"all",align:"center",className:"_1pbd _w30 _2pi4 _2pi9"},c("React").createElement(c("FlexLayout.react"),{align:"center"},c("React").createElement(c("Image.react"),{src:p}),c("React").createElement("div",{className:"_3-9a"},o),c("React").createElement(c("Image.react"),{src:h("407675")}))))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("VideoComposerDialogVideoTypeSection.react",["ix","cx","fbt","FlexLayout.react","Image.react","React","VideoComposerDialogMode","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogTitle.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){__p&&__p();var n=void 0;switch(this.props.dialogMode){case c("VideoComposerDialogMode").VIDEO_UPLOAD:n=j._("Add Video");break;case c("VideoComposerDialogMode").VIDEO_CROSSPOST:n=j._("Crosspost Video");break;case c("VideoComposerDialogMode").VIDEO_EDIT:n=j._("Edit Video");break}var o=j._("This post and its insights can be seen by the owner of this video. If the owner changes your ability to use it, this post will be unpublished or removed automatically.");return c("React").createElement(c("FlexLayout.react"),{justify:"all",align:"center",className:"_1pbd _2pi4 _2pi9"},c("React").createElement(c("FlexLayout.react"),{align:"center"},c("React").createElement(c("Image.react"),{src:h("391693")}),c("React").createElement("div",{className:"_3-9a"},n)),this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST&&!this.props.isVideoAssetOwner?c("React").createElement("div",{className:"_3-8w"},c("React").createElement(c("Image.react"),{ref:function(p){return this.$VideoComposerDialogVideoTypeSection1=p}.bind(this),src:h("378682")}),c("React").createElement(c("XUIContextualDialog.react"),{label:"crosspost warning",autoFocus:false,contextRef:function(){return this.$VideoComposerDialogVideoTypeSection1}.bind(this),hoverContextRef:function(){return this.$VideoComposerDialogVideoTypeSection1}.bind(this),position:"below",alignment:"right",width:c("XUIContextualDialog.react").WIDTH.NORMAL},c("React").createElement(c("XUIContextualDialogTitle.react"),null,j._("Disclaimer")),c("React").createElement(c("XUIContextualDialogBody.react"),null,o))):null)};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogVideoTypeSectionContainer.react",["FluxContainer","React","VideoComposerDialogMetadataStore","VideoComposerDialogShowVideo","VideoComposerDialogShowVideoTypeSelector.react","VideoComposerDialogVideoTypeSection.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogMetadataStore").getState(),l=k.dialogMode,m=k.isVideoAssetOwner,n=k.showVideoType;return{dialogMode:l,isVideoAssetOwner:m,showVideoType:n,useStaticSection:j.shouldUseStaticSection(n)}};j.shouldUseStaticSection=function(k){return!(k===c("VideoComposerDialogShowVideo").EPISODE||k===c("VideoComposerDialogShowVideo").BASIC_VIDEO)};j.prototype.render=function(){return this.state.useStaticSection?c("React").createElement(c("VideoComposerDialogVideoTypeSection.react"),this.state):c("React").createElement(c("VideoComposerDialogShowVideoTypeSelector.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogWrapperContainer.react",["fbt","FluxContainer","React","Run","VideoComposerDialogActions","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogUIStore","VideoComposerDialogUploadStore","VideoComposerDialogWrapper.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUIStore")]};k.calculateState=function(){var l=c("VideoComposerDialogUIStore").getState(),m=l.dialogShown,n=l.primaryActionErrorDialogShown,o=l.primaryActionErrorMessage,p=l.publishConfirmDialogShown,q=l.publishConfirmDialogData,r=c("VideoComposerDialogMetadataStore").getState(),s=r.dialogMode;return{dialogMode:s,dialogShown:m,primaryActionErrorDialogShown:n,primaryActionErrorMessage:o,publishConfirmDialogShown:p,publishConfirmDialogData:q}};k.prototype.componentWillMount=function(){c("Run").onBeforeUnload(function(){if(!this.state.dialogShown)return null;return h._("Changes that you've made may not be saved.")}.bind(this));c("Run").onLeave(function(){c("VideoComposerDialogActions").navigatedFromPage()});c("Run").onUnload(function(){c("VideoComposerDialogActions").navigatedFromPage()});c("VideoComposerDialogDispatcher").explicitlyRegisterStores(k.getStores().concat([c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]))};k.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogWrapper.react"),babelHelpers["extends"]({className:this.props.className},this.state))};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k,{withProps:true})}),null);
__d("VideoCaptionPlacements",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CREATE_AD:0,EXISTING_POST_SECTION:1,PAGE_COMPOSER_EDIT:2,VIDEO_CAROUSEL:3,CREATE_AD_CF:4,EXISTING_POST_SECTION_CF:5,PAGE_TIMELINE_POST_HEADER:6,JEWEL_NOTIFICATION:7,EMAIL_NOTIFICATION:8})}),null);
__d("VideoComposerDialogCaptionEditorCaptionsListGenerator_node.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"VideoComposerDialogCaptionEditorCaptionsListGenerator_node",type:"VideoSubtitle",metadata:null,argumentDefinitions:[],selections:[i,{kind:"ScalarField",alias:null,name:"locale",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"process_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"review_expire_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"captions",storageKey:'captions(first:3000,orderby:["chronological"])',args:[{kind:"Literal",name:"first",value:3e3,type:"Int"},{kind:"Literal",name:"orderby",value:["chronological"],type:"[VideoSubtitleCaptionsOrdering]"}],concreteType:"VideoSubtitleCaptionsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"VideoSubtitleCaptionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"VideoSubtitleCaption",plural:false,selections:[i,{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_time_in_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"duration_in_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"confidence",args:null,storageKey:null}]}]}]}]}}();f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorCaptionsListGenerator.react",["VideoComposerDialogCaptionEditorConstants","immutable","React","RelayCompat","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorListSectionContainer.react","VideoComposerDialogDispatcher","VideoCaptionPlacements","VideoComposerDialogCaptionEditorCaptionsListGenerator_node.graphql"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("RelayCompat").createFragmentContainer,k=c("RelayCompat").graphql;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;l.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(c("VideoComposerDialogCaptionEditorListSectionContainer.react").getStores());this.$VideoComposerDialogCaptionEditorCaptionsListGenerator1()};l.prototype.componentWillReceiveProps=function(m){if(this.props.id!==m.id||JSON.stringify(this.props.node)!==JSON.stringify(m.node))this.$VideoComposerDialogCaptionEditorCaptionsListGenerator1()};l.prototype.$VideoComposerDialogCaptionEditorCaptionsListGenerator1=function(){__p&&__p();var m=this.props.node.captions;if(m&&m.edges){var n=m.edges.map(function(o,p){if(o.node){var q={node:{id:o.node.id,text:o.node.text,start_time_in_ms:o.node.start_time_in_ms,duration_in_ms:o.node.duration_in_ms,confidence:o.node.confidence,left:(o.node.start_time_in_ms?o.node.start_time_in_ms:0)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,width:(o.node.duration_in_ms?o.node.duration_in_ms:0)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}};return q}return{}});c("VideoComposerDialogCaptionEditorActions").setCaptions(c("immutable").List(n),this.props.node.id,this.props.node.locale,this.props.node.video_id,null,c("VideoCaptionPlacements").PAGE_COMPOSER_EDIT)}};l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorListSectionContainer.react"),null)};function l(){h.apply(this,arguments)}f.exports=j(l,{node:{modern:function m(){return c("VideoComposerDialogCaptionEditorCaptionsListGenerator_node.graphql")},classic:function m(n){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{fieldName:"locale",kind:"Field",metadata:{},type:"String"},{fieldName:"process_status",kind:"Field",metadata:{},type:"VideoSubtitleStatus"},{fieldName:"review_expire_time",kind:"Field",metadata:{},type:"Time"},{fieldName:"video_id",kind:"Field",metadata:{},type:"ID"},{calls:[{kind:"Call",metadata:{type:"[VideoSubtitleCaptionsOrdering]"},name:"orderby",value:[{kind:"CallValue",callValue:"chronological"}]},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:3e3}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{fieldName:"text",kind:"Field",metadata:{},type:"String"},{fieldName:"start_time_in_ms",kind:"Field",metadata:{},type:"Int"},{fieldName:"duration_in_ms",kind:"Field",metadata:{},type:"Int"},{fieldName:"confidence",kind:"Field",metadata:{},type:"Float"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:true},type:"VideoSubtitleCaption"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:true,isPlural:true},type:"VideoSubtitleCaptionsEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:"PageInfo"}],fieldName:"captions",kind:"Field",metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:"VideoSubtitleCaptionsConnection"}],id:n.__id(),kind:"Fragment",metadata:{},name:"VideoComposerDialogCaptionEditorCaptionsListGenerator_node",type:"VideoSubtitle"}}()}}}})}),null);
__d("VideoCaptionEditorStateEnums",[],(function a(b,c,d,e,f,g){var h={INIT:0,SAVED:0,UNSAVED:1,SAVING:2,PUBLISHING:3,EXIT:4,SHARE_EDITED:5,SHARING:6},i=Object.freeze({VIEW_ONLY:0,SAVED:1,UNSAVED:2}),j=Object.freeze({START_TIME:true,END_TIME:false}),k=Object.freeze({GOOD:0,POOR:1});f.exports={EditorStateEnum:h,EditItemStateEnum:i,TimestampTypes:j,VideoCaptionQualityEnum:k}}),null);
__d("VideoComposerDialogCaptionEditorFooter.react",["ix","cx","fbt","FBConfirmDialog.react","LeftRight.react","React","VideoCaptionEditorStateEnums","XUIButton.react","fbglyph","Image.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("VideoCaptionEditorStateEnums").EditorStateEnum;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){var o=j._("Saved");if(this.props.editorState===m.SAVING)o=j._("Saving...");else if(this.props.editorState===m.UNSAVED)o=j._("Unsaved");return c("React").createElement("span",{className:"_647o"},c("React").createElement("span",{className:"_647p"},c("React").createElement("span",{className:"_647q"},c("React").createElement("span",{className:"_647r"},c("React").createElement(c("Image.react"),{src:h("126813")})),c("React").createElement("span",{className:"_647s"},o)),c("React").createElement("span",null,c("React").createElement(c("XUIButton.react"),{disabled:this.props.disableSection,href:"#",onClick:this.props.onCancel,label:j._("Cancel"),size:"xlarge",use:"default"}),c("React").createElement(c("XUIButton.react"),{disabled:this.props.editorState!==m.UNSAVED,href:"#",onClick:this.props.onSaveDraft,label:j._("Save Draft"),size:"xlarge",use:"confirm"})),c("React").createElement(c("FBConfirmDialog.react"),{className:"_2rjw",title:j._("Save"),content:j._("Save changes to your caption?"),confirmButtonText:j._("Save"),cancelButtonText:j._("Exit without saving"),onConfirm:function(){return this.props.onConfirm&&this.props.onConfirm()}.bind(this),onCancel:function(){return this.props.onDontSave&&this.props.onDontSave()}.bind(this),onToggle:function(p){return this.props.onToggle&&this.props.onToggle(p)}.bind(this),shown:this.props.shouldShowExitDialog})))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("VideoComposerDialogCaptionsTabActions",["immutable","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(){var O={type:c("VideoComposerDialogActionTypes").SHOW_CAPTION_EDITOR};c("VideoComposerDialogDispatcher").dispatch(O)},i=function i(){var O={type:c("VideoComposerDialogActionTypes").HIDE_CAPTION_EDITOR};c("VideoComposerDialogDispatcher").dispatch(O)},j=function j(O,P,Q,R,S,T,U,V){var W={type:c("VideoComposerDialogActionTypes").INITIALIZE_CAPTION_LANDING_SCREEN,videoFile:O,video_id:P,accessToken:Q,composerID:R,pageID:S,videoDurationInSec:T,dialogMode:U,isOldComposer:V};c("VideoComposerDialogDispatcher").dispatch(W)},k=function k(){var O={type:c("VideoComposerDialogActionTypes").CAPTION_LANDING_SCREEN_OPEN_EVENT};c("VideoComposerDialogDispatcher").dispatch(O)},l=function l(){var O={type:c("VideoComposerDialogActionTypes").OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT};c("VideoComposerDialogDispatcher").dispatch(O)},m=function m(){var O={type:c("VideoComposerDialogActionTypes").RESET_OPEN_LANDING_SCREEN_STATE};c("VideoComposerDialogDispatcher").dispatch(O)},n=function n(O){var P={type:c("VideoComposerDialogActionTypes").FINISHED_FETCH_DRAFTS,drafts:O};c("VideoComposerDialogDispatcher").dispatch(P)},o=function o(){var O={type:c("VideoComposerDialogActionTypes").GENERATE};c("VideoComposerDialogDispatcher").dispatch(O)},p=function p(){var O={type:c("VideoComposerDialogActionTypes").CANCEL_GENERATE};c("VideoComposerDialogDispatcher").dispatch(O)},q=function q(O){var P={type:c("VideoComposerDialogActionTypes").GENERATE_PROGRESS_UPDATE,progress:O};c("VideoComposerDialogDispatcher").dispatch(P)},r=function r(){var O={type:c("VideoComposerDialogActionTypes").CREATE};c("VideoComposerDialogDispatcher").dispatch(O)},s=function s(O){var P={type:c("VideoComposerDialogActionTypes").EDIT_CAPTIONS_DRAFT,id:O};c("VideoComposerDialogDispatcher").dispatch(P)},t=function t(O){var P={type:c("VideoComposerDialogActionTypes").DELETE_CAPTIONS_DRAFT,id:O};c("VideoComposerDialogDispatcher").dispatch(P)},u=function u(O){var P={type:c("VideoComposerDialogActionTypes").START_SRT_UPLOAD,captions:O};c("VideoComposerDialogDispatcher").dispatch(P)},v=function v(O){var P={type:c("VideoComposerDialogActionTypes").SELECT_SPOKEN_LANGUAGE,language:O};c("VideoComposerDialogDispatcher").dispatch(P)},w=function w(O){var P={type:c("VideoComposerDialogActionTypes").SELECT_SPOKEN_LOCALE,locale:O};c("VideoComposerDialogDispatcher").dispatch(P)},x=function x(O,P,Q){var R={type:c("VideoComposerDialogActionTypes").GENERATE_COMPLETE,captions:O,locale:P,subtitlesID:Q};c("VideoComposerDialogDispatcher").dispatch(R)},y=function y(O){var P={type:c("VideoComposerDialogActionTypes").UPDATE_ERROR_STATE,errors:O};c("VideoComposerDialogDispatcher").dispatch(P)},z=function z(){var O={type:c("VideoComposerDialogActionTypes").CREATE_COMPLETE};c("VideoComposerDialogDispatcher").dispatch(O)},A=function A(){var O={type:c("VideoComposerDialogActionTypes").UPDATE_CAPTION_FILES};c("VideoComposerDialogDispatcher").dispatch(O)},B=function B(O,P,Q){var R={type:c("VideoComposerDialogActionTypes").FINISH_SRT_UPLOAD,success:O,error:P,uploadedVideoSubtitles:Q};c("VideoComposerDialogDispatcher").dispatch(R)},C=function C(){var O={type:c("VideoComposerDialogActionTypes").RESET_CAPTIONS_LANDING_TAB};c("VideoComposerDialogDispatcher").dispatch(O)},D=function D(){var O={type:c("VideoComposerDialogActionTypes").RETRY_AUTO_GENERATION};c("VideoComposerDialogDispatcher").dispatch(O)},E=function E(){var O={type:c("VideoComposerDialogActionTypes").RESET_AUTO_GENERATING_LOCALE};c("VideoComposerDialogDispatcher").dispatch(O)},F=function F(){var O={type:c("VideoComposerDialogActionTypes").RESUME_AUTO_GENERATION};c("VideoComposerDialogDispatcher").dispatch(O)},G=function G(){var O={type:c("VideoComposerDialogActionTypes").TRY_RESUME_AUTO_GENERATION};c("VideoComposerDialogDispatcher").dispatch(O)},H=function H(O){var P={type:c("VideoComposerDialogActionTypes").INITIALIZE_ALL_CAPTION_FILES,subtitles:O};c("VideoComposerDialogDispatcher").dispatch(P)},I=function I(O){var P={type:c("VideoComposerDialogActionTypes").BOOTLOAD_PARAMETERS_CAPTIONS_TAB,data:O};c("VideoComposerDialogDispatcher").dispatch(P)},J=function J(O){var P={type:c("VideoComposerDialogActionTypes").CHANGE_PUBLISHED_STATE,id:O};c("VideoComposerDialogDispatcher").dispatch(P)},K=function K(O){var P={type:c("VideoComposerDialogActionTypes").CHANGE_PUBLISHED_STATE_URL,id:O};c("VideoComposerDialogDispatcher").dispatch(P)},L=function L(O){var P={type:c("VideoComposerDialogActionTypes").DELETE_CAPTIONS_URL,id:O};c("VideoComposerDialogDispatcher").dispatch(P)},M=function M(){var O={type:c("VideoComposerDialogActionTypes").PENDING_TO_PUBLISHED};c("VideoComposerDialogDispatcher").dispatch(O)},N=function N(O){var P={type:c("VideoComposerDialogActionTypes").SET_DEFAULT_CAPTION_LOCALE,locale:O};c("VideoComposerDialogDispatcher").dispatch(P)};f.exports={showCaptionEditor:h,hideCaptionEditor:i,initialize:j,generate:o,cancelGenerate:p,updateGenerateProgress:q,create:r,editCaptionsDraft:s,deleteCaptionsDraft:t,upload:u,selectSpokenLanguage:v,selectSpokenLocale:w,generateComplete:x,createComplete:z,finishedFetchDrafts:n,updateCaptionFiles:A,updateErrorState:y,finishSRTUpload:B,resetCaptionsLandingTab:C,retryAutoGeneration:D,resetAutoGeneratingLocale:E,resumeAutoGeneration:F,tryResumeAutoGeneration:G,initializeAllCaptionFiles:H,bootloadParametersCaptionsTab:I,changePublishedState:J,changePublishedStatePendingToPublished:M,tryLogCaptionLandingScreenOpenEvent:k,emitOldComposerCaptionTabOpenEvent:l,resetOpenLandingScreenState:m,setDefaultLocale:N,changePublishedStateURL:K,deleteCaptionsURL:L}}),null);
__d("VideoComposerDialogCaptionEditorFooterContainer.react",["VideoCaptionEditorStateEnums","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","FluxContainer","React","VideoComposerDialogCaptionEditorFooter.react","VideoComposerDialogCaptionEditorStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("VideoCaptionEditorStateEnums").EditorStateEnum;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogCaptionEditorFooterContainer2=function(){if(this.state.editorState===j.UNSAVED)c("VideoComposerDialogCaptionEditorActions").showExitDialog();else{c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()}}.bind(this),m}k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore"),c("VideoComposerDialogCaptionsStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionEditorStore").getState(),m=c("VideoComposerDialogCaptionsStore").getState(),n=l.language===c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED||l.language===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE||m.isCreating;return{disableSection:n,editorState:l.editorState,shouldShowExitDialog:l.get("shouldShowExitDialog")}};k.prototype.$VideoComposerDialogCaptionEditorFooterContainer1=function(){c("VideoComposerDialogCaptionEditorActions").startSaveCaptionChangeset()};k.prototype.$VideoComposerDialogCaptionEditorFooterContainer3=function(l){if(!l)c("VideoComposerDialogCaptionEditorActions").cancelCloseDialog()};k.prototype.$VideoComposerDialogCaptionEditorFooterContainer4=function(){c("VideoComposerDialogCaptionEditorActions").startSaveCaptionChangeset()};k.prototype.$VideoComposerDialogCaptionEditorFooterContainer5=function(){c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()};k.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorFooter.react"),{disableSection:this.state.disableSection,editorState:this.state.editorState,onSaveDraft:this.$VideoComposerDialogCaptionEditorFooterContainer1,onCancel:this.$VideoComposerDialogCaptionEditorFooterContainer2,shouldShowExitDialog:this.state.shouldShowExitDialog,onConfirm:this.$VideoComposerDialogCaptionEditorFooterContainer4,onDontSave:this.$VideoComposerDialogCaptionEditorFooterContainer5,onToggle:this.$VideoComposerDialogCaptionEditorFooterContainer3})};f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogLandingScreenLanguageSelector.react",["ix","cx","fbt","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","Image.react","LanguageDialectInlineTypeahead.react","LanguageDialectRenderStyle","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","React","XUIPopoverButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={isOpen:this.props.initiallyOpen},this.$VideoComposerDialogLandingScreenLanguageSelector2=function(s){this.setState({isOpen:false});var t=this.props.onSetDialect;if(t)t(s.getUniqueID());this.props.onSetDialectName(s.getTitle())}.bind(this),this.$VideoComposerDialogLandingScreenLanguageSelector4=function(){this.setState({isOpen:!this.state.isOpen})}.bind(this),this.$VideoComposerDialogLandingScreenLanguageSelector5=function(s){this.setState({isOpen:s})}.bind(this),o}m.prototype.$VideoComposerDialogLandingScreenLanguageSelector3=function(){return j._("Show available languages")};m.prototype.render=function(){var n=(this.props.hasBorder===false?"_3y9v":"")+(!this.props.isLanguageSelected?" _39d7":""),o=c("React").createElement("span",null,this.props.dialectName),p=this.props.hasBorder===false?c("React").createElement("span",null,c("React").createElement("span",{className:(this.props.isLanguageSelected?"_3y9w":"")+(!this.props.isLanguageSelected?" _39d8":"")},j._("Caption language:")),c("React").createElement("span",{className:"_3y9x"},o)):c("React").createElement("span",{className:(this.props.isLanguageSelected?"_3y9x":"")+(!this.props.isLanguageSelected?" _39eb":"")},o),q=this.props.hasBorder===false?300:200,r=c("React").createElement(c("XUIPopoverButton.react"),{className:n,hasChevron:true,label:p,image:c("React").createElement(c("Image.react"),{src:this.props.isLanguageSelected?h("125257"):h("134869")}),maxwidth:q,onClick:this.$VideoComposerDialogLandingScreenLanguageSelector4,size:"xlarge",ref:function(s){return this.$VideoComposerDialogLandingScreenLanguageSelector1=s}.bind(this)});return c("React").createElement("span",{className:this.props.className},r,c("React").createElement(c("ContextualLayer.react"),{alignment:"left",autofocus:true,behaviors:{ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll"),LayerAutoFocus:c("LayerAutoFocus"),LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape")},contextRef:function(){return this.$VideoComposerDialogLandingScreenLanguageSelector1}.bind(this),position:"below",onToggle:this.$VideoComposerDialogLandingScreenLanguageSelector5,shown:this.state.isOpen},c("React").createElement("div",{className:"_5ge1"},c("React").createElement(c("LanguageDialectInlineTypeahead.react"),{dialectType:this.props.dialectType,onSelect:this.$VideoComposerDialogLandingScreenLanguageSelector2,placeholder:this.props.placeholder,excludedDialects:this.props.excludedDialects,hasCategories:this.props.hasCategories,renderStyle:this.props.renderStyle}))))};m.defaultProps={hasCategories:false,renderStyle:c("LanguageDialectRenderStyle").DEFAULT,initiallyOpen:false,dialectName:j._("Select language")};f.exports=m}),null);
__d("VideoComposerDialogCaptionEditorLanguageSearchContainer.react",["cx","LanguageDialectRenderStyle","LanguageDialectSetTypes","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorStore","FluxContainer","React","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionsStore","VideoComposerDialogLandingScreenLanguageSelector.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore"),c("VideoComposerDialogCaptionsStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionEditorStore").getLanguage(),m=c("VideoComposerDialogCaptionsStore").getState(),n=this.$VideoComposerDialogCaptionEditorLanguageSearchContainer1(m,l);return{language:l,excludedDialects:n,isLanguageSelected:l!==c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED&&l!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE}};k.prototype.$VideoComposerDialogCaptionEditorLanguageSearchContainer2=function(l){c("VideoComposerDialogCaptionEditorActions").selectLanguage(l)};k.prototype.$VideoComposerDialogCaptionEditorLanguageSearchContainer3=function(l){c("VideoComposerDialogCaptionEditorActions").selectLocale(l)};k.$VideoComposerDialogCaptionEditorLanguageSearchContainer1=function(l,m){var n=l.drafts,o=l.autoGeneratingLocale,p=[];if(o)p.push(c("VideoComposerDialogCaptionEditorUtils").getGenericLocale(o));n.map(function(q){if(q.language!==m)p.push(c("VideoComposerDialogCaptionEditorUtils").getGenericLocale(q.locale))});return p};k.prototype.render=function(){var l=this.state.language===c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED||this.state.language===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE,m="_1sfh"+(!l?" _2sq3":"");return c("React").createElement(c("VideoComposerDialogLandingScreenLanguageSelector.react"),{className:m,dialectType:c("LanguageDialectSetTypes").LANGUAGE_DETECTION,excludedDialects:this.state.excludedDialects,dialectName:this.state.language,isLanguageSelected:this.state.isLanguageSelected,initiallyOpen:l,hasBorder:false,placeholder:c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,renderStyle:c("LanguageDialectRenderStyle").DEFAULT,onSetDialectName:function(n){return this.$VideoComposerDialogCaptionEditorLanguageSearchContainer2(n)}.bind(this),onSetDialect:function(n){return this.$VideoComposerDialogCaptionEditorLanguageSearchContainer3(n)}.bind(this)})};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoCaptionTimestampItem.react",["ix","cx","Image.react","React","TimeFormatUtil","XUIContextualDialog.react","XUINotice.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=300,n=2e3,o=1e3,p=100;j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.$VideoCaptionTimestampItem1=null,this.state={isDecreasing:false,isHovered:false,isIncreasing:false,timeStampText:c("TimeFormatUtil").formatTime(this.props.timeInMs)},this.$VideoCaptionTimestampItem4=function(w){this.props.onTextChange(w);this.setState({timeStampText:c("TimeFormatUtil").formatTime(this.props.timeInMs)})}.bind(this),this.$VideoCaptionTimestampItem5=function(w){this.setState({timeStampText:w})}.bind(this),this.$VideoCaptionTimestampItem2=function(){this.setState({isHovered:true})}.bind(this),this.$VideoCaptionTimestampItem3=function(){this.setState({isHovered:false});this.props.onBlur&&this.props.onBlur()}.bind(this),this.$VideoCaptionTimestampItem7=function(event){__p&&__p();if(event){this.props.onIncrease();setTimeout(this.$VideoCaptionTimestampItem7,m);setTimeout(this.$VideoCaptionTimestampItem7,n);this.setState({isIncreasing:true})}else if(this.state.isIncreasing&&!this.$VideoCaptionTimestampItem1)this.$VideoCaptionTimestampItem1=setInterval(this.props.onIncrease,p);else if(this.state.isIncreasing){this.$VideoCaptionTimestampItem1&&clearInterval(this.$VideoCaptionTimestampItem1);this.$VideoCaptionTimestampItem1=setInterval(function(){return this.props.onIncrease(o)}.bind(this),p)}}.bind(this),this.$VideoCaptionTimestampItem9=function(event){__p&&__p();if(event){this.props.onDecrease();setTimeout(this.$VideoCaptionTimestampItem9,m);setTimeout(this.$VideoCaptionTimestampItem9,n);this.setState({isDecreasing:true})}else if(this.state.isDecreasing&&!this.$VideoCaptionTimestampItem1)this.$VideoCaptionTimestampItem1=setInterval(this.props.onDecrease,p);else if(this.state.isDecreasing){this.$VideoCaptionTimestampItem1&&clearInterval(this.$VideoCaptionTimestampItem1);this.$VideoCaptionTimestampItem1=setInterval(function(){return this.props.onDecrease(o)}.bind(this),p)}}.bind(this),this.$VideoCaptionTimestampItem8=function(event){this.setState({isDecreasing:false,isIncreasing:false});this.$VideoCaptionTimestampItem1&&clearInterval(this.$VideoCaptionTimestampItem1);this.$VideoCaptionTimestampItem1=null}.bind(this),s}q.prototype.componentDidUpdate=function(r){if(r.timeInMs!==this.props.timeInMs)this.setState({timeStampText:c("TimeFormatUtil").formatTime(this.props.timeInMs)})};q.prototype.render=function(){var r=this.props.errorMessage?c("React").createElement(c("XUINotice.react"),{use:"warn",size:"small"},this.props.errorMessage):null;return c("React").createElement("div",{className:"_1bsk",onMouseEnter:this.$VideoCaptionTimestampItem2,onMouseLeave:this.$VideoCaptionTimestampItem3},c("React").createElement("textarea",{className:"_1bsl",value:this.state.timeStampText,onBlur:function(event){return this.$VideoCaptionTimestampItem4(this.state.timeStampText)}.bind(this),onChange:function(event){return this.$VideoCaptionTimestampItem5(event.target.value)}.bind(this),ref:"timestamp",rows:1}),this.$VideoCaptionTimestampItem6(),c("React").createElement(c("XUIContextualDialog.react"),{alignment:"center",contextRef:function(){return this.refs.timestamp}.bind(this),shown:!!r,position:"above"},r))};q.prototype.$VideoCaptionTimestampItem6=function(){return this.state.isHovered?c("React").createElement("div",{className:"_1bsm"},c("React").createElement("div",{className:"_3qth",onMouseDown:this.$VideoCaptionTimestampItem7,onMouseUp:this.$VideoCaptionTimestampItem8},c("React").createElement(c("Image.react"),{src:h("143444")})),c("React").createElement("div",{className:"_3qth",onMouseDown:this.$VideoCaptionTimestampItem9,onMouseUp:this.$VideoCaptionTimestampItem8},c("React").createElement(c("Image.react"),{src:h("143414")}))):null};q.prototype.blur=function(){this.refs.timestamp&&this.refs.timestamp.blur()};q.propTypes={timeInMs:l.number.isRequired,onBlur:l.func,onDecrease:l.func,onIncrease:l.func,onTextChange:l.func.isRequired,errorMessage:l.string};q.defaultProps={errorMessage:null};f.exports=q}),null);
__d("VideoCaptionTimestampItemContainer.react",["fbt","React","TimeFormatUtil","VideoCaptionTimestampItem.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=100;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={errorMessage:null},this.$VideoCaptionTimestampItemContainer1=function(){this.setState({errorMessage:null})}.bind(this),this.$VideoCaptionTimestampItemContainer2=function(s){var t=s?this.props.timeInMs-s:this.props.timeInMs-l;this.$VideoCaptionTimestampItemContainer5(t)}.bind(this),this.$VideoCaptionTimestampItemContainer3=function(s){var t=s?this.props.timeInMs+s:this.props.timeInMs+l;this.$VideoCaptionTimestampItemContainer5(t)}.bind(this),this.$VideoCaptionTimestampItemContainer4=function(s){var t=c("TimeFormatUtil").parseToTimeInMs(s);this.$VideoCaptionTimestampItemContainer5(t)}.bind(this),this.$VideoCaptionTimestampItemContainer5=function(s){if(this.$VideoCaptionTimestampItemContainer6(s)){this.props.onTimeChange&&this.props.onTimeChange(s);this.setState({errorMessage:null})}else{var t=this.props.minTime||0,u=h._("Valid time input")+": "+c("TimeFormatUtil").formatTime(t);if(this.props.maxTime)u+=" ~ "+c("TimeFormatUtil").formatTime(this.props.maxTime);this.setState({errorMessage:u})}}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("VideoCaptionTimestampItem.react"),{timeInMs:this.props.timeInMs,onBlur:this.$VideoCaptionTimestampItemContainer1,onDecrease:this.$VideoCaptionTimestampItemContainer2,onIncrease:this.$VideoCaptionTimestampItemContainer3,onTextChange:this.$VideoCaptionTimestampItemContainer4,errorMessage:this.state.errorMessage,ref:"timestampItem"})};m.prototype.blur=function(){this.refs.timestampItem&&this.refs.timestampItem.blur()};m.prototype.decrease=function(n){var o=n?this.props.timeInMs-n:this.props.timeInMs-l;this.$VideoCaptionTimestampItemContainer5(o)};m.prototype.increase=function(n){var o=n?this.props.timeInMs+n:this.props.timeInMs+l;this.$VideoCaptionTimestampItemContainer5(o)};m.prototype.$VideoCaptionTimestampItemContainer6=function(n){var o=this.props.minTime||0,p=this.props.maxTime||Number.MAX_VALUE;return n>=o&&n<=p};m.propTypes={timeInMs:k.number.isRequired,minTime:k.number,maxTime:k.number,onTimeChange:k.func};f.exports=m}),null);
__d("VideoCaptionTimestamp.react",["cx","Event","React","VideoCaptionTimestampItemContainer.react","VideoCaptionEditorStateEnums"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=c("VideoCaptionEditorStateEnums").TimestampTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$VideoCaptionTimestamp1=null,this.$VideoCaptionTimestamp3=function(s,t){if(t===l.END_TIME)s-=this.props.startTimeInMs;this.props.onTimeChange&&this.props.onTimeChange(s,t)}.bind(this),this.$VideoCaptionTimestamp2=function(event){__p&&__p();if(!event.altKey)return;switch(event.keyCode){case 90:if(this.refs.startTime)this.refs.startTime.decrease();break;case 88:if(this.refs.startTime)this.refs.startTime.increase();break;case 67:if(this.refs.endTime)this.refs.endTime.decrease();break;case 86:if(this.refs.endTime)this.refs.endTime.increase();break;default:return}event.prevent();event.stop()}.bind(this),o}m.prototype.componentDidUpdate=function(n){if(this.props.isSelected===n.isSelected)return;if(this.props.isSelected)this.$VideoCaptionTimestamp1=c("Event").listen(window,"keyup",this.$VideoCaptionTimestamp2);else{this.$VideoCaptionTimestamp1&&this.$VideoCaptionTimestamp1.remove();this.$VideoCaptionTimestamp1=null}};m.prototype.render=function(){var n=this.props.startTimeInMs+this.props.durationTimeInMs;return c("React").createElement("div",{className:"_1aja"},c("React").createElement(c("VideoCaptionTimestampItemContainer.react"),{timeInMs:this.props.startTimeInMs,minTime:this.props.minTime,maxTime:n,onTimeChange:function(o){this.$VideoCaptionTimestamp3(o,l.START_TIME)}.bind(this),ref:"startTime"}),c("React").createElement(c("VideoCaptionTimestampItemContainer.react"),{timeInMs:n,minTime:this.props.startTimeInMs,maxTime:this.props.maxTime,onTimeChange:function(o){this.$VideoCaptionTimestamp3(o,l.END_TIME)}.bind(this),ref:"endTime"}))};m.prototype.blur=function(){this.refs.startTime&&this.refs.startTime.blur();this.refs.endTime&&this.refs.endTime.blur()};m.propTypes={startTimeInMs:k.number.isRequired,durationTimeInMs:k.number.isRequired,isSelected:k.bool,minTime:k.number,maxTime:k.number,onTimeChange:k.func};f.exports=m}),null);
__d("VideoComposerDialogCaptionEditorEditItem.react",["ix","cx","fbt","DialogExpansion","Image.react","React","ReactDOM","Tooltip","VideoCaptionTimestamp.react","VideoComposerDialogCaptionEditorConstants","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIError.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={text:this.props.captionData.node.text,lastTextEntryTimeinMS:null},this.$VideoComposerDialogCaptionEditorEditItem2=function(event){this.setState({text:event.target.value,lastTextEntryTimeinMS:Date.now()});this.props.onStartTyping();var t=setTimeout(function(){var u=Date.now();if(this.state.lastTextEntryTimeinMS&&u-this.state.lastTextEntryTimeinMS>=c("VideoComposerDialogCaptionEditorConstants").RESUME_PLAYBACK_AFTER){this.props.onStopTyping();clearTimeout(t)}}.bind(this),c("VideoComposerDialogCaptionEditorConstants").RESUME_PLAYBACK_AFTER)}.bind(this),this.$VideoComposerDialogCaptionEditorEditItem1=function(){this.state.text!==this.props.captionData.node.text&&this.props.onTextChange&&this.props.onTextChange(this.state.text)}.bind(this),this.$VideoComposerDialogCaptionEditorEditItem5=function(t){if(!t)this.props.onHandleDialogCancel()}.bind(this),p}n.prototype.componentDidMount=function(){if(this.props.isSelected){var o=c("ReactDOM").findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(o)}};n.prototype.componentDidUpdate=function(o){__p&&__p();if(this.props.isSelected&&!o.isSelected){var p=c("ReactDOM").findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(p)}if(!this.props.isSelected&&o.isSelected){this.refs.textInput&&this.refs.textInput.blur();this.refs.timestamp&&this.refs.timestamp.blur()}if(this.props.captionData!=o.captionData)this.setState({text:this.props.captionData.node.text})};n.prototype.render=function(){var o="_2sdr"+(this.props.isHovered&&!this.props.isSelected?" _2sds":"")+(!this.props.isSelected?" _2sdt":"")+(this.props.isSelected?" _2sdu":""),p=this.props.captionData.node,q=this.props.emptyTextWarning?j._("Empty text is not allowed"):null;return c("React").createElement("div",{className:o,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,role:"presentation"},c("React").createElement("span",{className:"_2sdv"},c("React").createElement("div",{className:"_4_9q"},c("React").createElement("span",{className:"_3o8u"},c("React").createElement(c("VideoCaptionTimestamp.react"),{durationTimeInMs:p.duration_in_ms,isSelected:this.props.isSelected,maxTime:this.props.maxTime,minTime:this.props.minTime,onTimeChange:this.props.onTimeChange,startTimeInMs:p.start_time_in_ms,ref:"timestamp"}))),c("React").createElement(c("XUIError.react"),{error:q},c("React").createElement("textarea",{className:"_2sdw",maxLength:c("VideoComposerDialogCaptionEditorConstants").SEGMENT_LENGTH,ref:"textInput",name:"caption-text",placeholder:"Type in or paste your text here...",value:this.state.text,onBlur:this.$VideoComposerDialogCaptionEditorEditItem1,onChange:this.$VideoComposerDialogCaptionEditorEditItem2}))),c("React").createElement("div",{className:"_2sdx"},this.$VideoComposerDialogCaptionEditorEditItem3(),this.$VideoComposerDialogCaptionEditorEditItem4()),this.renderLayers())};n.prototype.$VideoComposerDialogCaptionEditorEditItem3=function(){var o=c("React").createElement(c("Image.react"),{src:this.props.emptyTextWarning?h("117905"):h("125915")});return this.props.isHovered||this.props.isSelected?c("React").createElement("span",babelHelpers["extends"]({"data-tooltip-alignh":"center","data-tooltip-position":"left",onClick:this.props.onAttemptDelete},c("Tooltip").propsFor(j._("Delete")),{role:"button",tabIndex:"0"}),o):null};n.prototype.$VideoComposerDialogCaptionEditorEditItem4=function(){return(this.props.isHovered||this.props.isSelected)&&!this.props.hideInsertButton?c("React").createElement("span",babelHelpers["extends"]({"data-tooltip-alignh":"center","data-tooltip-position":"left",role:"button",tabIndex:"0",onClick:this.props.onInsert},c("Tooltip").propsFor(j._("Insert new"))),c("React").createElement(c("Image.react"),{src:h("126616")})):null};n.prototype.renderLayers=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{DialogExpansion:c("DialogExpansion")},layerHideOnBlur:false,shown:this.props.showDeleteConfirmDialog,width:400,onToggle:this.$VideoComposerDialogCaptionEditorEditItem5,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),null,j._("Delete caption")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("XUIText.react"),{size:"header4",display:"block"},j._("This caption segment will be deleted from your video's captions. You can add or edit more caption segments later."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:j._("Cancel"),use:"default",onClick:this.props.onHandleDialogCancel}),c("React").createElement(c("XUIDialogButton.react"),{label:j._("Delete Caption"),onClick:this.props.onHandleDialogConfirm,use:"confirm"})))};n.propTypes={captionData:m.object.isRequired,hideInsertButton:m.bool,isHovered:m.bool,isSelected:m.bool.isRequired,emptyTextWarning:m.bool,maxTime:m.number,minTime:m.number,quality:m.number,showDeleteConfirmDialog:m.bool.isRequired,onAttemptDelete:m.func.isRequired,onClick:m.func.isRequired,onEditingCaptionEntry:m.func.isRequired,onHandleDialogConfirm:m.func.isRequired,onHandleDialogCancel:m.func.isRequired,onInsert:m.func.isRequired,onMouseEnter:m.func,onMouseLeave:m.func,onScrollIntoView:m.func,onTextChange:m.func.isRequired,onTimeChange:m.func.isRequired,onStartTyping:m.func.isRequired,onStopTyping:m.func.isRequired};f.exports=n}),null);
__d("VideoComposerDialogCaptionEditorEditItemContainer.react",["React","VideoComposerDialogCaptionEditorActions","VideoCaptionEditorConfig","VideoComposerDialogCaptionEditorEditItem.react","VideoComposerDialogCaptionEditorConstants","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoCaptionEditorStateEnums"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("VideoCaptionEditorStateEnums").TimestampTypes,k=c("VideoCaptionEditorStateEnums").VideoCaptionQualityEnum;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={isHovered:false,showDeleteConfirmDialog:false,emptyTextWarning:false},this.$VideoComposerDialogCaptionEditorEditItemContainer2=function(event){if(/^\s+$/.test(this.props.captionData.node.text))this.$VideoComposerDialogCaptionEditorEditItemContainer13();else this.setState({showDeleteConfirmDialog:true});event.stopPropagation()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer3=function(event){this.props.onClick&&this.props.onClick()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer6=function(){this.setState({showDeleteConfirmDialog:false})}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer5=function(){if(this.state.showDeleteConfirmDialog)this.$VideoComposerDialogCaptionEditorEditItemContainer13()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer7=function(event){var r=this.props.captionData.node.start_time_in_ms+this.props.captionData.node.duration_in_ms,s=this.props.maxTime?this.props.maxTime-r:Number.MAX_VALUE;this.props.onInsert&&this.props.onInsert(r,s);event.stopPropagation()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer8=function(){this.setState({isHovered:true})}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer9=function(){this.setState({isHovered:false})}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer4=function(r){if(r==="")this.setState({emptyTextWarning:true});else this.setState({emptyTextWarning:false});this.$VideoComposerDialogCaptionEditorEditItemContainer14({text:r})}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer10=function(r,s){if(s===j.START_TIME)this.$VideoComposerDialogCaptionEditorEditItemContainer16(r);else this.$VideoComposerDialogCaptionEditorEditItemContainer15(r)}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer11=function(){this.props.vpc&&this.props.vpc.pause()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer12=function(){this.props.vpc&&this.props.vpc.getCurrentTimePosition()*1e3<(this.props.maxTime?this.props.maxTime:0)&&this.props.vpc.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").AUTOPLAY))}.bind(this),n}l.prototype.componentDidUpdate=function(m){if(this.props.isSelected===m.isSelected)return};l.prototype.render=function(){var m=this.$VideoComposerDialogCaptionEditorEditItemContainer1(),n=this.props.captionData.node.confidence||1,o=n<c("VideoCaptionEditorConfig").caption_quality_threhold_good?k.POOR:k.GOOD;return c("React").createElement(c("VideoComposerDialogCaptionEditorEditItem.react"),{captionData:this.props.captionData,hideInsertButton:m,isHovered:this.state.isHovered,isSelected:this.props.isSelected,emptyTextWarning:this.state.emptyTextWarning,maxTime:this.props.maxTime,minTime:this.props.minTime,quality:o,showDeleteConfirmDialog:this.state.showDeleteConfirmDialog,onAttemptDelete:this.$VideoComposerDialogCaptionEditorEditItemContainer2,onClick:this.$VideoComposerDialogCaptionEditorEditItemContainer3,onEditingCaptionEntry:this.$VideoComposerDialogCaptionEditorEditItemContainer4,onHandleDialogConfirm:this.$VideoComposerDialogCaptionEditorEditItemContainer5,onHandleDialogCancel:this.$VideoComposerDialogCaptionEditorEditItemContainer6,onInsert:this.$VideoComposerDialogCaptionEditorEditItemContainer7,onMouseEnter:this.$VideoComposerDialogCaptionEditorEditItemContainer8,onMouseLeave:this.$VideoComposerDialogCaptionEditorEditItemContainer9,onScrollIntoView:this.props.onScrollIntoView,onTextChange:this.$VideoComposerDialogCaptionEditorEditItemContainer4,onTimeChange:this.$VideoComposerDialogCaptionEditorEditItemContainer10,onStartTyping:this.$VideoComposerDialogCaptionEditorEditItemContainer11,onStopTyping:this.$VideoComposerDialogCaptionEditorEditItemContainer12})};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer14=function(m){var n={node:{id:this.props.captionData.node.id,confidence:this.props.captionData.node.confidence,text:this.props.captionData.node.text,duration_in_ms:this.props.captionData.node.duration_in_ms,start_time_in_ms:this.props.captionData.node.start_time_in_ms,left:(this.props.captionData.node.start_time_in_ms?this.props.captionData.node.start_time_in_ms:c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,width:(this.props.captionData.node.duration_in_ms?this.props.captionData.node.duration_in_ms:c("VideoComposerDialogCaptionEditorConstants").DURATION_TIME_IN_MS)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}};for(var o in m)n.node[o]=m[o];n.node.confidence=1;c("VideoComposerDialogCaptionEditorActions").editingCaptionEntry(this.props.index,n)};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer15=function(m){this.$VideoComposerDialogCaptionEditorEditItemContainer14({duration_in_ms:m})};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer16=function(m){var n=this.props.captionData.node.start_time_in_ms,o=n+this.props.captionData.node.duration_in_ms;this.$VideoComposerDialogCaptionEditorEditItemContainer14({start_time_in_ms:m,duration_in_ms:o-m})};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer13=function(){c("VideoComposerDialogCaptionEditorActions").removeCaptionEntry(this.props.index);this.setState({showDeleteConfirmDialog:false,emptyTextWarning:false})};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer1=function(){if(!this.props.maxTime)return false;var m=this.props.captionData.node.start_time_in_ms+this.props.captionData.node.duration_in_ms,n=this.props.maxTime-m;return n<=c("VideoCaptionEditorConfig").min_duration_to_insert};f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorInsertCaptionItem.react",["ix","cx","fbt","Image.react","React","Tooltip","VideoComposerDialogCaptionEditorConstants","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={text:""},this.$VideoComposerDialogCaptionEditorInsertCaptionItem1=function(event){this.setState({text:event.target.value})}.bind(this),o}m.prototype.$VideoComposerDialogCaptionEditorInsertCaptionItem2=function(){return this.props.maxDuration<=c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS};m.prototype.render=function(){return c("React").createElement("span",{className:"_39yu"+(this.$VideoComposerDialogCaptionEditorInsertCaptionItem2()?" _2sq3":"")},c("React").createElement("span",{className:"_39yv"},c("React").createElement("span",babelHelpers["extends"]({className:"_39yw","data-tooltip-alignh":"center","data-tooltip-position":"left",role:"button",tabIndex:"0",onClick:this.$VideoComposerDialogCaptionEditorInsertCaptionItem2()?undefined:function(){this.props.onInsert(0,this.props.maxDuration,this.state.text);this.setState(function(n,o){return{text:""}})}.bind(this)},c("Tooltip").propsFor(this.$VideoComposerDialogCaptionEditorInsertCaptionItem2()?j._("Too short to insert new"):j._("Insert new"))),c("React").createElement(c("Image.react"),{src:this.$VideoComposerDialogCaptionEditorInsertCaptionItem2()?h("118606"):h("126616")})),c("React").createElement("span",{className:"_39yx"},c("React").createElement("textarea",{className:"_39yy",ref:"newCaption",name:"caption-text",placeholder:"Type in or paste your text here...",value:this.state.text,onChange:this.$VideoComposerDialogCaptionEditorInsertCaptionItem1,rows:"1"}))))};f.exports=m}),null);
__d("VideoComposerDialogCaptionEditorListSectionContainer.react",["cx","ScrollableArea.react","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorInsertCaptionItem.react","VideoComposerDialogDispatcher","immutable","FluxContainer","React","VideoComposerDialogCaptionEditorEditItemContainer.react","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorActions","VideoPlayerController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};k.calculateState=function(){return{captions:c("VideoComposerDialogCaptionEditorStore").getCaptions(),vpc:c("VideoComposerDialogCaptionEditorStore").getVPC(),captionSelected:c("VideoComposerDialogCaptionEditorStore").getState().captionSelected,videoDuration:c("VideoComposerDialogCaptionEditorStore").getState().videoDuration}};k.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(k.getStores())};k.prototype.$VideoComposerDialogCaptionEditorListSectionContainer1=function(l){this.refs.ScrollableArea&&this.refs.ScrollableArea.getArea()&&this.refs.ScrollableArea.getArea().scrollIntoView(l)};k.prototype.$VideoComposerDialogCaptionEditorListSectionContainer2=function(l,m,n,o){if(n<c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)return;var p={node:{id:"",text:o,start_time_in_ms:m+c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS,duration_in_ms:Math.min(n,c("VideoComposerDialogCaptionEditorConstants").DURATION_TIME_IN_MS)-c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS,confidence:1,left:(m+c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,width:(Math.min(n,c("VideoComposerDialogCaptionEditorConstants").DURATION_TIME_IN_MS)-c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}};c("VideoComposerDialogCaptionEditorActions").addCaptionEntry(l,p);c("VideoComposerDialogCaptionEditorActions").setPreviewEntry(l)};k.prototype.$VideoComposerDialogCaptionEditorListSectionContainer3=function(){var l=this.state.captions,m=l.size>0?l.map(function(n,o){return c("React").createElement(c("VideoComposerDialogCaptionEditorEditItemContainer.react"),{key:o,index:o,captionData:n,vpc:this.state.vpc,isSelected:o===this.state.captionSelected,maxTime:l.size>0&&o<l.size-1?l.get(o+1).node.start_time_in_ms:this.state.videoDuration,minTime:l.size>0&&o>0?l.get(o-1).node.start_time_in_ms+l.get(o-1).node.duration_in_ms:0,onClick:function p(){return c("VideoComposerDialogCaptionEditorActions").playPreviewEntry(o)},onScrollIntoView:function(p){return this.$VideoComposerDialogCaptionEditorListSectionContainer1(p)}.bind(this),onInsert:function(p,q){return this.$VideoComposerDialogCaptionEditorListSectionContainer2(o+1,p,q,c("VideoComposerDialogCaptionEditorConstants").EMPTY_CAPTION_TEXT)}.bind(this)})}.bind(this)):c("immutable").List();return m};k.prototype.render=function(){var l=this.state.captions,m=this.$VideoComposerDialogCaptionEditorListSectionContainer3(),n=c("React").createElement(c("VideoComposerDialogCaptionEditorInsertCaptionItem.react"),{key:"insert",maxDuration:l.size>0?l.get(0).node.start_time_in_ms:this.state.videoDuration,onInsert:function(o,p,q){return this.$VideoComposerDialogCaptionEditorListSectionContainer2(0,o,p,q)}.bind(this)});m=m.splice(0,0,n);return c("React").createElement(c("ScrollableArea.react"),{ref:"ScrollableArea",className:"_1j96"},m)};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogCaptionEditorMasterContainer.react",["FluxContainer","React","VideoComposerDialogCaptionsContainer.react","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUploadStore").getState(),l=c("VideoComposerDialogMetadataStore").getState(),m=k.videoUploader?k.videoUploader:null;return{accessToken:l.accessToken,video_id:l.videoID?l.videoID:"",videoAssetID:l.videoAssetID,videoFile:k.videoFile,composerID:null,pageID:l.targetID?l.targetID:"",isVideoUploaded:l.dialogMode!==c("VideoComposerDialogMode").VIDEO_UPLOAD||m===null||k.uploadFinished,videoDurationInSec:l.videoDuration,composerDialogMode:l.dialogMode}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionsContainer.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionEditorPlayerLoading.react",["cx","React","SUIAtlasTheme","SUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("span",{className:"_178i"},c("React").createElement("span",{className:"_178j"},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIAtlasTheme")}),c("React").createElement("span",null,this.props.text)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"video_id",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"video_id",type:"ID!"}];return{kind:"Request",operationKind:"query",name:"VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery",id:"1722809507743436",text:null,metadata:{},fragment:{kind:"Fragment",name:"VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"FragmentSpread",name:"VideoComposerDialogCaptionEditorVideoPlayerContainer_video",args:null}]}]},operation:{kind:"Operation",name:"VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:null,name:"playable_duration_in_ms",args:null,storageKey:null}]}]}]}}}();f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorPlayerSectionBodyContainer.react",["fbt","RelayModern","RelayFBEnvironment","React","VideoComposerDialogCaptionEditorPlayerLoading.react","VideoComposerDialogCaptionEditorVideoPlayerContainer.react","VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery.graphql"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l=c("RelayModern").QueryRenderer,m=c("RelayModern").graphql;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){return c("React").createElement("div",null," ",c("React").createElement(l,{cacheConfig:{force:true},environment:c("RelayFBEnvironment"),query:i||(i=function i(){return c("VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery.graphql")}),variables:{video_id:this.props.video_id},render:function o(p){var q=p.error,r=p.props;if(q)return c("React").createElement("div",null,q.message);else if(r)return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogCaptionEditorVideoPlayerContainer.react"),{isProcessing:false,video:r.node}));return c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerLoading.react"),{text:h._("Loading Video")})}}))};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("VideoComposerDialogCaptionEditorExit.react",["ix","cx","Image.react","React","SUILink.react","SUIText.react","SUIBusinessTheme","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){__p&&__p();var m=c("React").createElement(c("Image.react"),{src:h("124201")});switch(this.props.chevronSize){case"12":m=c("React").createElement(c("Image.react"),{src:h("124199")});break;case"16":m=c("React").createElement(c("Image.react"),{src:h("124200")});break;case"24":m=c("React").createElement(c("Image.react"),{src:h("124202")});break}var n=this.props.textSize?this.props.textSize:"medium",o=this.props.weight?this.props.weight:"normal";return c("React").createElement("div",{role:"link",tabIndex:0,style:{alignItems:"center",display:"flex"},onClick:this.props.onClick},c("React").createElement("span",{className:"_1l53"},m),c("React").createElement(c("SUILink.react"),{theme:c("SUIBusinessTheme"),showUnderline:"never"},c("React").createElement(c("SUIText.react"),{cursor:"none",display:"block",size:n,weight:o},this.props.label)))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorPlayerSectionHeader.react",["cx","fbt","FBConfirmDialog.react","React","VideoComposerDialogCaptionEditorExit.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_2908"},c("React").createElement(c("VideoComposerDialogCaptionEditorExit.react"),{chevClassName:"_1l53",chevronSize:"20",textSize:"medium",weight:"bold",label:i._("Captions").toString(),onClick:this.props.onClick}),c("React").createElement(c("FBConfirmDialog.react"),{className:"_2rjw",title:i._("Save"),content:i._("Save changes to your caption?"),confirmButtonText:i._("Save"),cancelButtonText:i._("Exit without saving"),onConfirm:function(){return this.props.onConfirm&&this.props.onConfirm()}.bind(this),onCancel:function(){return this.props.onDontSave&&this.props.onDontSave()}.bind(this),onToggle:function(m){return this.props.onToggle&&this.props.onToggle(m)}.bind(this),shown:this.props.shouldShowExitDialog}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer.react",["VideoCaptionEditorStateEnums","React","FluxContainer","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorPlayerSectionHeader.react","VideoComposerDialogCaptionEditorStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("VideoCaptionEditorStateEnums").EditorStateEnum;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer1=function(){if(this.state.editorState===j.UNSAVED)c("VideoComposerDialogCaptionEditorActions").showExitDialog();else{c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()}}.bind(this),m}k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionEditorStore").getState();return{editorState:l.get("editorState"),shouldShowExitDialog:l.get("shouldShowExitDialog")}};k.prototype.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer2=function(l){if(!l)c("VideoComposerDialogCaptionEditorActions").cancelCloseDialog()};k.prototype.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer3=function(){c("VideoComposerDialogCaptionEditorActions").startSaveCaptionChangeset()};k.prototype.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer4=function(){c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()};k.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerSectionHeader.react"),{onClick:this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer1,shouldShowExitDialog:this.state.shouldShowExitDialog,onConfirm:this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer3,onDontSave:this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer4,onToggle:this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer2})};f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogCaptionEditorPlayhead.react",["cx","React","ReactDOM","VideoComposerDialogCaptionEditorConstants"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.state={positionInMs:0,poller:null}}k.prototype.componentWillReceiveProps=function(l){__p&&__p();var m,n=this,o=c("ReactDOM").findDOMNode(this);o.scrollIntoView({block:"center",inline:"center"});if(l.isPlaying)(function(){var p=false,q=setInterval(function(){if(p)return;p=true;this.setState({positionInMs:this.props.vpc?this.props.vpc.getCurrentTimePosition()*1e3:0,poller:q});p=false}.bind(n),1)})();if(!l.isPlaying&&this.state.poller){clearInterval(this.state.poller);this.setState({positionInMs:this.props.vpc?this.props.vpc.getCurrentTimePosition()*1e3:0,poller:null});return}};k.prototype.componentDidUpdate=function(l,m){var n=c("ReactDOM").findDOMNode(this);n.scrollIntoView({block:"center",inline:"center"});if(m.poller!==this.state.poller&&m.poller!==null)clearInterval(m.poller)};k.prototype.render=function(){return c("React").createElement("span",null,c("React").createElement("span",{className:"_kzx",style:{left:this.state.positionInMs*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT-4}}),c("React").createElement("span",{className:"_kzw",style:{left:this.state.positionInMs*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}}))};f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorPlayheadContainer.react",["FluxContainer","React","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorPlayhead.react","VideoPlayerController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};j.calculateState=function(){var k=c("VideoComposerDialogCaptionEditorStore").getState();return{isPlaying:k.isPlaying,vpc:k.vpc}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorPlayhead.react"),{isPlaying:this.state.isPlaying,vpc:this.state.vpc})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionEditorRightSectionContainer.react",["FluxContainer","React","VideoComposerDialogCaptionEditorRightSection.react","VideoComposerDialogCaptionEditorStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};j.calculateState=function(){var k=c("VideoComposerDialogCaptionEditorStore").getState();return{language:k.language}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorRightSection.react"),{caption:this.props.caption,language:this.state.language})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionEditorSubtitlesDragAreaContainer.react",["cx","FluxContainer","VideoComposerDialogCaptionEditorConstants","immutable","React","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorSubtitlesDragArea.react","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionEditorStore").getState();return{list:l.captions,duration:l.videoDuration,captionSelected:l.captionSelected}};k.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogCaptionEditorStore")])};k.prototype.render=function(){return c("React").createElement("div",{className:"_647y"},c("React").createElement(c("VideoComposerDialogCaptionEditorSubtitlesDragArea.react"),{list:this.state.list,captionSelected:this.state.captionSelected,duration:this.state.duration+c("VideoComposerDialogCaptionEditorConstants").VIDEO_DURATION_PADDING}))};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoWithHiddenSubtitles",["SubscriptionsHandler"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$VideoWithHiddenSubtitles1=i;this.$VideoWithHiddenSubtitles2=new(c("SubscriptionsHandler"))();this.$VideoWithHiddenSubtitles2.addSubscriptions(this.$VideoWithHiddenSubtitles1.addListener("muteVideo",function(){if(this.$VideoWithHiddenSubtitles1.areSubtitlesActive())this.$VideoWithHiddenSubtitles1.toggleSubtitles()}.bind(this)))}h.prototype.release=function(){"use strict";this.$VideoWithHiddenSubtitles2.release()};f.exports=h}),null);
__d("VideoComponentHideSubtitles.react",["React","VideoComponent","VideoWithHiddenSubtitles"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k)}j.prototype.enable=function(k){this.vpc=k;this.$VideoComponentHideSubtitles1=new(c("VideoWithHiddenSubtitles"))(this.vpc)};j.prototype.disable=function(){this.$VideoComponentHideSubtitles1.release()};j.prototype.render=function(){return null};f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComposerDialogCaptionEditorPlayerActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h=function h(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").RESET_PLAYER,video:m})},i=function i(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").SET_VPC,vpc:m})},j=function j(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").SET_CURRENT_PLAY_POSITION,position:m})},k=function k(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").SET_DURATION,duration:m})},l=function l(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").SET_PLAYER_STATE,isPlaying:m})};f.exports={resetPlayer:h,setVPC:i,setCurrentPlayPosition:j,setDuration:k,setPlayerState:l}}),null);
__d("VideoWithPlayPause",["SubscriptionsHandler","VideoPlayerReason"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l){"use strict";__p&&__p();this.$VideoWithPlayPause8=new(c("SubscriptionsHandler"))();this.$VideoWithPlayPause1=i;this.$VideoWithPlayPause9(j);this.onUpdateCurrentPlayPosition=k;this.onUpdatePlayerState=l;this.$VideoWithPlayPause5=false;this.$VideoWithPlayPause6=false;this.$VideoWithPlayPause8.addSubscriptions(this.$VideoWithPlayPause1.addListener("updateStatus",this.$VideoWithPlayPause10.bind(this)),this.$VideoWithPlayPause1.addListener("captionsList/preview",function(m){return this.$VideoWithPlayPause11(m.startTime,m.endTime)}.bind(this)),this.$VideoWithPlayPause1.addListener("pausePlayback",function(){this.$VideoWithPlayPause6=true;this.onUpdatePlayerState(false)}.bind(this)),this.$VideoWithPlayPause1.addListener("finishPlayback",function(){this.onUpdatePlayerState(false);this.$VideoWithPlayPause6=true}.bind(this)),this.$VideoWithPlayPause1.addListener("beginPlayback",function(){this.$VideoWithPlayPause6=false}.bind(this)))}h.prototype.$VideoWithPlayPause11=function(i,j){"use strict";this.$VideoWithPlayPause12(i);this.$VideoWithPlayPause13(j);this.$VideoWithPlayPause4=true;this.$VideoWithPlayPause5=false;this.$VideoWithPlayPause6=false;this.$VideoWithPlayPause1.seek(this.$VideoWithPlayPause2);this.$VideoWithPlayPause1.play(c("VideoPlayerReason").USER)};h.prototype.$VideoWithPlayPause12=function(i){"use strict";this.$VideoWithPlayPause2=i/1e3};h.prototype.$VideoWithPlayPause13=function(i){"use strict";this.$VideoWithPlayPause3=i/1e3};h.prototype.$VideoWithPlayPause9=function(i){"use strict";this.$VideoWithPlayPause7=i/1e3};h.prototype.$VideoWithPlayPause10=function(i){"use strict";__p&&__p();if(this.$VideoWithPlayPause5)this.onUpdateCurrentPlayPosition(i);if(!this.$VideoWithPlayPause6)this.onUpdatePlayerState(true);if(!this.$VideoWithPlayPause4)this.$VideoWithPlayPause5=true;if(i.position>this.$VideoWithPlayPause3){this.$VideoWithPlayPause1.pause(c("VideoPlayerReason").USER);this.$VideoWithPlayPause13(this.$VideoWithPlayPause7*1e3);this.$VideoWithPlayPause4=false}if(i.position<this.$VideoWithPlayPause2){this.$VideoWithPlayPause13(this.$VideoWithPlayPause7*1e3);this.$VideoWithPlayPause4=false}};h.prototype.release=function(){"use strict";this.$VideoWithPlayPause8.release()};f.exports=h}),null);
__d("VideoComponentWithPlayPause.react",["React","VideoComponent","VideoPlayerReason","VideoWithPlayPause","VideoComposerDialogCaptionEditorPlayerActions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k)}j.prototype.enable=function(k){this.vpc=k;c("VideoComposerDialogCaptionEditorPlayerActions").setVPC(k);this.videoWithPlayPause=new(c("VideoWithPlayPause"))(this.vpc,this.props.videoDuration,this.props.onUpdateCurrentPlayPosition,this.props.onUpdatePlayerState)};j.prototype.disable=function(){this.videoWithPlayPause.release()};j.prototype.render=function(){return null};f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComposerDialogCaptionEditorPlayer.react",["cx","fbt","React","VideoComponentEmbeddedControls.react","VideoComponentHideSubtitles.react","VideoComponentPlayButton.react","VideoComponentScrubberPreview.react","VideoComponentWithLoopingPlayback.react","VideoComponentWithPlayPause.react","VideoComponentWithSpacePlayPause.react","VideoComposerDialogCaptionEditorPlayerLoading.react","VideoComposerDialogConstants","VideoDataContainer.react","VideoPlayer.react","VideoPlayerOrigins","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m)}l.prototype.shouldComponentUpdate=function(m){return JSON.stringify(this.props.videoData)!==JSON.stringify(m.videoData)||this.props.captionToDisplay!==m.captionToDisplay};l.prototype.$VideoComposerDialogCaptionEditorPlayer1=function(m){return c("React").createElement(c("VideoPlayer.react"),{ref:function(n){this.ceVideoPlayer=n}.bind(this),videoData:m,width:c("VideoComposerDialogConstants").PLAYER_WIDTH,height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,playerOrigin:c("VideoPlayerOrigins").PAGES_VIDEO_TAB,subOrigin:"inline"},c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentEmbeddedControls.react"),{showSettingsButton:false,displayElapsedTime:true}),c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),null),c("React").createElement(c("VideoComponentWithSpacePlayPause.react"),null),c("React").createElement(c("VideoComponentScrubberPreview.react"),null),c("React").createElement(c("VideoComponentWithPlayPause.react"),{videoDuration:this.props.playable_duration_in_ms,onUpdateCurrentPlayPosition:this.props.onUpdateCurrentPlayPosition,onUpdatePlayerState:this.props.onUpdatePlayerState}),c("React").createElement(c("VideoComponentHideSubtitles.react"),null))};l.prototype.render=function(){__p&&__p();var m=null;if(this.props.videoData)m=this.$VideoComposerDialogCaptionEditorPlayer1(this.props.videoData);else if(!this.props.videoID)m=c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerLoading.react"),{text:i._("Loading Video Failed")});else m=c("React").createElement(c("VideoDataContainer.react"),{videoID:this.props.videoID},c("React").createElement(c("VideoPlayer.react"),{ref:function(o){this.ceVideoPlayer=o}.bind(this),videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:c("VideoComposerDialogConstants").PLAYER_WIDTH,height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,playerOrigin:c("VideoPlayerOrigins").PAGES_VIDEO_TAB,subOrigin:"inline"},c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentEmbeddedControls.react"),{showSettingsButton:false,displayElapsedTime:true}),c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),null),c("React").createElement(c("VideoComponentWithSpacePlayPause.react"),null),c("React").createElement(c("VideoComponentScrubberPreview.react"),null),c("React").createElement(c("VideoComponentWithPlayPause.react"),{videoDuration:this.props.playable_duration_in_ms,onUpdateCurrentPlayPosition:this.props.onUpdateCurrentPlayPosition,onUpdatePlayerState:this.props.onUpdatePlayerState}),c("React").createElement(c("VideoComponentHideSubtitles.react"),null)));var n=null;if(this.props.captionToDisplay)n=c("React").createElement(c("XUIText.react"),{className:"_4cmw"},this.props.captionToDisplay);return c("React").createElement("div",null,m,c("React").createElement("div",{style:{width:c("VideoComposerDialogConstants").PLAYER_WIDTH},className:"_64dy"},c("React").createElement("div",{className:"_4cmx"},n)))};f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorVideoPlayerContainer_video.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={kind:"Fragment",name:"VideoComposerDialogCaptionEditorVideoPlayerContainer_video",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"playable_duration_in_ms",args:null,storageKey:null}]};f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorVideoPlayerContainer.react",["cx","FluxContainer","VideoComposerDialogCaptionEditorPlayer.react","VideoComposerDialogCaptionsStore","immutable","RelayModern","VideoComposerDialogCaptionEditorActions","VideoPlayer.react","React","VideoComposerDialogCaptionEditorPlayerActions","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorVideoPlayerContainer_video.graphql"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RelayModern").createFragmentContainer,l=c("RelayModern").graphql,m=-1;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.$VideoComposerDialogCaptionEditorVideoPlayerContainer2=function(event){var u=event.position*1e3;c("VideoComposerDialogCaptionEditorPlayerActions").setCurrentPlayPosition(u);this.$VideoComposerDialogCaptionEditorVideoPlayerContainer3(u)}.bind(this),q}n.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore"),c("VideoComposerDialogCaptionsStore")]};n.calculateState=function(p){var q=c("VideoComposerDialogCaptionEditorStore").getState(),r=c("VideoComposerDialogCaptionsStore").getState();return{captionEntries:q.captions,previewEntry:q.previewEntry,videoData:r.videoData,videoID:q.videoID,nextEntryIdx:q.nextEntryIdx,duration:r.videoDurationInSec*1e3}};n.prototype.componentWillMount=function(){c("VideoComposerDialogCaptionEditorPlayerActions").resetPlayer(this.props.video)};n.prototype.componentDidMount=function(){c("VideoComposerDialogCaptionEditorPlayerActions").resetPlayer(this.props.video);c("VideoComposerDialogCaptionEditorPlayerActions").setDuration(this.state.duration)};n.prototype.shouldComponentUpdate=function(p,q){return q.videoID!==this.state.videoID||q.previewEntry!==this.state.previewEntry||JSON.stringify(q.videoData)!==JSON.stringify(this.state.videoData)};n.prototype.render=function(){var p=this.state.previewEntry?this.state.previewEntry.node.text:null;return c("React").createElement("div",{className:"_1mbc"},c("React").createElement(c("VideoComposerDialogCaptionEditorPlayer.react"),{videoData:this.state.videoData,videoID:this.props.video.id,playable_duration_in_ms:this.state.duration,onUpdatePlayerState:this.$VideoComposerDialogCaptionEditorVideoPlayerContainer1,onUpdateCurrentPlayPosition:this.$VideoComposerDialogCaptionEditorVideoPlayerContainer2,captionToDisplay:p}))};n.prototype.$VideoComposerDialogCaptionEditorVideoPlayerContainer3=function(p){__p&&__p();if(this.state.captionEntries.size===0)return;var q=this.state.previewEntry?this.state.previewEntry.node.start_time_in_ms:0,r=this.state.previewEntry?this.state.previewEntry.node.duration_in_ms:0,s=q+r;if(p>=q&&p<=s)return;var t=this.state.captionEntries,u=t.get(this.state.nextEntryIdx),v=null;if(this.state.nextEntryIdx>0)v=t.get(this.state.nextEntryIdx-1);var w=u.node.start_time_in_ms+u.node.duration_in_ms,x=u.node.start_time_in_ms;if(p>=x&&p<=w){c("VideoComposerDialogCaptionEditorActions").setPreviewEntry(this.state.nextEntryIdx);return}var y=0;if(v)y=v.node.start_time_in_ms+v.node.duration_in_ms;if(p<=w&&v&&p>=y){c("VideoComposerDialogCaptionEditorActions").setPreviewEntry(m);return}var z=0;for(z=0;z<t.size;z++){var A=t.get(z).node.start_time_in_ms+t.get(z).node.duration_in_ms;if(p<=A){c("VideoComposerDialogCaptionEditorActions").setNextEntry(z);break}}if(z===t.size)c("VideoComposerDialogCaptionEditorActions").setPreviewEntry(m)};n.prototype.$VideoComposerDialogCaptionEditorVideoPlayerContainer1=function(p){c("VideoComposerDialogCaptionEditorPlayerActions").setPlayerState(p)};var o=k(c("FluxContainer").create(n),{video:function p(){return c("VideoComposerDialogCaptionEditorVideoPlayerContainer_video.graphql")}});o.moduleName="VideoComposerDialogCaptionEditorVideoPlayerContainer.react";f.exports=o}),null);
__d("VideoCaption",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){"use strict";this.locale=i;this.locale_name=j;this.is_default=false;this.is_auto_generated=false}h.prototype.getLocale=function(){"use strict";return this.locale};h.prototype.getLocaleName=function(){"use strict";return this.locale_name};h.prototype.getIsDefault=function(){"use strict";return this.is_default};h.prototype.setIsDefault=function(i){"use strict";this.is_default=i};h.prototype.getIsAutoGenerated=function(){"use strict";return this.is_auto_generated};h.prototype.setIsAutoGenerated=function(i){"use strict";this.is_auto_generated=i};f.exports=h}),null);
__d("VideoCaptionFile",["InsightsLocaleNamesSwitch","VideoCaption"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("InsightsLocaleNamesSwitch").module;h=babelHelpers.inherits(k,c("VideoCaption"));i=h&&h.prototype;function k(l,m,n){"use strict";i.constructor.call(this,m,n);this.file=l}k.fromFile=function(l){"use strict";var m=l.name.split(".");if(m.length==3){var n=m[1];if(j[n])return new this(l,n,j[n])}return null};k.prototype.getFile=function(){"use strict";return this.file};f.exports=k}),null);
__d("VideoUploadUIError",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAPTION_ERROR_WRONG_FORMAT:"caption_error_wrong_format",CAPTION_ERROR_DUPLICATE_LOCALE:"caption_error_duplicate_locale",CAPTION_ERROR_GENERATE_FAIL:"caption_error_generate_fail",CAPTION_ERROR_CREATE_FAIL:"caption_error_create_fail",CAPTION_ERROR_DELETE_FAIL:"caption_error_delete_fail",AUTOGENERATE_FAIL_RETRY:"auto_generate_fail_retry"})}),null);
__d("VideoUploadUILoggerEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VIDEO_FILE_SELECTED:"video_file_selected",TAB_SWITCH:"tab_switch",CAPTION_UPLOAD_BUTTON_CLICKED:"caption_upload_button_clicked",CAPTION_SELECTED:"caption_selected",CAPTION_REMOVED:"caption_removed",CAPTION_DEFAULT_LOCALE_CHANGED:"caption_default_locale_changed",CAPTION_ERROR:"caption_error",CONTENT_TAGS_SELECTED:"content_tags_selected",CONTENT_TAGS_REMOVED:"content_tags_removed",PERMISSIONS_CHANGED:"permissions_changed",CAPTION_GENERATE_BUTTON_CLICKED:"caption_generate_button_clicked",CAPTION_GENERATE_COMPLETE:"caption_generate_complete",CAPTION_GENERATE_CANCEL:"caption_generate_cancel",CAPTION_CREATE_BUTTON_CLICKED:"caption_create_button_clicked",CAPTION_CREATE_COMPLETE:"caption_create_complete",CAPTION_UPLOAD_COMPLETE:"caption_upload_complete",VIDEO_LANGUAGE_SELECTED:"video_language_selected",CAPTION_DRAFT_EDITED:"caption_draft_edited",CAPTION_DRAFT_DELETED:"caption_draft_deleted",CAPTION_PUBLISHED_EDITED:"caption_published_edited",CAPTION_PUBLISHED_DELETED:"caption_published_deleted"})}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer.react",["React","VideoComposerDialogCaptionEditorConstants","immutable","VideoComposerDialogCaptionLandingAddSubtitleButtons.react","FluxContainer","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoCaptionFile","VideoUploadUIError","VideoComposerDialogCaptionEditorUtils","VideoUploadUILoggerEvents"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){__p&&__p();var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer2=function(){this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer3(c("VideoUploadUILoggerEvents").CAPTION_CREATE_BUTTON_CLICKED);c("VideoComposerDialogCaptionsTabActions").create()}.bind(this),this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer4=function(p){__p&&__p();var q=this.state.captions,r=[],s=p.files,t=null,u=null;Array.from(s).forEach(function(x){var y=c("VideoCaptionFile").fromFile(x),z=this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer5(y,q);if(z){t=z;u=y}else r.push(y)}.bind(this));if(t){var v=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(t,u?u.getLocaleName():null),w=c("immutable").List([v]);c("VideoComposerDialogCaptionsTabActions").updateErrorState(w)}else c("VideoComposerDialogCaptionsTabActions").upload(r)}.bind(this),this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer6=function(){this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer3(c("VideoUploadUILoggerEvents").CAPTION_UPLOAD_BUTTON_CLICKED)}.bind(this),l}j.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};j.calculateState=function(){return{captions:c("VideoComposerDialogCaptionsStore").getAllCaptions(),spokenLanguage:c("VideoComposerDialogCaptionsStore").getSpokenLanguage(),spokenLocale:c("VideoComposerDialogCaptionsStore").getSpokenLocale(),autoGeneratingLocale:c("VideoComposerDialogCaptionsStore").getAutoGeneratingLocale(),enableFeatures:c("VideoComposerDialogCaptionsStore").getEnableAdvancedCaptionsFeatures()}};j.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer1=function(){c("VideoComposerDialogCaptionsTabActions").generate()};j.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer3=function(k,l){c("VideoComposerDialogCaptionsStore").getLogger().setEvent(k).setError(l).log()};j.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer5=function(k,l){var m=null;if(!k)m=c("VideoUploadUIError").CAPTION_ERROR_WRONG_FORMAT;else if(this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer7(k.getLocale(),l))m=c("VideoUploadUIError").CAPTION_ERROR_DUPLICATE_LOCALE;return m};j.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer7=function(k,l){var m=l.some(function(p){return p.locale===k}),n=c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(this.state.autoGeneratingLocale||""),o=n===k;return m||o};j.prototype.render=function(){var k=this.state.spokenLanguage===c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED&&this.state.captions.isEmpty()&&this.state.enableFeatures;return c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleButtons.react"),{enableFeatures:this.state.enableFeatures,disableSection:k,shouldShowGenerate:this.props.shouldShowGenerate,spokenLanguage:this.state.spokenLanguage,spokenLocale:this.state.spokenLocale,onGenerate:this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer1,onCreate:this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer2,onUpload:this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer4,onUploadClick:this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer6})};f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleDescription.react",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=i._("Add new subtitles or captions"),n=i._("Adding captions increases video engagement. We can try to auto-generate them for you, or you can write them yourself or upload an SRT file.");if(!this.props.enableFeatures)n=i._("Adding captions increases video engagement. You can include captions with your video in multiple languages by uploading a SubRip (.srt) file.");if(this.props.doSubtitlesExist){m=i._("Add more captions");n=i._("You can add additional captions to your video in another language.")}return c("React").createElement("span",{className:"_1lt4"+(!this.props.enableSection?" _2sq3":"")},c("React").createElement("span",{className:"_1lt5"},m),c("React").createElement("span",{className:"_1lt6"},n))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleDescriptionContainer.react",["FluxContainer","React","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionLandingAddSubtitleDescription.react","VideoComposerDialogCaptionsStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};j.calculateState=function(){var k=c("VideoComposerDialogCaptionsStore").getState(),l=k.published&&k.published.size>0||k.drafts&&k.drafts.size>0;return{doSubtitlesExist:l,isSpokenLanguageSelected:c("VideoComposerDialogCaptionsStore").isSpokenLanguageSelected(),enableFeatures:k.enableAdvancedCaptionsFeatures}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleDescription.react"),{doSubtitlesExist:this.state.doSubtitlesExist,enableSection:this.state.isSpokenLanguageSelected||this.state.doSubtitlesExist||!this.state.enableFeatures,enableFeatures:this.state.enableFeatures})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionsContainer.react",["fbt","FluxContainer","immutable","React","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorDialog.react","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionLandingSection.react","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogDispatcher","VideoComposerDialogMode"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};k.$VideoComposerDialogCaptionsContainer1=function(l){__p&&__p();for(var m=l.drafts,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(q.creationMethod===c("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED)return true}return false};k.$VideoComposerDialogCaptionsContainer2=function(l){for(var m=0;m<l.drafts.size;m++)if(l.drafts.get(m).locale!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)return true;return false};k.calculateState=function(){var l=c("VideoComposerDialogCaptionsStore").getState(),m=this.$VideoComposerDialogCaptionsContainer1(l),n=this.$VideoComposerDialogCaptionsContainer2(l)||c("VideoComposerDialogCaptionsStore").getIsCrosspostMode()&&!l.get("captionURLs").isEmpty();return{caption:l.selectedCaption,show_caption_editor:l.show_caption_editor,showDrafts:n,isAutoGenerating:l.isAutoGenerating,hasAutoGenerated:m,errors:l.errors,enableFeatures:l.enableAdvancedCaptionsFeatures}};k.prototype.componentWillMount=function(){__p&&__p();c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogCaptionsStore"),c("VideoComposerDialogCaptionEditorStore")]);if(this.props.composerDialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST)return;var l=c("VideoComposerDialogCaptionsStore").getState();if(l.video_id!==this.props.video_id||l.videoFile!==this.props.videoFile){c("VideoComposerDialogCaptionsTabActions").resetCaptionsLandingTab();c("VideoComposerDialogCaptionsTabActions").initialize(this.props.videoFile,this.props.video_id,this.props.accessToken,this.props.composerID,this.props.pageID,this.props.videoDurationInSec,this.props.composerDialogMode,this.props.isOldComposer!==null?this.props.isOldComposer:false);if(this.props.isOldComposer!==true)c("VideoComposerDialogCaptionsTabActions").tryLogCaptionLandingScreenOpenEvent()}else{c("VideoComposerDialogCaptionsTabActions").tryResumeAutoGeneration();return}};k.prototype.componentWillReceiveProps=function(l){if(l.composerDialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST)return;var m=l.video_id!==null&&l.video_id!=="",n=this.props.video_id!==l.video_id,o=this.props.videoFile!==l.videoFile;if(m&&(n||o)){c("VideoComposerDialogCaptionsTabActions").initialize(l.videoFile,l.video_id,this.props.accessToken,this.props.composerID,this.props.pageID,this.props.videoDurationInSec,this.props.composerDialogMode,this.props.isOldComposer!==null?this.props.isOldComposer:false);if(this.props.isOldComposer!==true||c("VideoComposerDialogCaptionsStore").wasTabOpenedInOldComposer())c("VideoComposerDialogCaptionsTabActions").tryLogCaptionLandingScreenOpenEvent()}};k.prototype.$VideoComposerDialogCaptionsContainer3=function(){c("VideoComposerDialogCaptionsTabActions").showCaptionEditor()};k.prototype.$VideoComposerDialogCaptionsContainer4=function(){c("VideoComposerDialogCaptionsTabActions").hideCaptionEditor()};k.prototype.render=function(){var l=null;if(this.state.show_caption_editor)l=c("React").createElement(c("VideoComposerDialogCaptionEditorDialog.react"),babelHelpers["extends"]({video_id:this.props.video_id},this.state,{onCloseButtonClick:function(){return this.$VideoComposerDialogCaptionsContainer4()}.bind(this)}));return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogCaptionLandingSection.react"),{hasAutoGenerated:this.state.hasAutoGenerated,isAutoGenerating:this.state.isAutoGenerating,shouldShowDrafts:this.state.showDrafts,errors:this.state.errors,isVideoUploaded:this.props.isVideoUploaded,enableFeatures:this.state.enableFeatures}),l)};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogCaptionsTabContainer.react",["FluxContainer","React","VideoComposerDialogCaptionsTabConfig","VideoComposerDialogTabItem.react","VideoComposerDialogTab","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{isSelected:l===c("VideoComposerDialogTab").CAPTIONS}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogCaptionsTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogLandingScreenDefaultLanguageSection.react",["cx","fbt","InlineFbtResult","immutable","React","SUIDropdownMenu.react","SUIBusinessTheme"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogLandingScreenDefaultLanguageSection1=function(m){this.props.onSelectLocale(m)};l.prototype.render=function(){var m=i._("Default Language"),n=i._("If the user's preferred caption language isn't available, captions in this language will be used instead.");return c("React").createElement("div",{className:"_2a8-"},c("React").createElement("span",{className:"_1lt4"+(!this.props.enableSection?" _2sq3":"")},c("React").createElement("div",{className:"_1lt5"},m),c("React").createElement("div",{className:"_1lt6"},n)),c("React").createElement("span",null,this.getDropdownMenu()))};l.prototype.getDropdownMenu=function(){return c("React").createElement(c("SUIDropdownMenu.react"),{items:this.getListItems(),disabled:!this.props.enableSection,theme:c("SUIBusinessTheme"),label:this.props.defaultLocale?this.props.defaultLocale:i._("Choose language")})};l.prototype.getListItems=function(){var m=this.props.captionLocales.map(function(n){return{type:"item",label:n.fbt,onClick:function(){return this.$VideoComposerDialogLandingScreenDefaultLanguageSection1(n.locale)}.bind(this)}}.bind(this));return m.toArray()};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogLandingScreenDefaultLanguageContainer.react",["FluxContainer","immutable","InlineFbtResult","React","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogLandingScreenDefaultLanguageSection.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};j.calculateState=function(){var k=c("VideoComposerDialogCaptionsStore").getState(),l=k.captionFiles,m=null,n=[];l.forEach(function(p){if(p.getIsDefault())m=p.getLocaleName();n.push({locale:p.getLocale(),fbt:p.getLocaleName()})});n=c("immutable").List(n);var o=n.size>0;return{defaultLocale:m,captionLocales:n,enableSection:o}};j.prototype.$VideoComposerDialogLandingScreenDefaultLanguageContainer1=function(k){c("VideoComposerDialogCaptionsTabActions").setDefaultLocale(k)};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogLandingScreenDefaultLanguageSection.react"),{captionLocales:this.state.captionLocales,defaultLocale:this.state.defaultLocale,enableSection:this.state.enableSection,onSelectLocale:function(k){return this.$VideoComposerDialogLandingScreenDefaultLanguageContainer1(k)}.bind(this)})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoSubtitlePublishedStatusType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DRAFT:0,PUBLISHED:1,PUBLISH_PENDING:2})}),null);
__d("VideoComposerDialogCaptionEditorPublishStateEnum",["keyMirrorRecursive","VideoSubtitlePublishedStatusType"],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze(c("keyMirrorRecursive")(c("VideoSubtitlePublishedStatusType")));f.exports=h}),null);
__d("VideoComposerDialogLandingScreenItem.react",["ix","cx","VideoComposerDialogCaptionEditorConstants","React","SUIButton.react","SUIAtlasTheme","XUIText.react","asset","Image.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=this.$VideoComposerDialogLandingScreenItem1();return c("React").createElement("div",{className:(this.props.visibility?"_35ly":"")+(!this.props.visibility?" _4s3p":"")},c("React").createElement("span",{className:"_35lz"},c("React").createElement("span",{className:"_35m9",title:this.props.hoverText},c("React").createElement(c("SUIButton.react"),{borderedSides:[],hasHoverState:false,label:"ChangeState",labelIsHidden:true,icon:this.props.icon,height:"tall",theme:c("SUIAtlasTheme"),uniformOverride:c("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,onClick:this.props.onChangeState,use:"default"})),c("React").createElement("span",{className:"_35ma"},c("React").createElement(c("XUIText.react"),{size:"meta1",weigh:"bold"},this.props.text))),c("React").createElement("span",{className:"_35mg"},m,c("React").createElement("span",{className:"_35mi"},c("React").createElement(c("SUIButton.react"),{borderedSides:[],hasHoverState:false,label:"Delete",labelIsHidden:true,icon:c("React").createElement(c("Image.react"),{src:h("393803")}),onClick:function(){return this.props.onDelete()}.bind(this),uniformOverride:c("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,theme:c("SUIAtlasTheme"),use:"default"}))))};l.prototype.$VideoComposerDialogLandingScreenItem1=function(){if(!this.props.editable)return null;return c("React").createElement("span",{className:"_35mh"+(!this.props.enableFeatures?" _4qg8":"")},c("React").createElement(c("SUIButton.react"),{borderedSides:[],hasHoverState:false,label:"Edit",labelIsHidden:true,icon:c("React").createElement(c("Image.react"),{src:h("359076")}),style:{marginRight:19},theme:c("SUIAtlasTheme"),uniformOverride:c("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,onClick:function(){return this.props.onEdit()}.bind(this),use:"default"}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogLandingScreenDraftListContainer.react",["ix","fbt","FbtResultBase","FluxContainer","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogLandingScreenGeneratePillContainer.react","VideoCaptionEditorURL","VideoComposerDialogLandingScreenItem.react","fbglyph","Image.react","immutable","React","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogCaptionEditorPublishStateEnum"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};l.calculateState=function(){var m=c("VideoComposerDialogCaptionsStore").getState();return{isCrosspostFlow:c("VideoComposerDialogCaptionsStore").getIsCrosspostMode(),drafts:m.drafts,captionURLs:m.get("captionURLs"),isAutoGenerating:m.isAutoGenerating,enableFeatures:m.enableAdvancedCaptionsFeatures}};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer1=function(m){if(m===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED)return i._("Published");else if(m===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)return i._("Publishing pending");else return i._("Draft")};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer2=function(m){if(m===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED)return c("React").createElement(c("Image.react"),{src:h("119371")});else if(m===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)return c("React").createElement(c("Image.react"),{src:h("132187")});return c("React").createElement(c("Image.react"),{src:h("125832")})};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer3=function(m,n){var o=this.$VideoComposerDialogLandingScreenDraftListContainer2(m.getPublishState()),p=this.$VideoComposerDialogLandingScreenDraftListContainer1(m.getPublishState()),q=i._("{language}",[i.param("language",m.getLocaleName())]);return this.$VideoComposerDialogLandingScreenDraftListContainer4(n,q,o,p,true,false,function(){},function(){return c("VideoComposerDialogCaptionsTabActions").deleteCaptionsURL(n)},function(){return c("VideoComposerDialogCaptionsTabActions").changePublishedStateURL(n)})};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer5=function(m,n){__p&&__p();var o=null,p=this.$VideoComposerDialogLandingScreenDraftListContainer2(m.publishedState),q=this.$VideoComposerDialogLandingScreenDraftListContainer1(m.publishedState),r=true;if(m.creationMethod===c("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED)o=i._("{language}: auto-generated",[i.param("language",m.language)]);else if(m.creationMethod===c("VideoComposerDialogCaptionEditorConstants").SPEECH_NON_SPEECH||m.creationMethod===c("VideoComposerDialogCaptionEditorConstants").MANUAL)o=i._("{language}: written",[i.param("language",m.language)]);else o=i._("{language}: uploaded",[i.param("language",m.language)]);if(m.locale===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)r=false;return this.$VideoComposerDialogLandingScreenDraftListContainer4(n,o,p,q,r,true,function(){return c("VideoComposerDialogCaptionsTabActions").editCaptionsDraft(n)},function(){return c("VideoComposerDialogCaptionsTabActions").deleteCaptionsDraft(n)},function(){return c("VideoComposerDialogCaptionsTabActions").changePublishedState(n)})};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer4=function(m,n,o,p,q,r,s,t,u){return c("React").createElement(c("VideoComposerDialogLandingScreenItem.react"),{enableFeatures:this.state.enableFeatures,hoverText:p,icon:o,id:m,key:m,text:n,visibility:q,editable:r,onChangeState:u,onEdit:s,onDelete:t})};l.prototype.render=function(){var m=this.state.isAutoGenerating?{}:{display:"none"},n=null;if(this.state.isCrosspostFlow)n=this.state.captionURLs.map(function(o,p){var q=this.$VideoComposerDialogLandingScreenDraftListContainer3(o,p);return q}.bind(this));else n=this.state.drafts?this.state.drafts.map(function(o,p){return this.$VideoComposerDialogLandingScreenDraftListContainer5(o,p)}.bind(this)):null;return c("React").createElement("div",null,c("React").createElement("span",{style:m},c("React").createElement(c("VideoComposerDialogLandingScreenGeneratePillContainer.react"),null)),c("React").createElement("div",null,n))};function l(){j.apply(this,arguments)}f.exports=c("FluxContainer").create(l)}),null);
__d("VideoComposerDialogLandingScreenGeneratePill.react",["ix","cx","fbt","SUIAtlasTheme","SUIButton.react","VideoComposerDialogCaptionEditorConstants","Image.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("React").createElement(c("Image.react"),{src:h("116818")}),o=c("React").createElement(c("SUIButton.react"),{borderedSides:[],hasHoverState:false,label:"Delete",labelIsHidden:true,icon:c("React").createElement(c("Image.react"),{src:h("116302")}),onClick:function(){return this.props.onCancel()}.bind(this),uniformOverride:c("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,theme:c("SUIAtlasTheme"),use:"default"});return c("React").createElement("div",{className:"_3re4"},c("React").createElement("div",{style:{width:this.props.progress*c("VideoComposerDialogCaptionEditorConstants").GENERATION_PILL_WIDTH/100},className:"_3re6"}),c("React").createElement("span",{className:"_3re7"},c("React").createElement("span",{className:"_3re9"},c("React").createElement("span",{className:"_3reh"},n),c("React").createElement("span",{className:"_3req"},j._("{percentage}",[j.param("percentage",Math.round(this.props.progress)+"%")])),c("React").createElement("span",{className:"_3req"},this.props.text)),c("React").createElement("div",{className:"_3rer"},o)))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogLandingScreenGeneratePillContainer.react",["fbt","FluxContainer","React","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogLandingScreenGeneratePill.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionsStore").getState();return{text:h._("Generating captions in {spokenLanguage}",[h.param("spokenLanguage",l.spokenLanguage)]),progress:l.progress}};k.prototype.$VideoComposerDialogLandingScreenGeneratePillContainer1=function(){c("VideoComposerDialogCaptionsTabActions").cancelGenerate()};k.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogLandingScreenGeneratePill.react"),{text:this.state.text,progress:this.state.progress,onCancel:function(){return this.$VideoComposerDialogLandingScreenGeneratePillContainer1()}.bind(this)})};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogLandingScreenSpokenLanguageSection.react",["cx","fbt","VideoComposerDialogCaptionEditorConstants","LanguageDialectRenderStyle","LanguageDialectSetTypes","React","VideoComposerDialogLandingScreenLanguageSelector.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=i._("Video language"),n=i._("Choose the main language spoken in the video.");return c("React").createElement("div",{className:"_2a8-"},c("React").createElement("span",{className:"_1lt4"},c("React").createElement("div",{className:"_1lt5"},m),c("React").createElement("div",{className:"_1lt6"},n)),c("React").createElement("span",null,c("React").createElement(c("VideoComposerDialogLandingScreenLanguageSelector.react"),{dialectType:c("LanguageDialectSetTypes").LANGUAGE_DETECTION,dialectName:this.props.spokenLanguage,isLanguageSelected:this.props.isSpokenLanguageSelected,placeholder:c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,renderStyle:c("LanguageDialectRenderStyle").DEFAULT,onSetDialectName:function(o){return this.props.onSelectLanguage(o)}.bind(this),onSetDialect:function(o){return this.props.onSelectLocale(o)}.bind(this)})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogLandingScreenSpokenLanguageContainer.react",["FluxContainer","React","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogLandingScreenSpokenLanguageSection.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};j.calculateState=function(){return{spokenLanguage:c("VideoComposerDialogCaptionsStore").getSpokenLanguage(),isSpokenLanguageSelected:c("VideoComposerDialogCaptionsStore").isSpokenLanguageSelected()}};j.prototype.$VideoComposerDialogLandingScreenSpokenLanguageContainer1=function(k){c("VideoComposerDialogCaptionsTabActions").selectSpokenLanguage(k)};j.prototype.$VideoComposerDialogLandingScreenSpokenLanguageContainer2=function(k){c("VideoComposerDialogCaptionsTabActions").selectSpokenLocale(k)};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogLandingScreenSpokenLanguageSection.react"),{spokenLanguage:this.state.spokenLanguage,isSpokenLanguageSelected:this.state.isSpokenLanguageSelected,onSelectLanguage:function(k){return this.$VideoComposerDialogLandingScreenSpokenLanguageContainer1(k)}.bind(this),onSelectLocale:function(k){return this.$VideoComposerDialogLandingScreenSpokenLanguageContainer2(k)}.bind(this)})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogSphericalDirectorContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogSphericalDirectorActions","VideoComposerDialogSphericalDirectorSection.react","VideoComposerDialogSphericalDirectorStore","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogSphericalDirectorStore"),c("VideoComposerDialogUploadStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogSphericalDirectorStore").getState(),l=k.contextConfig,m=k.showOmnistabSection,n=k.spherical,o=c("VideoComposerDialogUploadStore").getState(),p=o.videoFile,q=c("VideoComposerDialogMetadataStore").getState(),r=q.dialogMode,s=q.videoAssetID,t=q.videoID;return{contextConfig:l,dialogMode:r,spherical:n,showOmnistabSection:m,videoAssetID:s,videoFile:p,videoID:t}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogSphericalDirectorSection.react"),{contextConfig:this.state.contextConfig,dialogMode:this.state.dialogMode,ontoggleSpherical:this.$VideoComposerDialogSphericalDirectorContainer1,showOmnistabSection:this.state.showOmnistabSection,spherical:this.state.spherical,videoAssetID:this.state.videoAssetID,videoFile:this.state.videoFile,videoID:this.state.videoID})};j.prototype.$VideoComposerDialogSphericalDirectorContainer1=function(k){c("VideoComposerDialogSphericalDirectorActions").toggleSpherical(k)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogSphericalDirectorTabContainer.react",["FluxContainer","React","VideoComposerDialogMode","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogSphericalDirectorStore","VideoComposerDialogSphericalDirectorTabConfig","VideoComposerDialogTabItem.react","VideoComposerDialogTab","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogMetadataStore").getState(),l=k.dialogMode,m=k.isSpherical,n=c("VideoComposerDialogUIStore").getState(),o=n.selectedTab;return{dialogMode:l,isSelected:o===c("VideoComposerDialogTab").SPHERICAL_DIRECTOR,isSpherical:m}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogSphericalDirectorStore")])};j.prototype.render=function(){if(this.state.dialogMode!==c("VideoComposerDialogMode").VIDEO_UPLOAD&&!this.state.isSpherical)return c("React").createElement("div",null);return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogSphericalDirectorTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogBasicStore",["invariant","Promise","AdsCallToActionTypes","ComposerVideoPostUtils","EditorState","FluxReduceStore","immutable","PagesComposerBoostedPostsStore","ReactComposerPostDataUtils","ReactComposerTaggerStore","ReactComposerTaggerType","StaticSearchSource","VideoComposerDialogActionTypes","VideoComposerDialogBasicUtils","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogShowVideo","dotAccess","flattenPHPQueryData","getMentionsInputDecorator","getMentionsTextForContentState","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m={autoCrosspostToShowParent:false,bootloaded:false,canEditShowAndParent:false,composerConfig:null,contentTags:[],descriptionEditorState:c("EditorState").createEmpty(c("getMentionsInputDecorator")()),mentionsSearchSource:new(c("StaticSearchSource"))([]),playlistIDs:[],playlistOptions:{},seasonID:null,seasonOptions:{},showParentPageName:"",showParentPageProfileURI:"",taggerSearchSource:new(c("StaticSearchSource"))([]),videoPreviewController:null};i=babelHelpers.inherits(n,c("immutable").Record(m));j=i&&i.prototype;function n(){i.apply(this,arguments)}k=babelHelpers.inherits(o,c("FluxReduceStore"));l=k&&k.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){__p&&__p();switch(q.type){case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:if(q.editParams.isVideoShowPage){p=p.set("playlistIDs",q.editParams.episodeData.get("playlistIDs"));p=p.set("seasonID",q.editParams.episodeData.get("seasonID"));c("VideoComposerDialogBasicUtils").fetchVideoListOptions(q.editParams.actorID)}return p;case c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_TAB_PARAMETERS:p=this.$VideoComposerDialogBasicStore1(p,q.data);var r=c("VideoComposerDialogMetadataStore").getState(),s=r.isVideoShowPage;if(s){p=p.set("autoCrosspostToShowParent",q.data.canEditShowAndParent);p=p.set("canEditShowAndParent",q.data.canEditShowAndParent);p=p.set("showParentPageName",q.data.showParentPageName);p=p.set("showParentPageProfileURI",q.data.showParentPageProfileURI)}return p;case c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_DEFAULT_TAB:p=this.$VideoComposerDialogBasicStore1(p,q.data);p=p.set("descriptionEditorState",c("VideoComposerDialogBasicUtils").getEditorStateForText(q.data.description));p=p.set("contentTags",q.data.contentTags);return p;case c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_EDIT_PARAMS:p=this.$VideoComposerDialogBasicStore1(p,q.data);p=p.set("contentTags",c("VideoComposerDialogBasicUtils").convertVideoTagsToEntryArray(q.data.contentTags,q.data.freeFormTags));p=p.set("descriptionEditorState",c("VideoComposerDialogBasicUtils").getEditorStateForText(q.data.description));c("VideoComposerDialogBasicUtils").setComposerTaggerData(p.composerConfig.contextConfig.composerID,q.data.tags,q.data.locationEntry,q.data.backdate,{sponsors:q.data.sponsorTags,directShareStatus:q.data.directShareStatus,sponsorRelationship:q.data.sponsorRelationship},q.data.productTags);return p;case c("VideoComposerDialogActionTypes").TOGGLE_CROSSPOST_TO_PARENT:return p.set("autoCrosspostToShowParent",!p.autoCrosspostToShowParent);case c("VideoComposerDialogActionTypes").UPDATE_CONTENT_TAGS:p=p.set("contentTags",q.tags);return p;case c("VideoComposerDialogActionTypes").UPDATE_DESCRIPTION_EDITOR_STATE:p=p.set("descriptionEditorState",q.editorState);return p;case c("VideoComposerDialogActionTypes").UPDATE_PLAYLIST_IDS:p=p.set("playlistIDs",q.playlistIDs);return p;case c("VideoComposerDialogActionTypes").UPDATE_SEASON_ID:p=p.set("seasonID",q.seasonID);return p;case c("VideoComposerDialogActionTypes").UPDATE_VIDEO_LIST_OPTIONS:p=p.set("playlistOptions",q.playlistOptions);p=p.set("seasonOptions",q.seasonOptions);return p;case c("VideoComposerDialogActionTypes").UPDATE_VIDEO_PREVIEW_CONTROLLER:p=p.set("videoPreviewController",q.videoPreviewController);return p;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:p=this.getInitialState();return p;default:return p}};o.prototype.$VideoComposerDialogBasicStore1=function(p,q){p=p.set("composerConfig",q.composerConfig);p=p.set("mentionsSearchSource",q.mentionsSearchSource);p=p.set("taggerSearchSource",q.taggerSearchSource);p=p.set("bootloaded",true);return p};o.prototype.getPostData=function(){var p=this.getState(),q=p.bootloaded,r=p.composerConfig,s=p.autoCrosspostToShowParent,t=p.contentTags,u=p.descriptionEditorState,v=p.playlistIDs,w=p.seasonID,x=c("VideoComposerDialogMetadataStore").getState(),y=x.showVideoType,z=y===c("VideoComposerDialogShowVideo").EPISODE;q&&r||h(0);var A=c("getMentionsTextForContentState")(u.getCurrentContent()),B={isEpisode:z,seasonID:z?w:null,playlistIDs:v},C=r.taggersConfig,D=C.get(c("ReactComposerTaggerType").TARGETING),E=D?c("dotAccess")(D,"feedTargetingGK"):false,F=c("ReactComposerPostDataUtils").getPostData({composerID:r.contextConfig.composerID,targetID:parseInt(r.contextConfig.targetID,10),composerConfig:{contextInfo:{}},useHints:E}),G=c("ReactComposerTaggerStore").hasMessagingCTA(r.contextConfig.composerID)?c("AdsCallToActionTypes").TYPES.MESSAGE_PAGE.name:null;return c("Promise").resolve({action_type_id:F.action_type_id,composertags_place:F.composertags_place,composertags_place_name:F.composertags_place_name,composertags_product_items:F.composertags_product_items,composertags_sponsor:F.composertags_sponsors,composertags_with:F.composertags_with,content_tags:c("VideoComposerDialogBasicUtils").getContentTagEntryIDs(t),cta_type:G,direct_share_status:F.direct_share_status,episode_data_json:JSON.stringify(B),feed_targeted_data:F.feed_targeted_data,free_form_tags:c("VideoComposerDialogBasicUtils").getFreeFormContentTags(t),icon_id:F.icon_id,object_id:F.object_id,object_str:F.object_str,share_to_parent_page_option_selected:s,sponsor_relationship:F.sponsor_relationship,targeted_privacy_data:F.targeted_privacy_data,xhpc_message:A})};o.prototype.getCrosspostRequestDataToSend=function(){__p&&__p();var p,q,r=this.getState(),s=r.composerConfig,t=r.contentTags,u=r.descriptionEditorState,v=(p=s)!=null?(p=p.contextConfig)!=null?p.composerID:p:p;if(!v)return c("Promise").reject();var w={},x=c("getMentionsTextForContentState")(u.getCurrentContent());w.description=x;w.content_tags=c("VideoComposerDialogBasicUtils").getContentTagEntryIDs(t);w.free_form_tags=c("VideoComposerDialogBasicUtils").getFreeFormContentTags(t);var y=c("ReactComposerTaggerStore").getTaggerData(v,c("ReactComposerTaggerType").PEOPLE)||[];w.tags=y.map(function(M){return M.getUniqueID()});var z=c("ReactComposerTaggerStore").getTaggerData(v,c("ReactComposerTaggerType").LOCATION);if(z&&z.place&&z.place.getUniqueID&&z.place.getUniqueID())w.place=z.place.getUniqueID();var A=c("ReactComposerTaggerStore").getTaggerData(v,c("ReactComposerTaggerType").ACTIVITY);if(A&&A.action&&A.object){var B=A.object;w.og_action_type_id=A.action.getUniqueID();var C=B.getAuxiliaryData();if(C&&C.original_id)w.og_object_id=B.getUniqueID();else w.og_phrase=B.getTitle()}var D=c("ReactComposerTaggerStore").getTaggerData(v,c("ReactComposerTaggerType").TARGETING),E=null,F=null;if(D){E=D.targeting;F=D.gating}var G=c("ComposerVideoPostUtils").convertBaseTargeting(E);c("ComposerVideoPostUtils").convertExcludedLocations(F);delete G.zipcodes;w.pages_feed_targeting=G;w.pages_targeting=F;var H=c("ReactComposerTaggerStore").getTaggerData(v,c("ReactComposerTaggerType").SPONSOR);if(H){var I=(H.sponsors||[]).map(function(M){return M.getUniqueID()});if(I.length>0){w.sponsor_id=I[0];w.direct_share_status=H.directShareStatus;w.sponsor_relationship=H.sponsorRelationship}}var J=c("ReactComposerTaggerStore").getTaggerData(v,c("ReactComposerTaggerType").FUNDRAISER),K=(q=J)!=null?q.charityID:q;if(K)w.fundraiser_for_story_charity_id=K;var L=c("PagesComposerBoostedPostsStore").getConfig(v);if(L!==null)w.boosted_post=L;return c("Promise").resolve(c("flattenPHPQueryData")(w))};o.prototype.getEditRequestDataToSend=function(){var p,q=this.getPostData(),r=this.getState(),s=r.composerConfig,t=(p=s)!=null?(p=p.contextConfig)!=null?p.composerID:p:p;if(!t)return c("Promise").reject();var u=c("VideoComposerDialogBasicUtils").getComposerTaggerData(t);return q.then(function(v){var w={description:v.xhpc_message,content_tags:v.content_tags,episode_data:v.episode_data_json,free_form_tags:v.free_form_tags};Object.assign(w,u);return c("Promise").resolve(c("flattenPHPQueryData")(w))})};function o(){k.apply(this,arguments)}f.exports=new o(c("VideoComposerDialogDispatcher"))}),null);
__d("XVideoComposerDialogFetchCrosspostPagesController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/crosspost_pages/",{page_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogDistributionStore",["Promise","ActorURI","AsyncRequest","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","FluxReduceStore","VideoComposerDialogDistributionActions","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogTab","flattenPHPQueryData","immutable","XVideoComposerDialogFetchCrosspostPagesController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={showInNewsFeed:true,allowEmbedding:true,addAsSecretVideo:false,disableShowInNewsFeed:false,crosspostPages:null,enableCrosspostRefresh:false,allowGraphicWarningOption:false,showGraphicWarning:false,blockSocial:false};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").BOOTLOAD_DISTRIBUTION_TAB:return o.set("allowGraphicWarningOption",p.data.allowGraphicWarningOption);case c("VideoComposerDialogActionTypes").BOOTLOAD_DISTRIBUTION_TAB_FOR_EDIT:o=o.set("allowEmbedding",p.data.allowEmbedding);return o.set("crosspostPages",p.data.crosspostPages);case c("VideoComposerDialogActionTypes").TOGGLE_NEWS_FEED:return o.set("showInNewsFeed",!o.get("showInNewsFeed"));case c("VideoComposerDialogActionTypes").TOGGLE_EMBEDDING:return o.set("allowEmbedding",!o.get("allowEmbedding"));case c("VideoComposerDialogActionTypes").TOGGLE_SECRET_VIDEO:var q=!o.get("addAsSecretVideo");o=o.set("addAsSecretVideo",q);if(q){o=o.set("showInNewsFeed",false);o=o.set("disableShowInNewsFeed",true);o=o.set("blockSocial",true)}else{o=o.set("disableShowInNewsFeed",false);o=o.set("blockSocial",false)}return o;case c("VideoComposerDialogActionTypes").SELECT_TAB:var r=c("VideoComposerDialogMetadataStore").getState(),s=r.dialogMode;if(p.tab===c("VideoComposerDialogTab").DISTRIBUTION&&s===c("VideoComposerDialogMode").VIDEO_UPLOAD&&!Array.isArray(o.crosspostPages)){var t=c("VideoComposerDialogMetadataStore").getState();if(t.targetID)this.$VideoComposerDialogDistributionStore1(t.targetID)}return o;case c("VideoComposerDialogActionTypes").CROSSPOST_PAGES_FETCHED:return o.set("crosspostPages",p.pages);case c("VideoComposerDialogActionTypes").CROSSPOST_LINK_CLICKED:return o.set("enableCrosspostRefresh",true);case c("VideoComposerDialogActionTypes").REFRESH_CROSSPOST_PAGES:var u=c("VideoComposerDialogMetadataStore").getState();if(u.targetID){this.$VideoComposerDialogDistributionStore1(u.targetID);o=o.set("crosspostPages",null)}return o;case c("VideoComposerDialogActionTypes").TOGGLE_CROSSPOST_PAGE:var v=p.pageID;o=o.set("crosspostPages",o.get("crosspostPages").map(function(w){if(w.id===v)w.allow=!w.allow;return w}));return o;case c("VideoComposerDialogActionTypes").TOGGLE_GRAPHIC_WARNING:return o.set("showGraphicWarning",!o.get("showGraphicWarning"));case c("VideoComposerDialogActionTypes").TOGGLE_BLOCK_SOCIAL:return o.set("blockSocial",!o.get("blockSocial"));case c("VideoComposerDialogActionTypes").RESET_COMPOSER:return this.getInitialState();default:return o}};n.prototype.$VideoComposerDialogDistributionStore1=function(o){var p=c("XVideoComposerDialogFetchCrosspostPagesController").getURIBuilder().setFBID("page_id",o).getURI();p=c("ActorURI").create(p,o);new(c("AsyncRequest"))().setURI(p).setHandler(function(q){c("VideoComposerDialogDistributionActions").crosspostPagesFetched(q.getPayload())}).send()};n.prototype.getCrosspostRequestDataToSend=function(){var o=this.getState();return c("Promise").resolve({no_story:!o.showInNewsFeed,embeddable:o.allowEmbedding,secret:o.addAsSecretVideo,social_actions:!o.blockSocial})};n.prototype.getEditRequestDataToSend=function(){var o=this.getState();return c("Promise").resolve(c("flattenPHPQueryData")({embeddable:o.allowEmbedding,has_embeddable:true,crossposting_config:o.crosspostPages}))};n.prototype.getPostData=function(){var o=this.getState();return c("Promise").resolve({no_story:!o.showInNewsFeed,embeddable:o.allowEmbedding,secret:o.addAsSecretVideo,crossposting_config:o.crosspostPages||[],disturbing:o.showGraphicWarning,social_actions:!o.blockSocial})};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogEditStore",["FluxReduceStore","immutable","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogEditUtils","VideoComposerDialogMetadataStore","VideoComposerDialogVideoTypeConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={canMakeFeatured:false,creationTime:0,downloadHDUrl:null,downloadSDUrl:null,editTabsLoaded:false,embedURL:"",isFeaturedVideo:false,isSaving:false,publishingConfig:null,selectedPublishingAction:"",editSource:null,storyDomID:null,timelineIdentifier:null};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:o=o.set("canMakeFeatured",p.editParams.canMakeFeatured);o=o.set("creationTime",p.editParams.creationTime);o=o.set("downloadHDUrl",p.editParams.downloadHDUrl);o=o.set("downloadSDUrl",p.editParams.downloadSDUrl);o=o.set("editSource",p.editParams.editSource);o=o.set("embedURL",p.editParams.embedURL);o=o.set("isFeaturedVideo",p.editParams.isFeaturedVideo);o=o.set("publishingConfig",p.editParams.publishingConfig);o=o.set("selectedPublishingAction",p.editParams.publishingConfig.selectedValue);o=o.set("storyDomID",p.editParams.storyDomID);o=o.set("timelineIdentifier",p.editParams.timelineIdentifier);return o;case c("VideoComposerDialogActionTypes").EDIT_TABS_LOADED:o=o.set("editTabsLoaded",true);return o;case c("VideoComposerDialogActionTypes").UPDATE_IS_FEATURED_VIDEO:o=o.set("isFeaturedVideo",true);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO:o=o.set("isSaving",true);var q=c("VideoComposerDialogMetadataStore").getState(),r=q.actorID,s=q.videoID,t=q.videoType;if(r&&s)c("VideoComposerDialogEditUtils").onSave(r,s,c("VideoComposerDialogVideoTypeConfig").typeConfig[t].displayedTabs);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_SUCCESS:var u=c("VideoComposerDialogMetadataStore").getState();c("VideoComposerDialogEditUtils").onSuccessfulSave(u.actorID||"",u.videoID||"",u.videoAssetID||"",o.timelineIdentifier,o.storyDomID,o.editSource);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_FAILURE:o=o.set("isSaving",false);return o;case c("VideoComposerDialogActionTypes").SELECT_EDITING_PUBLISH_ACTION:o=o.set("selectedPublishingAction",p.publishAction);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:o=this.getInitialState();return o;default:return o}};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoEditEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({JS_LOADED:"js_loaded",PAGE_LOAD_STARTED:"page_loaded_started",EDIT_VIDEO_ASSET:"edit_video_asset",PAGE_LOADED:"page_loaded",SAVE_ERROR:"save_error",SAVE_START:"save_start",PREFERRED_THUMBNAIL_CHANGE:"preferred_thumbnail_change",THUMBNAIL_CREATE_STARTED:"thumbnail_create_started",THUMBNAIL_CREATED:"thumbnail_created",CLICK_PROFILE_ADD_CUSTOM_THUMBNAIL:"click_profile_add_custom_thumbnail",UPLOAD_PROFILE_CUSTOM_THUMBNAIL:"upload_profile_custom_thumbnail",CANCEL_UPLOAD_PROFILE_CUSTOM_THUMBNAIL:"cancel_upload_profile_custom_thumbnail",SAVE_PROFILE_CUSTOM_THUMBNAIL:"save_profile_custom_thumbnail",DID_NOT_USE_PROFILE_CUSTOM_THUMBNAIL:"did_not_use_custom_thumbnail",SAVE_SUCCESS:"save_success",CTA_UNEXPECTED:"cta_unexpected",CTA_CHANGE_REQUEST:"cta_change_request",VIDEO_DELETE:"video_delete",CAPTIONS_UPLOADED:"captions_uploaded",CAPTIONS_REMOVED:"captions_removed",CAPTIONS_UPDATED_DEFAULT_LOCALE:"captions_updated_default_locale",NO_EDIT_PERMISSION:"no_edit_permission",CANCEL:"cancel_flow",SAVE_CLICKED:"save_clicked",REQUEST_NEW_STORY:"new_story_requested",RECEIVED_NEW_STORY:"new_story_received",REPLACED_OLD_STORY:"old_story_replaced",ERROR_NO_NEW_STORY:"error_no_new_story",ROTATION_CHANGED:"rotation_changed"})}),null);
__d("VideoEditFlow",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DIALOG:"dialog",DIALOG_V2:"dialog_v2",FORM:"form"})}),null);
__d("VideoEditTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoEditLoggerConfig",this.$VideoEditTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoEditLoggerConfig",this.$VideoEditTypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:VideoEditLoggerConfig",this.$VideoEditTypedLogger1,{signal:true})};h.prototype.clear=function(){this.$VideoEditTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$VideoEditTypedLogger1)};h.prototype.updateData=function(j){this.$VideoEditTypedLogger1=babelHelpers["extends"]({},this.$VideoEditTypedLogger1,j);return this};h.prototype.setCaptionsCount=function(j){this.$VideoEditTypedLogger1.captions_count=j;return this};h.prototype.setChangedTitle=function(j){this.$VideoEditTypedLogger1.changed_title=j;return this};h.prototype.setEmbeddable=function(j){this.$VideoEditTypedLogger1.embeddable=j;return this};h.prototype.setEvent=function(j){this.$VideoEditTypedLogger1.event=j;return this};h.prototype.setExpirationTime=function(j){this.$VideoEditTypedLogger1.expiration_time=j;return this};h.prototype.setExpirationType=function(j){this.$VideoEditTypedLogger1.expiration_type=j;return this};h.prototype.setExpiredNow=function(j){this.$VideoEditTypedLogger1.expired_now=j;return this};h.prototype.setFlow=function(j){this.$VideoEditTypedLogger1.flow=j;return this};h.prototype.setHasContentCategoryChanged=function(j){this.$VideoEditTypedLogger1.has_content_category_changed=j;return this};h.prototype.setHasContentTagsChanged=function(j){this.$VideoEditTypedLogger1.has_content_tags_changed=j;return this};h.prototype.setPublishNow=function(j){this.$VideoEditTypedLogger1.publish_now=j;return this};h.prototype.setSource=function(j){this.$VideoEditTypedLogger1.source=j;return this};h.prototype.setVC=function(j){this.$VideoEditTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoEditTypedLogger1.video_id=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$VideoEditTypedLogger1=babelHelpers["extends"]({},this.$VideoEditTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={captions_count:true,changed_title:true,embeddable:true,event:true,expiration_time:true,expiration_type:true,expired_now:true,flow:true,has_content_category_changed:true,has_content_tags_changed:true,publish_now:true,source:true,vc:true,video_id:true};f.exports=h}),null);
__d("VideoComposerDialogLoggingStore",["FluxReduceStore","immutable","VideoAssetWaterfallEvent","VideoAssetWaterfallTypedLogger","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogEditStore","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogPublishingStore","VideoComposerDialogTab","VideoComposerDialogUIEvent","VideoComposerDialogUIStore","VideoComposerDialogUITypedLogger","VideoComposerDialogVersion","VideoEditEvent","VideoEditFlow","VideoEditTypedLogger","uuid"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={actorID:null,composerEntryPointRef:null,dialogMode:null,hasBeenReset:false,hasPlayedPreview:false,selectedTab:c("VideoComposerDialogTab").BASIC,sessionID:"",videoAssetID:null,videoAssetWaterfallSource:null,videoID:null};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER:o=o.set("actorID",p.actorID);o=o.set("composerEntryPointRef",p.composerEntryPointRef);o=o.set("sessionID",c("uuid")());o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_UPLOAD);this.logEvent(o,c("VideoComposerDialogUIEvent").DIALOG_OPENED);return o;case c("VideoComposerDialogActionTypes").INITIALIZE_CROSSPOST_COMPOSER:o=o.set("actorID",p.params.actorID);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_CROSSPOST);o=o.set("sessionID",c("uuid")());o=o.set("videoAssetID",p.params.videoAssetID);o=o.set("videoAssetWaterfallSource",p.params.videoAssetWaterfallSource);this.logEvent(o,c("VideoComposerDialogUIEvent").DIALOG_OPENED);this.logVideoAssetWaterfallEvent(o,c("VideoAssetWaterfallEvent").UI_NEW_POST_FROM_ASSET_START);return o;case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:o=o.set("actorID",p.editParams.actorID);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_EDIT);o=o.set("sessionID",c("uuid")());o=o.set("videoID",p.editParams.videoID);this.logEvent(o,c("VideoComposerDialogUIEvent").DIALOG_OPENED);this.logEditWaterfallEvent(o,c("VideoEditEvent").JS_LOADED);return o;case c("VideoComposerDialogActionTypes").SELECT_TAB:this.logEvent(o,c("VideoComposerDialogUIEvent").TAB_SWITCHED,null,p.tab);o=o.set("selectedTab",p.tab);return o;case c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER:if(p.data)this.logEvent(o,c("VideoComposerDialogUIEvent").METADATA_LOAD_SUCCESS);else this.logEvent(o,c("VideoComposerDialogUIEvent").METADATA_LOAD_FAILED);return o;case c("VideoComposerDialogActionTypes").EDIT_TABS_LOADED:this.logEvent(o,c("VideoComposerDialogUIEvent").EDIT_TABS_LOADED);return o;case c("VideoComposerDialogActionTypes").UPLOAD_FAILED:this.logEvent(o,c("VideoComposerDialogUIEvent").UPLOAD_FAILURE,p.errorData.error_description);return o;case c("VideoComposerDialogActionTypes").UPLOAD_FINISHED:this.logEvent(o,c("VideoComposerDialogUIEvent").UPLOAD_FINISHED);return o;case c("VideoComposerDialogActionTypes").POST_FAILED:this.logEvent(o,c("VideoComposerDialogUIEvent").POST_FAILURE,p.errorMessage);if(o.dialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST)this.logVideoAssetWaterfallEvent(o,c("VideoAssetWaterfallEvent").UI_NEW_POST_FROM_ASSET_FAILURE,p.errorMessage);return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_REPLACE_FILE:this.logEvent(o,c("VideoComposerDialogUIEvent").EXIT_COMPOSER_REPLACE_FILE);return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_SAVE_DRAFT:this.logEvent(o,c("VideoComposerDialogUIEvent").EXIT_COMPOSER_SAVE_DRAFT);return o;case c("VideoComposerDialogActionTypes").FILE_ADDED:this.logEvent(o,c("VideoComposerDialogUIEvent").FILE_REPLACED);return o;case c("VideoComposerDialogActionTypes").BACKDATE_CONFIRM:this.logEvent(o,c("VideoComposerDialogUIEvent").POST_BACKDATE_ATTEMPT);return o;case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_CONFIRM:this.logEvent(o,c("VideoComposerDialogUIEvent").POST_DRAFT_ATTEMPT);return o;case c("VideoComposerDialogActionTypes").NAVIGATED_FROM_PAGE:var q=c("VideoComposerDialogUIStore").getState(),r=q.dialogShown;if(r)this.logEvent(o,c("VideoComposerDialogUIEvent").NAVIGATED_FROM_PAGE);return o;case c("VideoComposerDialogActionTypes").PUBLISH_POST:var s=c("VideoComposerDialogMetadataStore").getState(),t=s.showRightsConfirmationDialog,u=c("VideoComposerDialogPublishingStore").getState(),v=u.isDraft;if(!(t&&!v))this.logEvent(o,c("VideoComposerDialogUIEvent").POST_PUBLISH_ATTEMPT);else this.logEvent(o,c("VideoComposerDialogUIEvent").RIGHTS_DIALOG_SHOWN);return o;case c("VideoComposerDialogActionTypes").SCHEDULE_CONFIRM:this.logEvent(o,c("VideoComposerDialogUIEvent").POST_SCHEDULE_ATTEMPT);return o;case c("VideoComposerDialogActionTypes").POST_FINISHED:this.logEvent(o,c("VideoComposerDialogUIEvent").POST_SUCCESS);if(o.dialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST)this.logVideoAssetWaterfallEvent(o,c("VideoAssetWaterfallEvent").UI_NEW_POST_FROM_ASSET_FINISH);return o;case c("VideoComposerDialogActionTypes").CONFIRM_RIGHTS:this.logEvent(o,c("VideoComposerDialogUIEvent").RIGHTS_DIALOG_CONFIRM);return o;case c("VideoComposerDialogActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG:this.logEvent(o,c("VideoComposerDialogUIEvent").CONFIRMATION_DIALOG_CLOSE);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO:this.logEvent(o,c("VideoComposerDialogUIEvent").SAVE_EDITED_VIDEO_ATTEMPT);this.logEditWaterfallEvent(o,c("VideoEditEvent").SAVE_CLICKED);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_SUCCESS:this.logEvent(o,c("VideoComposerDialogUIEvent").SAVE_EDITED_VIDEO_SUCCESS);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_FAILURE:this.logEvent(o,c("VideoComposerDialogUIEvent").SAVE_EDITED_VIDEO_FAILURE);return o;case c("VideoComposerDialogActionTypes").SELECT_EDITING_PUBLISH_ACTION:this.logEvent(o,c("VideoComposerDialogUIEvent").SELECT_EDITING_PUBLISH_ACTION);return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_ATTEMPT:this.logEvent(o,c("VideoComposerDialogUIEvent").EXIT_COMPOSER_ATTEMPT);return o;case c("VideoComposerDialogActionTypes").CLOSE_CONFIRM_DIALOG:this.logEvent(o,c("VideoComposerDialogUIEvent").EXIT_COMPOSER_CANCEL);return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG:this.logEvent(o,c("VideoComposerDialogUIEvent").EXIT_COMPOSER_CONFIRM);this.logEditWaterfallEvent(o,c("VideoEditEvent").CANCEL);return o;case c("VideoComposerDialogActionTypes").USER_PLAYED_VIDEO_PREVIEW:if(!o.hasPlayedPreview){this.logEvent(o,c("VideoComposerDialogUIEvent").USER_PLAYED_VIDEO_PREVIEW);o=o.set("hasPlayedPreview",true)}return o;case c("VideoComposerDialogActionTypes").TAB_LOAD_ERROR:this.logEvent(o,c("VideoComposerDialogUIEvent").TAB_LOAD_ERROR,p.error);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:var w=this.getState();o=this.getInitialState();o=o.set("actorID",w.actorID);o=o.set("hasBeenReset",true);return o;default:return o}};n.prototype.logEvent=function(o,event,p,q){var r=c("VideoComposerDialogEditStore").getState(),s=r.editSource;new(c("VideoComposerDialogUITypedLogger"))().setEvent(event).setActorID(o.actorID).setDialogMode(o.dialogMode).setVideoID(o.videoID).setVideoAssetID(o.videoAssetID).setSessionID(o.sessionID).setComposerDialogVersion(c("VideoComposerDialogVersion").V2).setComposerEntryPoint(o.composerEntryPointRef).setEditSource(s).setCurrentTab(o.selectedTab).setNextTab(q).setErrorMessage(p).setHasBeenReset(o.hasBeenReset).setVideoAssetWaterfallSource(o.videoAssetWaterfallSource).log()};n.prototype.logVideoAssetWaterfallEvent=function(o,event,p){new(c("VideoAssetWaterfallTypedLogger"))().setEvent(event).setPageID(o.actorID).setVideoAssetIDOverride(o.videoAssetID).setError(p).setSource(o.videoAssetWaterfallSource).log()};n.prototype.logEditWaterfallEvent=function(o,event){if(o.dialogMode!==c("VideoComposerDialogMode").VIDEO_EDIT)return;var p=c("VideoComposerDialogEditStore").getState(),q=p.editSource;new(c("VideoEditTypedLogger"))().setEvent(event).setSource(q).setFlow(c("VideoEditFlow").DIALOG_V2).setVideoID(o.videoID).log()};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogVideoType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BASIC_VIDEO:"basic_video"})}),null);
__d("VideoComposerDialogMetadataStore",["Promise","FluxReduceStore","immutable","VideoComposerDialogActions","VideoComposerDialogActionTypes","VideoComposerDialogAdBreakUtils","VideoComposerDialogBasicUtils","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogDispatcher","VideoComposerDialogDistributionUtils","VideoComposerDialogMode","VideoComposerDialogRightsUtils","VideoComposerDialogShowVideo","VideoComposerDialogSphericalDirectorUtils","VideoComposerDialogTabUtils","VideoComposerDialogUploadStore","VideoComposerDialogUtils","VideoComposerDialogVideoType","VideoPlayerMetaData"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={accessToken:"",actorID:null,boostedPostButtonConfig:null,composerEntryPointRef:null,dialogMode:null,isSpherical:false,minBackdateTime:null,isVideoAssetOwner:true,isVideoShowPage:false,profileDisplayName:"",profilePictureURI:"",showCaptionsTab:false,showRightsConfirmationDialog:false,showRightsTab:false,showVideoType:null,targetID:null,title:"",userName:"",userProfilePictureURI:"",videoAssetID:null,videoDataForID:null,videoDuration:null,videoHeight:null,videoWidth:null,videoID:null,videoType:c("VideoComposerDialogVideoType").BASIC_VIDEO};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER:o=o.set("actorID",p.actorID);o=o.set("targetID",p.targetID);o=o.set("composerEntryPointRef",p.composerEntryPointRef);o=o.set("isVideoAssetOwner",true);o=o.set("isVideoShowPage",p.isVideoShowPage);o=o.set("videoType",c("VideoComposerDialogVideoType").BASIC_VIDEO);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_UPLOAD);if(p.isVideoShowPage)o=o.set("showVideoType",c("VideoComposerDialogUtils").getShowVideoTypeFromEntryPoint(p.composerEntryPointRef));c("VideoComposerDialogUtils").beginBootloading(p.actorID);c("VideoComposerDialogBasicUtils").beginBootloadingDefaultTab(p.actorID);c("VideoComposerDialogDistributionUtils").beginBootloadingDistributionTab(p.actorID);c("VideoComposerDialogAdBreakUtils").beginBootloadingAdBreaksTab(p.actorID);c("VideoComposerDialogSphericalDirectorUtils").beginBootloadingSphericalDirectorUploadTab(p.actorID);c("VideoComposerDialogCaptionEditorUtils").beginBootloadingCaptionsTab(p.actorID);c("VideoComposerDialogRightsUtils").beginBootloadingRightsTab(p.actorID);return o;case c("VideoComposerDialogActionTypes").INITIALIZE_CROSSPOST_COMPOSER:o=o.set("accessToken",p.params.accessToken);o=o.set("actorID",p.params.actorID);o=o.set("boostedPostButtonConfig",p.params.boostedPostButtonConfig);o=o.set("isSpherical",p.params.isSpherical);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_CROSSPOST);o=o.set("isVideoAssetOwner",p.params.isVideoAssetOwner);o=o.set("profilePictureURI",p.params.profilePictureURI);o=o.set("profileDisplayName",p.params.profileDisplayName);o=o.set("title",p.params.title);o=o.set("userName",p.params.userName);o=o.set("userProfilePictureURI",p.params.userProfilePictureURI);o=o.set("videoAssetID",p.params.videoAssetID);o=o.set("videoType",c("VideoComposerDialogVideoType").BASIC_VIDEO);o=o.set("showCaptionsTab",p.params.showCaptionsTab);c("VideoPlayerMetaData").genVideoData(o.videoAssetID).then(function(w){return c("VideoComposerDialogActions").loadVideoDataForID(w)}).done();c("VideoComposerDialogTabUtils").fetchCrosspostParameters(o.videoType,p.params);return o;case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:o=o.set("actorID",p.editParams.actorID);o=o.set("targetID",p.editParams.actorID);o=o.set("title",p.editParams.title);o=o.set("isVideoAssetOwner",p.editParams.isVideoAssetOwner);o=o.set("isVideoShowPage",p.editParams.isVideoShowPage);if(p.editParams.isVideoShowPage)o=o.set("showVideoType",p.editParams.episodeData.get("isEpisode")?c("VideoComposerDialogShowVideo").EPISODE:c("VideoComposerDialogShowVideo").BASIC_VIDEO);o=o.set("videoDuration",p.editParams.videoDuration);o=o.set("videoID",p.editParams.videoID);o=o.set("videoAssetID",p.editParams.videoAssetID);o=o.set("accessToken",p.editParams.accessToken);o=o.set("profileDisplayName",p.editParams.profileDisplayName);o=o.set("profilePictureURI",p.editParams.profilePictureURI);o=o.set("userProfilePictureURI",p.editParams.userProfilePictureURI);o=o.set("userName",p.editParams.userName);o=o.set("isSpherical",p.editParams.isSpherical);o=o.set("videoType",c("VideoComposerDialogVideoType").BASIC_VIDEO);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_EDIT);o=o.set("showCaptionsTab",p.editParams.showCaptionsTab);o=o.set("showRightsTab",p.editParams.showRightsTab);c("VideoPlayerMetaData").genVideoData(o.videoID).then(function(w){return c("VideoComposerDialogActions").loadVideoDataForID(w)}).done();c("VideoComposerDialogTabUtils").fetchEditPostParameters(o.videoType,p.editParams);return o;case c("VideoComposerDialogActionTypes").LOAD_VIDEO_DATA_FOR_ID:o=o.set("videoDataForID",p.videoData);return o;case c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_HTML_PLAYER:var q=p.videoPlayer;o=o.set("videoDuration",q.duration?q.duration:null);o=o.set("videoHeight",q.videoHeight?q.videoHeight:null);o=o.set("videoWidth",q.videoWidth?q.videoWidth:null);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_PARAMETERS:o=o.set("accessToken",p.data.accessToken);o=o.set("profileDisplayName",p.data.profileDisplayName);o=o.set("profilePictureURI",p.data.profilePictureURI);o=o.set("userProfilePictureURI",p.data.userProfilePictureURI);o=o.set("userName",p.data.userName);o=o.set("showCaptionsTab",p.data.showCaptionsTab);o=o.set("showRightsTab",p.data.showRightsTab);o=o.set("showRightsConfirmationDialog",p.data.showRightsConfirmationDialog);o=o.set("minBackdateTime",p.data.minBackdateTime);return o;case c("VideoComposerDialogActionTypes").UPDATE_SHOW_VIDEO_TYPE:o=o.set("showVideoType",p.showVideoType);return o;case c("VideoComposerDialogActionTypes").UPDATE_TITLE:o=o.set("title",p.title);return o;case c("VideoComposerDialogActionTypes").UPLOAD_PROGRESSED:var r=c("VideoComposerDialogUploadStore").getState(),s=r.videoUploader;if(s&&this.getState().get("videoID")===null){var t=s.getUploadSession();if(t){var u=t.getVideoID();o=o.set("videoID",u)}}return o;case c("VideoComposerDialogActionTypes").VIDEO_TYPE_CHANGED:o=o.set("videoType",p.videoType);return o;case c("VideoComposerDialogActionTypes").CONFIRM_RIGHTS:o=o.set("showRightsConfirmationDialog",false);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:var v=this.getState();o=this.getInitialState();o=o.set("actorID",v.actorID);o=o.set("targetID",v.targetID);o=o.set("composerEntryPointRef",v.composerEntryPointRef);return o;default:return o}};n.prototype.getPostData=function(){var o=this.getState();return c("Promise").resolve({video_title:o.title})};n.prototype.getCrosspostRequestDataToSend=function(){var o=this.getState();return c("Promise").resolve({access_token:o.accessToken,title:o.title,video_asset_id:o.videoAssetID})};n.prototype.getEditRequestDataToSend=function(){var o=this.getState();return c("Promise").resolve({is_video_composer_v2:true,title:o.title})};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogPublishingStore",["Promise","ExpirationTypeToExpirationTypeApiMap","FluxReduceStore","flattenPHPQueryData","immutable","VideoComposerDialogActions","VideoComposerDialogActionTypes","VideoComposerDialogCrosspostUtils","VideoComposerDialogDispatcher","VideoComposerDialogEditUtils","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogUploadStore","VideoComposerDialogUploadUtils","VideoComposerDialogUtils","VideoComposerDialogVideoTypeConfig","LiftTimeUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("LiftTimeUtils").MS_IN_SEC,m={backdateYear:null,backdateMonth:null,backdateDay:null,disablePublish:false,editToExpired:false,editToPublished:false,errorMessage:null,hideFromNewsFeed:false,isPosting:false,isPostPending:false,isDraft:false,scheduleDate:null,shouldPremiere:false,originalScheduleDate:null,expireDate:null,originalExpireDate:null,expireType:null,originalExpireType:null,postEndDate:null};h=babelHelpers.inherits(n,c("immutable").Record(m));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxReduceStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){__p&&__p();var r=c("VideoComposerDialogMetadataStore").getState(),s=r.dialogMode,t=r.showRightsConfirmationDialog;switch(q.type){case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:p=p.set("expireDate",new Date(q.editParams.publishingConfig.expirationTime));p=p.set("originalExpireDate",new Date(q.editParams.publishingConfig.expirationTime));p=p.set("expireType",q.editParams.publishingConfig.expirationType);p=p.set("originalExpireType",q.editParams.publishingConfig.expirationType);p=p.set("scheduleDate",new Date(q.editParams.publishingConfig.scheduledPublishTime));p=p.set("originalScheduleDate",new Date(q.editParams.publishingConfig.scheduledPublishTime));return p;case c("VideoComposerDialogActionTypes").FILE_ADDED:p=p.set("disablePublish",false);p=p.set("errorMessage",null);return p;case c("VideoComposerDialogActionTypes").EDIT_EXPIRATION:p=p.set("expireDate",q.expirationTime);p=p.set("expireType",q.expirationType);return p;case c("VideoComposerDialogActionTypes").EDIT_SCHEDULED_TIME:p=p.set("scheduleDate",q.scheduleDate);return p;case c("VideoComposerDialogActionTypes").EDIT_SHOULD_EXPIRE:p=p.set("editToExpired",q.expire);return p;case c("VideoComposerDialogActionTypes").EDIT_SHOULD_PUBLISH:p=p.set("editToPublished",q.publish);return p;case c("VideoComposerDialogActionTypes").BACKDATE_CONFIRM:p=p.set("backdateYear",q.year);p=p.set("backdateMonth",q.month);p=p.set("backdateDay",q.day);p=p.set("hideFromNewsFeed",q.hideFromNewsFeed);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return p;case c("VideoComposerDialogActionTypes").POST_FAILED:p=this.$VideoComposerDialogPublishingStore1(p);p=p.set("errorMessage",q.errorMessage);p=p.set("isPosting",false);p=p.set("isPostPending",false);return p;case c("VideoComposerDialogActionTypes").PUBLISH_POST:var u=c("VideoComposerDialogUploadStore").getState(),v=u.videoUploader,w=u.uploadFinished;if(s===c("VideoComposerDialogMode").VIDEO_CROSSPOST){p=p.set("isPosting",true);this.$VideoComposerDialogPublishingStore2()}else{if(v&&!(t&&!p.isDraft))v.postUserRequest();if(w){p=p.set("isPosting",true);this.$VideoComposerDialogPublishingStore3()}else p=p.set("isPostPending",true)}p=p.set("errorMessage",null);return p;case c("VideoComposerDialogActionTypes").UPLOAD_FAILED:p=this.$VideoComposerDialogPublishingStore1(p);p=p.set("errorMessage",q.errorData.error_summary+": "+q.errorData.error_description);p=p.set("disablePublish",true);p=p.set("isPostPending",false);return p;case c("VideoComposerDialogActionTypes").UPLOAD_FINISHED:if(p.isPostPending){p=p.set("isPostPending",false);p=p.set("isPosting",true);this.$VideoComposerDialogPublishingStore3()}return p;case c("VideoComposerDialogActionTypes").SCHEDULE_CONFIRM:if(q.scheduleDate)p=p.set("scheduleDate",q.scheduleDate);if(q.expireDate){p=p.set("expireDate",q.expireDate);p=p.set("expireType",q.expirationType)}if(q.postEndDate)p=p.set("postEndDate",q.postEndDate);if(q.shouldPremiere!=null)p=p.set("shouldPremiere",q.shouldPremiere);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return p;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_SAVE_DRAFT:case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_CONFIRM:p=p.set("isDraft",true);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return p;case c("VideoComposerDialogActionTypes").CANCEL_UPLOAD:p=this.$VideoComposerDialogPublishingStore1(p);p=p.set("isPostPending",false).set("isPosting",false);return p;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:p=this.getInitialState();return p;default:return p}};o.prototype.$VideoComposerDialogPublishingStore1=function(p){__p&&__p();p=p.set("backdateYear",null);p=p.set("backdateMonth",null);p=p.set("backdateDay",null);p=p.set("hideFromNewsFeed",false);p=p.set("isDraft",false);p=p.set("scheduleDate",null);p=p.set("expireDate",null);p=p.set("expireType",null);p=p.set("postEndDate",null);return p};o.prototype.$VideoComposerDialogPublishingStore3=function(){var p=c("VideoComposerDialogMetadataStore").getState(),q=p.showRightsConfirmationDialog,r=p.videoType,s=this.getState(),t=s.isDraft;if(q&&!t)return;var u=c("VideoComposerDialogUploadStore").getState(),v=u.videoUploader;c("VideoComposerDialogUploadUtils").doPost(v,c("VideoComposerDialogVideoTypeConfig").typeConfig[r].displayedTabs)};o.prototype.$VideoComposerDialogPublishingStore2=function(){c("VideoComposerDialogCrosspostUtils").createCrosspost()};o.prototype.getCrosspostRequestDataToSend=function(){__p&&__p();var p=this.getState(),q={published:true};if(p.isDraft){q.published=false;q.unpublished_content_type="DRAFT"}if(p.scheduleDate){q.published=false;q.unpublished_content_type="SCHEDULED";q.scheduled_publish_time=Math.floor(p.scheduleDate.getTime()/l)}if(p.expireDate)q.expiration={time:Math.floor(p.expireDate.getTime()/l),type:c("ExpirationTypeToExpirationTypeApiMap")[p.expireType||0]};if(p.backdateYear)q.backdated_post={backdated_time:Math.floor(new Date(p.backdateYear||0,(p.backdateMonth||0)-1,p.backdateDay||0).getTime()/l),backdated_time_granularity:"day",hide_from_newsfeed:p.hideFromNewsFeed};return c("Promise").resolve(c("flattenPHPQueryData")(q))};o.prototype.getEditRequestDataToSend=function(){__p&&__p();var p=this.getState(),q={};if(p.editToPublished)q.publish=true;if(p.editToExpired)q.expire=true;var r=p.originalScheduleDate,s=p.scheduleDate;if(r&&s){var t=Math.floor(r.getTime()/l),u=Math.floor(s.getTime()/l);if(t!==u&&!c("VideoComposerDialogEditUtils").areTwoTimesAlmostTheSame(t,u))q.scheduled_publish_time=u}var v=p.originalExpireDate,w=p.expireDate;if(v&&w){var x=Math.floor(v.getTime()/l),y=Math.floor(w.getTime()/l);if(x!==y&&!c("VideoComposerDialogEditUtils").areTwoTimesAlmostTheSame(x,y))q.expiration_time=y}if(p.originalExpireType!==p.expireType)q.expiration_type=p.expireType;return c("Promise").resolve(q)};o.prototype.getPostData=function(){__p&&__p();var p=this.getState(),q={draft:p.isDraft};if(p.scheduleDate)if(p.shouldPremiere){q.should_premiere=true;q.premiere_time_ms=p.scheduleDate.getTime()}else{var r=c("VideoComposerDialogUtils").formatDateAndTime(p.scheduleDate),s=r.dateStr,t=r.timeSec;q.scheduled=true;q.future_date=s;q.future_time=t}if(p.expireDate){q.expiring=true;q.expire_type=p.expireType;q.expire_time=p.expireDate&&p.expireDate.getTime()/l}if(p.postEndDate){var u=c("VideoComposerDialogUtils").formatDateAndTime(p.postEndDate),v=u.dateStr,w=u.timeSec;q["feed_targeted_data[relevant-until-date]"]=v;q["feed_targeted_data[relevant-until-time]"]=w}if(p.backdateYear){q["backdated_date[year]"]=p.backdateYear;q["backdated_date[month]"]=p.backdateMonth;q["backdated_date[day]"]=p.backdateDay;q.hide_from_newsfeed=p.hideFromNewsFeed}return c("Promise").resolve(q)};function o(){j.apply(this,arguments)}f.exports=new o(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogRightsStore",["fbt","Promise","VideoComposerDialogDispatcher","FluxReduceStore","immutable","VideoComposerDialogActions","VideoComposerDialogRightsActions","VideoComposerDialogTab","VideoCopyrightAPI","VideoCopyrightMonitoringType","VideoComposerDialogActionTypes","VideoComposerDialogMetadataStore","VideoCopyrightUploadSettings"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m={areCountriesIncluded:true,attributionID:null,category:null,copyrightID:null,fbWhitelistedUsers:[],igWhitelistedUsers:[],isIgRightsManagementEnabled:false,matchRuleID:null,monitoringType:c("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value,ownershipCountries:[],shouldDetectMatches:false,showAttributionSelector:false,showCategoryRequiredError:false};i=babelHelpers.inherits(n,c("immutable").Record(m));j=i&&i.prototype;function n(){i.apply(this,arguments)}k=babelHelpers.inherits(o,c("FluxReduceStore"));l=k&&k.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){__p&&__p();switch(q.type){case c("VideoComposerDialogActionTypes").BOOTLOAD_RIGHTS_PARAMETERS:p=p.set("isIgRightsManagementEnabled",q.data.isIgRightsManagementEnabled).set("showAttributionSelector",q.data.showAttributionSelector);var r=q.data.defaultSettings;if(r&&r[c("VideoCopyrightUploadSettings").USE_CUSTOM])p=p.set("monitoringType",r[c("VideoCopyrightUploadSettings").MONITORING_TYPE]).set("matchRuleID",r[c("VideoCopyrightUploadSettings").MATCH_RULE]).set("ownershipCountries",r[c("VideoCopyrightUploadSettings").OWNERSHIP_COUNTRIES]).set("areCountriesIncluded",r[c("VideoCopyrightUploadSettings").ARE_COUNTRIES_INCLUDED]);return p;case c("VideoComposerDialogActionTypes").BOOTLOAD_EDIT_RIGHTS_PARAMETERS:p=p.set("isIgRightsManagementEnabled",q.data.isIgRightsManagementEnabled).set("showAttributionSelector",q.data.showAttributionSelector).set("shouldDetectMatches",q.data.shouldDetectMatches);return q.data.shouldDetectMatches?p.set("areCountriesIncluded",q.data.areCountriesIncluded).set("attributionID",q.data.attributionID).set("category",q.data.category).set("copyrightID",q.data.copyrightID).set("fbWhitelistedUsers",q.data.fbWhitelistedUsers).set("igWhitelistedUsers",q.data.igWhitelistedUsers).set("matchRuleID",q.data.matchRuleID).set("monitoringType",q.data.monitoringType).set("ownershipCountries",q.data.ownershipCountries):p;case c("VideoComposerDialogActionTypes").UPDATE_MONITORING_TYPE:p=p.set("monitoringType",q.monitoringType);return p;case c("VideoComposerDialogActionTypes").UPDATE_CATEGORY:p=p.set("category",q.category).set("showCategoryRequiredError",false);return p;case c("VideoComposerDialogActionTypes").UPDATE_CATEGORY_REQUIRED_ERROR:p=p.set("showCategoryRequiredError",true);return p;case c("VideoComposerDialogActionTypes").UPDATE_OWNERSHIP_COUNTRIES:p=p.set("ownershipCountries",q.ownershipCountries).set("areCountriesIncluded",q.areCountriesIncluded);return p;case c("VideoComposerDialogActionTypes").UPDATE_SHOULD_DETECT_MATCHES:p=p.set("shouldDetectMatches",q.shouldDetectMatches);return p;case c("VideoComposerDialogActionTypes").UPDATE_MATCH_RULE:p=p.set("matchRuleID",q.matchRuleID);return p;case c("VideoComposerDialogActionTypes").UPDATE_ATTRIBUTION:p=p.set("attributionID",q.attributionID);return p;case c("VideoComposerDialogActionTypes").UPDATE_FB_WHITELISTED_USERS:p=p.set("fbWhitelistedUsers",q.fbWhitelistedUsers);return p;case c("VideoComposerDialogActionTypes").UPDATE_IG_WHITELISTED_USERS:p=p.set("igWhitelistedUsers",q.igWhitelistedUsers);return p;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:p=this.getInitialState();return p;default:return p}};o.prototype.getPostData=function(){__p&&__p();var p=this.getState(),q=p.attributionID,r=p.category,s=p.copyrightID,t=p.monitoringType,u=p.ownershipCountries,v=p.areCountriesIncluded,w=p.shouldDetectMatches,x=p.matchRuleID,y=p.fbWhitelistedUsers,z=p.igWhitelistedUsers;if(!s&&!w)return c("Promise").resolve({});if(w&&r===null){setTimeout(function(){c("VideoComposerDialogRightsActions").updateShowCategoryRequiredError();c("VideoComposerDialogActions").selectTab(c("VideoComposerDialogTab").RIGHTS)},1);return c("Promise").reject(h._("Media category is required for copyrighted content"))}var A=c("VideoComposerDialogMetadataStore").getState(),B=A.accessToken,C=A.targetID,D=A.videoID;if(!C||!D)return c("Promise").reject(h._("Monitoring matches failed"));var E={areCopyrightCountriesIncluded:v,copyrightAttributionID:q,copyrightRuleID:x,copyrightMonitoringType:t,copyrightOwnershipCountries:u,copyrightWhitelistedIGUserNames:z,copyrightWhitelistedFBUsers:y,selectedCategory:r},F=void 0;if(s&&!w)F=c("VideoCopyrightAPI").uncopyrightVideo(B,C,D,s,E,"video_edit_dialog");else if(s&&w)F=c("VideoCopyrightAPI").editVideoCopyright(B,C,D,s,E,"video_edit_dialog");else F=c("VideoCopyrightAPI").copyrightVideo(B,C,D,E,"video_upload_composer");return F.then(function(G){return{}},function(G){return c("Promise").reject(G.error_user_title)})};function o(){k.apply(this,arguments)}f.exports=new o(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogUIStore",["ComposerXVideoUploadDialogController","DOM","FluxReduceStore","VideoComposerDialogPublishingStore","immutable","React","ReactDOM","VideoComposerDialogActions","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogTab","VideoComposerDialogWrapperContainer.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={dialogShown:false,initialized:false,oneClickPublish:false,selectedTab:c("VideoComposerDialogTab").BASIC,showExitConfirmDialog:false,primaryActionErrorDialogShown:false,primaryActionErrorMessage:null,publishConfirmDialogShown:false,publishConfirmDialogData:null,saveAsDraftDialogShown:false};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER:o=o.set("oneClickPublish",p.oneClickPublish);case c("VideoComposerDialogActionTypes").INITIALIZE_CROSSPOST_COMPOSER:case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:if(!o.initialized){setTimeout(function(){var y=c("DOM").create("div");c("ReactDOM").render(c("React").createElement(c("VideoComposerDialogWrapperContainer.react"),null),y)},0);o=o.set("initialized",true)}o=o.set("dialogShown",true);return o;case c("VideoComposerDialogActionTypes").POST_FINISHED:o=o.set("publishConfirmDialogShown",true);var q=c("VideoComposerDialogPublishingStore").getState(),r=q.isDraft,s=q.scheduleDate,t=q.expireDate,u=q.postEndDate;o=o.set("publishConfirmDialogData",{isDraft:r,scheduleDate:s,expireDate:t,postEndDate:u});o=o.set("showExitConfirmDialog",false);o=o.set("dialogShown",false);this.$VideoComposerDialogUIStore1();return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG:o=o.set("showExitConfirmDialog",false);o=o.set("dialogShown",false);this.$VideoComposerDialogUIStore1();return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_ATTEMPT:o=o.set("showExitConfirmDialog",true);return o;case c("VideoComposerDialogActionTypes").CLOSE_PRIMARY_ERROR_DIALOG:o=o.set("primaryActionErrorDialogShown",false);o=o.set("primaryActionErrorMessage",null);return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_REPLACE_FILE:case c("VideoComposerDialogActionTypes").EXIT_DIALOG_SAVE_DRAFT:case c("VideoComposerDialogActionTypes").CLOSE_CONFIRM_DIALOG:o=o.set("showExitConfirmDialog",false);return o;case c("VideoComposerDialogActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG:o=o.set("publishConfirmDialogShown",false);return o;case c("VideoComposerDialogActionTypes").SELECT_TAB:o=o.set("selectedTab",p.tab);return o;case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ATTEMPT:o=o.set("saveAsDraftDialogShown",true);return o;case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ABORT:case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_CONFIRM:o=o.set("saveAsDraftDialogShown",false);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_SUCCESS:o=o.set("showExitConfirmDialog",false);o=o.set("dialogShown",false);this.$VideoComposerDialogUIStore1();return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_FAILURE:o=o.set("primaryActionErrorDialogShown",true);o=o.set("primaryActionErrorMessage",p.errorMessage);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:var v=o,w=v.publishConfirmDialogShown,x=v.publishConfirmDialogData;c("ComposerXVideoUploadDialogController").clearInstances();o=this.getInitialState();o=o.set("publishConfirmDialogShown",w);o=o.set("publishConfirmDialogData",x);o=o.set("initialized",true);return o;default:return o}};n.prototype.$VideoComposerDialogUIStore1=function(){setTimeout(c("VideoComposerDialogActions").resetComposer,1)};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogUploadStore",["Arbiter","FluxReduceStore","VideoComposerDialogMode","immutable","SubscriptionsHandler","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogUploadUtils","VideoUploadFile"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={composerID:"",fileInput:null,subscriptionsHandler:new(c("SubscriptionsHandler"))(),videoData:null,videoFile:null,videoSize:null,videoUploader:null,uploadFinished:false,uploadProgress:0};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();var q=c("VideoComposerDialogMetadataStore").getState(),r=q.actorID,s=q.targetID,t=q.composerEntryPointRef,u=q.dialogMode;switch(p.type){case c("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER:o=o.set("composerID",p.composerID);o=o.set("fileInput",p.fileInput);o=o.set("videoFile",p.file);var v=c("VideoUploadFile").fromFile(p.file);o=o.set("videoSize",v.getSize());return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_PARAMETERS:if(r&&s)c("VideoComposerDialogUploadUtils").loadVideoUploader(r,s,t);return o;case c("VideoComposerDialogActionTypes").FILE_ADDED:if(o.videoUploader)o.videoUploader.cancel();this.$VideoComposerDialogUploadStore1(o);if(r&&s)c("VideoComposerDialogUploadUtils").loadVideoUploader(r,s,t);o=o.set("uploadProgress",0);o=o.set("fileInput",p.fileInput);o=o.set("videoFile",p.file);var w=c("VideoUploadFile").fromFile(p.file);o=o.set("videoSize",w.getSize());return o;case c("VideoComposerDialogActionTypes").INIT_VIDEO_UPLOADER:o=o.set("videoUploader",p.videoUploader);o=o.set("subscriptionsHandler",new(c("SubscriptionsHandler"))());c("VideoComposerDialogUploadUtils").addUploadSubscriptions(o.subscriptionsHandler,p.videoUploader);c("VideoComposerDialogUploadUtils").beginUpload(o.videoFile,p.videoUploader);o=o.set("videoData",c("VideoComposerDialogUploadUtils").createVideoData(o.videoFile));return o;case c("VideoComposerDialogActionTypes").NAVIGATED_FROM_PAGE:if(o.videoUploader)o.videoUploader.abandon();return o;case c("VideoComposerDialogActionTypes").UPLOAD_FINISHED:o=o.set("uploadFinished",true);return o;case c("VideoComposerDialogActionTypes").POST_FINISHED:if(u===c("VideoComposerDialogMode").VIDEO_UPLOAD)c("VideoComposerDialogUploadUtils").postFinished(p.data||{},o.composerID);return o;case c("VideoComposerDialogActionTypes").UPLOAD_PROGRESSED:o=o.set("uploadProgress",p.progress);return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG:c("Arbiter").inform("videoUpload/cancel",{composerID:o.composerID});if(o.videoUploader)o.videoUploader.cancel();return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:this.$VideoComposerDialogUploadStore1(o);o=this.getInitialState();return o;default:return o}};n.prototype.$VideoComposerDialogUploadStore1=function(o){if(o.fileInput&&o.fileInput.input)o.fileInput.clear();if(o.videoUploader)o.videoUploader.abandon();o.subscriptionsHandler.release()};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoCaptionEditEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoCaptionEditEventLoggerConfig",this.$VideoCaptionEditEventTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoCaptionEditEventLoggerConfig",this.$VideoCaptionEditEventTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoCaptionEditEventTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoCaptionEditEventTypedLogger1=babelHelpers["extends"]({},this.$VideoCaptionEditEventTypedLogger1,j);return this};h.prototype.setAdGroupID=function(j){this.$VideoCaptionEditEventTypedLogger1.ad_group_id=j;return this};h.prototype.setAppID=function(j){this.$VideoCaptionEditEventTypedLogger1.app_id=j;return this};h.prototype.setCaptionID=function(j){this.$VideoCaptionEditEventTypedLogger1.caption_id=j;return this};h.prototype.setErrorMessage=function(j){this.$VideoCaptionEditEventTypedLogger1.error_message=j;return this};h.prototype.setEvent=function(j){this.$VideoCaptionEditEventTypedLogger1.event=j;return this};h.prototype.setPlacement=function(j){this.$VideoCaptionEditEventTypedLogger1.placement=j;return this};h.prototype.setTranscription=function(j){this.$VideoCaptionEditEventTypedLogger1.transcription=j;return this};h.prototype.setVC=function(j){this.$VideoCaptionEditEventTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoCaptionEditEventTypedLogger1.video_id=j;return this};var i={ad_group_id:true,app_id:true,caption_id:true,error_message:true,event:true,placement:true,transcription:true,vc:true,video_id:true};f.exports=h}),null);
__d("VideoCaptionEditorLogger",["VideoCaptionEditEventTypedLogger","VideoCaptionPlacements"],(function a(b,c,d,e,f,g){"use strict";h.prototype.log=function(event,i,j,k,l,m){new(c("VideoCaptionEditEventTypedLogger"))().setEvent(event).setVideoID(j).setCaptionID(i).setAppID(k).setErrorMessage(l).setPlacement(m||c("VideoCaptionPlacements").CREATE_AD).log()};h.prototype.logWithData=function(i){new(c("VideoCaptionEditEventTypedLogger"))().updateData(i).log()};function h(){}f.exports=h}),null);
__d("VideoCaptionsLoggerEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAPTION_UPLOAD_BUTTON_CLICKED:"caption_upload_button_clicked",CAPTION_SELECTED:"caption_selected",CAPTION_REMOVED:"caption_removed",CAPTION_DEFAULT_LOCALE_CHANGED:"caption_default_locale_changed",CAPTION_ERROR:"caption_error",CONTENT_TAGS_SELECTED:"content_tags_selected",CONTENT_TAGS_REMOVED:"content_tags_removed",PERMISSIONS_CHANGED:"permissions_changed",CAPTION_GENERATE_BUTTON_CLICKED:"caption_generate_button_clicked",CAPTION_GENERATE_COMPLETE:"caption_generate_complete",CAPTION_GENERATE_CANCEL:"caption_generate_cancel",CAPTION_CREATE_BUTTON_CLICKED:"caption_create_button_clicked",CAPTION_CREATE_COMPLETE:"caption_create_complete",CAPTION_UPLOAD_COMPLETE:"caption_upload_complete",VIDEO_LANGUAGE_SELECTED:"video_language_selected",CAPTION_DRAFT_EDITED:"caption_draft_edited",CAPTION_DRAFT_DELETED:"caption_draft_deleted",CAPTION_PUBLISHED_EDITED:"caption_published_edited",CAPTION_PUBLISHED_DELETED:"caption_published_deleted",CAPTION_GENERATE_RETRY:"caption_generate_retry",CHANGE_PUBLISHED_STATE:"change_published_state",CAPTION_EDITOR_SAVE:"caption_editor_save",CAPTION_EDITOR_CLOSE:"caption_editor_close",CAPTION_EDITOR_SET_LANGUAGE:"caption_editor_set_language",CAPTION_TAB_OPENED:"caption_tab_opened",COMPOSER_SAVE:"composer_save"})}),null);
__d("VideoComposerDialogCaptionEditorStore",["VideoComposerDialogActionTypes","VideoComposerDialogCaptionsStore","VideoComposerDialogDispatcher","FluxReduceStore","immutable","ImmutableObject","VideoCaptionEditorLanguages","VideoPlayerController","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorUtils","VideoCaptionEditorLogger","WebApiApplication","VideoCaptionsLoggerEvents","VideoCaptionEditorStateEnums"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("VideoCaptionEditorStateEnums").EditorStateEnum,m=1e3,n=-1,o={captions:c("immutable").List(),language:c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,locale:"",availableLanguages:c("immutable").List(c("VideoCaptionEditorLanguages").languagesInEnglish),captionsChangeSet:c("immutable").List(),captionID:"",captionLocale:"",editorState:l.INIT,editSectionState:{selected:-1},previewEntry:null,captionSelected:n,nextEntryIdx:0,videoID:"",vpc:null,videoDuration:0,currentPlayPositionInMs:0,shouldShowExitDialog:false,captionFile:null,isPlaying:false};h=babelHelpers.inherits(p,c("immutable").Record(o));i=h&&h.prototype;function p(){h.apply(this,arguments)}j=babelHelpers.inherits(q,c("FluxReduceStore"));k=j&&j.prototype;function q(r){k.constructor.call(this,r);this.$VideoComposerDialogCaptionEditorStore1=new(c("VideoCaptionEditorLogger"))()}q.prototype.getInitialState=function(){return new p()};q.prototype.reduce=function(r,s){__p&&__p();var t=null;switch(s.type){case c("VideoComposerDialogActionTypes").RESET_CAPTION_EDITOR:return this.getInitialState();case c("VideoComposerDialogActionTypes").SET_CAPTIONS:r=this.$VideoComposerDialogCaptionEditorStore4(r,s);break;case c("VideoComposerDialogActionTypes").EDIT_CAPTION_ENTRY:r=this.$VideoComposerDialogCaptionEditorStore5(r,s);break;case c("VideoComposerDialogActionTypes").REMOVE_CAPTION_ENTRY:r=this.$VideoComposerDialogCaptionEditorStore6(r,s);break;case c("VideoComposerDialogActionTypes").ADD_CAPTION_ENTRY:r=this.$VideoComposerDialogCaptionEditorStore7(r,s);break;case c("VideoComposerDialogActionTypes").RESET_PLAYER:r=r.set("previewEntry",null).set("captionSelected",n).set("nextEntryIdx",0).set("videoDuration",null).set("currentPlayPositionInMs",0);break;case c("VideoComposerDialogActionTypes").SET_DURATION:r=r.set("videoDuration",s.duration);break;case c("VideoComposerDialogActionTypes").SET_PLAYER_STATE:r=r.set("isPlaying",s.isPlaying);break;case c("VideoComposerDialogActionTypes").SET_PREVIEW_ENTRY:r=r.set("captionSelected",s.idx);if(s.idx===n)r=r.set("previewEntry",null);else r=r.set("previewEntry",new(c("ImmutableObject"))(this.getCaptions().get(s.idx)));r=r.set("nextEntryIdx",(s.idx+1)%r.captions.size);break;case c("VideoComposerDialogActionTypes").SET_EDITOR_LANGUAGE:if(r.get("captionID"))r=r.set("editorState",l.UNSAVED);r=r.set("language",s.language);this.$VideoComposerDialogCaptionEditorStore8(c("VideoCaptionsLoggerEvents").CAPTION_EDITOR_SET_LANGUAGE);break;case c("VideoComposerDialogActionTypes").SET_EDITOR_LOCALE:if(r.get("captionID"))r=r.set("editorState",l.UNSAVED);r=r.set("locale",s.locale);break;case c("VideoComposerDialogActionTypes").INITIALIZE_EDITOR_LANGUAGE:t=c("VideoComposerDialogCaptionsStore").getState().get("selectedCaption");r=r.set("language",t.language).set("locale",t.locale);break;case c("VideoComposerDialogActionTypes").PLAY_PREVIEW_ENTRY:r=this.$VideoComposerDialogCaptionEditorStore9(r,s);break;case c("VideoComposerDialogActionTypes").SET_NEXT_ENTRY:r=r.set("nextEntryIdx",s.idx);break;case c("VideoComposerDialogActionTypes").SET_VPC:r=r.set("vpc",s.vpc);break;case c("VideoComposerDialogActionTypes").SET_CURRENT_PLAY_POSITION:r=r.set("currentPlayPositionInMs",s.position);break;case c("VideoComposerDialogActionTypes").CONFIRM_CLOSE_DIALOG:r=r.set("editorState",l.EXIT);r=r.set("shouldShowExitDialog",false);this.$VideoComposerDialogCaptionEditorStore8(c("VideoCaptionsLoggerEvents").CAPTION_EDITOR_CLOSE);break;case c("VideoComposerDialogActionTypes").CANCEL_CLOSE_DIALOG:r=r.set("shouldShowExitDialog",false);break;case c("VideoComposerDialogActionTypes").SHOW_EXIT_DIALOG:r=r.set("shouldShowExitDialog",true);break;case c("VideoComposerDialogActionTypes").START_SAVE_CAPTION_CHANGESET:r=r.set("editorState",l.SAVING);c("VideoComposerDialogCaptionEditorUtils").saveCaptionChangeset(r.get("captionID"),r.get("captions"),r.get("captionsChangeSet"),r.get("locale"),c("VideoComposerDialogCaptionsStore").getState().get("pageID"));this.$VideoComposerDialogCaptionEditorStore8(c("VideoCaptionsLoggerEvents").CAPTION_EDITOR_SAVE);break;case c("VideoComposerDialogActionTypes").FINISH_SAVE_CAPTION_CHANGESET:r=this.$VideoComposerDialogCaptionEditorStore10(r);break}return r};q.prototype.$VideoComposerDialogCaptionEditorStore8=function(r,s,t){c("VideoComposerDialogCaptionsStore").getLogger().setEvent(r).setError(t).setSubtitleID(this.getState().get("captionID")).setIsCaptionEditor(true).updateExtraData({language:this.getLanguage()}).log()};q.prototype.$VideoComposerDialogCaptionEditorStore4=function(r,s){__p&&__p();var t=s.captions;if(t.size===0)t=c("immutable").List([{node:{text:" ",start_time_in_ms:0,duration_in_ms:m,confidence:1,left:0,width:m*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}}]);r=r.set("captions",t).set("captionsChangeSet",c("immutable").List(new Array(t.size)));var u=!c("VideoComposerDialogCaptionEditorUtils").areHeadLocalesEqual(r.get("locale"),s.captionLocale);if(u)r=r.set("editorState",l.UNSAVED);this.$VideoComposerDialogCaptionEditorStore2=s.appID||c("WebApiApplication").getClientID();this.$VideoComposerDialogCaptionEditorStore3=s.placement;return r.merge({captionID:s.captionID,captionLocale:s.captionLocale,videoID:s.videoID})};q.prototype.$VideoComposerDialogCaptionEditorStore10=function(r){r=r.set("editorState",l.SAVED).set("captionLocale",r.get("locale"));var s=r.get("locale"),t=s!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE&&s!==c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE;if(!t)return r;var u=c("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(r.get("captions"),c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(s),r.get("language"));return r.set("captionFile",u)};q.prototype.$VideoComposerDialogCaptionEditorStore5=function(r,s){var t=r.get("captions");t=t.splice(s.idx,1,s.caption);var u=r.get("captionsChangeSet").splice(s.idx,1,s.caption);r=r.set("captions",t).set("captionsChangeSet",u);return r.set("editorState",l.UNSAVED)};q.prototype.$VideoComposerDialogCaptionEditorStore6=function(r,s){__p&&__p();var t=r.get("captions"),u=t.get(s.idx);t=t["delete"](s.idx);var v=r.get("captionsChangeSet")["delete"](s.idx);if(u&&u.node)v=v.push({node:{id:u.node.id}});r=r.set("captions",t).set("captionsChangeSet",v);var w=r.get("previewEntry");if(w&&r.get("captionSelected")===s.idx)r=r.set("previewEntry",null);return r.set("editorState",l.UNSAVED)};q.prototype.$VideoComposerDialogCaptionEditorStore7=function(r,s){var t=r.get("captions").splice(s.idx,0,s.caption),u=r.get("captionsChangeSet").splice(s.idx,0,s.caption);r=r.set("captions",t).set("captionsChangeSet",u);return r.set("editorState",l.UNSAVED)};q.prototype.$VideoComposerDialogCaptionEditorStore9=function(r,s){__p&&__p();r=r.set("captionSelected",s.idx);if(s.idx===n)r=r.set("previewEntry",null);else{r=r.set("previewEntry",new(c("ImmutableObject"))(this.getCaptions().get(s.idx)));r=r.set("nextEntryIdx",(s.idx+1)%r.captions.size)}var t=r.get("vpc");if(t){var u=r.get("previewEntry");t.emit("captionsList/preview",{startTime:u?u.node.start_time_in_ms:0,endTime:u?u.node.start_time_in_ms+u.node.duration_in_ms:r.videoDuration})}r=r.set("isPlaying",true);return r};q.prototype.getLanguage=function(){return this.getState().get("language")};q.prototype.getCaptions=function(){return this.getState().get("captions")};q.prototype.getLanguages=function(){return this.getState().get("availableLanguages")};q.prototype.getVPC=function(){return this.getState().get("vpc")};f.exports=new q(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoCaptionDeletionCache",["immutable"],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict";this.cache=c("immutable").Map()}h.prototype.add=function(i){"use strict";this.cache=this.cache.set(i.id,i)};h.prototype.remove=function(i){"use strict";this.cache=this.cache["delete"](i)};h.prototype.has=function(i){"use strict";return this.cache.get(i)!==undefined};f.exports=h}),null);
__d("VideoCaptionsPublishTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoCaptionsPublishLoggerConfig",this.$VideoCaptionsPublishTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoCaptionsPublishLoggerConfig",this.$VideoCaptionsPublishTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoCaptionsPublishTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoCaptionsPublishTypedLogger1=babelHelpers["extends"]({},this.$VideoCaptionsPublishTypedLogger1,j);return this};h.prototype.setError=function(j){this.$VideoCaptionsPublishTypedLogger1.error=j;return this};h.prototype.setEvent=function(j){this.$VideoCaptionsPublishTypedLogger1.event=j;return this};h.prototype.setIsCaptionEditor=function(j){this.$VideoCaptionsPublishTypedLogger1.is_caption_editor=j;return this};h.prototype.setIsCaptionsEditor=function(j){this.$VideoCaptionsPublishTypedLogger1.is_captions_editor=j;return this};h.prototype.setPublishPhase=function(j){this.$VideoCaptionsPublishTypedLogger1.publish_phase=j;return this};h.prototype.setSubtitleID=function(j){this.$VideoCaptionsPublishTypedLogger1.subtitle_id=j;return this};h.prototype.setVC=function(j){this.$VideoCaptionsPublishTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoCaptionsPublishTypedLogger1.video_id=j;return this};h.prototype.setVideoLanguage=function(j){this.$VideoCaptionsPublishTypedLogger1.video_language=j;return this};h.prototype.setVideoLocale=function(j){this.$VideoCaptionsPublishTypedLogger1.video_locale=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$VideoCaptionsPublishTypedLogger1=babelHelpers["extends"]({},this.$VideoCaptionsPublishTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={error:true,event:true,is_caption_editor:true,is_captions_editor:true,publish_phase:true,subtitle_id:true,vc:true,video_id:true,video_language:true,video_locale:true};f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({ADD_CAPTION_ENTRY:"",REMOVE_CAPTION_ENTRY:"",EDIT_CAPTION_ENTRY:"",SET_PREVIEW_ENTRY:"",SET_EDITOR_LANGUAGE:"",SET_EDITOR_LOCALE:"",SET_CAPTIONS:"",SET_NEXT_ENTRY:"",PLAY_PREVIEW_ENTRY:"",CONFIRM_CLOSE_DIALOG:"",CANCEL_CLOSE_DIALOG:"",SHOW_EXIT_DIALOG:"",START_SAVE_CAPTION_CHANGESET:"",FINISH_SAVE_CAPTION_CHANGESET:"",INITIALIZE_EDITOR_LANGUAGE:"",RESET_CAPTION_EDITOR:""});f.exports=h}),null);
__d("VideoComposerDialogCaptionsTabActionTypes",["immutable","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({SHOW_CAPTION_EDITOR:"",HIDE_CAPTION_EDITOR:"",INITIALIZE_CAPTION_LANDING_SCREEN:"",GENERATE:"",CANCEL_GENERATE:"",CREATE:"",EDIT_CAPTIONS_DRAFT:"",DELETE_CAPTIONS_DRAFT:"",START_SRT_UPLOAD:"",FINISH_SRT_UPLOAD:"",GENERATE_COMPLETE:"",CREATE_COMPLETE:"",SELECT_SPOKEN_LANGUAGE:"",SELECT_SPOKEN_LOCALE:"",FINISHED_FETCH_DRAFTS:"",GENERATE_PROGRESS_UPDATE:"",UPDATE_CAPTION_FILES:"",UPDATE_ERROR_STATE:"",SET_AUTO_GENERATED_CAPTIONS:"",RESET_CAPTIONS_LANDING_TAB:"",RETRY_AUTO_GENERATION:"",RESUME_AUTO_GENERATION:"",RESET_AUTO_GENERATING_LOCALE:"",TRY_RESUME_AUTO_GENERATION:"",INITIALIZE_ALL_CAPTION_FILES:"",BOOTLOAD_PARAMETERS_CAPTIONS_TAB:"",CHANGE_PUBLISHED_STATE:"",PENDING_TO_PUBLISHED:"",CAPTION_LANDING_SCREEN_OPEN_EVENT:"",OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT:"",RESET_OPEN_LANDING_SCREEN_STATE:""});f.exports=h}),null);
__d("XVideoCaptionSpeechDetectionAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/speechnonspeech/getresults/",{video_id:{type:"Int",required:true},locale:{type:"String",defaultValue:""}})}),null);
__d("XVideoCaptionUploadAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/captionupload/",{video_id:{type:"Int",required:true}})}),null);
__d("VideoComposerDialogCaptionsStore",["Promise","VideoComposerDialogCaptionEditorPublishStateEnum","ActorURI","AsyncRequest","ComposerVideoUploadActions","FluxReduceStore","immutable","InsightsLocaleNamesSwitch","RTISubscriptionManager","VideoCaptionDeletionCache","VideoCaptionFile","VideoCaptionsLoggerEvents","VideoCaptionsPublishTypedLogger","VideoCaptionEditorURL","VideoComposerDialogActionTypes","VideoComposerDialogCaptionEditorActionTypes","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionsTabActions","VideoComposerDialogCaptionsTabActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogMode","VideoComposerDialogUploadUtils","VideoUploadUIError","XVideoCaptionGenerateAsyncController","XVideoCaptionSpeechDetectionAsyncController","XVideoCaptionUploadAsyncController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("InsightsLocaleNamesSwitch").module,m={accessToken:null,drafts:c("immutable").List(),isSpokenLanguageSelected:false,publishedStateChangeset:c("immutable").Map(),deletionCache:new(c("VideoCaptionDeletionCache"))(),selectedCaption:null,show_caption_editor:false,videoFile:null,video_id:null,videoData:null,isAutoGenerating:false,isCreating:false,spokenLanguage:c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,autoGeneratingLocale:null,autoGeneratingLanguage:null,spokenLocale:c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE,progress:0,autoGenProcessRate:c("VideoComposerDialogCaptionEditorConstants").DEFAULT_PROCESSING_SPEED,generateStarted:0,composerID:"",pageID:"",captionFiles:c("immutable").Map(),captionURLs:c("immutable").Map(),composerMode:null,isOldComposer:false,isSRTUploading:false,videoDurationInSec:0,errors:c("immutable").List(),numAutoGenerationRetries:0,enableAdvancedCaptionsFeatures:true,wasOldComposerCaptionTabClicked:false,timeFirstInitialized:null},n=5*1e3,o=50,p=1e3,q=15*1e3;h=babelHelpers.inherits(r,c("immutable").Record(m));i=h&&h.prototype;function r(){h.apply(this,arguments)}j=babelHelpers.inherits(s,c("FluxReduceStore"));k=j&&j.prototype;s.prototype.getInitialState=function(){return new r()};s.prototype.getIsEditMode=function(){return this.getState().get("composerMode")===c("VideoComposerDialogMode").VIDEO_EDIT};s.prototype.getIsCrosspostMode=function(){return this.getState().get("composerMode")===c("VideoComposerDialogMode").VIDEO_CROSSPOST};s.prototype.getAllCaptions=function(){return new(c("immutable").List)(this.getState().get("drafts"))};s.prototype.getSpokenLanguage=function(){return this.getState().get("spokenLanguage")};s.prototype.getSpokenLocale=function(){return this.getState().get("spokenLocale")};s.prototype.getAutoGeneratingLocale=function(){return this.getState().get("autoGeneratingLocale")};s.prototype.isSpokenLanguageSelected=function(){return this.getState().get("isSpokenLanguageSelected")};s.prototype.getLogger=function(){var t=this.getState(),u=this.getIsEditMode()===true?"post-publish":"pre-publish";return new(c("VideoCaptionsPublishTypedLogger"))().setVideoID(t.get("video_id")).setVideoLanguage(t.get("spokenLanguage")).setVideoLocale(t.get("spokenLocale")).setPublishPhase(u)};s.prototype.getEnableAdvancedCaptionsFeatures=function(){return this.getState().get("enableAdvancedCaptionsFeatures")};s.prototype.getpublishedStateChangeset=function(){return this.getState().get("publishedStateChangeset")};s.prototype.wasTabOpenedInOldComposer=function(){var t=this.getState();return t.get("isOldComposer")&&t.get("wasOldComposerCaptionTabClicked")};s.prototype.logComposerSaveEvent=function(){var t=this.getState();if(t.get("timeFirstInitialized")===null||t.get("video_id")===null||t.get("video_id")==="")return;var u=t.get("drafts"),v=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(t.get("captionFiles"),u||c("immutable").List());this.$VideoComposerDialogCaptionsStore1(v)};s.prototype.$VideoComposerDialogCaptionsStore1=function(t){var u=this.getState(),v=u.get("drafts");this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").COMPOSER_SAVE,{session_id:u.get("timeFirstInitialized"),num_captions:String(v.size),num_published_captions:String(t.size)});setTimeout(function(){return c("VideoComposerDialogCaptionsTabActions").resetOpenLandingScreenState()},0)};s.prototype.$VideoComposerDialogCaptionsStore3=function(t,u){__p&&__p();var v,w,x=true;switch(t.type){case c("VideoComposerDialogCaptionsTabActionTypes").SHOW_CAPTION_EDITOR:case c("VideoComposerDialogCaptionsTabActionTypes").CREATE:case c("VideoComposerDialogCaptionsTabActionTypes").EDIT_CAPTIONS_DRAFT:case c("VideoComposerDialogCaptionsTabActionTypes").SELECT_SPOKEN_LANGUAGE:case c("VideoComposerDialogCaptionsTabActionTypes").SELECT_SPOKEN_LOCALE:case c("VideoComposerDialogCaptionsTabActionTypes").DELETE_CAPTIONS_DRAFT:case c("VideoComposerDialogCaptionsTabActionTypes").FINISH_SRT_UPLOAD:return true;case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE:x=true;if(u.size>0)(function(){var y=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY);u.forEach(function(z){if(z.toString().localeCompare(y.toString())===0){x=false;return}})})();return x;case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE_COMPLETE:x=false;if(u.size>0)(function(){var y=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY);u.forEach(function(z){if(z.toString().localeCompare(y.toString())===0){x=true;return}})})();return x}return false};s.prototype.reduce=function(t,u){__p&&__p();var v=null,w=null,x=null,y=true,z=null;if(this.$VideoComposerDialogCaptionsStore3(u,t.get("errors"))&&t.get("errors").size>0)t=t.set("errors",c("immutable").List());switch(u.type){case c("VideoComposerDialogActionTypes").RESET_COMPOSER:t=this.getInitialState();return t;case c("VideoComposerDialogCaptionsTabActionTypes").RESET_CAPTIONS_LANDING_TAB:y=t.get("enableAdvancedCaptionsFeatures");t=this.getInitialState().set("enableAdvancedCaptionsFeatures",y);return t;case c("VideoComposerDialogCaptionsTabActionTypes").SHOW_CAPTION_EDITOR:t=t.set("show_caption_editor",true);return t;case c("VideoComposerDialogCaptionEditorActionTypes").CONFIRM_CLOSE_DIALOG:t=t.set("show_caption_editor",false);t=this.$VideoComposerDialogCaptionsStore4(t);return t;case c("VideoComposerDialogCaptionEditorActionTypes").FINISH_SAVE_CAPTION_CHANGESET:return this.$VideoComposerDialogCaptionsStore5(t);case c("VideoComposerDialogCaptionsTabActionTypes").OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT:return t.set("wasOldComposerCaptionTabClicked",true);case c("VideoComposerDialogCaptionsTabActionTypes").CAPTION_LANDING_SCREEN_OPEN_EVENT:var A=t.get("video_id"),B=t.get("timeFirstInitialized")===null&&A!==null&&A!=="";if(!B)return t;var C=String(Date.now());this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_TAB_OPENED,{session_id:C});return t.set("timeFirstInitialized",C);case c("VideoComposerDialogCaptionsTabActionTypes").RESET_OPEN_LANDING_SCREEN_STATE:return t.set("isOldComposer",false).set("wasOldComposerCaptionTabClicked",false).set("timeFirstInitialized",null);case c("VideoComposerDialogCaptionsTabActionTypes").INITIALIZE_CAPTION_LANDING_SCREEN:var D=u.isOldComposer?u.isOldComposer:false,E=u.dialogMode?u.dialogMode:c("VideoComposerDialogMode").VIDEO_UPLOAD;return this.initialize(t,u.videoFile,u.video_id,u.accessToken,u.composerID,u.pageID,u.videoDurationInSec,E,D);case c("VideoComposerDialogCaptionsTabActionTypes").TRY_RESUME_AUTO_GENERATION:var F=t.get("autoGeneratingLocale")!==null?c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(t.get("autoGeneratingLocale")):null;this.$VideoComposerDialogCaptionsStore6(t.get("video_id"),F);return t;case c("VideoComposerDialogCaptionsTabActionTypes").FINISHED_FETCH_DRAFTS:z=c("VideoComposerDialogCaptionEditorUtils").updateToChangesetValues(u.drafts,t.get("publishedStateChangeset"));z=c("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(z,t.get("deletionCache"));return t.set("drafts",z);case c("VideoComposerDialogCaptionsTabActionTypes").RESET_AUTO_GENERATING_LOCALE:return t.set("autoGeneratingLocale",null).set("autoGeneratingLanguage",null);case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE:t=t.set("isAutoGenerating",true).set("progress",0).set("generateStarted",Date.now()).set("autoGeneratingLocale",t.get("spokenLocale")).set("autoGeneratingLanguage",t.get("spokenLanguage"));w=this.$VideoComposerDialogCaptionsStore7(t.get("video_id"),t.get("spokenLanguage"),t.get("spokenLocale"));if(!w)t=t.set("isAutoGenerating",false).set("autoGeneratingLocale",null).set("autoGeneratingLanguage",null);return t;case c("VideoComposerDialogCaptionsTabActionTypes").CREATE:t=t.set("isCreating",true);t=t.set("selectedCaption",null).set("show_caption_editor",true);this.$VideoComposerDialogCaptionsStore8(t.get("video_id"));return t;case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE_COMPLETE:var G=t.get("spokenLanguage");x=c("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(u.captions,u.locale,G);var H=x!==null&&G!==""&&u.subtitlesID!==null;if(H){t=this.$VideoComposerDialogCaptionsStore9(t,String(u.subtitlesID));t=this.$VideoComposerDialogCaptionsStore10(t,x,u.locale);t=t.set("numAutoGenerationRetries",0)}t=t.set("isAutoGenerating",false).set("autoGenProcessRate",c("VideoComposerDialogCaptionEditorConstants").DEFAULT_PROCESSING_SPEED).set("progress",0).set("autoGeneratingLocale",null).set("autoGeneratingLanguage",null);return t;case c("VideoComposerDialogCaptionsTabActionTypes").CREATE_COMPLETE:t=t.set("isCreating",false);return t;case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE_PROGRESS_UPDATE:t=this.$VideoComposerDialogCaptionsStore11(t,u.progress);return t;case c("VideoComposerDialogCaptionsTabActionTypes").EDIT_CAPTIONS_DRAFT:t=t.set("show_caption_editor",true);v=t.get("drafts").get(u.id);t=t.set("selectedCaption",v);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_DRAFT_EDITED,{},null,v.id);return t;case c("VideoComposerDialogCaptionsTabActionTypes").DELETE_CAPTIONS_DRAFT:z=t.get("drafts");v=t.get("drafts").get(u.id);z=c("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(z["delete"](u.id),t.get("deletionCache"));var I=t.get("captionFiles");I=I["delete"](v.locale);var J=t.get("composerID");if(J){var K=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(I,z);c("ComposerVideoUploadActions").updateCaptions(J,Array.from(K.values()))}c("VideoComposerDialogCaptionEditorUtils").deleteSubtitles(t.get("video_id"),v,t.get("pageID"),t.get("deletionCache"),this.$VideoComposerDialogCaptionsStore12.bind(this));this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_DRAFT_DELETED,{},null,v.id);return t.set("drafts",z).set("captionFiles",I).set("publishedStateChangeset",t.get("publishedStateChangeset")["delete"](v.id));case c("VideoComposerDialogCaptionsTabActionTypes").SELECT_SPOKEN_LANGUAGE:this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").VIDEO_LANGUAGE_SELECTED);t=t.set("spokenLanguage",u.language).set("isSpokenLanguageSelected",true);return t;case c("VideoComposerDialogCaptionsTabActionTypes").SELECT_SPOKEN_LOCALE:t=t.set("spokenLocale",u.locale);return t;case c("VideoComposerDialogCaptionsTabActionTypes").CANCEL_GENERATE:t=t.set("isAutoGenerating",false);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_CANCEL);return t;case c("VideoComposerDialogCaptionsTabActionTypes").START_SRT_UPLOAD:t=t.set("isSRTUploading",true);this.$VideoComposerDialogCaptionsStore13(t.get("video_id"),u.captions,t.get("accessToken"));return t;case c("VideoComposerDialogCaptionsTabActionTypes").FINISH_SRT_UPLOAD:t=t.set("isSRTUploading",false);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_UPLOAD_COMPLETE,{},u.error);if(!u.success||u.error){var L=t.get("errors");L.append(u.error);t=t.set("errors",L);return t}var M=u.uploadedVideoSubtitles.size>0;if(!M)return t;u.uploadedVideoSubtitles.forEach(function(X,Y){t=this.$VideoComposerDialogCaptionsStore9(t,X.subtitlesID);x=c("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(c("immutable").List(X.captions),Y,l[Y]);t=this.$VideoComposerDialogCaptionsStore10(t,x,Y)}.bind(this));return t;case c("VideoComposerDialogCaptionsTabActionTypes").UPDATE_CAPTION_FILES:x=c("VideoComposerDialogCaptionEditorStore").getState().get("captionFile");var N=c("VideoComposerDialogCaptionEditorStore").getState().get("locale"),O=N!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE&&N!==c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE;if(O)t=this.$VideoComposerDialogCaptionsStore9(t,c("VideoComposerDialogCaptionEditorStore").getState().get("captionID"));var P=x!==null;if(P&&O)return this.$VideoComposerDialogCaptionsStore10(t,x,N);if(O)return this.$VideoComposerDialogCaptionsStore14(t,N);return t;case c("VideoComposerDialogCaptionsTabActionTypes").UPDATE_ERROR_STATE:t=t.set("errors",u.errors).set("show_caption_editor",false);return t;case c("VideoComposerDialogCaptionsTabActionTypes").RETRY_AUTO_GENERATION:var Q=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY);t=t.set("isAutoGenerating",false).set("autoGenProcessRate",c("VideoComposerDialogCaptionEditorConstants").DEFAULT_PROCESSING_SPEED).set("progress",0).set("numAutoGenerationRetries",t.get("numAutoGenerationRetries")+1).set("errors",c("immutable").List([Q]));this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_RETRY,{},Q.toString());setTimeout(c("VideoComposerDialogCaptionsTabActions").generate,c("VideoComposerDialogCaptionEditorConstants").POLL_FAKE_FREQUENCY_GENERATE_MS);return t;case c("VideoComposerDialogCaptionsTabActionTypes").RESUME_AUTO_GENERATION:if(t.get("autoGeneratingLanguage")!==null){this.$VideoComposerDialogCaptionsStore15(t.get("video_id"));this.$VideoComposerDialogCaptionsStore16(t.get("video_id"),t.get("autoGeneratingLanguage"));this.$VideoComposerDialogCaptionsStore17()}return t;case c("VideoComposerDialogCaptionsTabActionTypes").INITIALIZE_ALL_CAPTION_FILES:u.subtitles.forEach(function(X,Y){if(X.locale===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)return;x=c("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(c("immutable").List(X),Y,l[Y]);if(x===null)return;t=this.$VideoComposerDialogCaptionsStore10(t,x,Y)}.bind(this));return t;case c("VideoComposerDialogCaptionsTabActionTypes").BOOTLOAD_PARAMETERS_CAPTIONS_TAB:t=t.set("enableAdvancedCaptionsFeatures",!u.data.disableAdvancedCaptionsFeatures);return t;case c("VideoComposerDialogCaptionsTabActionTypes").CHANGE_PUBLISHED_STATE:z=t.get("drafts");v=t.get("drafts").get(u.id);var R=v.publishedState;v.publishedState=c("VideoComposerDialogCaptionEditorUtils").getUpdatedPublishState(v.publishedState);z=c("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(z.splice(u.id,1,v),t.get("deletionCache"));var S=t.get("publishedStateChangeset").set(v.id,v.publishedState);if(t.get("composerID")){var T=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(t.get("captionFiles"),t.get("drafts")||c("immutable").List());c("ComposerVideoUploadActions").updateCaptions(t.get("composerID"),Array.from(T.values()))}this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CHANGE_PUBLISHED_STATE,{previous_state:R,new_state:v.publishedState},null,v.id);return t.set("drafts",z).set("publishedStateChangeset",S);case c("VideoComposerDialogCaptionsTabActionTypes").PENDING_TO_PUBLISHED:return t.set("drafts",c("VideoComposerDialogCaptionEditorUtils").changeAllPendingToPublished(t.get("drafts"))).set("publishedStateChangeset",c("immutable").Map());case c("VideoComposerDialogActionTypes").SET_DEFAULT_CAPTION_LOCALE:var U=u.locale;return t.set("captionFiles",t.get("captionFiles").map(function(X){X.setIsDefault(U==X.getLocale());return X}));case c("VideoComposerDialogActionTypes").FETCH_CAPTION_EDITOR_CROSSPOST_PARAMS:var V=c("VideoComposerDialogCaptionEditorUtils").getConvertedCaptionURLs(u.captions),W=this.getInitialState();if(u.spokenLocale!==""&&u.spokenLanguage!=="")W=W.set("spokenLocale",u.spokenLocale).set("spokenLanguage",u.spokenLanguage);return W.set("composerMode",c("VideoComposerDialogMode").VIDEO_CROSSPOST).set("captionURLs",V);case c("VideoComposerDialogActionTypes").DELETE_CAPTIONS_URL:return t.set("captionURLs",t.get("captionURLs").splice(u.id,1));case c("VideoComposerDialogActionTypes").CHANGE_PUBLISHED_STATE_URL:v=t.get("captionURLs").get(u.id);v.setPublishState(c("VideoComposerDialogCaptionEditorUtils").getUpdatedPublishState(v.getPublishState()));return t.set("captionURLs",t.get("captionURLs").splice(u.id,1,v));default:return t}};s.prototype.getCrosspostPostData=function(){var t=this.getState(),u=t.get("captionURLs").filter(function(v){return v.getPublishState()!==c("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT});this.logComposerSaveEvent();if(this.getSpokenLocale()===c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE)return c("Promise").resolve({captions:Array.from(u)});else return c("Promise").resolve({captions:Array.from(u),spoken_locale:this.getSpokenLocale()})};s.prototype.getPostData=function(){var t=this.getState();c("VideoComposerDialogCaptionEditorUtils").updatePublishedStatesOnServer(t.get("video_id"),t.get("pageID"),this.getpublishedStateChangeset());var u=t.get("drafts"),v=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(t.get("captionFiles"),u||c("immutable").List());this.logComposerSaveEvent();if(this.getSpokenLocale()===c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE)return c("Promise").resolve({captions:Array.from(v.values())});else return c("Promise").resolve({captions:Array.from(v.values()),spoken_locale:this.getSpokenLocale()})};s.prototype.initialize=function(t,u,v,w,x,y,z,A,B){t=this.$VideoComposerDialogCaptionsStore18(t,u,v,w,x,y,z,A,B);this.$VideoComposerDialogCaptionsStore19(t.get("video_id"));this.$VideoComposerDialogCaptionsStore20(t.get("video_id"),true);return t};s.prototype.$VideoComposerDialogCaptionsStore18=function(t,u,v,w,x,y,z,A,B){t=t.set("videoFile",u);if(u)t=t.set("videoData",c("VideoComposerDialogUploadUtils").createVideoData(u));return t.set("video_id",v).set("accessToken",w).set("composerID",x).set("pageID",y).set("videoDurationInSec",z?z:0).set("composerMode",A).set("isOldComposer",B)};s.prototype.$VideoComposerDialogCaptionsStore21=function(t,u){if(!t)return;this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_TAB_OPENED,{session_id:u})};s.prototype.$VideoComposerDialogCaptionsStore5=function(t){__p&&__p();var u=c("VideoComposerDialogCaptionEditorStore").getState().get("locale"),v=c("VideoComposerDialogCaptionEditorStore").getState().get("language"),w=c("VideoComposerDialogCaptionEditorStore").getState().get("captionID"),x=t.get("drafts"),y=x.toArray();for(var z=0;z<x.size;z++){var A=x.get(z);if(A.id===w){A.locale=u;A.language=v;y[z]=A;break}}var B=c("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(c("immutable").List(y),t.get("deletionCache"));return t.set("drafts",B)};s.prototype.$VideoComposerDialogCaptionsStore4=function(t){var u=t.get("drafts"),v=c("immutable").List();for(var w=0;w<u.size;w++){var x=u.get(w);if(x.locale===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)c("VideoComposerDialogCaptionEditorUtils").silentlyDeleteSubtitle(t.get("video_id"),x,t.get("pageID"));else v=v.push(x)}return t.set("drafts",v)};s.prototype.$VideoComposerDialogCaptionsStore9=function(t,u){var v=c("VideoComposerDialogCaptionEditorUtils").addLocaleAsPublishPending(t.get("publishedStateChangeset"),u),w=c("VideoComposerDialogCaptionEditorUtils").updateToChangesetValues(t.get("drafts"),v);return t.set("publishedStateChangeset",v).set("drafts",w)};s.prototype.$VideoComposerDialogCaptionsStore22=function(){return{sessionID:this.getState().get("timeFirstInitialized")}};s.prototype.$VideoComposerDialogCaptionsStore2=function(t,u,v,w){var x=this.getLogger().setEvent(t).setError(v).setSubtitleID(w);if(u!==null)for(var y in u){if(y===null||u[y]===null)return;x.addToExtraData(y,u[y])}x.log()};s.prototype.$VideoComposerDialogCaptionsStore11=function(t,u){var v=t.get("videoDurationInSec");if(v===0)return t;var w=100*u/v;w=Math.min(w,99);if(w>t.get("progress"))t=t.set("progress",w);var x=(Date.now()-t.get("generateStarted"))/1e3;return t.set("autoGenProcessRate",u/x)};s.prototype.$VideoComposerDialogCaptionsStore10=function(t,u,v){var w=c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(v),x=t.get("captionFiles").set(w,u),y=t.get("composerID");if(y){var z=t.get("drafts"),A=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(x,z||c("immutable").List());c("ComposerVideoUploadActions").updateCaptions(y,Array.from(A.values()))}return t.set("captionFiles",x)};s.prototype.$VideoComposerDialogCaptionsStore14=function(t,u){var v=c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(u),w=t.get("captionFiles")["delete"](v),x=t.get("composerID");if(x){var y=t.get("drafts"),z=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(w,y||c("immutable").List());c("ComposerVideoUploadActions").updateCaptions(x,Array.from(z.values()))}return t.set("captionFiles",w)};s.prototype.$VideoComposerDialogCaptionsStore19=function(t){__p&&__p();c("VideoComposerDialogCaptionEditorUtils").fetchCaptions(t,function(u){__p&&__p();if(u&&u.video&&u.video.spoken_language)c("VideoComposerDialogCaptionsTabActions").selectSpokenLanguage(u.video.spoken_language);c("VideoComposerDialogCaptionEditorUtils").convertFetchToObject(t,false,u,function(v){__p&&__p();var w=c("VideoComposerDialogCaptionEditorUtils").makeAllSRTCaptionPromises(v);c("Promise").all(w).then(function(x){__p&&__p();var y=c("immutable").Map(),z="";x.forEach(function(A){if(!A)return;y=y.set(A.locale,A.captions);if(A.isDefault)z=A.locale});c("VideoComposerDialogCaptionsTabActions").initializeAllCaptionFiles(y);if(z!=="")c("VideoComposerDialogCaptionsTabActions").setDefaultLocale(z)}).done()})})};s.prototype.$VideoComposerDialogCaptionsStore12=function(t){var u=t.payload,v=u&&u.success;if(!v)this.$VideoComposerDialogCaptionsStore23()};s.prototype.$VideoComposerDialogCaptionsStore24=function(t,u,v){var w=c("XVideoCaptionGenerateAsyncController").getURIBuilder().setInt("video_id",t).setBool("regenerate",true).setBool("is_new_editor",true);if(u!==c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE)w=w.setString("locale_override",u).setString("locale",u);var x=w.getURI(),y=c("ActorURI").create(x,this.getState().get("pageID"));new(c("AsyncRequest"))(y).setMethod("POST").setHandler(v).send()};s.prototype.$VideoComposerDialogCaptionsStore7=function(t,u,v){__p&&__p();if(!c("VideoComposerDialogCaptionEditorUtils").isAutoGenerateable(v))return false;this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_BUTTON_CLICKED);this.$VideoComposerDialogCaptionsStore24(t,v,function(w){var x=w.payload,y=x&&x.status!==0;if(y){this.$VideoComposerDialogCaptionsStore15(t);this.$VideoComposerDialogCaptionsStore16(t,u);this.$VideoComposerDialogCaptionsStore17()}else this.$VideoComposerDialogCaptionsStore25(u)}.bind(this));return true};s.prototype.$VideoComposerDialogCaptionsStore15=function(t){if(t)c("RTISubscriptionManager").subscribe("shortwave/captions/"+t,this.$VideoComposerDialogCaptionsStore26.bind(this))};s.prototype.$VideoComposerDialogCaptionsStore26=function(t){var u=t&&t.payload;if(!u)return;var v=JSON.parse(t.payload);if(!v.progress_ms)return;c("VideoComposerDialogCaptionsTabActions").updateGenerateProgress(v.progress_ms/1e3)};s.prototype.$VideoComposerDialogCaptionsStore27=function(){var t=(new Date()-this.getState().get("generateStarted"))/1e3;return c("VideoComposerDialogCaptionEditorUtils").shouldRetryAutoGeneration(this.getState().get("videoDurationInSec"),t)};s.prototype.$VideoComposerDialogCaptionsStore28=function(){return this.getState().get("numAutoGenerationRetries")>0};s.prototype.$VideoComposerDialogCaptionsStore29=function(t){if(this.$VideoComposerDialogCaptionsStore28()){this.$VideoComposerDialogCaptionsStore25(t);c("VideoComposerDialogCaptionsTabActions").generateComplete(c("immutable").List(),this.getState().get("spokenLocale"),null);return}c("VideoComposerDialogCaptionsTabActions").retryAutoGeneration()};s.prototype.$VideoComposerDialogCaptionsStore16=function(t,u){__p&&__p();var v=false,w=0,x=setInterval(function(){__p&&__p();w++;if(v)return;v=true;if(this.$VideoComposerDialogCaptionsStore27()){clearInterval(x);this.$VideoComposerDialogCaptionsStore29(u);return}c("VideoComposerDialogCaptionEditorUtils").fetchCaptions(t,function(y){__p&&__p();var z=y&&y.video&&y.video.video_subtitles;if(z){var A=y.video.video_subtitles,B=A.map(function(D,E){return{id:D.id,language:D.display_language,locale:D.locale,creationMethod:D.subtitle_creation_method}}),C=c("VideoComposerDialogCaptionEditorUtils").findAutoGeneratedCaption(B,u);if(C){clearInterval(x);this.$VideoComposerDialogCaptionsStore20(t,false);this.$VideoComposerDialogCaptionsStore30(C.id,C.locale);return}if(w===p){this.$VideoComposerDialogCaptionsStore25(u);c("VideoComposerDialogCaptionsTabActions").generateComplete(c("immutable").List(),this.getState().get("spokenLocale"),null);clearInterval(x);return}v=false}}.bind(this))}.bind(this),q)};s.prototype.$VideoComposerDialogCaptionsStore17=function(){var t=0,u=this.getState().get("videoDurationInSec"),v=setInterval(function(){t++;var w=!this.getState().get("isAutoGenerating")||t>=c("VideoComposerDialogCaptionEditorConstants").MAX_FAKE_POLL_ITERATIONS;if(w){clearInterval(v);return}var x=this.getState().get("progress"),y=x*u/100,z=this.getState().get("autoGenProcessRate"),A=y+z*c("VideoComposerDialogCaptionEditorConstants").POLL_FAKE_FREQUENCY_GENERATE_MS*c("VideoComposerDialogCaptionEditorConstants").AUTO_GEN_PROGRESS_RATE_FACTOR/1e3;c("VideoComposerDialogCaptionsTabActions").updateGenerateProgress(A)}.bind(this),c("VideoComposerDialogCaptionEditorConstants").POLL_FAKE_FREQUENCY_GENERATE_MS)};s.prototype.$VideoComposerDialogCaptionsStore8=function(t){this.$VideoComposerDialogCaptionsStore24(t,c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE,function(u){var v=u.payload,w=v&&v.status!==0;if(w)this.$VideoComposerDialogCaptionsStore31(t);else this.$VideoComposerDialogCaptionsStore32()}.bind(this))};s.prototype.$VideoComposerDialogCaptionsStore31=function(t){__p&&__p();var u=false,v=0,w=setInterval(function(){__p&&__p();v++;if(u)return;var x=c("XVideoCaptionSpeechDetectionAsyncController").getURIBuilder().setInt("video_id",t);u=true;var y=x.getURI(),z=c("ActorURI").create(y,this.getState().get("pageID"));new(c("AsyncRequest"))(z).setMethod("POST").setHandler(function(A){__p&&__p();var B=A.payload,C=B&&B.status===2;if(C){clearInterval(w);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_CREATE_COMPLETE);c("VideoComposerDialogCaptionEditorUtils").fetchCaptionedLocales(t,false,function(E){__p&&__p();c("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch(E);c("VideoComposerDialogCaptionsTabActions").createComplete();if(this.getState().show_caption_editor){var F=E.findIndex(function(G){return G.language===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE});c("VideoComposerDialogCaptionsTabActions").editCaptionsDraft(F)}else E.forEach(function(G,F){if(G.language===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)c("VideoComposerDialogCaptionsTabActions").deleteCaptionsDraft(F)})}.bind(this));return}var D=B===null||B&&B.status===0;if(D){this.$VideoComposerDialogCaptionsStore32();clearInterval(w);return}if(v===o){this.$VideoComposerDialogCaptionsStore32();clearInterval(w);return}u=false}.bind(this)).send()}.bind(this),n)};s.prototype.$VideoComposerDialogCaptionsStore20=function(t,u){c("VideoComposerDialogCaptionEditorUtils").fetchCaptionedLocales(t,u,c("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch)};s.prototype.$VideoComposerDialogCaptionsStore6=function(t,u){c("VideoComposerDialogCaptionEditorUtils").fetchCaptionedLocales(t,false,function(v){var w=u!==null;if(w)this.$VideoComposerDialogCaptionsStore33(v,u);c("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch(v)}.bind(this))};s.prototype.$VideoComposerDialogCaptionsStore33=function(t,u){var v=t.some(function(w){w.locale===u});if(v)c("VideoComposerDialogCaptionsTabActions").resetAutoGeneratingLocale();else c("VideoComposerDialogCaptionsTabActions").resumeAutoGeneration()};s.prototype.$VideoComposerDialogCaptionsStore13=function(t,u,v){var w=c("XVideoCaptionUploadAsyncController").getURIBuilder().setInt("video_id",t),x=new FormData();u.forEach(function(A,B){var C=A.getIsDefault()?"captions_default":"captions_file"+B;x.append(C,A.getFile())});var y=w.getURI(),z=c("ActorURI").create(y,this.getState().get("pageID"));new(c("AsyncRequest"))(z).setMethod("POST").setHandler(function(A){this.$VideoComposerDialogCaptionsStore34(A,t,u)}.bind(this)).setRawData(x).send()};s.prototype.$VideoComposerDialogCaptionsStore34=function(t,u,v){__p&&__p();var w=t.payload,x=w&&w.success==="true"&&w.error==="";if(!x){var y=w?w.error:c("VideoComposerDialogCaptionEditorConstants").NO_PAYLOAD;c("VideoComposerDialogCaptionsTabActions").finishSRTUpload(x,y,c("immutable").Map());return}c("VideoComposerDialogCaptionEditorUtils").fetchCaptions(u,function(z){__p&&__p();c("VideoComposerDialogCaptionEditorUtils").convertFetchToObject(u,false,z,function(A){c("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch(A);var B=c("VideoComposerDialogCaptionEditorUtils").makeSRTCaptionPromises(v,A);c("Promise").all(B).then(function(C){var D=c("immutable").Map();C.forEach(function(E){if(!E)return;D=D.set(E.locale,{subtitlesID:E.subtitlesID,captions:E.captions})});c("VideoComposerDialogCaptionsTabActions").finishSRTUpload(x,w.error,D)}).done()})})};s.prototype.$VideoComposerDialogCaptionsStore25=function(t){var u=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").CAPTION_ERROR_GENERATE_FAIL,t);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_COMPLETE,{},u.toString());this.$VideoComposerDialogCaptionsStore35(u)};s.prototype.$VideoComposerDialogCaptionsStore32=function(){var t=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").CAPTION_ERROR_CREATE_FAIL);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_CREATE_COMPLETE,{},t.toString());this.$VideoComposerDialogCaptionsStore35(t)};s.prototype.$VideoComposerDialogCaptionsStore23=function(){var t=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").CAPTION_ERROR_DELETE_FAIL);this.$VideoComposerDialogCaptionsStore35(t)};s.prototype.$VideoComposerDialogCaptionsStore35=function(t){var u=c("immutable").List([t]),v={type:c("VideoComposerDialogCaptionsTabActionTypes").UPDATE_ERROR_STATE,errors:u};c("VideoComposerDialogDispatcher").dispatch(v)};s.prototype.$VideoComposerDialogCaptionsStore30=function(t,u){this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_COMPLETE);c("VideoComposerDialogCaptionEditorUtils").fetchCaptionByID(t,function(v){var w=v&&v.video_subtitle&&v.video_subtitle.captions&&v.video_subtitle.captions.edges;if(w){var x=v.video_subtitle.captions.edges;c("VideoComposerDialogCaptionsTabActions").generateComplete(c("immutable").List(x),u,t)}})};function s(){j.apply(this,arguments)}f.exports=new s(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogCrosspostUtils",["Promise","GraphAPI","VideoComposerDialogActions","VideoComposerDialogConstants","VideoComposerDialogMetadataStore","VideoComposerDialogPublishingStore","VideoComposerDialogTabs","VideoComposerDialogVideoTypeConfig","ErrorUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(){__p&&__p();var i=c("VideoComposerDialogMetadataStore").getState(),j=i.videoType,k=i.actorID,l=c("VideoComposerDialogVideoTypeConfig").typeConfig[j].displayedTabs.map(function(m){return c("VideoComposerDialogTabs").get(m).getCrosspostRequestDataToSend()});[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogPublishingStore")].forEach(function(m){l.push(m.getCrosspostRequestDataToSend())});c("Promise").all(l).then(function(m){var n={};m.forEach(function(p){return n=babelHelpers["extends"]({},n,p)});var o=new FormData();Object.keys(n).forEach(function(p){o.append(p,n[p])});return c("GraphAPI")("2.11").object("page",k||"").edge("videos").post(o)}).done(function(m){c("VideoComposerDialogActions").crosspostFinished()},function(m){c("VideoComposerDialogActions").crosspostFailed(c("ErrorUtils").normalizeError(m))})};f.exports={createCrosspost:h}}),null);
__d("XPagePostExpirationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/post/expiration/update/",{})}),null);
__d("requiredIfPropIsFalsy",["sprintf"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){return function(k,l,m){if(k[i])return null;if(k[l]===undefined)return new Error(c("sprintf")("Must supply %s to %s if property %s is falsy.",l,m,i));for(var n=arguments.length,o=Array(n>3?n-3:0),p=3;p<n;p++)o[p-3]=arguments[p];return j.apply(undefined,[k,l,m].concat(o))}}f.exports=h}),null);
__d("PostExpireDialogBody.react",["cx","fbt","ActorURI","AsyncRequest","DatePickerRestraints","Dialog","ExpirationType","FBToggleSwitch.react","HelpLink.react","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","React","ReloadPage","XPagePostExpirationController","XUICard.react","XUICardSection.react","XUICheckboxInput.react","XUIDateTimePicker.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIGrayText.react","XUINotice.react","requiredIfPropIsFalsy"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes,m=60*1e3,n=60*m,o=24*n,p=182*o+12*n,q=5*m+30*1e3;j=babelHelpers.inherits(r,c("React").Component);k=j&&j.prototype;function r(){__p&&__p();var s,t;"use strict";for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.state={expirationDate:this.props.originalExpirationTimestamp?new Date(this.props.originalExpirationTimestamp):new Date(Date.now()+n),expirationType:this.props.originalExpirationType?this.props.originalExpirationType:c("ExpirationType").HIDE,expirationToggle:this.props.originalExpirationTimestamp?true:false,invalidTimeAtSubmit:false},this.$PostExpireDialogBody3=function(){if(!this.state.expirationToggle)return null;return c("React").createElement(c("XUICard.react"),{background:"light-wash",className:"_3-8n"},c("React").createElement(c("XUICardSection.react"),{className:"_2ph- _3-8x _3-4v"},c("React").createElement(c("XUIDateTimePicker.react"),{dateRestraints:[c("DatePickerRestraints").enforceDateIsNoEarlierThan(new Date(Date.now()-o)),c("DatePickerRestraints").enforceDateIsNoLaterThan(new Date(Date.now()+p))],date:this.state.expirationDate,onChange:this.$PostExpireDialogBody6,timezone:this.props.timezone})),c("React").createElement(c("XUICardSection.react"),{className:"_2ph- _3-8x _3-4v"},c("React").createElement(c("InputLabel_DEPRECATED.react"),{className:"_3-8x"},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.expirationType===c("ExpirationType").DELETE,onChange:this.$PostExpireDialogBody7}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",weight:"normal"},i._("Delete the post. Permanently remove the post and its insights at the scheduled time."))))))}.bind(this),this.$PostExpireDialogBody1=function(){__p&&__p();var x=this.$PostExpireDialogBody8(),y=this.$PostExpireDialogBody9(),z=x&&y;if(z)return null;if(this.$PostExpireDialogBody10())return null;var A=null;if(!x||this.state.invalidTimeAtSubmit)A=i._("Posts need to expire between 10 minutes and 6 months from now.");else if(!y)A=i._("Your new expiry should be more than 6 mins from your old expiry time.");return c("React").createElement(c("XUINotice.react"),{use:"warn",className:"_3-8x"},A)}.bind(this),this.$PostExpireDialogBody8=function(){if(!this.state.expirationToggle)return true;var x=this.state.expirationDate.getTime(),y=Date.now()+10*m,z=Date.now()+p;return x>=y&&x<=z}.bind(this),this.$PostExpireDialogBody9=function(){if(!this.state.expirationToggle||!this.props.originalExpirationTimestamp)return true;var x=this.state.expirationDate.getTime();return x>=this.props.originalExpirationTimestamp||x<this.props.originalExpirationTimestamp-q}.bind(this),this.$PostExpireDialogBody2=function(){this.setState({expirationToggle:!this.state.expirationToggle})}.bind(this),this.$PostExpireDialogBody6=function(x){this.setState({expirationDate:x,invalidTimeAtSubmit:false})}.bind(this),this.$PostExpireDialogBody7=function(event){var x=event.target.checked?c("ExpirationType").DELETE:c("ExpirationType").HIDE;this.setState({expirationType:x})}.bind(this),this.$PostExpireDialogBody4=function(){__p&&__p();if(!this.$PostExpireDialogBody8()){this.setState({invalidTimeAtSubmit:true});return null}var x;if(this.props.onSubmit)return this.$PostExpireDialogBody11();if(this.state.expirationToggle){x={post_id:this.props.postID,expiration_time:this.$PostExpireDialogBody10()?null:Math.floor(this.state.expirationDate.getTime()/1e3),expiration_type:this.state.expirationType};this.$PostExpireDialogBody12(x)}else if(this.props.originalExpirationTimestamp||this.props.isRepublish){x={post_id:this.props.postID,expiration_time:0};this.$PostExpireDialogBody12(x)}}.bind(this),this.$PostExpireDialogBody11=function(){if(this.state.expirationToggle){var x=this.$PostExpireDialogBody10()?null:Math.floor(this.state.expirationDate.getTime()/1e3),y=this.state.expirationType;this.props.onSubmit(x,y)}else if(this.props.originalExpirationTimestamp||this.props.isRepublish)this.props.onSubmit(0,null)}.bind(this),this.$PostExpireDialogBody10=function(){if(!this.props.originalExpirationTimestamp)return false;var x=this.props.originalExpirationTimestamp-m,y=this.props.originalExpirationTimestamp+m,z=this.state.expirationDate.getTime();return z>x&&z<y}.bind(this),this.$PostExpireDialogBody13=function(){var x="We encountered an error while performing this operation";new(c("Dialog"))().setBody(x).setButtons([c("Dialog").OK]).show()},this.$PostExpireDialogBody12=function(x){var y=c("XPagePostExpirationController").getURIBuilder().getURI();y=c("ActorURI").create(y,this.props.pageID);new(c("AsyncRequest"))().setURI(y).setMethod("POST").setData(x).setHandler(function(){return c("ReloadPage").now()}).setErrorHandler(this.$PostExpireDialogBody13).send()}.bind(this),this.$PostExpireDialogBody5=function(){var x=null!=this.props.originalExpirationTimestamp,y=this.state.expirationToggle!=x,z=false;if(this.props.originalExpirationTimestamp){var A=Math.floor(this.props.originalExpirationTimestamp/m),B=Math.floor(this.state.expirationDate.getTime()/m);z=B!=A}var C=this.props.originalExpirationType!=null&&this.state.expirationType!=this.props.originalExpirationType;return y||z||C||this.props.isRepublish}.bind(this),t}r.prototype.render=function(){"use strict";var s=this.props.submitLabel?this.props.submitLabel:this.props.isRepublish?i._("Republish"):i._("Save"),t=this.props.isRepublish?c("React").createElement(c("XUINotice.react"),null,i._("Republishing this post will make it visible to the public. You can set a new expiry time here to make the post expire again later.")):null,u=this.state.expirationToggle?i._("Turn off to cancel expiry"):i._("Turn on to schedule expiry"),v=i._("When a post expires, it will be unpublished, which means that it will no longer be visible to the public. Page admins can still view unpublished posts and their insights."),w=this.$PostExpireDialogBody1();return c("React").createElement(c("XUICard.react"),{className:"_3-4u"},t,c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("InputLabel_DEPRECATED.react"),null,c("React").createElement(c("FBToggleSwitch.react"),{checked:this.state.expirationToggle,onToggle:this.$PostExpireDialogBody2,tooltip:u}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),null,i._("Expire"),c("React").createElement(c("HelpLink.react"),{tooltip:v,alignv:"bottom"}))),this.$PostExpireDialogBody3(),w),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",onClick:this.$PostExpireDialogBody4,disabled:w!==null||!this.$PostExpireDialogBody5(),label:s,use:"confirm"})))};r.propTypes={originalExpirationTimestamp:l.number,originalExpirationType:l.number,timezone:l.string.isRequired,onSubmit:l.func,isRepublish:l.bool,submitLabel:l.string,postID:c("requiredIfPropIsFalsy")("onSubmit",l.number),pageID:c("requiredIfPropIsFalsy")("onSubmit",l.number)};f.exports=r}),null);
__d("PostExpireDialog.react",["fbt","PostExpireDialogBody.react","React","ReactLayeredComponentMixin_DEPRECATED","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h){var i=c("React").PropTypes,j=343,k=c("React").createClass({displayName:"PostExpireDialog",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{originalExpirationTimestamp:i.number,originalExpirationType:i.number,timezone:i.string.isRequired,postID:i.number,pageID:i.number,onSubmit:i.func.isRequired,isRepublish:i.bool,submitLabel:i.string},getInitialState:function l(){return{shown:false}},render:function l(){return c("React").createElement("div",null)},renderLayers:function l(){var m=this.props.isRepublish?h._("Republish"):h._("Edit Expiry");return c("React").createElement(c("XUIDialog.react"),{width:j,shown:this.state.shown},c("React").createElement(c("XUIDialogTitle.react"),null,m),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("PostExpireDialogBody.react"),this.props)))},show:function l(){this.setState({shown:true})},hide:function l(){this.setState({shown:false})}});f.exports=k}),null);
__d("XVideoEditMakeFeaturedController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/edit/feature/",{v:{type:"FBID",required:true},is_videos_tab:{type:"Bool",defaultValue:false}})}),null);
__d("VideoComposerDialogEditUtils",["fbt","invariant","Promise","ActorURI","Arbiter","AsyncRequest","DOM","ExpirationType","FBFeedLocations","PageContentTabConfig","PagesComposer","PostExpireDialog.react","PostScheduleDialog.react","React","ReactDOM","ReloadPage","UserAgent","VideoComposerDialogActions","VideoComposerDialogMetadataStore","VideoComposerDialogPublishingStore","VideoComposerDialogTabs","VideoEditEvent","VideoEditFlow","VideoEditPublishingAction","VideoEditPublishingStatus","VideoEditSource","VideoEditTypedLogger","XVideoEditDialogSaveController","XVideoEditMakeFeaturedController","XVideoGenerateStoryController","ge"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=1e3,k=60*j,l=function l(L,M){if(!L)return false;var N=L-k,O=L+k;return M>N&&M<O},m=function m(L){var M=c("DOM").create("a");M.download="";M.href=L;M.click()},n=function(L){return c("UserAgent").isBrowser("Firefox")?{href:L,target:"_blank"}:{onclick:m.bind(this,L)}}.bind(this),o=function o(L,M,N){var O=c("XVideoEditMakeFeaturedController").getURIBuilder().setFBID("v",L).setBool("is_videos_tab",c("ge")("video_hub_featured_video_container")!=null).getURI();if(M)O=c("ActorURI").create(O,M);new(c("AsyncRequest"))(O).setHandler(function(P){N(P.payload)}).send()},p=function p(event,L){__p&&__p();var M=event.value;if(M===c("VideoEditPublishingAction").MAKE_DRAFT.value)q();else if(M===c("VideoEditPublishingAction").PUBLISH.value)r();else if(M===c("VideoEditPublishingStatus").SCHEDULED.value)s(L);else if(M===c("VideoEditPublishingStatus").DRAFT.value)t();else if(M===c("VideoEditPublishingAction").EXPIRE.value)u();else if(M===c("VideoEditPublishingStatus").PUBLISHED.value)v();else if(M===c("VideoEditPublishingAction").SCHEDULE_PUBLISH.value)x();else if(M===c("VideoEditPublishingAction").CANCEL_EXPIRATION.value)z();else if(M===c("VideoEditPublishingStatus").EXPIRING.value)A(L);else if(M===c("VideoEditPublishingAction").REPUBLISH.value)B();else if(M===c("VideoEditPublishingStatus").EXPIRED.value)C(L);else if(M===c("VideoEditPublishingAction").SCHEDULE_EXPIRATION.value)D(L);else if(M===c("VideoEditPublishingStatus").UNPUBLISHED.value)w();c("VideoComposerDialogActions").selectEditPublishAction(M)},q=function q(){c("VideoComposerDialogActions").editScheduledTime(new Date(0))},r=function r(){c("VideoComposerDialogActions").editShouldPublish(true)},s=function s(L){var M=L.scheduledPublishTime;c("VideoComposerDialogActions").editScheduledTime(new Date(M));c("VideoComposerDialogActions").editShouldPublish(false)},t=function t(){c("VideoComposerDialogActions").editScheduledTime(new Date(0));c("VideoComposerDialogActions").editShouldPublish(false)},u=function u(){c("VideoComposerDialogActions").editShouldExpire(true)},v=function v(){c("VideoComposerDialogActions").editShouldExpire(false);c("VideoComposerDialogActions").editExpiration(new Date(0),c("ExpirationType").NONE)},w=function w(){c("VideoComposerDialogActions").editShouldPublish(false)},x=function x(){var L=h._("OK"),M=c("React").createElement(c("PostScheduleDialog.react"),{timezoneStr:c("PageContentTabConfig").timezone_str,onSubmit:y,submitLabel:L});M=c("ReactDOM").render(M,c("DOM").create("div"));M.show()},y=function y(L){c("VideoComposerDialogActions").editScheduledTime(L);c("VideoComposerDialogActions").editShouldPublish(false)},z=function z(){c("VideoComposerDialogActions").editShouldExpire(false);c("VideoComposerDialogActions").editExpiration(new Date(0),c("ExpirationType").NONE)},A=function A(L){var M=L.expirationTime,N=L.expirationType;c("VideoComposerDialogActions").editShouldExpire(false);c("VideoComposerDialogActions").editExpiration(new Date(M),N)},B=function B(){c("VideoComposerDialogActions").editShouldExpire(false);c("VideoComposerDialogActions").editExpiration(new Date(0),c("ExpirationType").NONE)},C=function C(L){var M=L.expirationTime,N=L.expirationType;c("VideoComposerDialogActions").editExpiration(M,N)},D=function D(L){var M=h._("OK"),N=c("React").createElement(c("PostExpireDialog.react"),{timezone:c("PageContentTabConfig").timezone_str,onSubmit:function O(P,Q){E(L,P,Q);N instanceof c("PostExpireDialog.react")||i(0);N.hide()},submitLabel:M});N=c("ReactDOM").render(N,c("DOM").create("div"));N.show()},E=function E(L,M,N){if(M)M*=j;else M=L.expirationTime;c("VideoComposerDialogActions").editExpiration(new Date(M),N)},F=function F(L,M,N){__p&&__p();var O=new FormData(),P=[];for(var Q=N,R=Array.isArray(Q),S=0,Q=R?Q:Q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var T;if(R){if(S>=Q.length)break;T=Q[S++]}else{S=Q.next();if(S.done)break;T=S.value}var U=T;P.push(c("VideoComposerDialogTabs").get(U).getEditRequestDataToSend().then(function(V){if(V)Object.keys(V).forEach(function(W){if(V)O.append(W,V[W])})}))}[c("VideoComposerDialogMetadataStore").getEditRequestDataToSend(),c("VideoComposerDialogPublishingStore").getEditRequestDataToSend()].forEach(function(V){return P.push(V.then(function(W){if(W)Object.keys(W).forEach(function(X){O.append(X,W[X])})}))});c("Promise").all(P).done(function(){O.append("edit_flow",c("VideoEditFlow").DIALOG_V2);K(L,M,O)},function(V){c("VideoComposerDialogActions").saveEditedVideoFailure(H())})},G=function G(L,M,N,O,P,Q){__p&&__p();if(Q===c("VideoEditSource").PERMALINK){c("ReloadPage").now();return}if(Q===c("VideoEditSource").TIMELINE&&L&&P){var R=c("XVideoGenerateStoryController").getURIBuilder().getURI(),S={video_id:M,feed_location:c("FBFeedLocations").PAGE_TIMELINE};if(O)S.timeline_identifier=O;J(c("VideoEditEvent").REQUEST_NEW_STORY,Q,M);new(c("AsyncRequest"))().setURI(R).setData(S).setHandler(function(U){I(U,P,Q,M)}).setErrorHandler(function(U){J(c("VideoEditEvent").ERROR_NO_NEW_STORY,Q,M)}).send();return}if(Q===c("VideoEditSource").LIBRARY){var T={id:M,videoID:M};if(N)T.videoAssetID=N;c("Arbiter").inform("video/edited"+L,T)}},H=function H(){return h._("Sorry, something went wrong. Please try again later.")},I=function I(L,M,N,O){var P=L.payload;if(P){J(c("VideoEditEvent").RECEIVED_NEW_STORY,N,O);c("PagesComposer").replaceByID(M,P);J(c("VideoEditEvent").REPLACED_OLD_STORY,N,O)}else J(c("VideoEditEvent").ERROR_NO_NEW_STORY,N,O)},J=function J(event,L,M){new(c("VideoEditTypedLogger"))().setEvent(event).setSource(L).setFlow(c("VideoEditFlow").DIALOG_V2).setVideoID(M).log()},K=function K(L,M,N){var O=c("XVideoEditDialogSaveController").getURIBuilder().setInt("v",M).getURI();O=c("ActorURI").create(O,L);new(c("AsyncRequest"))(O).setRawData(N).setHandler(function(P){var Q=P.payload.error;if(!Q)c("VideoComposerDialogActions").saveEditedVideoSuccess();else c("VideoComposerDialogActions").saveEditedVideoFailure(P.payload.unknownError?H():P.payload.errorMessage)}).setErrorHandler(function(P){c("VideoComposerDialogActions").saveEditedVideoFailure(P.errorDescription)}).send()};f.exports={areTwoTimesAlmostTheSame:l,getDownloadMenuItemProps:n,onMakeFeaturedVideo:o,onPublishingChange:p,onSave:F,onSuccessfulSave:G}}),null);
__d("VideoComposerDialogTabUtils",["Promise","React","VideoComposerDialogActions","VideoComposerDialogTabs","VideoComposerDialogVideoTypeConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(k,l){__p&&__p();var m=c("VideoComposerDialogVideoTypeConfig").typeConfig[k].displayedTabs,n=[];for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n.push(c("VideoComposerDialogTabs").get(s).fetchCrosspostData(l))}c("Promise").all(n).done()},i=function i(k,l){__p&&__p();var m=c("VideoComposerDialogVideoTypeConfig").typeConfig[k].displayedTabs,n=[];for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n.push(c("VideoComposerDialogTabs").get(s).fetchEditPostData(l))}c("Promise").all(n).done(function(){c("VideoComposerDialogActions").editTabsLoaded()})},j=function j(k){return k.map(function(l){var m=c("VideoComposerDialogTabs").get(l).tabContainer;return c("React").createElement(m,{key:l})})};f.exports={fetchCrosspostParameters:h,fetchEditPostParameters:i,getTabContainers:j}}),null);
__d("XVideoComposerDialogInitUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/init_upload/",{target_id:{type:"FBID",required:true},composer_entry_point_ref:{type:"Enum",required:true,enumType:1}})}),null);
__d("VideoComposerDialogUploadUtils",["Promise","ActorURI","Arbiter","AsyncRequest","VideoComposerDialogActions","VideoComposerDialogConstants","VideoComposerDialogMetadataStore","VideoComposerDialogPublishingStore","VideoComposerDialogTabs","VideoData","VideoUploader","VideoUploadFile","XVideoComposerDialogInitUploadController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(n,o){n.addSubscriptions(o.subscribe("upload-finished",c("VideoComposerDialogActions").uploadFinished),o.subscribe("upload-failed",function(event,p){setTimeout(function(){return c("VideoComposerDialogActions").uploadFailed(event,p)},0)}),o.subscribe("upload-progressed",c("VideoComposerDialogActions").uploadProgressed),o.subscribe("post-failed",c("VideoComposerDialogActions").postFailed),o.subscribe("post-finished",c("VideoComposerDialogActions").postFinished),o.subscribe("metadata-parsed",function(event,p){setTimeout(function(){return c("VideoComposerDialogActions").metadataLoadedFromVideoUploader(p)},0)}))},i=function i(n,o){var p=c("VideoUploadFile").fromFile(n);o.upload(p)},j=function j(n,o){__p&&__p();var p={},q=[];for(var r=o,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u;q.push(c("VideoComposerDialogTabs").get(v).getPostData().then(function(w){Object.assign(p,w)}))}[c("VideoComposerDialogMetadataStore").getPostData(),c("VideoComposerDialogPublishingStore").getPostData()].forEach(function(w){return q.push(w.then(function(x){Object.assign(p,x)}))});c("Promise").all(q).done(function(){n.post(p)},function(w){setTimeout(function(){return c("VideoComposerDialogActions").cancelUpload()},1)})},k=function k(n,o,p){var q=c("XVideoComposerDialogInitUploadController").getURIBuilder().setFBID("target_id",o).setEnum("composer_entry_point_ref",p).getURI(),r=c("ActorURI").create(q,n);new(c("AsyncRequest"))(r).setHandler(function(s){c("VideoComposerDialogActions").initVideoUploader(new(c("VideoUploader"))(s.payload.videoUploader[0]))}).send()},l=function l(n){var o=b.URL.createObjectURL(n);return new(c("VideoData"))({aspect_ratio:c("VideoComposerDialogConstants").SIXTEEN_NINE,original_height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,original_width:c("VideoComposerDialogConstants").PLAYER_WIDTH,player_version_overwrite:"pleasantville",sd_src:o,stream_type:"progressive",video_id:""})},m=function m(n,o){var p=c("VideoComposerDialogMetadataStore").getState(),q=p.actorID,r=p.profileDisplayName,s=p.profilePictureURI;c("Arbiter").inform("videoUpload/complete",{videoID:n.video_id,containerType:n.video_container,copyrighted:n.copyrighted,videoAssetID:n.video_asset_id,videoTitle:n.video_title,videoDescription:n.xhpc_message_text,videoThumbnailBlob:n.thumb,isScheduledPost:!!n.scheduled,isHiddenFromTimeline:n.no_story,isSecret:n.secret,isDraft:n.draft=="true",isPageToPage:true,originalComposerID:o,pageID:q,isEpisode:n.episode_data_json!==null&&n.episode_data_json!==undefined&&JSON.parse(n.episode_data_json).isEpisode,userDisplayName:r,userProfilePictureURI:s});c("Arbiter").inform("videoUpload/"+o+"/done");c("Arbiter").inform("Pages/composeFinished",{composerID:o})};f.exports={addUploadSubscriptions:h,beginUpload:i,createVideoData:l,doPost:j,loadVideoUploader:k,postFinished:m}}),null);
__d("XVideoComposerDialogBootloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_params/",{})}),null);
__d("VideoComposerDialogUtils",["ActorURI","AsyncRequest","ComposerEntryPointRef","ComposerXVideoUploadDialogController","PagesSettingsInstreamAdsBlockListContentStore","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListStore","VideoComposerDialogActions","VideoComposerDialogAdBreakStore","VideoComposerDialogBasicStore","VideoComposerDialogCaptionsStore","VideoComposerDialogDispatcher","VideoComposerDialogDistributionStore","VideoComposerDialogEditStore","VideoComposerDialogLoggingStore","VideoComposerDialogMetadataStore","VideoComposerDialogPublishingStore","VideoComposerDialogShowVideo","VideoComposerDialogUIStore","VideoComposerDialogUploadStore","VideoUploadFile","XVanityURLController","XVideoComposerDialogBootloadController","formatDate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(p){var q=c("XVideoComposerDialogBootloadController").getURIBuilder().getURI(),r=c("ActorURI").create(q,p);new(c("AsyncRequest"))(r).setHandler(function(s){c("VideoComposerDialogActions").bootloadParameters(s.payload)}).send()},i=function i(p){if(p===c("ComposerEntryPointRef").PAGE_CONTENT_TAB_SEASON_DETAILS||p===c("ComposerEntryPointRef").SHOWS_HOME_EPISODES_CARD||p===c("ComposerEntryPointRef").PAGE_COMPOSER_EPISODE_CARD)return c("VideoComposerDialogShowVideo").EPISODE;if(p===c("ComposerEntryPointRef").TRAILER)return c("VideoComposerDialogShowVideo").TRAILER;return c("VideoComposerDialogShowVideo").BASIC_VIDEO},j=function j(p){var q=c("formatDate")(p,"m/d/Y",{skipPatternLocalization:true}),r=60*(p.getHours()*60+p.getMinutes());return{dateStr:q,timeSec:r}},k=function k(p){return c("XVanityURLController").getURIBuilder().setString("vanity",p).getURI()},l=function l(p){o();c("VideoComposerDialogActions").initializeCrosspostComposer(p)},m=function m(p){o();c("VideoComposerDialogActions").initializeEditComposer(p)},n=function n(p){var q=p.composerEntryPointRef?c("ComposerEntryPointRef")[p.composerEntryPointRef.toUpperCase()]:null;if(q===null)return;var r=c("ComposerXVideoUploadDialogController").getComposerInstance(p.composerID).getFileInput(),s=c("VideoUploadFile").fromFileInput(r.getInput());if(!s)return;o();c("VideoComposerDialogActions").initializeComposer(p.actorID,p.targetID,p.oneClickPublish,q,p.composerID,r,s.getFile(),p.isVideoShowPage)},o=function o(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogBasicStore"),c("VideoComposerDialogEditStore"),c("VideoComposerDialogLoggingStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore"),c("VideoComposerDialogUIStore"),c("VideoComposerDialogCaptionsStore"),c("VideoComposerDialogAdBreakStore"),c("VideoComposerDialogDistributionStore"),c("VideoComposerDialogPublishingStore")]);c("PagesSettingsInstreamAdsBlockListDispatcher").explicitlyRegisterStores([c("PagesSettingsInstreamAdsBlockListContentStore"),c("PagesSettingsInstreamAdsBlockListStore")])};f.exports={beginBootloading:h,formatDateAndTime:j,getShowVideoTypeFromEntryPoint:i,getVideoPermalinkURL:k,openCrosspostDialog:function p(q){l(q)},openEditDialog:function p(q){m(q)},openUploadDialog:function p(q){n(q)}}}),null);
__d("VideoSubtitlesCaptionsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1771789996207101"};j.getQueryID=function(){"use strict";return"1479412692112455"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("VideoSubtitlesDetailQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1464334463602332"};j.getQueryID=function(){"use strict";return"1972054256453533"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("XVideoCaptionDeleteAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/delete/",{video_id:{type:"Int",required:true},subtitle_id:{type:"Int",required:true}})}),null);
__d("XVideoCaptionPublishedStateUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/publishedstate/update/",{video_id:{type:"Int",required:true},subtitles_id:{type:"Int",required:true},new_published_state:{type:"Enum",required:true,enumType:0}})}),null);
__d("XVideoCaptionSaveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/videos/captioneditor/save/",{caption_id:{type:"Int",required:true},caption:{type:"String"},caption_changeset:{type:"String"},source_app_id:{type:"FBID"},locale:{type:"String"},placement:{type:"Enum",enumType:0}})}),null);
__d("XVideoComposerDialogCaptionsTabBootloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/captions_tab/bootload_params/",{})}),null);
__d("VideoComposerDialogCaptionEditorUtils",["fbt","Promise","VideoCaptionEditorURL","ActorURI","AsyncRequest","immutable","VideoCaptionDeletionCache","VideoCaptionFile","VideoCaptionURL","VideoCaptionUtil","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorPublishStateEnum","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoSubtitlePublishedStatusType","VideoSubtitlesCaptionsQueryWebGraphQLQuery","VideoSubtitlesDetailQueryWebGraphQLQuery","VideoUploadUIError","WebGraphQL","XVideoCaptionDeleteAsyncController","XVideoCaptionPublishedStateUpdateController","XVideoCaptionSaveAsyncController","XVideoComposerDialogCaptionsTabBootloadController","XVideoComposerDialogCrosspostCaptionEditorTabController","moment.instagram"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();i.prototype.saveCaptionChangeset=function(j,k,l,m,n){if(!this.$VideoComposerDialogCaptionEditorUtils1(k))return;var o=c("XVideoCaptionSaveAsyncController").getURIBuilder().setInt("caption_id",j).setString("locale",m).getURI(),p=c("ActorURI").create(o,n);new(c("AsyncRequest"))(p).setMethod("POST").setData({caption:JSON.stringify(k.toArray()),caption_changeset:JSON.stringify(l.toArray())}).setHandler(function(q){c("VideoComposerDialogCaptionEditorActions").finishSaveCaptionChangeset(q);c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionsTabActions").updateCaptionFiles();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()}).send()};i.prototype.$VideoComposerDialogCaptionEditorUtils1=function(j){return j.size>0};i.prototype.getTimeStamp=function(j){var k=Math.floor(j/1e3),l=k>=3599?"hh:mm:ss:SSS":"mm:ss:SS";return c("moment.instagram").utc(j).format(l)};i.prototype.getWidth=function(j,k){return j*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT*k};i.prototype.fetchCaptions=function(j,k){c("WebGraphQL").exec(new(c("VideoSubtitlesCaptionsQueryWebGraphQLQuery"))({video_id:j})).done(k)};i.prototype.makeNewCaptionFile=function(j,k,l){if(j.size===0)return null;var m=j.filter(function(o){return o.node.text!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_CAPTION_TEXT});if(m.size===0)return null;var n=c("VideoCaptionUtil").saveToFile(j.toArray(),k);return n?new(c("VideoCaptionFile"))(n,k,l):null};i.prototype.finishCaptionsFetch=function(j){c("VideoComposerDialogCaptionsTabActions").finishedFetchDrafts(c("immutable").List(j))};i.prototype.fetchCaptionedLocales=function(j,k,l){if(!j)return;this.fetchCaptions(j,function(m){this.convertFetchToObject(j,k,m,l)}.bind(this))};i.prototype.convertFetchToObject=function(j,k,l,m){__p&&__p();var n,o=this,p=l&&l.video&&l.video.video_subtitles;if(p)(function(){var q=c("VideoComposerDialogCaptionsStore").getState(),r=l.video.video_subtitles,s=l.video.default_video_caption_locale,t=[];r.forEach(function(u,v){var w={id:u.id,locale:u.locale,language:u.display_language,creationMethod:u.subtitle_creation_method,publishedState:u.published_state,isDefault:u.locale===s};if(k&&w.locale===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)this.silentlyDeleteSubtitle(j,w,q.get("pageID"));else t.push(w)}.bind(o));m(t)})()};i.prototype.fetchCaptionByID=function(j,k){if(!j)return;c("WebGraphQL").exec(new(c("VideoSubtitlesDetailQueryWebGraphQLQuery"))({subtitles_id:j})).done(k)};i.prototype.findAutoGeneratedCaption=function(j,k){return j.find(function(l){return l.language===k&&l.creationMethod===c("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED})};i.prototype.findSRTUploadCaption=function(j,k){return j.find(function(l){return l.locale===k&&l.creationMethod===c("VideoComposerDialogCaptionEditorConstants").SRT_UPLOAD})};i.prototype.getCaptionErrorMessage=function(j,k){__p&&__p();switch(j){case c("VideoUploadUIError").CAPTION_ERROR_WRONG_FORMAT:return h._("You uploaded a .SRT file with an incorrect file name. Please use this format: filename{suffix}",[h.param("suffix",".en_US.srt")]);case c("VideoUploadUIError").CAPTION_ERROR_DUPLICATE_LOCALE:return h._("You have already added a caption file for {language}. Please remove the older caption file before adding a new one.",[h.param("language",k)]);case c("VideoUploadUIError").CAPTION_ERROR_GENERATE_FAIL:if(k==null)return h._("The caption generation has failed.");return h._("We're unable to auto-generate captions for {language}. You can still write them yourself or upload a file.",[h.param("language",k)]);case c("VideoUploadUIError").CAPTION_ERROR_CREATE_FAIL:return h._("The caption creation has failed.");case c("VideoUploadUIError").CAPTION_ERROR_DELETE_FAIL:return h._("The caption deletion has failed.");case c("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY:return h._("The caption generation has failed. Retrying to generate.");default:return h._("There was an error uploading your caption file.")}};i.prototype.isAutoGenerateable=function(j){var k=this.getHeadLocale(j);return c("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATABLE_HEAD_LOCALES.has(k)};i.prototype.getHeadLocale=function(j){if(j.slice(3,5)!=="XX")return j;var k=c("VideoComposerDialogCaptionEditorConstants").GENERAL_LOCALES_TO_HEAD.get(j);if(k)return k;return""};i.prototype.areHeadLocalesEqual=function(j,k){return this.getHeadLocale(j)===this.getHeadLocale(k)};i.prototype.getGenericLocale=function(j){var k=c("VideoComposerDialogCaptionEditorConstants").HEAD_TO_GENERAL_LOCALES.get(j);if(k)return k;return j};i.prototype.makeSRTCaptionPromises=function(j,k){__p&&__p();var l=[];j.forEach(function(m,n){l.push(new(c("Promise"))(function(o,p){var q=this.findSRTUploadCaption(k,m.getLocale()),r=q!==-1;if(!r){o();return}this.srtSubtitleIDToSubtitles(q.id,q.locale,q.publishedState,false,o)}.bind(this)))}.bind(this));return l};i.prototype.makeAllSRTCaptionPromises=function(j){var k=[];j.forEach(function(l){k.push(new(c("Promise"))(function(m,n){this.srtSubtitleIDToSubtitles(l.id,l.locale,l.publishedState,l.isDefault,m)}.bind(this)))}.bind(this));return k};i.prototype.srtSubtitleIDToSubtitles=function(j,k,l,m,n){this.fetchCaptionByID(j,function(o){var p=o&&o.video_subtitle&&o.video_subtitle.captions&&o.video_subtitle.captions.edges;if(p){var q=o.video_subtitle.captions.edges;n({captions:q,locale:k,publishedState:l,subtitlesID:j,isDefault:m})}else n()})};i.prototype.shouldRetryAutoGeneration=function(j,k){var l=j*c("VideoComposerDialogCaptionEditorConstants").GENERATION_RETRY_THRESHOLD.PCT/100,m=c("VideoComposerDialogCaptionEditorConstants").GENERATION_RETRY_THRESHOLD.TIME_S;return k>Math.max(l,m)};i.prototype.deleteSubtitles=function(j,k,l,m,n){m.add(k);var o=c("XVideoCaptionDeleteAsyncController").getURIBuilder().setInt("video_id",j).setInt("subtitle_id",k.id).getURI(),p=c("ActorURI").create(o,l);new(c("AsyncRequest"))(p).setMethod("POST").setHandler(function(q){m.remove(k.id);n(q)}).send()};i.prototype.silentlyDeleteSubtitle=function(j,k,l){var m=c("XVideoCaptionDeleteAsyncController").getURIBuilder().setInt("video_id",j).setInt("subtitle_id",k.id).getURI(),n=c("ActorURI").create(m,l);new(c("AsyncRequest"))(n).setMethod("POST").send()};i.prototype.beginBootloadingCaptionsTab=function(j){var k=c("XVideoComposerDialogCaptionsTabBootloadController").getURIBuilder().getURI(),l=c("ActorURI").create(k,j);new(c("AsyncRequest"))(l).setHandler(function(m){c("VideoComposerDialogCaptionsTabActions").bootloadParametersCaptionsTab(m.payload)}).send()};i.prototype.getUpdatedPublishState=function(j){if(j===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED||j===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)return c("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT;else return c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING};i.prototype.updateToChangesetValues=function(j,k){var l=j.toArray();for(var m=0;m<j.size;m++){var n=j.get(m),o=k.get(n.id);if(o!==undefined){n.publishedState=o;l[m]=n}}return c("immutable").List(l)};i.prototype.getPublishedStateForServer=function(j){switch(j){case c("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT:return c("VideoSubtitlePublishedStatusType")[j];default:return c("VideoSubtitlePublishedStatusType")[c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED]}};i.prototype.updatePublishedStatesOnServer=function(j,k,l){__p&&__p();var m=false;l.forEach(function(n,o){__p&&__p();var p=c("VideoSubtitlePublishedStatusType")[n]!==undefined;if(!p)return;var q=c("XVideoCaptionPublishedStateUpdateController").getURIBuilder().setInt("video_id",j).setInt("subtitles_id",o).setEnum("new_published_state",this.getPublishedStateForServer(n)),r=q.getURI(),s=c("ActorURI").create(r,String(k));new(c("AsyncRequest"))(s).setMethod("POST").setHandler(function(t){var u=t.payload&&t.payload.success;if(u&&!m){c("VideoComposerDialogCaptionsTabActions").changePublishedStatePendingToPublished();m=true}}).send()}.bind(this))};i.prototype.changeAllPendingToPublished=function(j){var k=j.toArray();for(var l=0;l<j.size;l++)k[l]=this.changeOnePendingToPublished(j.get(l));return c("immutable").List(k)};i.prototype.changeOnePendingToPublished=function(j){var k=j.publishedState===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING;if(k)j.publishedState=c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED;return j};i.prototype.subtitlesListToMap=function(j){var k={};j.forEach(function(l){var m=this.getHeadLocale(l.locale);k[m]=l}.bind(this));return c("immutable").Map(k)};i.prototype.getPublishedCaptionFiles=function(j,k){var l=this.subtitlesListToMap(k);return j.filter(function(m,n){var o=l.get(n);return o&&o.publishedState!==c("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT})};i.prototype.addLocaleAsPublishPending=function(j,k){return j.set(k,c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)};i.prototype.filterOutDeletions=function(j,k){var l=c("immutable").List();j.forEach(function(m){if(!k.has(m.id))l=l.push(m)});return l};i.prototype.fetchCrosspostData=function(j){var k=c("XVideoComposerDialogCrosspostCaptionEditorTabController").getURIBuilder().setFBID("video_asset_id",j.videoAssetID).getURI(),l=c("ActorURI").create(k,j.actorID);return new(c("Promise"))(function(m,n){new(c("AsyncRequest"))(l).setHandler(function(o){m(o)}).send()}).then(function(m){c("VideoComposerDialogCaptionEditorActions").fetchCrosspostParams(m.payload)})};i.prototype.getConvertedCaptionURLs=function(j){var k=c("immutable").List(j).map(function(l){var m=new(c("VideoCaptionEditorURL"))(l.uri,l.locale,l.locale_name,c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING);if(l.is_default)m.setIsDefault(true);if(l.is_auto_generated)m.setIsAutoGenerated(true);return m});return k};function i(){}f.exports=new i()}),null);
__d("ComposerVideoShowsActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirrorRecursive")({SET_IS_EPISODE:"",SET_PLAYLISTS:"",SET_SEASON:"",SET_PLAYLIST_OPTIONS:"",SET_SEASON_OPTIONS:"",REQUEST_VIDEO_LIST_OPTIONS:"",INITIALIZE:"",LOAD_EPISODE_DATA:""});f.exports=h}),null);
__d("ComposerVideoShowsDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("ComposerVideoShowsActions",["ComposerVideoShowsActionTypes","ComposerVideoShowsDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={initialize:function i(j,k,l){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").INITIALIZE,composerID:j,composerEntryPoint:k,isEditing:l})},setIsEpisode:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_IS_EPISODE,isEpisode:j})},setPlaylists:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_PLAYLISTS,playlistIDs:j})},setSeason:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_SEASON,seasonID:j})},setPlaylistOptions:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_PLAYLIST_OPTIONS,value:j})},setSeasonOptions:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_SEASON_OPTIONS,value:j})},requestVideoListOptions:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").REQUEST_VIDEO_LIST_OPTIONS,pageID:j})},loadEpisodeData:function i(j,k){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").LOAD_EPISODE_DATA,composerID:j,isEpisode:k.isEpisode,seasonID:k.seasonID,playlistIDs:k.playlistIDs})}};f.exports=h}),null);
__d("ComposerVideoShowsState",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={composerID:null,isEpisode:null,shouldShowPlaylistSelector:false,playlistIDs:[],seasonID:null,playlistOptions:{},seasonOptions:{}};h=babelHelpers.inherits(k,c("immutable").Record(j));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("PageContentTabShowsStore",["EventEmitter","GraphAPI","PageContentTabConstants","PageContentTabDispatcher","PageContentTabAccessToken"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("PageContentTabConstants").ACTION_TYPES;h=babelHelpers.inherits(k,c("EventEmitter"));i=h&&h.prototype;function k(){i.constructor.call(this);this.$PageContentTabShowsStore1=undefined;this.$PageContentTabShowsStore2={videoListDescription:null,videoListTitle:null,videosCount:0};c("PageContentTabDispatcher").register(this.handleDispatcherPayload.bind(this))}k.prototype.getVideoListID=function(){return this.$PageContentTabShowsStore1};k.prototype.getVideoListHeaderInfo=function(){return this.$PageContentTabShowsStore2};k.prototype.handleDispatcherPayload=function(l){__p&&__p();var m=l.action;switch(m.actionType){case j.SET_VIDEO_LIST_ID:this.$PageContentTabShowsStore1=m.videoListID;break;case j.SET_VIDEO_LIST_HEADER_INFO:this.$PageContentTabShowsStore2=m.headerInfo;break;case j.REQUEST_VIDEO_LIST_HEADER_INFO:this.$PageContentTabShowsStore3(m.tab);break;default:return}this.emit("changed",m.pageID,m.tab)};k.prototype.$PageContentTabShowsStore3=function(l){var m=this.$PageContentTabShowsStore1;if(!m)return;c("GraphAPI")("2.8").object("video_list",m).get({access_token:c("PageContentTabAccessToken").getAccessToken(),fields:["id","videos_count","thumbnail","season_number","description","title"]}).then(function(n){c("PageContentTabDispatcher").handleSetVideoListHeaderInfo(l,{videoListDescription:n.description,videoListTitle:n.title,videosCount:n.videos_count,seasonNumber:n.season_number,thumbnail:n.thumbnail})}).done()};f.exports=new k()}),null);
__d("ReactComposerLiveBroadcastPreviewActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_BROADCAST_CONFIG:null,SET_CONTENT_TAGS:null,SET_HAS_VIDEO_STREAM:null,SET_SELECTED_TAB:null,SET_TITLE:null,SET_COMMENT_MODES:null,SET_COPYRIGHTED:null,SET_COPYRIGHT_CONTENT_CATEGORY:null,SET_COPYRIGHT_MONITORING_TYPE:null,SET_COPYRIGHT_RULE_ID:null,SET_COPYRIGHT_OWNERSHIP_COUNTRIES:null,SET_COPYRIGHT_WHITELISTED_FB_USERS:null,SET_COPYRIGHT_WHITELISTED_IG_USERNAMES:null,SET_DID_CLICK_SAVE:null,SET_POST_FINISHED:null,SET_BROADCAST_TYPE:null,SET_EMBEDDABLE:null,SET_VOD_DISABLED:null,SET_DISTURBING:null,SET_MANUAL_GO_LIVE:null,SET_ATTRIBUTION_TAG:null,SET_EPISODE_DATA:null,SET_ATTRIBUTION_APP_ID:null},"LIVE_BROADCASTS")}),null);
__d("ComposerVideoTabsIdentifiers",[],(function a(b,c,d,e,f,g){f.exports={ADBREAKS:"ad-breaks-tab",ATTRIBUTIONS:"attributions-tab",BASIC:"basic-tab",DESTINATION:"destination-tab",ADVANCED:"advanced-tab",CAPTIONS:"captions-tab",SPHERICAL:"spherical-controls-tab",PERMISSIONS:"permissions-tab",RIGHTS:"rights-tab",WHITELIST:"whitelist-tab",SUMMARY:"summary-tab"}}),null);
__d("ReactComposerLiveBroadcastPreviewStore",["ComposerVideoTabsIdentifiers","PrivacyConst","ReactComposerAudienceActionTypes","ReactComposerLiveBroadcastPreviewActionType","ReactComposerStoreBase","VideoBroadcastType","VideoCopyrightUtils"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{accessToken:"",attributionAppID:"",areCopyrightCountriesIncluded:true,broadcastID:"",broadcastType:"",contentTags:[],attributionTag:null,commentModes:[],composerType:"",copyrighted:false,copyrightMonitoringType:c("VideoCopyrightUtils").DEFAULT_LIVE_MONITORING_TYPE,copyrightRuleID:null,copyrightWhitelistedFBUsers:[],copyrightWhitelistedIGUserNames:[],copyrightOwnershipCountries:[],disturbing:false,embeddable:true,embeddedHtml:"",embedUrl:"",hasVideoStream:false,isEditing:false,isLive:false,isScheduled:false,isManualMode:false,isManualGoLive:false,privacy:null,postFinished:false,selectedTab:c("ComposerVideoTabsIdentifiers").BASIC,showKey:false,streamURL:"",secureStreamURL:"",title:"",videoID:"",vodDisabled:false,plannedStartTime:null,scheduleLobbyOpenTime:null,scheduleExpirationTime:null,selectedCategory:null,didClickSave:false}},function(l){__p&&__p();switch(l.type){case c("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_CONFIG:k&&k.$ReactComposerLiveBroadcastPreviewStore1(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_CONTENT_TAGS:k&&k.$ReactComposerLiveBroadcastPreviewStore2(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_ATTRIBUTION_TAG:k&&k.$ReactComposerLiveBroadcastPreviewStore3(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_HAS_VIDEO_STREAM:k&&k.$ReactComposerLiveBroadcastPreviewStore4(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_SELECTED_TAB:k&&k.$ReactComposerLiveBroadcastPreviewStore5(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_TITLE:k&&k.$ReactComposerLiveBroadcastPreviewStore6(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_SHOW_KEY:k&&k.$ReactComposerLiveBroadcastPreviewStore7(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COMMENT_MODES:k&&k.$ReactComposerLiveBroadcastPreviewStore8(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHTED:k&&k.$ReactComposerLiveBroadcastPreviewStore9(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_CONTENT_CATEGORY:k&&k.$ReactComposerLiveBroadcastPreviewStore10(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_MONITORING_TYPE:k&&k.$ReactComposerLiveBroadcastPreviewStore11(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_RULE_ID:k&&k.$ReactComposerLiveBroadcastPreviewStore12(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_FB_USERS:k&&k.$ReactComposerLiveBroadcastPreviewStore13(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_IG_USERNAMES:k&&k.$ReactComposerLiveBroadcastPreviewStore14(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_OWNERSHIP_COUNTRIES:k&&k.$ReactComposerLiveBroadcastPreviewStore15(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_DID_CLICK_SAVE:k&&k.$ReactComposerLiveBroadcastPreviewStore16(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_POST_FINISHED:k&&k.$ReactComposerLiveBroadcastPreviewStore17(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_TYPE:k&&k.$ReactComposerLiveBroadcastPreviewStore18(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_EMBEDDABLE:k&&k.$ReactComposerLiveBroadcastPreviewStore19(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_VOD_DISABLED:k&&k.$ReactComposerLiveBroadcastPreviewStore20(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_DISTURBING:k&&k.$ReactComposerLiveBroadcastPreviewStore21(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_MANUAL_GO_LIVE:k&&k.$ReactComposerLiveBroadcastPreviewStore22(l);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE:k&&k.$ReactComposerLiveBroadcastPreviewStore23(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_EPISODE_DATA:k&&k.$ReactComposerLiveBroadcastPreviewStore24(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_ATTRIBUTION_APP_ID:k&&k.$ReactComposerLiveBroadcastPreviewStore25(l);break}});k=this}j.prototype.getSelectedTab=function(k){"use strict";return this.getComposerData(k).selectedTab};j.prototype.getTitle=function(k){"use strict";return this.getComposerData(k).title};j.prototype.shouldShowKey=function(k){"use strict";return this.getComposerData(k).showKey};j.prototype.getAccessToken=function(k){"use strict";return this.getComposerData(k).accessToken};j.prototype.getStreamURL=function(k){"use strict";return this.getComposerData(k).streamURL};j.prototype.getSecureStreamURL=function(k){"use strict";return this.getComposerData(k).secureStreamURL};j.prototype.getVideoID=function(k){"use strict";return this.getComposerData(k).videoID};j.prototype.getEmbeddable=function(k){"use strict";return this.getComposerData(k).embeddable};j.prototype.getVodDisabled=function(k){"use strict";return this.getComposerData(k).vodDisabled};j.prototype.getDisturbing=function(k){"use strict";return this.getComposerData(k).disturbing};j.prototype.getCommentModes=function(k){"use strict";return this.getComposerData(k).commentModes};j.prototype.getCopyrighted=function(k){"use strict";return this.getComposerData(k).copyrighted};j.prototype.getCopyrightID=function(k){"use strict";return this.getComposerData(k).copyrightID};j.prototype.getCopyrightContentCategory=function(k){"use strict";return this.getComposerData(k).selectedCategory};j.prototype.getCopyrightMonitoringType=function(k){"use strict";return this.getComposerData(k).copyrightMonitoringType};j.prototype.getCopyrightRuleID=function(k){"use strict";return this.getComposerData(k).copyrightRuleID};j.prototype.getCopyrightWhitelistedFBUsers=function(k){"use strict";return this.getComposerData(k).copyrightWhitelistedFBUsers};j.prototype.getCopyrightWhitelistedIGUserNames=function(k){"use strict";return this.getComposerData(k).copyrightWhitelistedIGUserNames};j.prototype.getCopyrightOwnershipCountries=function(k){"use strict";return this.getComposerData(k).copyrightOwnershipCountries};j.prototype.getAreCopyrightCountriesIncluded=function(k){"use strict";return this.getComposerData(k).areCopyrightCountriesIncluded};j.prototype.getBroadcastID=function(k){"use strict";return this.getComposerData(k).broadcastID};j.prototype.getComposerType=function(k){"use strict";return this.getComposerData(k).composerType};j.prototype.getContentTags=function(k){"use strict";return this.getComposerData(k).contentTags};j.prototype.getAttributionTag=function(k){"use strict";return this.getComposerData(k).attributionTag};j.prototype.getEmbeddedHtml=function(k){"use strict";return this.getComposerData(k).embeddedHtml};j.prototype.getEmbedUrl=function(k){"use strict";return this.getComposerData(k).embedUrl};j.prototype.getPlannedStartTime=function(k){"use strict";return this.getComposerData(k).plannedStartTime};j.prototype.getScheduleLobbyOpenTime=function(k){"use strict";return this.getComposerData(k).scheduleLobbyOpenTime};j.prototype.getScheduleExpirationTime=function(k){"use strict";return this.getComposerData(k).scheduleExpirationTime};j.prototype.getBroadcastType=function(k){"use strict";return this.getComposerData(k).broadcastType};j.prototype.getPrivacy=function(k){"use strict";return this.getComposerData(k).privacy};j.prototype.getAttributionAppID=function(k){"use strict";return this.getComposerData(k).attributionAppID};j.prototype.hasVideoStream=function(k){"use strict";return this.getComposerData(k).hasVideoStream};j.prototype.isEditing=function(k){"use strict";return this.getComposerData(k).isEditing};j.prototype.isLive=function(k){"use strict";return this.getComposerData(k).isLive};j.prototype.isScheduled=function(k){"use strict";return this.getComposerData(k).isScheduled};j.prototype.isManualMode=function(k){"use strict";return this.getComposerData(k).isManualMode};j.prototype.isManualGoLive=function(k){"use strict";return this.getComposerData(k).isManualGoLive};j.prototype.getEpisodeData=function(k){"use strict";return this.getComposerData(k).episodeData};j.prototype.postFinished=function(k){"use strict";return this.getComposerData(k).postFinished};j.prototype.saveClicked=function(k){"use strict";return this.getComposerData(k).didClickSave};j.prototype.$ReactComposerLiveBroadcastPreviewStore1=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","config"]),m=l[0],n=l[1];this.getComposerData(m).accessToken=n.accessToken;this.getComposerData(m).broadcastID=n.broadcastID;this.getComposerData(m).isEditing=n.isEditing;this.getComposerData(m).isLive=n.isLive;this.getComposerData(m).isScheduled=n.isScheduled;this.getComposerData(m).isManualMode=n.isManualMode;this.getComposerData(m).streamURL=n.streamURL;this.getComposerData(m).secureStreamURL=n.secureStreamURL;this.getComposerData(m).videoID=n.videoID;this.getComposerData(m).embeddable=n.embeddable;this.getComposerData(m).vodDisabled=n.vodDisabled;this.getComposerData(m).disturbing=n.disturbing;this.getComposerData(m).broadcastType=c("VideoBroadcastType").VALUE_TO_NAME[n.broadcastType];this.getComposerData(m).embeddedHtml=n.embeddedHtml;this.getComposerData(m).embedUrl=n.embedUrl;this.getComposerData(m).composerType=n.composerType;this.getComposerData(m).attributionAppID=n.attributionAppID;this.getComposerData(m).commentModes=n.commentModes;if(n.copyrightData){var o=n.copyrightData;this.getComposerData(m).copyrighted=o.copyrighted;this.getComposerData(m).copyrightID=o.copyrightID;this.getComposerData(m).copyrightMonitoringType=o.monitoringType;this.getComposerData(m).copyrightOwnershipCountries=o.ownershipCountries;this.getComposerData(m).areCopyrightCountriesIncluded=o.areCountriesIncluded;this.getComposerData(m).copyrightRuleID=o.ruleID;this.getComposerData(m).copyrightWhitelistedFBUsers=o.whitelistedFBUsers;this.getComposerData(m).copyrightWhitelistedIGUserNames=o.whitelistedIGUserNames;this.getComposerData(m).selectedCategory=o.selectedCategory}if(n.scheduleData){var p=n.scheduleData;this.getComposerData(m).plannedStartTime=p.plannedStartTime;this.getComposerData(m).scheduleLobbyOpenTime=p.scheduleLobbyOpenTime;this.getComposerData(m).scheduleExpirationTime=p.scheduleExpirationTime}this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","contentTags"]),m=l[0],n=l[1];this.getComposerData(m).contentTags=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","attributionTag"]),m=l[0],n=l[1];this.getComposerData(m).attributionTag=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","hasVideoStream"]),m=l[0],n=l[1];this.getComposerData(m).hasVideoStream=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore23=function(k){"use strict";if(!k.audience)return;var l=this.validateAction(k,["composerID","audience"]),m=l[0],n=l[1];this.getComposerData(m).privacy=Number(n);if(Number(n)===c("PrivacyConst").PostParam.ONLY_ME)this.getComposerData(m).embeddable=false;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore5=function(k){"use strict";var l=this.validateAction(k,["composerID","key"]),m=l[0],n=l[1];this.getComposerData(m).selectedTab=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore6=function(k){"use strict";var l=this.validateAction(k,["composerID","title"]),m=l[0],n=l[1];this.getComposerData(m).title=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore18=function(k){"use strict";var l=this.validateAction(k,["composerID","ambientChecked"]),m=l[0],n=l[1];this.getComposerData(m).broadcastType=n?c("VideoBroadcastType").VALUE_TO_NAME[1]:c("VideoBroadcastType").VALUE_TO_NAME[0];this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore7=function(k){"use strict";var l=this.validateAction(k,["composerID","showKey"]),m=l[0],n=l[1];this.getComposerData(m).showKey=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore8=function(k){"use strict";var l=this.validateAction(k,["composerID","commentModes"]),m=l[0],n=l[1];this.getComposerData(m).commentModes=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore9=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrighted"]),m=l[0],n=l[1];this.getComposerData(m).copyrighted=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore11=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightMonitoringType"]),m=l[0],n=l[1];this.getComposerData(m).copyrightMonitoringType=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore10=function(k){"use strict";var l=this.validateAction(k,["composerID","selectedCategory"]),m=l[0],n=l[1];this.getComposerData(m).selectedCategory=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore12=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightRuleID"]),m=l[0],n=l[1];this.getComposerData(m).copyrightRuleID=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore13=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightWhitelistedFBUsers"]),m=l[0],n=l[1];this.getComposerData(m).copyrightWhitelistedFBUsers=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore14=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightWhitelistedIGUserNames"]),m=l[0],n=l[1];this.getComposerData(m).copyrightWhitelistedIGUserNames=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore15=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightOwnershipCountries","areCopyrightCountriesIncluded"]),m=l[0],n=l[1],o=l[2];this.getComposerData(m).copyrightOwnershipCountries=n;this.getComposerData(m).areCopyrightCountriesIncluded=o;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore16=function(k){"use strict";var l=this.validateAction(k,["composerID","didClickSave"]),m=l[0],n=l[1];this.getComposerData(m).didClickSave=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore17=function(k){"use strict";var l=this.validateAction(k,["composerID","postFinished"]),m=l[0],n=l[1];this.getComposerData(m).postFinished=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore19=function(k){"use strict";var l=this.validateAction(k,["composerID","embeddable"]),m=l[0],n=l[1];this.getComposerData(m).embeddable=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore20=function(k){"use strict";var l=this.validateAction(k,["composerID","vodDisabled"]),m=l[0],n=l[1];this.getComposerData(m).vodDisabled=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore21=function(k){"use strict";var l=this.validateAction(k,["composerID","disturbing"]),m=l[0],n=l[1];this.getComposerData(m).disturbing=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore22=function(k){"use strict";var l=this.validateAction(k,["composerID","isManualGoLive"]),m=l[0],n=l[1];this.getComposerData(m).isManualGoLive=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore24=function(k){"use strict";var l=this.validateAction(k,["composerID","episodeData"]),m=l[0],n=l[1];this.getComposerData(m).episodeData=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore25=function(k){"use strict";var l=this.validateAction(k,["composerID","attributionAppID"]),m=l[0],n=l[1];this.getComposerData(m).attributionAppID=n;this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerLiveBroadcastPreviewActions",["ReactComposerDispatcher","ReactComposerLiveBroadcastPreviewActionType","ReactComposerLiveBroadcastPreviewStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerLiveBroadcastPreviewStore");h.prototype.setBroadcastConfig=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_CONFIG,config:j})};h.prototype.setContentTags=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_CONTENT_TAGS,contentTags:j})};h.prototype.setAttributionTag=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_ATTRIBUTION_TAG,attributionTag:j})};h.prototype.setHasVideoStream=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_HAS_VIDEO_STREAM,hasVideoStream:j})};h.prototype.setSelectedTab=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_SELECTED_TAB,key:j})};h.prototype.setTitle=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_TITLE,title:j})};h.prototype.setShouldBlockComments=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_SHOULD_BLOCK_COMMENTS,shouldBlockComments:j})};h.prototype.setCommentModes=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COMMENT_MODES,commentModes:j})};h.prototype.setCopyrighted=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHTED,copyrighted:j})};h.prototype.setEmbeddable=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_EMBEDDABLE,embeddable:j})};h.prototype.setDisturbing=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_DISTURBING,disturbing:j})};h.prototype.setVodDisabled=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_VOD_DISABLED,vodDisabled:j})};h.prototype.setCopyrightContentCategory=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_CONTENT_CATEGORY,selectedCategory:j})};h.prototype.setDidClickSave=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_DID_CLICK_SAVE,didClickSave:j})};h.prototype.setCopyrightMonitoringType=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_MONITORING_TYPE,copyrightMonitoringType:j})};h.prototype.setCopyrightRuleID=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_RULE_ID,copyrightRuleID:j})};h.prototype.setCopyrightWhitelistedFBUsers=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_FB_USERS,copyrightWhitelistedFBUsers:j})};h.prototype.setCopyrightWhitelistedIGUserNames=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_IG_USERNAMES,copyrightWhitelistedIGUserNames:j})};h.prototype.setCopyrightOwnershipCountries=function(i,j,k){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_OWNERSHIP_COUNTRIES,copyrightOwnershipCountries:j,areCopyrightCountriesIncluded:k})};h.prototype.setPostFinished=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_POST_FINISHED,postFinished:j})};h.prototype.setBroadcastType=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_TYPE,ambientChecked:j})};h.prototype.setManualGoLive=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_MANUAL_GO_LIVE,isManualGoLive:j})};h.prototype.setEpisodeData=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_EPISODE_DATA,episodeData:j})};function h(){"use strict"}f.exports=new h()}),null);
__d("ComposerVideoShowsStore",["ComposerVideoShowsActions","ComposerVideoShowsActionTypes","ComposerVideoShowsDispatcher","ComposerVideoShowsState","ComposerVideoUploadActions","LiveVideoBroadcastActions","PageContentTabShowsStore","ComposerEntryPointRef","FluxReduceStore","ReactComposerLiveBroadcastPreviewActions","AsyncRequest","XShowPagesVideoListsController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return new(c("ComposerVideoShowsState"))()};j.prototype.initialize=function(k,l,m){__p&&__p();var n=void 0;if(this.getState().composerID===k&&m){n=this.getState();n=n.set("shouldShowPlaylistSelector",true)}else{n=this.getInitialState();n=n.set("composerID",k);n=n.set("shouldShowPlaylistSelector",false)}if(l===c("ComposerEntryPointRef").PAGE_CONTENT_TAB_SEASON_DETAILS){n=n.set("isEpisode",true);n=n.set("seasonID",c("PageContentTabShowsStore").getVideoListID()||null)}if(l===c("ComposerEntryPointRef").PAGE_CONTENT_TAB_PLAYLIST_DETAILS){var o=c("PageContentTabShowsStore").getVideoListID();n=n.set("playlistIDs",o?[o]:[]);n=n.set("shouldShowPlaylistSelector",true)}if(l===c("ComposerEntryPointRef").SHOWS_HOME_EPISODES_CARD||l===c("ComposerEntryPointRef").PAGE_COMPOSER_EPISODE_CARD)n=n.set("isEpisode",true);if(l===c("ComposerEntryPointRef").LIVE_BROADCAST)n=n.set("shouldShowPlaylistSelector",true);return n};j.prototype.reduce=function(k,l){__p&&__p();switch(l.type){case c("ComposerVideoShowsActionTypes").INITIALIZE:k=this.initialize(l.composerID,l.composerEntryPoint,l.isEditing);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").SET_IS_EPISODE:k=k.set("isEpisode",l.isEpisode);if(!l.isEpisode)k=k.set("seasonID",null);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").SET_PLAYLISTS:k=k.set("playlistIDs",l.playlistIDs);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").SET_SEASON:k=k.set("seasonID",l.seasonID);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").LOAD_EPISODE_DATA:k=this.initialize(l.composerID,"",true);k=k.set("isEpisode",l.isEpisode);k=k.set("seasonID",l.seasonID);k=k.set("playlistIDs",l.playlistIDs);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").SET_PLAYLIST_OPTIONS:return k.set("playlistOptions",l.value);case c("ComposerVideoShowsActionTypes").SET_SEASON_OPTIONS:return k.set("seasonOptions",l.value);case c("ComposerVideoShowsActionTypes").REQUEST_VIDEO_LIST_OPTIONS:this.$ComposerVideoShowsStore2(l.pageID)}return k};j.prototype.$ComposerVideoShowsStore1=function(k){c("ComposerVideoUploadActions").updateEpisodeData(k.get("composerID"),{isEpisode:k.get("isEpisode"),seasonID:k.get("seasonID"),playlistIDs:k.get("playlistIDs")});c("ReactComposerLiveBroadcastPreviewActions").setEpisodeData(k.get("composerID"),{isEpisode:k.get("isEpisode"),seasonID:k.get("seasonID"),playlistIDs:k.get("playlistIDs")});c("LiveVideoBroadcastActions").setEpisodeData({isEpisode:k.get("isEpisode"),seasonID:k.get("seasonID"),playlistIDs:k.get("playlistIDs")})};j.prototype.$ComposerVideoShowsStore2=function(k){var l=c("XShowPagesVideoListsController").getURIBuilder().setFBID("page_id",k).getURI();new(c("AsyncRequest"))(l).setHandler(function(m){var n=m.payload.seasonOptions||{},o=m.payload.playlistOptions||{};c("ComposerVideoShowsActions").setSeasonOptions(n);c("ComposerVideoShowsActions").setPlaylistOptions(o)}).send()};function j(){h.apply(this,arguments)}f.exports=new j(c("ComposerVideoShowsDispatcher"))}),null);
__d("ComposerVideoAdBreakActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({DELETE_AD_BREAK:"",INSERT_CURRENT_AD_BREAK:"",SET_AD_BREAKS_EXPERIMENT_ENABLED:"",SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD:"",SET_CURRENT_AD_BREAK:"",SET_EXISTING_AD_BREAKS:"",SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:"",SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:"",SET_THUMBNAIL_URL_FOR_AD_BREAK:"",SET_RIGHT_AGREEMENT:"",SET_VIDEO_DURATION:"",UPDATE_AD_BREAKS_STATUS:""});f.exports=h}),null);
__d("ComposerVideoAdBreakStore",["AdBreakStatus","ReactComposerStoreBase","ComposerVideoAdBreakActionTypes","DateConsts","ReactComposerTaggerActionType","VideoInstreamUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){__p&&__p();var k=void 0;i.constructor.call(this,function(){return{adBreaksDisabled:false,adBreaksExperimentEnabled:false,adBreaksExperimentRevenueLossThreshold:0,currentAdBreak:0,insertedAdBreaks:[],isAdBreakAutoAdjustmentEnabled:false,isAdBreakAutoInsertionEnabled:false,isBrandedContentVideo:false,lastInsertedAdBreak:null,videoDuration:0,videoRightsAgreed:false}},function(l){__p&&__p();switch(l.type){case c("ComposerVideoAdBreakActionTypes").DELETE_AD_BREAK:k&&k.$ComposerVideoAdBreakStore1(l);break;case c("ComposerVideoAdBreakActionTypes").UPDATE_AD_BREAKS_STATUS:k&&k.$ComposerVideoAdBreakStore2(l);break;case c("ComposerVideoAdBreakActionTypes").INSERT_CURRENT_AD_BREAK:k&&k.$ComposerVideoAdBreakStore3(l);break;case c("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_ENABLED:k&&k.$ComposerVideoAdBreakStore4(l);break;case c("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD:k&&k.$ComposerVideoAdBreakStore5(l);break;case c("ComposerVideoAdBreakActionTypes").SET_CURRENT_AD_BREAK:k&&k.$ComposerVideoAdBreakStore6(l);break;case c("ComposerVideoAdBreakActionTypes").SET_EXISTING_AD_BREAKS:k&&k.$ComposerVideoAdBreakStore7(l);break;case c("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:k&&k.$ComposerVideoAdBreakStore8(l);break;case c("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:k&&k.$ComposerVideoAdBreakStore9(l);break;case c("ComposerVideoAdBreakActionTypes").SET_THUMBNAIL_URL_FOR_AD_BREAK:k&&k.$ComposerVideoAdBreakStore10(l);break;case c("ComposerVideoAdBreakActionTypes").SET_VIDEO_DURATION:k&&k.$ComposerVideoAdBreakStore11(l);break;case c("ComposerVideoAdBreakActionTypes").SET_RIGHT_AGREEMENT:k&&k.$ComposerVideoAdBreakStore12(l);break;case c("ReactComposerTaggerActionType").SET_IS_BRANDED_CONTENT_VIDEO:k&&k.$ComposerVideoAdBreakStore13(l);break}});k=this}j.prototype.clearComposerData=function(k){i.clearComposerData.call(this,k);this.emitChange(k)};j.prototype.getAdBreaksExperimentEnabled=function(k){return this.getComposerData(k).adBreaksExperimentEnabled};j.prototype.getAdBreaksExperimentRevenueLossThreshold=function(k){return this.getComposerData(k).adBreaksExperimentRevenueLossThreshold};j.prototype.getAdBreaksStatus=function(k){return this.getComposerData(k).adBreaksDisabled};j.prototype.getCurrentAdBreak=function(k){return this.getComposerData(k).currentAdBreak};j.prototype.getInsertedAdBreaks=function(k){return this.getComposerData(k).insertedAdBreaks};j.prototype.getLastInsertedAdBreak=function(k){return this.getComposerData(k).lastInsertedAdBreak};j.prototype.getIsAdBreakAutoAdjustmentEnabled=function(k){return this.getComposerData(k).isAdBreakAutoAdjustmentEnabled};j.prototype.getIsAdBreakAutoInsertionEnabled=function(k){return this.getComposerData(k).isAdBreakAutoInsertionEnabled};j.prototype.getIsBrandedContentVideo=function(k){return this.getComposerData(k).isBrandedContentVideo};j.prototype.getVideoDuration=function(k){return this.getComposerData(k).videoDuration};j.prototype.getVideoRightsAgreed=function(k){return this.getComposerData(k).videoRightsAgreed};j.prototype.getAdBreakTabState=function(k,l,m){return c("VideoInstreamUtils").getAdBreakTabState(l,this.getIsBrandedContentVideo(k),this.getVideoDuration(k),m)};j.prototype.getShouldDisableAdBreakInsertion=function(k,l,m){return this.getAdBreakTabState(k,l,m).disabled};j.prototype.getHasAdBreaksInserted=function(k){var l=this.getInsertedAdBreaks(k),m=this.getAdBreaksStatus(k);return l.length!==0&&!m};j.prototype.getPostData=function(k){var l=this.getAdBreaksStatus(k),m=this.getIsBrandedContentVideo(k),n=l||m?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED,o=this.getInsertedAdBreaks(k),p=o.map(function(v){return{time_offset:v.timeOffset*c("DateConsts").MS_PER_SEC,status:n}}),q=this.getAdBreaksExperimentEnabled(k),r=this.getAdBreaksExperimentRevenueLossThreshold(k),s=this.getIsAdBreakAutoAdjustmentEnabled(k),t=this.getIsAdBreakAutoInsertionEnabled(k),u={ad_breaks:p,ad_breaks_experiment_revenue_loss_threshold:r,enable_ad_breaks_experiment:q,should_auto_adjust_manual_ad_breaks:s,should_auto_insert_ad_breaks:t&&!l};return u};j.prototype.$ComposerVideoAdBreakStore11=function(k){var l=this.getComposerData(k.composerID);l.videoDuration=k.duration;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore7=function(k){var l=this.getComposerData(k.composerID);l.currentAdBreak=null;var m=k.existingAdBreaks.map(function(n){return{timeOffset:n.time_offset/c("DateConsts").MS_PER_SEC,thumbnailURL:null}});m.sort(function(n,o){return n.timeOffset-o.timeOffset});l.insertedAdBreaks=m;l.videoRightsAgreed=l.videoRightsAgreed||m.length>0;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore8=function(k){var l=this.getComposerData(k.composerID);l.isAdBreakAutoAdjustmentEnabled=k.enabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore9=function(k){var l=this.getComposerData(k.composerID);l.isAdBreakAutoInsertionEnabled=k.enabled;l.videoRightsAgreed=l.videoRightsAgreed||l.isAdBreakAutoInsertionEnabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore10=function(k){var l=this.getComposerData(k.composerID),m=this.getInsertedAdBreaks(k.composerID),n=m.map(function(o){k.adBreaks.forEach(function(p){if(o.timeOffset===p.timeOffset)o.thumbnailURL=p.thumbnailURL});return Object.assign({},o)});l.insertedAdBreaks=n;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore1=function(k){var l=this.getComposerData(k.composerID);l.lastInsertedAdBreak=null;var m=l.insertedAdBreaks;m.splice(k.adBreakIndex,1);var n=m.map(function(o){return Object.assign({},o)});l.insertedAdBreaks=n;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore2=function(k){var l=this.getComposerData(k.composerID);l.adBreaksDisabled=k.adBreaksDisabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore3=function(k){__p&&__p();var l=this.getComposerData(k.composerID),m=this.getCurrentAdBreak(k.composerID),n=this.getInsertedAdBreaks(k.composerID);if(m===null)return;if(n.findIndex(function(r){return r.timeOffset===m})>=0)return;m=Number(m);var o=this.$ComposerVideoAdBreakStore14(n,m),p={timeOffset:m,thumbnailURL:null};l.lastInsertedAdBreak=p;n.splice(o,0,p);var q=n.map(function(r){return Object.assign({},r)});l.insertedAdBreaks=q;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore6=function(k){var l=this.getComposerData(k.composerID);l.currentAdBreak=k.adBreak;l.lastInsertedAdBreak=null;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore13=function(k){var l=this.getComposerData(k.composerID);l.isBrandedContentVideo=k.isBrandedContentVideo;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore4=function(k){var l=this.getComposerData(k.composerID);l.adBreaksExperimentEnabled=k.adBreaksExperimentEnabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore5=function(k){var l=this.getComposerData(k.composerID);l.adBreaksExperimentRevenueLossThreshold=k.adBreaksExperimentRevenueLossThreshold;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore12=function(k){var l=this.getComposerData(k.composerID);l.videoRightsAgreed=k.agree;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore14=function(k,l){var m=void 0;for(m=0;m<k.length;m++)if(k[m].timeOffset>l)break;return m};f.exports=new j()}),null);
__d("ComposerVideoAdBreakActions",["ReactComposerDispatcher","ComposerVideoAdBreakActionTypes","ComposerVideoAdBreakStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("ComposerVideoAdBreakStore");var h={deleteAdBreak:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").DELETE_AD_BREAK,composerID:j,adBreakIndex:k})},setAdBreaksExperimentEnabled:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_ENABLED,composerID:j,adBreaksExperimentEnabled:k})},setAdBreaksExperimentRevenueLossThreshold:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD,composerID:j,adBreaksExperimentRevenueLossThreshold:k})},updateAdBreaksStatus:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").UPDATE_AD_BREAKS_STATUS,composerID:j,adBreaksDisabled:k})},setIsAdBreakAutoAdjustmentEnabled:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED,composerID:j,enabled:k})},setIsAdBreakAutoInsertionEnabled:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED,composerID:j,enabled:k})},insertCurrentAdBreak:function i(j){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").INSERT_CURRENT_AD_BREAK,composerID:j})},setCurrentAdBreak:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_CURRENT_AD_BREAK,composerID:j,adBreak:k})},setExistingAdBreaks:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_EXISTING_AD_BREAKS,composerID:j,existingAdBreaks:k})},setThumbnailURLForAdBreak:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_THUMBNAIL_URL_FOR_AD_BREAK,composerID:j,adBreaks:k})},setVideoDuration:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_VIDEO_DURATION,composerID:j,duration:k})},setVideoRightsAgreed:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_RIGHT_AGREEMENT,composerID:j,agree:k})}};f.exports=h}),null);
__d("ShowsVideoDataTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ShowsVideoDataLoggerConfig",this.$ShowsVideoDataTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ShowsVideoDataLoggerConfig",this.$ShowsVideoDataTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ShowsVideoDataTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$ShowsVideoDataTypedLogger1)};h.prototype.updateData=function(j){this.$ShowsVideoDataTypedLogger1=babelHelpers["extends"]({},this.$ShowsVideoDataTypedLogger1,j);return this};h.prototype.setAutoCrosspostToParent=function(j){this.$ShowsVideoDataTypedLogger1.auto_crosspost_to_parent=j;return this};h.prototype.setIsEpisode=function(j){this.$ShowsVideoDataTypedLogger1.is_episode=j;return this};h.prototype.setPageID=function(j){this.$ShowsVideoDataTypedLogger1.page_id=j;return this};h.prototype.setPlaylistIds=function(j){this.$ShowsVideoDataTypedLogger1.playlist_ids=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setSeasonID=function(j){this.$ShowsVideoDataTypedLogger1.season_id=j;return this};h.prototype.setSource=function(j){this.$ShowsVideoDataTypedLogger1.source=j;return this};h.prototype.setSquareThumbnailDimensions=function(j){this.$ShowsVideoDataTypedLogger1.square_thumbnail_dimensions=j;return this};h.prototype.setVC=function(j){this.$ShowsVideoDataTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$ShowsVideoDataTypedLogger1.video_id=j;return this};var i={auto_crosspost_to_parent:true,is_episode:true,page_id:true,playlist_ids:true,season_id:true,source:true,square_thumbnail_dimensions:true,vc:true,video_id:true};f.exports=h}),null);
__d("VideoUploadSphericalControlsAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CREATE_THUMBNAIL:"create_thumbnail",DRAG_VIDEO_PREVIEW:"drag_video_preview",SCROLL_VIDEO_PREVIEW:"scroll_video_preview",RESET:"reset",CHANGE_VIEWPORT:"change_viewport",CHANGE_FOV:"change_fov",TOGGLE_DIRECTORS_CUT:"toggle_directors_cut",ADD_POINT_OF_INTEREST:"add_point_of_interest",REMOVE_POINT_OF_INTEREST:"remove_point_of_interest",EDIT_POINT_OF_INTEREST:"edit_point_of_interest",CLEAR_POINTS_OF_INTEREST:"clear_points_of_interest",SEARCH_POINT_OF_INTEREST:"search_point_of_interest",TAB_IMPRESSION:"tab_impression",SAVE_EDITS:"save_edits",UPLOAD:"upload"})}),null);
__d("XSphericalMediaNUXController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/spherical_media/show_nux/",{})}),null);
__d("ComposerVideoPostUtils",["Promise","regeneratorRuntime","AsyncRequest","BasicVector","ComposerVideoAdBreakActions","ComposerVideoAdBreakStore","ComposerVideoShowsActions","ComposerVideoUploadActions","ComposerVideoUploadSphericalAction","ComposerVideoUploadSphericalGuideKeyframeData","ComposerVideoUploadSphericalStore","ComposerVideoUploadStore","FileVideoThumbnail","immutable","PagesSettingsInstreamAdsBlockListStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","SearchableEntry","ShowsVideoDataTypedLogger","VideoCaptionFile","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionsStore","VideoContentCategoryType","VideoCopyrightUtils","VideoEditFlow","VideoUploadSphericalControlsAction","VideoUploadSphericalLogger","XSphericalMediaNUXController","flattenPHPQueryData","idx","isEmpty"],(function aa(ba,a,ca,da,b,ea){__p&&__p();var c=a("immutable").List,d=1e3,e=60*d,f={updateStore:function g(h,i){__p&&__p();var j=i.locationEntry?new(a("SearchableEntry"))(i.locationEntry):null;j=j?{place:j,implicitLocation:{}}:null;a("ComposerVideoUploadActions").updateTitle(h,i.title);a("ComposerVideoUploadActions").updateDescription(h,i.description);a("ComposerVideoUploadActions").updateFeedType(h,i.feedType);a("ComposerVideoUploadActions").updateCategory(h,i.category);a("ComposerVideoUploadActions").updateContentTags(h,i.contentTags);a("ComposerVideoUploadActions").updateThumbnail(h,i.thumbnail);a("ComposerVideoUploadActions").updateCaptions(h,i.captions);a("ComposerVideoUploadActions").updateLiveCaptions(h,i.liveCaptions);a("ComposerVideoUploadActions").updateSpherical(h,i.isSpherical);a("ComposerVideoUploadActions").updateExpiration(h,i.expirationTime,i.expirationType);a("ComposerVideoUploadActions").updatePublish(h,false);a("ComposerVideoUploadActions").updateExpire(h,false);a("ComposerVideoUploadActions").updateScheduledPublishTime(h,i.scheduledPublishTime);a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").PEOPLE,i.tags);if(i.sponsorData)a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").SPONSOR,i.sponsorData);if(j)a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").LOCATION,j);if(i.productTags)a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").PRODUCT,i.productTags);if(i.backdate)a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").BACKDATE,i.backdate);if(i.episodeData&&i.isShowPage)a("ComposerVideoShowsActions").loadEpisodeData(h,i.episodeData);a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").OG,null);a("ComposerVideoUploadActions").updateEmbeddable(h,i.embeddable);a("ComposerVideoUploadActions").updateIsFeaturedVideo(h,i.isFeaturedVideo?i.isFeaturedVideo:false);a("ComposerVideoUploadActions").updateCopyrighted(h,i.isCopyrighted?i.isCopyrighted:false);a("ComposerVideoUploadActions").updateCopyrightOwnershipCountries(h,i.ownershipCountries||[],!!i.areCountriesIncluded);a("ComposerVideoUploadActions").updateCopyrightAttributionID(h,i.attributionID);a("ComposerVideoUploadActions").updateCopyrightWhitelistedFBUsers(h,i.whitelistedFBUsers||[]);a("ComposerVideoUploadActions").updateCopyrightWhitelistedIGUserNames(h,i.whitelistedIGUserNames||[]);a("ComposerVideoUploadActions").updateCopyrightRuleID(h,i.ruleIDs&&i.ruleIDs.length?i.ruleIDs[0].toString():null);a("ComposerVideoUploadActions").updateCopyrightMonitoringType(h,i.monitoringType||a("VideoCopyrightUtils").DEFAULT_MONITORING_TYPE);a("ComposerVideoUploadActions").updateCopyrightReferenceCategory(h,i.selectedCategory);a("ComposerVideoUploadActions").updateInternalVideoSettings(h,i.isInternalVideo);a("ComposerVideoUploadActions").updateFTEOnly(h,i.isFTEOnly);a("ComposerVideoUploadActions").updatePermissions(h,i.permissions);a("ComposerVideoUploadActions").updateExternalVideoID(h,i.externalVideoID);a("ComposerVideoUploadActions").updateCustomLabels(h,i.customLabels);a("ComposerVideoUploadActions").updateVideoDurationInSec(h,i.duration);a("ComposerVideoUploadActions").updateEnableThumbnailExperiment(h,i.enableThumbnailExperiment);a("ComposerVideoUploadSphericalStore").clearComposerData(h);a("ComposerVideoUploadSphericalAction").updateEnableOmnistab(h,i.enableOmnistab);a("ComposerVideoUploadSphericalAction").updateFOV(h,i.fov);a("ComposerVideoUploadSphericalAction").updateCurrentViewport(h,i.initialPitch,i.initialHeading);a("ComposerVideoUploadSphericalAction").updateGuideEnabled(h,i.guideEnabled);a("ComposerVideoUploadSphericalAction").updateProjection(h,i.projection);a("ComposerVideoUploadSphericalAction").updateStereoMode(h,i.stereoMode);a("ComposerVideoUploadSphericalAction").updateHasSpatialAudio(h,i.hasSpatialAudio);var k=[[0,i.initialPitch,i.initialHeading]].concat(i.guideKeyframes).map(function(l){return a("ComposerVideoUploadSphericalGuideKeyframeData").getFromLegacyParams(l)});a("ComposerVideoUploadSphericalAction").updateGuideKeyframes(h,c(k));a("ComposerVideoAdBreakStore").clearComposerData(h);if(i.existingAdBreaks)a("ComposerVideoAdBreakActions").setExistingAdBreaks(h,i.existingAdBreaks);a("ComposerVideoAdBreakActions").updateAdBreaksStatus(h,i.adBreaksDisabled);a("ComposerVideoAdBreakActions").setAdBreaksExperimentEnabled(h,i.enableAdBreaksExperiment);a("ComposerVideoAdBreakActions").setAdBreaksExperimentRevenueLossThreshold(h,i.adBreaksExperimentRevenueLossThreshold);a("ComposerVideoAdBreakActions").setIsAdBreakAutoAdjustmentEnabled(h,i.isAdBreakAutoAdjustmentEnabled);a("ComposerVideoAdBreakActions").setIsAdBreakAutoInsertionEnabled(h,i.isAdBreakAutoInsertionEnabled)},getDetailsFromStore:function g(h){__p&&__p();var i,j=a("ComposerVideoUploadStore").getTitle(h),k=a("ComposerVideoUploadStore").getExternalVideoID(h),l=a("ComposerVideoUploadStore").getCustomLabels(h),m=a("ComposerVideoUploadStore").getEnableThumbnailExperiment(h),n=a("ComposerVideoUploadStore").getFeedType(h),o=a("ComposerVideoUploadStore").getCallToAction(h),p=a("ComposerVideoUploadStore").getCategory(h),q=a("ComposerVideoUploadStore").getContentTags(h),r=a("ComposerVideoUploadStore").getThumbnail(h),s=a("ComposerVideoUploadStore").getDescription(h),t=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").PEOPLE)||[],u=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").LOCATION)||{};u=u?u.place:{};var v=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").BACKDATE),w=t.map(function($){return $.getUniqueID()}),x=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").ACTIVITY),y=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").TARGETING),z=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").SPONSOR)||{},A={directShareStatus:z.directShareStatus,sponsorRelationship:z.sponsorRelationship,sponsors:[]};(z.sponsors||[]).map(function($){A.sponsors.push($.getUniqueID())});var B=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").PRODUCT)||[],C=B.map(function($){return $.getUniqueID()}),D=a("ComposerVideoUploadStore").getCaptions(h),E=a("ComposerVideoUploadStore").getLiveCaptions(h),F=a("ComposerVideoUploadStore").getExpirationTime(h),G=a("ComposerVideoUploadStore").getExpirationType(h),H=a("ComposerVideoUploadStore").getScheduledPublishTime(h),I=a("ComposerVideoUploadStore").getPublish(h),J=a("ComposerVideoUploadStore").getSpherical(h),K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=a("ComposerVideoUploadSphericalStore").getPostData(h)||{};K=Q.initialHeading;L=Q.initialPitch;M=Q.fov;N=Q.guide_enabled;O=Q.guide_keyframes;P=Q.enable_omnistab;var R=a("ComposerVideoUploadStore").getExpire(h),S=a("ComposerVideoUploadStore").getEmbeddable(h),T=a("ComposerVideoUploadStore").getExcludeNewsfeed(h),U=a("ComposerVideoUploadStore").getIsSecretVideo(h),V=a("ComposerVideoUploadStore").getBlockSocialActions(h),W=a("ComposerVideoUploadStore").getCopyrighted(h),X=a("ComposerVideoUploadStore").getCopyrightMonitoringType(h),Y=a("ComposerVideoUploadStore").getCopyrightRuleID(h),fa=a("ComposerVideoUploadStore").getCopyrightOwnershipCountries(h),ga=a("ComposerVideoUploadStore").getAreCopyrightCountriesIncluded(h),ha=a("ComposerVideoUploadStore").getCopyrightWhitelistedFBUsers(h),ia=a("ComposerVideoUploadStore").getCopyrightWhitelistedIGUserNames(h),ja=a("ComposerVideoUploadStore").getCopyrightAttributionID(h),ka=a("ComposerVideoUploadStore").getCopyrightReferenceCategory(h),la=a("ComposerVideoUploadStore").getInternalSetting(h),ma=a("ComposerVideoUploadStore").getFteOnly(h),na=a("ComposerVideoUploadStore").getPermissions(h),oa=a("ComposerVideoUploadStore").getEpisodeData(h),pa=a("ComposerVideoUploadStore").getSquareThumbnailDimensions(h),Z=a("ComposerVideoAdBreakStore").getPostData(h)||{},qa=Z.ad_breaks,ra=Z.ad_breaks_experiment_revenue_loss_threshold,sa=Z.enable_ad_breaks_experiment,ta=Z.should_auto_adjust_manual_ad_breaks,ua=Z.should_auto_insert_ad_breaks,va=a("PagesSettingsInstreamAdsBlockListStore").getComposerBlockListIdsToApply(),wa=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").FUNDRAISER),xa=(i=wa)!=null?i.charityID:i;return{adBreaks:qa,adBreaksBlockListsToApply:va,title:j,externalVideoID:k,callToAction:o,captions:D,customLabels:l,enableAdBreaksExperiment:sa,enableThumbnailExperiment:m,adBreaksExperimentRevenueLossThreshold:ra,isAdBreakAutoAdjustmentEnabled:ta,isAdBreakAutoInsertionEnabled:ua,liveCaptions:E,category:p,contentTags:q,isCopyrighted:W,copyrightMonitoringType:X,copyrightRuleID:Y,copyrightAttributionID:ja,copyrightOwnershipCountries:fa,copyrightWhitelistedFBUsers:ha,copyrightWhitelistedIGUserNames:ia,areCopyrightCountriesIncluded:ga,thumbnail:r,description:s,guideEnabled:N,guideKeyframes:O,backdate:v,feedType:n,fov:M,initialHeading:K,initialPitch:L,isSpherical:J,locationEntry:u,expirationTime:F,expirationType:G,scheduledPublishTime:H,selectedCategory:ka,sponsorData:A,tags:w,productTags:C,activity:x,targeting:y,publish:I,expire:R,embeddable:S,noStory:T,isSecret:U,blockSocialActions:V,isInternalVideo:la,isFTEOnly:ma,permissions:na,enableOmnistab:P,episodeData:oa,squareThumbnailDimensions:pa,charityID:xa}},logSphericalComposerDataIfNeeded:function g(h){var i=arguments.length<=1||arguments[1]===undefined?false:arguments[1],j=f.getDetailsFromStore(h),k=j.isSpherical,l=j.guideKeyframes;if(k){var m=i?a("VideoUploadSphericalControlsAction").UPLOAD:a("VideoUploadSphericalControlsAction").SAVE_EDITS,n=l.length>0;a("VideoUploadSphericalLogger").setUserAction(m).setFinalGuideEnabled(n).setFinalNumGuidePoints(l.length).log()}},logShowsVideoData:function g(h,i,j,k){var l=a("ComposerVideoUploadStore").getEpisodeData(h),m=JSON.stringify(this.calculateSquareThumbnailDimensions(a("ComposerVideoUploadStore").getSquareThumbnailDimensions(h)));if(l){var n=l.isEpisode&&j==="upload"?a("ComposerVideoUploadStore").getShareToParentPageOptionSelected(h):false;new(a("ShowsVideoDataTypedLogger"))().setVideoID(i).setSource(j).setIsEpisode(l.isEpisode).setSeasonID(l.seasonID).setPlaylistIds(l.playlistIDs).setSquareThumbnailDimensions(m).setAutoCrosspostToParent(n).setPageID(k).log()}},createFormData:function g(h,i,j,k,l,m,n,o,p,q,r,s,t){__p&&__p();var u,v,w=h.thumbnail,x=new FormData();x.append("edit_flow",a("VideoEditFlow").DIALOG);var y=a("flattenPHPQueryData")({ad_breaks:h.adBreaks});Object.keys(y).forEach(function(W){x.append(W,y[W])});if(h.adBreaksBlockListsToApply!==null){x.append("has_ad_breaks_block_lists","true");x.append("ad_breaks_block_lists",h.adBreaksBlockListsToApply)}x.append("content_category",h.category);x.append("content_tags",this.getContentTagEntryIDs(h.contentTags));x.append("free_form_tags",this.getFreeFormContentTags(h.contentTags));x.append("description",h.description);x.append("tags",h.tags);x.append("title",h.title);x.append("external_video_id",h.externalVideoID);x.append("custom_labels",h.customLabels);x.append("enable_ad_breaks_experiment",h.enableAdBreaksExperiment);x.append("ad_breaks_experiment_revenue_loss_threshold",h.adBreaksExperimentRevenueLossThreshold);x.append("should_auto_adjust_manual_ad_breaks",h.isAdBreakAutoAdjustmentEnabled);x.append("should_auto_insert_ad_breaks",h.isAdBreakAutoInsertionEnabled);x.append("enable_thumbnail_experiment",h.enableThumbnailExperiment);x.append("feed_type",h.feedType);var z=h.locationEntry?h.locationEntry.getUniqueID():null,A=h.locationEntry&&!h.locationEntry.getUniqueID()?h.locationEntry.getTitle():null;if(z)x.append("place_id",z);else if(A)x.append("place_name",A);if(h.sponsorData&&h.sponsorData.sponsors){x.append("sponsor_tags",h.sponsorData.sponsors);x.append("direct_share_status",h.sponsorData.directShareStatus);x.append("sponsor_relationship",h.sponsorData.sponsorRelationship)}if(h.productTags)x.append("product_tags",h.productTags);if(h.backdate.year)x.append("backtime_year",h.backdate.year);if(h.backdate.month)x.append("backtime_month",h.backdate.month);if(h.backdate.day)x.append("backtime_day",h.backdate.day);if(h.backdate.hour)x.append("backtime_hour",h.backdate.hour);if(h.backdate.minute)x.append("backtime_minute",h.backdate.minute);if(h.expire)x.append("expire",h.expire);if(h.publish)x.append("publish",h.publish);var B=j.scheduledPublishTime,C=h.scheduledPublishTime;if(C!==B){var D=this._isTwoTimesAlmostTheSame(B,C);if(!D)x.append("scheduled_publish_time",String(C/1e3))}var E=j.expirationTime,F=j.expirationType,G=h.expirationTime,H=h.expirationType;this._isTwoTimesAlmostTheSame(E,G);if(E!==G){var I=this._isTwoTimesAlmostTheSame(E,G);if(!I)x.append("expiration_time",String(G/1e3))}if(F!==H)x.append("expiration_type",H);var J=h.embeddable;if(m!=J){x.append("has_embeddable","true");x.append("embeddable",J)}var K=h.permissions;if(K&&K.length===1){var L=K[0],M=L.allow;if(q!=M){x.append("has_shared_with_business","true");x.append("shared_with_business",M)}}if(s&&K&&K.length>0)(function(){var W=a("flattenPHPQueryData")({crossposting_config:K});Object.keys(W).forEach(function(X){x.append(X,W[X])})})();var N=h.captions.concat(h.liveCaptions),O=[],P=null;if(N)N.forEach(function(W,X){if(W instanceof a("VideoCaptionFile")){var Y=W.getIsDefault()?"captions_default":W.getIsAutoGenerated()?"captions_file"+X:"captions_auto"+X;x.append(Y,W.getFile())}if(W.getIsDefault())P=W.getLocale()});if(P)x.append("default_captions_locale",P);if(l)l.forEach(function(W){if(N.indexOf(W)==-1)O.push(W.getLocale())});O.forEach(function(W,X){x.append("remove_caption["+X+"]",W)});if(h.isSpherical)(function(){x.append("spherical",h.isSpherical);x.append("initial_heading",h.initialHeading);x.append("initial_pitch",h.initialPitch);x.append("fov",h.fov);x.append("guide_enabled",!!h.guideEnabled);var W=a("flattenPHPQueryData")({guide_keyframes:h.guideKeyframes});Object.keys(W).forEach(function(X){x.append(X,W[X])});x.append("enable_omnistab",h.enableOmnistab)})();if(h.episodeData)x.append("episode_data",JSON.stringify(h.episodeData));if(h.squareThumbnailDimensions)x.append("square_thumb_dimensions",JSON.stringify(this.calculateSquareThumbnailDimensions(h.squareThumbnailDimensions)));if(o)x.append("source",o);x.append("copyrighted",h.isCopyrighted);if(h.copyrightMonitoringType)x.append("monitoring_type",h.copyrightMonitoringType);if(h.selectedCategory)x.append("video_copyright_content_category",h.selectedCategory);if(n!=h.isFTEOnly){x.append("has_fte_only","true");x.append("fte_only",h.isFTEOnly)}var Q=i.multilingual_specified_lang;if(Q)x.append("multilingual_specified_lang",Q);var R=i.multilingual_statuses;if(R)R.forEach(function(W,X){x.append("multilingual_statuses["+X+"]",W)});var S=i.multilingual_status_langs;if(S)S.forEach(function(W,X){x.append("multilingual_status_langs["+X+"]",W)});var T=a("Promise").resolve(null);if(p){var U=k.indexOf(w);if(U!=-1)x.append("preferred_thumbnail_index",U+1);if(w instanceof a("FileVideoThumbnail")){T=w.getData();x.append("preferred_thumbnail_index",k.length+1)}}var V=h.spokenLocale;if(!V)V=a("VideoComposerDialogCaptionsStore").getSpokenLocale();if(V&&V!==a("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE)x.append("spoken_locale",V);T.then(function(W){if(W)x.append("custom_thumbnail",W);var X=r&&r(h);if(X)X.done(function(){return t(x)},function(Y){});else t(x)}).done()},getContentCategory:function g(h){var i=Object.keys(a("VideoContentCategoryType"));for(var j=0;j<i.length;j++)if(a("VideoContentCategoryType")[i[j]].value===h)return i[j];return""},getContentTagEntryIDs:function g(h){if(!h||h.length<=0)return[];return h.filter(function(i){return!i.getAuxiliaryData().isFreeForm}).map(function(i){return i.getUniqueID()})},getFreeFormContentTags:function g(h){if(!h||h.length<=0)return[];return h.filter(function(i){return i.getAuxiliaryData().isFreeForm}).map(function(i){return i.getUniqueID()})},getVideoTJAppID:function g(h){if(!h)return null;return h.getUniqueID()},getAttributionTagID:function g(h){if(!h)return null;return h.getUniqueID()},getGameID:function g(h){if(!h)return null;return h.getUniqueID()},getGroupIDs:function g(h){if(!h||h.size<=0)return[];return h.map(function(i){return i.getUniqueID()}).toArray()},convertContentTagToEntryArray:function g(h){var i=[];if(h&&!a("isEmpty")(h))for(var j in h)i.push(h[j]);return i},convertFreeFormTagsToEntryArray:function g(h){if(h&&!a("isEmpty")(h))return h.map(function(i){return new(a("SearchableEntry"))({uniqueID:i,title:i,auxiliaryData:{isFreeForm:true}})});return[]},hasInvalidBackdate:function g(h,i){var j=new Date(h.year,h.month-1,h.day,h.hour,h.minute),k=new Date(i*d);return k.getTime()<j.getTime()},calculateSquareThumbnailDimensions:function g(h){if(!h)return null;var i=h.getArea(),j=h.getPosition(),k=new(a("BasicVector"))(j.width,j.height).div(h.getZoom());return{width:i.width/k.x,height:i.height/k.y,left:i.x/k.x,top:i.y/k.y}},_isTwoTimesAlmostTheSame:function g(h,i){if(!h)return false;var j=h-e,k=h+e;return i>j&&i<k},convertBaseTargeting:function g(h){__p&&__p();if(!h)return{};var i={};if(h.age_min)i.age_min=h.age_min;if(h.age_max)i.age_max=h.age_max;if(h.fan_of)i.interests=h.fan_of.map(function(k){return k.id});if(h.genders)i.genders=h.genders;if(h.geo_locations){var j=h.geo_locations;if(j.countries)i.countries=j.countries;if(j.cities)i.cities=j.cities;if(j.regions)i.regions=j.regions;if(j.zips)i.zipcodes=j.zips}if(h.locales)i.locales=h.locales;if(h.relationship_statuses)i.relationship_statuses=h.relationship_statuses;if(h.education_statuses)i.education_statuses=h.education_statuses;return i},convertExcludedLocations:function g(h){__p&&__p();if(h&&h.excluded_geo_locations){var i=h.excluded_geo_locations;if(i.countries)h.excluded_countries=i.countries;if(i.cities)h.excluded_cities=i.cities.map(function(j){return j.key});if(i.regions)h.excluded_regions=i.regions;if(i.zips)h.excluded_zipcodes=i.zips;delete h.excluded_geo_locations}},shouldShowNux:function g(h){__p&&__p();var i,j;return a("regeneratorRuntime").async(function k(l){while(1)switch(l.prev=l.next){case 0:i=a("XSphericalMediaNUXController").getURIBuilder().getURI();j=new(a("AsyncRequest"))().setURI(i).setData({nux_id:h});l.next=4;return a("regeneratorRuntime").awrap(j.exec(true));case 4:return l.abrupt("return",l.sent.payload.showNux);case 5:case"end":return l.stop()}},null,this)}};b.exports=f}),null);
__d("ComposerVideoUploadActionType",[],(function a(b,c,d,e,f,g){f.exports={SET_SOURCES:"SET_SOURCES",UPDATE_BLOCK_SOCIAL_ACTIONS:"UPDATE_BLOCK_SOCIAL_ACTIONS",UPDATE_CALL_TO_ACTION:"UPDATE_CALL_TO_ACTION",UPDATE_CAN_GENERATE_THUMBNAILS:"UPDATE_CAN_GENERATE_THUMBNAILS",UPDATE_CAPTIONS:"UPDATE_CAPTIONS",UPDATE_CATEGORY:"UPDATE_CATEGORY",UPDATE_CONTENT_TAGS:"UPDATE_CONTENT_TAGS",UPDATE_COPYRIGHTED:"UPDATE_COPYRIGHTED",UPDATE_COPYRIGHT_ATTRIBUTION_ID:"UPDATE_COPYRIGHT_ATTRIBUTION_ID",UPDATE_COPYRIGHT_MONITORING_TYPE:"UPDATE_COPYRIGHT_MONITORING_TYPE",UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS:"UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS",UPDATE_COPYRIGHT_RULE_ID:"UPDATE_COPYRIGHT_RULE_ID",UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES:"UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES",UPDATE_COPYRIGHT_WHITELISTED_FB_USERS:"UPDATE_COPYRIGHT_WHITELISTED_FB_USERS",UPDATE_COPYRIGHT_WHITELISTED_IG_USERS:"UPDATE_COPYRIGHT_WHITELISTED_IG_USERS",UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS:"UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS",UPDATE_CUSTOM_LABELS:"UPDATE_CUSTOM_LABELS",UPDATE_CUSTOM_THUMBNAIL:"UPDATE_CUSTOM_THUMBNAIL",UPDATE_DESCRIPTION:"UPDATE_DESCRIPTION",UPDATE_DISTURBING:"UPDATE_DISTURBING",UPDATE_EMBEDDABLE:"UPDATE_EMBEDDABLE",UPDATE_EXCLUDE_NEWSFEED:"UPDATE_EXCLUDE_NEWSFEED",UPDATE_EXPIRATION:"UPDATE_EXPIRATION",UPDATE_EXPIRE:"UPDATE_EXPIRE",UPDATE_FEED_TYPE:"UPDATE_FEED_TYPE",UPDATE_FTE_ONLY:"UPDATE_FTE_ONLY",UPDATE_GAME:"UPDATE_GAME",UPDATE_GENERATED_THUMBNAILS:"UPDATE_GENERATED_THUMBNAILS",UPDATE_INTERNAL_VIDEO_SETTINGS:"UPDATE_INTERNAL_VIDEO_SETTINGS",UPDATE_IS_SECRET_VIDEO:"UPDATE_IS_SECRET_VIDEO",UPDATE_IS_FEATURED_VIDEO:"UPDATE_IS_FEATURED_VIDEO",UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE:"UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE",UPDATE_OPT_OUT_MONETIZATION:"UPDATE_OPT_OUT_MONETIZATION",UPDATE_PERMISSIONS:"UPDATE_PERMISSIONS",UPDATE_PUBLISH:"update_publish",UPDATE_SCHEDULED_PUBLISH_TIME:"UPDATE_SCHEDULED_PUBLISH_TIME",UPDATE_SCRUBBED_THUMBNAIL:"UPDATE_SCRUBBED_THUMBNAIL",UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP:"UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP",UPDATE_SPHERICAL:"UPDATE_SPHERICAL",UPDATE_TAGS:"UPDATE_TAGS",UPDATE_THUMBNAIL:"UPDATE_THUMBNAIL",UPDATE_SQUARE_THUMBNAIL_DIMENSIONS:"UPDATE_SQUARE_THUMBNAIL_DIMENSIONS",UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW:"UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW",UPDATE_TITLE:"UPDATE_TITLE",UPDATE_EXTERNAL_VIDEO_ID:"UPDATE_EXTERNAL_VIDEO_ID",UPDATE_LIVE_CAPTIONS:"UPDATE_LIVE_CAPTIONS",UPDATE_SPONSOR_RELATIONSHIP:"UPDATE_SPONSOR_RELATIONSHIP",UPDATE_EPISODE_DATA:"UPDATE_EPISODE_DATA",UPDATE_DIRECT_SHARE_STATUS:"UPDATE_DIRECT_SHARE_STATUS",UPDATE_VIDEO_DURATION_IN_SEC:"UPDATE_VIDEO_DURATION_IN_SEC",UPDATE_COPYRIGHT_REFERENCE_CATEGORY:"UPDATE_COPYRIGHT_REFERENCE_CATEGORY",UPDATE_PLAYER_SEEK_POSITION:"UPDATE_PLAYER_SEEK_POSITION",UPDATE_ENABLE_THUMBNAIL_EXPERIMENT:"UPDATE_ENABLE_THUMBNAIL_EXPERIMENT",UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID:"UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID",UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED:"UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED",UPDATE_SHARE_TO_PARENT_PAGE_TEXT:"UPDATE_SHARE_TO_PARENT_PAGE_TEXT",UPDATE_NUMBER_PRODUCTS:"UPDATE_NUMBER_PRODUCTS"}}),null);
__d("ComposerVideoUploadActions",["ComposerVideoUploadStore","ComposerVideoUploadActionType","ReactComposerDispatcher"],(function a(b,c,d,e,f,g){__p&&__p();c("ComposerVideoUploadStore");h.prototype.updateBlockSocialActions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_BLOCK_SOCIAL_ACTIONS,blockSocialActions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCallToAction=function(i,j,k,l){"use strict";var m={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CALL_TO_ACTION,ctaType:j,ctaLink:k,ctaCaption:l};c("ReactComposerDispatcher").dispatch(m)};h.prototype.updateCategory=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CATEGORY,category:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateContentTags=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CONTENT_TAGS,contentTags:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrighted=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHTED,copyrighted:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightMonitoringType=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_MONITORING_TYPE,copyrightMonitoringType:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightRuleID=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_RULE_ID,copyrightRuleID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightAttributionID=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_ATTRIBUTION_ID,copyrightAttributionID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightWhitelistedFBUsers=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_FB_USERS,copyrightWhitelistedFBUsers:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightWhitelistedIGUserNames=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_IG_USERS,copyrightWhitelistedIGUserNames:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightOwnershipCountries=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?true:arguments[2];"use strict";var l={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES,copyrightOwnershipCountries:j,areCopyrightCountriesIncluded:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateCopyrightExcludedSegments=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS,copyrightExcludedSegments:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightReferenceFileDisabled=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS,isReferenceFileDisabled:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCustomThumbnail=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CUSTOM_THUMBNAIL,customThumbnail:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateDescription=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_DESCRIPTION,description:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateDisturbing=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_DISTURBING,disturbing:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateEmbeddable=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EMBEDDABLE,embeddable:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateExcludeNewsfeed=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EXCLUDE_NEWSFEED,excludeNewsfeed:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateExpiration=function(i,j,k){"use strict";var l={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EXPIRATION,expirationTime:j,expirationType:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateExpire=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EXPIRE,expire:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateFTEOnly=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_FTE_ONLY,fteOnly:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateInternalVideoSettings=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_INTERNAL_VIDEO_SETTINGS,internalSetting:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateIsSecretVideo=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_IS_SECRET_VIDEO,isSecretVideo:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateIsFeaturedVideo=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_IS_FEATURED_VIDEO,isFeaturedVideo:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updatePublish=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_PUBLISH,publish:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateScheduledPublishTime=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SCHEDULED_PUBLISH_TIME,scheduledPublishTime:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateTags=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_TAGS,tags:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGame=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_GAME,gameID:Number.parseInt(j.getUniqueID(),10)};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateNumProducts=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_NUMBER_PRODUCTS,numProducts:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateSpherical=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SPHERICAL,spherical:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateThumbnail=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?false:arguments[2];"use strict";var l={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_THUMBNAIL,thumbnail:j,isSelectedByUser:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateSquareThumbnailDimensions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SQUARE_THUMBNAIL_DIMENSIONS,dimensions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateThumbnailFromSphericalPreview=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW,customThumbnail:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateTitle=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_TITLE,title:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateFeedType=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_FEED_TYPE,feedType:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGeneratedThumbnails=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_GENERATED_THUMBNAILS,generatedThumbnails:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateScrubbedThumbnail=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL,scrubbedThumbnail:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateScrubbedThumbnailTimestamp=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP,timestamp:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setSources=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").SET_SOURCES,sources:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCaptions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CAPTIONS,captions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateLiveCaptions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_LIVE_CAPTIONS,liveCaptions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateLastCaptionUploadErrorMessage=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE,lastCaptionUploadErrorMessage:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updatePermissions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_PERMISSIONS,permissions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateExternalVideoID=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EXTERNAL_VIDEO_ID,externalVideoID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCustomLabels=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CUSTOM_LABELS,customLabels:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateSponsorRelationship=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SPONSOR_RELATIONSHIP,sponsorRelationship:j})};h.prototype.updateEpisodeData=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EPISODE_DATA,episodeData:j})};h.prototype.updateSharedToSponsorStatus=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_DIRECT_SHARE_STATUS,sharedToSponsorStatus:j})};h.prototype.updateVideoDurationInSec=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_VIDEO_DURATION_IN_SEC,videoDurationInSec:j})};h.prototype.updateCopyrightReferenceCategory=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_CATEGORY,selectedCategory:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updatePlayerSeekPosition=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_PLAYER_SEEK_POSITION,seekPositionInMs:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateEnableThumbnailExperiment=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_ENABLE_THUMBNAIL_EXPERIMENT,enableThumbnailExperiment:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateFundraiserForStoryCharityID=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID,fundraiserForStoryCharityID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateShareToParentPageOptionSelected=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED,shareToParentPageOptionSelected:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateShareToParentPageText=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_TEXT,shareToParentPageText:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ComposerVideoUploadStore",["Promise","ComposerVideoUploadActionType","BasicVector","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","ReactComposerStoreBase","ComposerVideoPostUtils","FileVideoThumbnail","VideoCopyrightMonitoringType","VideoCopyrightSegmentSource","VideoCopyrightUtils","VideoFeedType","VideoThumbnailSource"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k;i.constructor.call(this,function(){return{areCopyrightCountriesIncluded:true,blockSocialActions:true,captions:[],liveCaptions:[],content_tags:[],copyrighted:false,copyrightMonitoringType:c("VideoCopyrightUtils").DEFAULT_MONITORING_TYPE,copyrightRuleID:null,copyrightWhitelistedFBUsers:[],copyrightWhitelistedIGUserNames:[],copyrightOwnershipCountries:[],copyrightExcludedSegments:[],customThumbnail:null,description:"",disturbing:false,embeddable:true,enableThumbnailExperiment:false,excludeNewsfeed:false,expirationType:null,expire:false,feedType:c("VideoFeedType").NOT_HIGHLIGHTED.index,fteOnly:false,gameID:null,generatedThumbnails:[],internalSetting:false,isSecretVideo:false,isFeaturedVideo:false,isReferenceFileDisabled:false,lastCaptionUploadErrorMessage:"",numProducts:0,permissions:[],publish:false,scheduledPublishTime:null,scrubbedThumbnail:null,scrubbedThumbnailTimestamp:null,sources:{},spherical:false,tags:[],thumbnail:null,squareThumbnailDimensions:null,title:"",externalVideoID:"",customLabels:[],sponsorRelationship:c("BrandedContentSponsorRelationship").WITH,episodeData:null,sharedToSponsorStatus:c("BrandedContentSharedToSponsorStatus").NOT_SHARED,videoDurationInSec:0,selectedCategory:null,seekPositionInMs:0,fundraiserForStoryCharityID:null,shareToParentPageOptionSelected:false,shareToParentPageText:""}},function(l){__p&&__p();switch(l.type){case c("ComposerVideoUploadActionType").UPDATE_BLOCK_SOCIAL_ACTIONS:k&&k.$ComposerVideoUploadStore1(l);break;case c("ComposerVideoUploadActionType").UPDATE_CALL_TO_ACTION:k&&k.$ComposerVideoUploadStore2(l);break;case c("ComposerVideoUploadActionType").UPDATE_CATEGORY:k&&k.$ComposerVideoUploadStore3(l);break;case c("ComposerVideoUploadActionType").UPDATE_CONTENT_TAGS:k&&k.$ComposerVideoUploadStore4(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHTED:k&&k.$ComposerVideoUploadStore5(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_MONITORING_TYPE:k&&k.$ComposerVideoUploadStore6(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_ATTRIBUTION_ID:k&&k.$ComposerVideoUploadStore7(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS:k&&k.$ComposerVideoUploadStore8(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_RULE_ID:k&&k.$ComposerVideoUploadStore9(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_FB_USERS:k&&k.$ComposerVideoUploadStore10(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_IG_USERS:k&&k.$ComposerVideoUploadStore11(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES:k&&k.$ComposerVideoUploadStore12(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS:k&&k.$ComposerVideoUploadStore13(l);break;case c("ComposerVideoUploadActionType").UPDATE_CUSTOM_THUMBNAIL:k&&k.$ComposerVideoUploadStore14(l);break;case c("ComposerVideoUploadActionType").UPDATE_DESCRIPTION:k&&k.$ComposerVideoUploadStore15(l);break;case c("ComposerVideoUploadActionType").UPDATE_DISTURBING:k&&k.$ComposerVideoUploadStore16(l);break;case c("ComposerVideoUploadActionType").UPDATE_EMBEDDABLE:k&&k.$ComposerVideoUploadStore17(l);break;case c("ComposerVideoUploadActionType").UPDATE_EXCLUDE_NEWSFEED:k&&k.$ComposerVideoUploadStore18(l);break;case c("ComposerVideoUploadActionType").UPDATE_EXPIRATION:k&&k.$ComposerVideoUploadStore19(l);break;case c("ComposerVideoUploadActionType").UPDATE_EXPIRE:k&&k.$ComposerVideoUploadStore20(l);break;case c("ComposerVideoUploadActionType").UPDATE_FTE_ONLY:k&&k.$ComposerVideoUploadStore21(l);break;case c("ComposerVideoUploadActionType").UPDATE_INTERNAL_VIDEO_SETTINGS:k&&k.$ComposerVideoUploadStore22(l);break;case c("ComposerVideoUploadActionType").UPDATE_IS_SECRET_VIDEO:k&&k.$ComposerVideoUploadStore23(l);break;case c("ComposerVideoUploadActionType").UPDATE_IS_FEATURED_VIDEO:k&&k.$ComposerVideoUploadStore24(l);break;case c("ComposerVideoUploadActionType").UPDATE_PUBLISH:k&&k.$ComposerVideoUploadStore25(l);break;case c("ComposerVideoUploadActionType").UPDATE_SCHEDULED_PUBLISH_TIME:k&&k.$ComposerVideoUploadStore26(l);break;case c("ComposerVideoUploadActionType").UPDATE_SPHERICAL:k&&k.$ComposerVideoUploadStore27(l);break;case c("ComposerVideoUploadActionType").UPDATE_TAGS:k&&k.$ComposerVideoUploadStore28(l);break;case c("ComposerVideoUploadActionType").UPDATE_THUMBNAIL:k&&k.$ComposerVideoUploadStore29(l);break;case c("ComposerVideoUploadActionType").UPDATE_SQUARE_THUMBNAIL_DIMENSIONS:k&&k.$ComposerVideoUploadStore30(l);break;case c("ComposerVideoUploadActionType").UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW:k&&k.$ComposerVideoUploadStore31(l);break;case c("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL:k&&k.$ComposerVideoUploadStore32(l);break;case c("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP:k&&k.$ComposerVideoUploadStore33(l);break;case c("ComposerVideoUploadActionType").UPDATE_TITLE:k&&k.$ComposerVideoUploadStore34(l);break;case c("ComposerVideoUploadActionType").UPDATE_FEED_TYPE:k&&k.$ComposerVideoUploadStore35(l);break;case c("ComposerVideoUploadActionType").UPDATE_GENERATED_THUMBNAILS:k&&k.$ComposerVideoUploadStore36(l);break;case c("ComposerVideoUploadActionType").SET_SOURCES:k&&k.$ComposerVideoUploadStore37(l);break;case c("ComposerVideoUploadActionType").UPDATE_CAPTIONS:k&&k.$ComposerVideoUploadStore38(l);break;case c("ComposerVideoUploadActionType").UPDATE_LIVE_CAPTIONS:k&&k.$ComposerVideoUploadStore39(l);break;case c("ComposerVideoUploadActionType").UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE:k&&k.$ComposerVideoUploadStore40(l);break;case c("ComposerVideoUploadActionType").UPDATE_PERMISSIONS:k&&k.$ComposerVideoUploadStore41(l);break;case c("ComposerVideoUploadActionType").UPDATE_EXTERNAL_VIDEO_ID:k&&k.$ComposerVideoUploadStore42(l);break;case c("ComposerVideoUploadActionType").UPDATE_CUSTOM_LABELS:k&&k.$ComposerVideoUploadStore43(l);break;case c("ComposerVideoUploadActionType").UPDATE_SPONSOR_RELATIONSHIP:k&&k.$ComposerVideoUploadStore44(l);break;case c("ComposerVideoUploadActionType").UPDATE_EPISODE_DATA:k&&k.$ComposerVideoUploadStore45(l);break;case c("ComposerVideoUploadActionType").UPDATE_DIRECT_SHARE_STATUS:k&&k.$ComposerVideoUploadStore46(l);break;case c("ComposerVideoUploadActionType").UPDATE_VIDEO_DURATION_IN_SEC:k&&k.$ComposerVideoUploadStore47(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_CATEGORY:k&&k.$ComposerVideoUploadStore48(l);break;case c("ComposerVideoUploadActionType").UPDATE_PLAYER_SEEK_POSITION:k&&k.$ComposerVideoUploadStore49(l);break;case c("ComposerVideoUploadActionType").UPDATE_ENABLE_THUMBNAIL_EXPERIMENT:k&&k.$ComposerVideoUploadStore50(l);break;case c("ComposerVideoUploadActionType").UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID:k&&k.$ComposerVideoUploadStore51(l);break;case c("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED:k&&k.$ComposerVideoUploadStore52(l);break;case c("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_TEXT:k&&k.$ComposerVideoUploadStore53(l);break;case c("ComposerVideoUploadActionType").UPDATE_GAME:k&&k.$ComposerVideoUploadStore54(l);break;case c("ComposerVideoUploadActionType").UPDATE_NUMBER_PRODUCTS:k&&k.$ComposerVideoUploadStore55(l);break}});k=this}j.prototype.getBlockSocialActions=function(k){"use strict";return this.getComposerData(k).blockSocialActions};j.prototype.getCallToAction=function(k){"use strict";return this.getComposerData(k).callToAction};j.prototype.getCategory=function(k){"use strict";return this.getComposerData(k).category};j.prototype.getContentTags=function(k){"use strict";return this.getComposerData(k).contentTags};j.prototype.getCopyrighted=function(k){"use strict";return this.getComposerData(k).copyrighted};j.prototype.getCopyrightMonitoringType=function(k){"use strict";return this.getComposerData(k).copyrightMonitoringType};j.prototype.getCopyrightAttributionID=function(k){"use strict";return this.getComposerData(k).copyrightAttributionID};j.prototype.getCopyrightRuleID=function(k){"use strict";return this.getComposerData(k).copyrightRuleID};j.prototype.getCopyrightWhitelistedFBUsers=function(k){"use strict";return this.getComposerData(k).copyrightWhitelistedFBUsers};j.prototype.getCopyrightWhitelistedIGUserNames=function(k){"use strict";return this.getComposerData(k).copyrightWhitelistedIGUserNames};j.prototype.getCopyrightOwnershipCountries=function(k){"use strict";return this.getComposerData(k).copyrightOwnershipCountries};j.prototype.getAreCopyrightCountriesIncluded=function(k){"use strict";return this.getComposerData(k).areCopyrightCountriesIncluded};j.prototype.getCopyrightExcludedSegments=function(k){"use strict";var l=this.getComposerData(k).copyrightExcludedSegments;if(l.length===0)return[{start_time_in_sec:null,duration_in_sec:null,media_type:c("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value,segment_source:c("VideoCopyrightSegmentSource").PUBLISHER_DEFINED,included:false}];return l};j.prototype.getIsCopyrightReferenceDisabled=function(k){"use strict";return this.getComposerData(k).isReferenceFileDisabled};j.prototype.getCustomThumbnail=function(k){"use strict";return this.getComposerData(k).customThumbnail};j.prototype.getScrubbedThumbnail=function(k){"use strict";return this.getComposerData(k).scrubbedThumbnail};j.prototype.getScrubbedThumbnailTimestamp=function(k){"use strict";return this.getComposerData(k).scrubbedThumbnailTimestamp};j.prototype.getDescription=function(k){"use strict";return this.getComposerData(k).description};j.prototype.getDisturbing=function(k){"use strict";return this.getComposerData(k).disturbing};j.prototype.getEmbeddable=function(k){"use strict";return this.getComposerData(k).embeddable};j.prototype.getExcludeNewsfeed=function(k){"use strict";return this.getComposerData(k).excludeNewsfeed};j.prototype.getExpirationTime=function(k){"use strict";return this.getComposerData(k).expirationTime};j.prototype.getExpirationType=function(k){"use strict";return this.getComposerData(k).expirationType};j.prototype.getExpire=function(k){"use strict";return this.getComposerData(k).expire};j.prototype.getFteOnly=function(k){"use strict";return this.getComposerData(k).fteOnly};j.prototype.getInternalSetting=function(k){"use strict";return this.getComposerData(k).internalSetting};j.prototype.getIsSecretVideo=function(k){"use strict";return this.getComposerData(k).isSecretVideo};j.prototype.getIsFeaturedVideo=function(k){"use strict";return this.getComposerData(k).isFeaturedVideo};j.prototype.getPublish=function(k){"use strict";return this.getComposerData(k).publish};j.prototype.getScheduledPublishTime=function(k){"use strict";return this.getComposerData(k).scheduledPublishTime};j.prototype.getSpherical=function(k){"use strict";return this.getComposerData(k).spherical};j.prototype.getTags=function(k){"use strict";return this.getComposerData(k).tags};j.prototype.getThumbnail=function(k){"use strict";return this.getComposerData(k).thumbnail};j.prototype.getSquareThumbnailDimensions=function(k){"use strict";return this.getComposerData(k).squareThumbnailDimensions};j.prototype.getTitle=function(k){"use strict";return this.getComposerData(k).title};j.prototype.getFeedType=function(k){"use strict";return this.getComposerData(k).feedType};j.prototype.getGeneratedThumbnails=function(k){"use strict";return this.getComposerData(k).generatedThumbnails};j.prototype.getSources=function(k){"use strict";return this.getComposerData(k).sources};j.prototype.getCaptions=function(k){"use strict";return this.getComposerData(k).captions};j.prototype.getLiveCaptions=function(k){"use strict";return this.getComposerData(k).liveCaptions};j.prototype.getLastCaptionUploadErrorMessage=function(k){"use strict";return this.getComposerData(k).lastCaptionUploadErrorMessage};j.prototype.getPermissions=function(k){"use strict";return this.getComposerData(k).permissions};j.prototype.getExternalVideoID=function(k){"use strict";return this.getComposerData(k).externalVideoID};j.prototype.getCustomLabels=function(k){"use strict";return this.getComposerData(k).customLabels};j.prototype.getEnableThumbnailExperiment=function(k){"use strict";return this.getComposerData(k).enableThumbnailExperiment};j.prototype.getSponsorRelationship=function(k){"use strict";return this.getComposerData(k).sponsorRelationship};j.prototype.getEpisodeData=function(k){"use strict";return this.getComposerData(k).episodeData};j.prototype.getSharedToSponsorStatus=function(k){"use strict";return this.getComposerData(k).sharedToSponsorStatus};j.prototype.getVideoDurationInSec=function(k){"use strict";return this.getComposerData(k).videoDurationInSec};j.prototype.getCopyrightReferenceCategory=function(k){"use strict";return this.getComposerData(k).selectedCategory};j.prototype.getPlayerSeekPositionInMs=function(k){"use strict";return this.getComposerData(k).seekPositionInMs||0};j.prototype.getFundraiserForStoryCharityID=function(k){"use strict";return this.getComposerData(k).fundraiserForStoryCharityID};j.prototype.getShareToParentPageOptionSelected=function(k){"use strict";return this.getComposerData(k).shareToParentPageOptionSelected};j.prototype.getShareToParentPageText=function(k){"use strict";return this.getComposerData(k).shareToParentPageText};j.prototype.getNumProducts=function(k){"use strict";return this.getComposerData(k).numProducts};j.prototype.$ComposerVideoUploadStore56=function(k){"use strict";var l=this.getComposerData(k.composerID);l.shouldDisableAdBreakInsertion=k.shouldDisableAdBreakInsertion;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore1=function(k){"use strict";var l=this.getComposerData(k.composerID);l.blockSocialActions=k.blockSocialActions;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore2=function(k){"use strict";var l=this.getComposerData(k.composerID);l.callToAction={ctaType:k.ctaType,ctaLink:k.ctaLink,ctaCaption:k.ctaCaption};this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore3=function(k){"use strict";var l=this.getComposerData(k.composerID);l.category=k.category;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore4=function(k){"use strict";var l=this.getComposerData(k.composerID);l.contentTags=k.contentTags;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore5=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrighted=k.copyrighted;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore6=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightMonitoringType=k.copyrightMonitoringType;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore7=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightAttributionID=k.copyrightAttributionID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore9=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightRuleID=k.copyrightRuleID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore10=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightWhitelistedFBUsers=k.copyrightWhitelistedFBUsers;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore11=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightWhitelistedIGUserNames=k.copyrightWhitelistedIGUserNames;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore12=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightOwnershipCountries=k.copyrightOwnershipCountries;l.areCopyrightCountriesIncluded=k.areCopyrightCountriesIncluded;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore13=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightExcludedSegments=k.copyrightExcludedSegments;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore8=function(k){"use strict";var l=this.getComposerData(k.composerID);l.isReferenceFileDisabled=k.isReferenceFileDisabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore14=function(k){"use strict";var l=this.getComposerData(k.composerID);l.customThumbnail=k.customThumbnail;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore15=function(k){"use strict";var l=this.getComposerData(k.composerID);l.description=k.description;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore16=function(k){"use strict";var l=this.getComposerData(k.composerID);l.disturbing=k.disturbing;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore17=function(k){"use strict";var l=this.getComposerData(k.composerID);l.embeddable=k.embeddable;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore18=function(k){"use strict";var l=this.getComposerData(k.composerID);l.excludeNewsfeed=k.excludeNewsfeed;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore20=function(k){"use strict";var l=this.getComposerData(k.composerID);l.expire=k.expire;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore22=function(k){"use strict";var l=this.getComposerData(k.composerID);l.internalSetting=k.internalSetting;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore21=function(k){"use strict";var l=this.getComposerData(k.composerID);l.fteOnly=k.fteOnly;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore23=function(k){"use strict";var l=this.getComposerData(k.composerID);l.isSecretVideo=k.isSecretVideo;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore24=function(k){"use strict";var l=this.getComposerData(k.composerID);l.isFeaturedVideo=k.isFeaturedVideo;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore25=function(k){"use strict";var l=this.getComposerData(k.composerID);l.publish=k.publish;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore26=function(k){"use strict";var l=this.getComposerData(k.composerID);l.scheduledPublishTime=k.scheduledPublishTime;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore27=function(k){"use strict";var l=this.getComposerData(k.composerID);l.spherical=k.spherical;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore28=function(k){"use strict";var l=this.getComposerData(k.composerID);l.tags=k.tags;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore29=function(k){"use strict";var l=this.getComposerData(k.composerID);l.thumbnail=k.thumbnail;l.isThumbnailSelectedByUser=k.isSelectedByUser;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore30=function(k){"use strict";var l=this.getComposerData(k.composerID);l.squareThumbnailDimensions=k.dimensions;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore31=function(k){"use strict";var l=this.getComposerData(k.composerID);l.customThumbnail=k.customThumbnail;l.thumbnail=k.customThumbnail;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore32=function(k){"use strict";var l=this.getComposerData(k.composerID);l.scrubbedThumbnail=k.scrubbedThumbnail;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore33=function(k){"use strict";var l=this.getComposerData(k.composerID);l.scrubbedThumbnailTimestamp=k.timestamp;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore34=function(k){"use strict";var l=this.getComposerData(k.composerID);l.title=k.title;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore35=function(k){"use strict";var l=this.getComposerData(k.composerID);l.feedType=k.feedType;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore36=function(k){"use strict";var l=this.getComposerData(k.composerID);l.generatedThumbnails=k.generatedThumbnails;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore37=function(k){"use strict";var l=this.getComposerData(k.composerID);l.sources=k.sources;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore38=function(k){"use strict";var l=this.getComposerData(k.composerID);l.captions=k.captions;l.lastCaptionUploadErrorMessage="";this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore39=function(k){"use strict";var l=this.getComposerData(k.composerID);l.liveCaptions=k.liveCaptions;l.lastCaptionUploadErrorMessage="";this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore40=function(k){"use strict";var l=this.getComposerData(k.composerID);l.lastCaptionUploadErrorMessage=k.lastCaptionUploadErrorMessage;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore19=function(k){"use strict";var l=this.getComposerData(k.composerID);l.expirationTime=k.expirationTime;l.expirationType=k.expirationType;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore41=function(k){"use strict";var l=this.getComposerData(k.composerID);l.permissions=k.permissions;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore42=function(k){"use strict";var l=this.getComposerData(k.composerID);l.externalVideoID=k.externalVideoID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore43=function(k){"use strict";var l=this.getComposerData(k.composerID);l.customLabels=k.customLabels;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore50=function(k){"use strict";var l=this.getComposerData(k.composerID);l.enableThumbnailExperiment=k.enableThumbnailExperiment;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore44=function(k){"use strict";var l=this.getComposerData(k.composerID);l.sponsorRelationship=k.sponsorRelationship;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore46=function(k){"use strict";var l=this.getComposerData(k.composerID);l.sharedToSponsorStatus=k.sharedToSponsorStatus;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore47=function(k){"use strict";var l=this.getComposerData(k.composerID);l.videoDurationInSec=k.videoDurationInSec;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore45=function(k){"use strict";var l=this.getComposerData(k.composerID);l.episodeData=k.episodeData;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore48=function(k){"use strict";var l=this.getComposerData(k.composerID);l.selectedCategory=k.selectedCategory;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore49=function(k){"use strict";var l=this.getComposerData(k.composerID);l.seekPositionInMs=k.seekPositionInMs;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore51=function(k){"use strict";var l=this.getComposerData(k.composerID);l.fundraiserForStoryCharityID=k.fundraiserForStoryCharityID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore52=function(k){"use strict";var l=this.getComposerData(k.composerID);l.shareToParentPageOptionSelected=k.shareToParentPageOptionSelected;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore53=function(k){"use strict";var l=this.getComposerData(k.composerID);l.shareToParentPageText=k.shareToParentPageText;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore54=function(k){"use strict";var l=this.getComposerData(k.composerID);l.gameID=k.gameID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore55=function(k){"use strict";var l=this.getComposerData(k.composerID);l.numProducts=k.numProducts;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore57=function(k){"use strict";if(!k)return null;var l=k.getArea(),m=k.getPosition(),n=new(c("BasicVector"))(m.width,m.height).div(k.getZoom());return{width:l.width/n.x,height:l.height/n.y,left:l.x/n.x,top:l.y/n.y}};j.prototype.getPostData=function(k){"use strict";__p&&__p();var l=this.getComposerData(k),m=l.tags.map(function(q){return q.getUniqueID()}),n=l.permissions.length>0?l.permissions[0].allow:false,o={areCopyrightCountriesIncluded:l.areCopyrightCountriesIncluded,composertags_with:undefined,content_category:l.category,content_tags:c("ComposerVideoPostUtils").getContentTagEntryIDs(l.contentTags||[]),copyrighted:l.copyrighted,copyrightAttributionID:l.copyrightAttributionID,copyrightMonitoringType:l.copyrightMonitoringType,copyrightRuleID:l.copyrightRuleID,copyrightWhitelistedFBUsers:l.copyrightWhitelistedFBUsers,copyrightWhitelistedIGUserNames:l.copyrightWhitelistedIGUserNames,copyrightOwnershipCountries:l.copyrightOwnershipCountries,copyrightExcludedSegments:l.copyrightExcludedSegments,isReferenceFileDisabled:l.isReferenceFileDisabled,video_title:l.title,feed_type:l.feedType,free_form_tags:c("ComposerVideoPostUtils").getFreeFormContentTags(l.contentTags||[]),xhpc_message:l.description,thumbnail_type:undefined,user_uploaded_custom_thumbnail_timestamp:undefined,user_scrubbed_thumbnail_timestamp:undefined,thumb:undefined,disturbing:l.disturbing,embeddable:l.embeddable,no_story:l.excludeNewsfeed,secret:l.isSecretVideo,social_actions:!l.blockSocialActions,spherical:l.spherical,internal_video:l.internalSetting,fte_only:l.fteOnly,captions:l.captions,monitoring_type:l.copyrightMonitoringType,shared_with_business:n,crossposting_config:l.permissions,external_video_id:l.externalVideoID,custom_labels:l.customLabels,enable_thumbnail_experiment:l.enableThumbnailExperiment,sponsor_relationship:l.sponsorRelationship,episode_data_json:undefined,direct_share_status:l.sharedToSponsorStatus,square_custom_thumbnail_dimensions:undefined,videoDurationInSec:l.videoDurationInSec,selectedCategory:l.selectedCategory,fundraiser_for_story_charity_id:undefined,share_to_parent_page_option_selected:l.shareToParentPageOptionSelected,share_to_parent_page_text:l.shareToParentPageText,gameID:l.gameID,numProducts:l.numProducts},p=c("ComposerVideoPostUtils").calculateSquareThumbnailDimensions(l.squareThumbnailDimensions);if(p)o.square_custom_thumbnail_dimensions=JSON.stringify(p);else delete o.square_custom_thumbnail_dimensions;if(l.gameID)o.gameID=l.gameID;else delete o.gameID;if(l.numProducts)o.numProducts=l.numProducts;else delete o.numProducts;if(l.episodeData)o.episode_data_json=JSON.stringify(l.episodeData);else delete o.episode_data_json;if(l.fundraiserForStoryCharityID)o.fundraiser_for_story_charity_id=l.fundraiserForStoryCharityID;else delete o.fundraiser_for_story_charity_id;if(m.length>0)o.composertags_with=m;else delete o.composertags_with;if(l.thumbnail){if(l.thumbnail instanceof c("FileVideoThumbnail"))o.thumbnail_type=c("VideoThumbnailSource").CUSTOM;else if(l.scrubbedThumbnail!==null&&l.scrubbedThumbnail===l.thumbnail){o.thumbnail_type=c("VideoThumbnailSource").SCRUBBER_SELECTED;o.user_scrubbed_thumbnail_timestamp=l.thumbnail.getTime()}else if(l.isThumbnailSelectedByUser){o.thumbnail_type=c("VideoThumbnailSource").GENERATED_SELECTED;o.user_uploaded_custom_thumbnail_timestamp=l.thumbnail.getTime()}else o.thumbnail_type=c("VideoThumbnailSource").GENERATED_DEFAULT;return l.thumbnail.getData().then(function(l){o.thumb=l;return o})}else return c("Promise").resolve(o)};f.exports=new j()}),null);
__d("VideoUploadLeaveConfirmationDialog.react",["fbt","PublishingToolsWebdriverTestDataIDs","React","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogButton.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=700,m=360;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;n.prototype.render=function(){"use strict";__p&&__p();var o=void 0,p=void 0,q=void 0,r=void 0,s=void 0;if(this.props.isProfileVideo){o=m;p=h._("Cancel profile video?");q=h._("Your profile video won't be saved if you leave this page.");r=h._("Stay on This Page");s=h._("Leave This Page")}else{o=l;p=h._("Discard post?");q=h._("If you leave now, this post will be discarded. To save your post, choose one of the options under the Publish button.");r=h._("Return to Post");s=h._("Discard")}return c("React").createElement(c("XUIDialog.react"),{shown:true,layerHideOnBlur:false,width:o,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},p),c("React").createElement(c("XUIDialogBody.react"),null,q),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:r,onClick:this.props.onContinue}),c("React").createElement(c("XUIDialogButton.react"),{use:"confirm",action:"cancel",label:s,onClick:this.props.onCancel,"data-testid":c("PublishingToolsWebdriverTestDataIDs").VIDEO_UPLOAD_DIALOG_CLOSE_CONFIRM_BUTTON})))};function n(){"use strict";i.apply(this,arguments)}n.propTypes={onContinue:k.func.isRequired,onCancel:k.func.isRequired,isProfileVideo:k.bool};f.exports=n}),null);
__d("ComposerXVideoUploadDialog.react",["csx","cx","ix","fbt","Arbiter","ComposerVideoShowsStore","DOM","DOMContainer.react","FluxContainer","Image.react","ProfileVideoWWWFrontendActionTypedLogger","PublishingToolsWebdriverTestDataIDs","React","ReactDOM","SubscriptionsHandler","VideoComposerDialogMode","VideoComposerDialogUIEvent","VideoComposerDialogUITypedLogger","VideoComposerDialogVersion","VideoUploadProcessingDialog.react","XUICloseButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","VideoUploadLeaveConfirmationDialog.react","OptimisticVideoPostUtils","containsNode","setImmediate","getViewportDimensions"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m,n=c("React").PropTypes,o=770,p=489,q=550;l=babelHelpers.inherits(r,c("React").Component);m=l&&l.prototype;function r(){__p&&__p();var s,t;"use strict";for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=m.constructor).call.apply(s,[this].concat(v)),this.state={stage:"editing",videoID:null,showLeaveConfirmationDialog:false,showThrobber:false,shouldShowNewEditDialog:false,pageID:null,isSecretVideo:false,shouldShowVideoLibrary:false,isEpisode:false},this.$ComposerXVideoUploadDialog1=null,this.$ComposerXVideoUploadDialog3=null,this.onCancelPostingClick=function(){this.setState({showLeaveConfirmationDialog:false});if(this.props&&this.props.onCancel)this.props.onCancel();if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2.setEvent("leave_this_page_click").setSessionID(this.props.composerID).log();this.$ComposerXVideoUploadDialog4(c("VideoComposerDialogUIEvent").EXIT_COMPOSER_CONFIRM)}.bind(this),this.onContinuePostingClick=function(){this.setState({showLeaveConfirmationDialog:false});if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2.setEvent("stay_on_this_page_click").setSessionID(this.props.composerID).log();this.$ComposerXVideoUploadDialog4(c("VideoComposerDialogUIEvent").EXIT_COMPOSER_CANCEL)}.bind(this),this.onComposerClick=function(x){if(this.props.isProfileVideo&&x.nativeEvent&&x.nativeEvent.target)if(c("containsNode")(this.$ComposerXVideoUploadDialog3,x.nativeEvent.target))this.onComposerDialogClose()}.bind(this),this.onComposerDialogClose=function(){this.setState({showLeaveConfirmationDialog:true});if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2.setEvent("cancel_button_click").setSessionID(this.props.composerID).log();this.$ComposerXVideoUploadDialog4(c("VideoComposerDialogUIEvent").EXIT_COMPOSER_ATTEMPT)}.bind(this),this.onDone=function(){if(this.props&&this.props.onDone){var x=this.props.onDone;c("setImmediate")(function(){return x({videoID:this.state.videoID})}.bind(this))}}.bind(this),this.renderThrobber=function(){return c("React").createElement(c("Image.react"),{className:"_2z4p"+(this.state.showThrobber?" _2z4q":""),src:j("85428")})}.bind(this),t}r.getStores=function(){"use strict";return[c("ComposerVideoShowsStore")]};r.calculateState=function(){"use strict";var s=c("ComposerVideoShowsStore").getState().toObject(),t=s.isEpisode;return{isEpisode:t}};r.prototype.componentDidMount=function(){"use strict";__p&&__p();if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2=new(c("ProfileVideoWWWFrontendActionTypedLogger"))();var s=new(c("SubscriptionsHandler"))();this.$ComposerXVideoUploadDialog1=s;s.addSubscriptions(c("Arbiter").subscribe("videoUpload/started",function(t){this.setState({stage:"editing",videoID:null})}.bind(this)),c("Arbiter").subscribe("videoUpload/complete",function(t,u){if(this.props.onComplete)this.props.onComplete(u.videoID);var v=this.props.showProcessingDialog&&(!this.props.canShowOptimisticPost||!c("OptimisticVideoPostUtils").shouldShowOptimisticPost(u));this.setState({stage:"finished",videoID:u.videoID,shouldShowVideoUploadProcessingDialog:v,shouldShowNewEditDialog:!!u.shouldShowNewEditDialog,pageID:u.pageID,isSecretVideo:u.isSecret,shouldShowVideoLibrary:!!u.shouldShowVideoLibrary})}.bind(this)),c("Arbiter").subscribe("videoUpload/showThrobber",function(t,u){if(this.props.composerID===u.composerID)this.setState({showThrobber:true})}.bind(this)),c("Arbiter").subscribe("videoUpload/hideThrobber",function(t,u){if(this.props.composerID===u.composerID)this.setState({showThrobber:false})}.bind(this)));if(this.props.showDialogCancelButton)this.$ComposerXVideoUploadDialog3=c("DOM").find(c("ReactDOM").findDOMNode(this.props.composer),"._306")};r.prototype.componentWillUnmount=function(){"use strict";if(this.$ComposerXVideoUploadDialog1)this.$ComposerXVideoUploadDialog1.release()};r.prototype.$ComposerXVideoUploadDialog4=function(event){"use strict";new(c("VideoComposerDialogUITypedLogger"))().setEvent(event).setActorID(this.state.pageID).setComposerDialogVersion(c("VideoComposerDialogVersion").V1).setComposerEntryPoint(this.props.composerEntryPointRef).setDialogMode(c("VideoComposerDialogMode").VIDEO_UPLOAD).log()};r.prototype.renderLayers=function(){"use strict";__p&&__p();if(this.state.stage=="finished"){if(!this.state.shouldShowVideoUploadProcessingDialog){this.onDone();return null}return c("React").createElement(c("VideoUploadProcessingDialog.react"),{videoID:this.state.videoID,onClose:this.onDone,show:true,shouldShowNewEditDialog:this.state.shouldShowNewEditDialog,pageID:this.state.pageID,isReferenceVideo:this.props.isReferenceVideo,isSecretVideo:this.state.isSecretVideo,shouldShowVideoLibrary:this.state.shouldShowVideoLibrary,key:"dialog"})}else{var s;if(this.props.isReferenceVideo)s=k._("Add reference file");else if(this.props.isProfileVideo)s=k._("Create profile video");else if(this.props.isPageTrailer)s=k._("Add trailer");else if(this.state.isEpisode)s=k._("Upload episode");else s=k._("Upload video");var t=null;if(!this.props.showDialogCancelButton)t=c("React").createElement(c("XUICloseButton.react"),{className:"_51-t",onClick:this.onComposerDialogClose,"data-testid":c("PublishingToolsWebdriverTestDataIDs").VIDEO_UPLOAD_DIALOG_CLOSE_BUTTON});var u=c("getViewportDimensions")().height>q?100:30;return c("React").createElement(c("XUIDialog.react"),{shown:true,layerHideOnBlur:false,width:this.props.compactMode?p:o,fixedTopPosition:u,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},s,c("React").createElement("div",{className:"_51-u"},this.renderThrobber(),t)),c("React").createElement(c("XUIDialogBody.react"),{useCustomPadding:true},c("React").createElement(c("DOMContainer.react"),{onClick:this.onComposerClick},this.props.composer)))}};r.prototype.render=function(){"use strict";var s;if(this.state.showLeaveConfirmationDialog)s=c("React").createElement(c("VideoUploadLeaveConfirmationDialog.react"),{isProfileVideo:this.props.isProfileVideo,onContinue:this.onContinuePostingClick,onCancel:this.onCancelPostingClick});return c("React").createElement("div",null,s,this.renderLayers())};r.propTypes={composer:n.object.isRequired,composerID:n.string.isRequired,canShowOptimisticPost:n.bool,showProcessingDialog:n.bool,onCancel:n.func,onComplete:n.func,onDone:n.func,compactMode:n.bool,isReferenceVideo:n.bool,isProfileVideo:n.bool,isPageTrailer:n.bool};r.defaultProps={canShowOptimisticPost:false,showProcessingDialog:true,compactMode:false,isReferenceVideo:false,isProfileVideo:false};f.exports=c("FluxContainer").create(r)}),null);
__d("ComposerVideoUploadSphericalMediaToolkitButton.react",["cx","React","Image.react","ShimButton.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("ShimButton.react"),{className:c("joinClasses")(this.props.className,"_h6s"),onClick:this.props.onClick},c("React").createElement(c("Image.react"),{className:"_2k7z",src:this.props.thumbnail}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalVideoPreviewOverlayButtons",["cx","fbt","ix","regeneratorRuntime","BasicFBNux","ComposerVideoPostUtils","ComposerVideoUploadSphericalEvents","FlexLayout.react","Image.react","ComposerVideoUploadSphericalMediaToolkitButton.react","React","ReactDOM","ShimButton.react","SubscriptionsHandler","XUIAmbientNUX.react","XUIText.react","asset","destroyOnUnload","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m,n,o=4593,p=i._("Direct viewers' attention to a specific time and place.");k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(t){"use strict";l.constructor.call(this,t)}q.prototype.render=function(){"use strict";var t=void 0;if(this.props.thumbnail)t=c("React").createElement(c("Image.react"),{className:"_4a9p",src:this.props.thumbnail});return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_3qv6")},c("React").createElement(c("ShimButton.react"),{className:"_3qvi",onClick:this.props.callback},t,c("React").createElement("span",{className:"_3qvj"},this.props.text)))};m=babelHelpers.inherits(r,c("React").Component);n=m&&m.prototype;function r(t){"use strict";__p&&__p();n.constructor.call(this,t);this.state={guideEnabled:this.props.guideEnabled,guideVisible:true,guideKeyframes:this.props.guideKeyframes,currentKeyframe:this.props.controller.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getCurrentPointOfInterest"),isEditingKeyframe:this.props.isEditingKeyframe,isMobilePreview:this.props.isMobilePreview,isViewportOnKeyframe:true,showNux:false};this.$OverlayButtonsLayer3=function(){this.setState({currentKeyframe:this.$OverlayButtonsLayer2.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getCurrentPointOfInterest")})}.bind(this);this.$OverlayButtonsLayer4=function(u){this.setState({guideEnabled:u})}.bind(this);this.$OverlayButtonsLayer5=function(u){this.setState({guideVisible:u})}.bind(this);this.$OverlayButtonsLayer6=function(u){this.setState({guideKeyframes:u})}.bind(this);this.$OverlayButtonsLayer7=function(u){this.setState({isEditingKeyframe:u})}.bind(this);this.$OverlayButtonsLayer9=function(u){this.setState({isMobilePreview:u})}.bind(this);this.$OverlayButtonsLayer10=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.ADD_POI)}.bind(this);this.$OverlayButtonsLayer11=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.REMOVE_POI)}.bind(this);this.$OverlayButtonsLayer12=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.CLEAR_POI)}.bind(this);this.$OverlayButtonsLayer13=function(){this.props.controller.emit("SphericalHeadingIndicator/click")}.bind(this);this.$OverlayButtonsLayer14=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.SAVE_POI)}.bind(this);this.$OverlayButtonsLayer15=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.EDIT_POI)}.bind(this);this.$OverlayButtonsLayer8=function(){if(!(this.props.isRedesign&&this.state.currentKeyframe&&this.state.isEditingKeyframe)){if(this.state.isViewportOnKeyframe)this.setState({isViewportOnKeyframe:false});return}var u=this.state.currentKeyframe,v=this.$OverlayButtonsLayer2.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport"),w=Math.abs(v.pitch-u[1]),x=Math.abs(v.yaw-u[2]),y=w<1&&(x<1||x>359);if(y!==this.state.isViewportOnKeyframe)this.setState({isViewportOnKeyframe:y})}.bind(this);this.$OverlayButtonsLayer2=t.controller;this.$OverlayButtonsLayer1=new(c("SubscriptionsHandler"))();this.$OverlayButtonsLayer1.addSubscriptions(this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE,this.$OverlayButtonsLayer3),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_STATE_UPDATE,this.$OverlayButtonsLayer4),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_VISIBILITY_UPDATE,this.$OverlayButtonsLayer5),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,this.$OverlayButtonsLayer6),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.$OverlayButtonsLayer7),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE,this.$OverlayButtonsLayer8),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.MOBILE_PREVIEW_UPDATE,this.$OverlayButtonsLayer9))}r.prototype.componentWillUnmount=function(){"use strict";this.$OverlayButtonsLayer1.release()};r.prototype.componentDidMount=function(){"use strict";__p&&__p();(function t(){__p&&__p();var u;return c("regeneratorRuntime").async(function v(w){while(1)switch(w.prev=w.next){case 0:w.next=2;return c("regeneratorRuntime").awrap(c("ComposerVideoPostUtils").shouldShowNux(o));case 2:u=w.sent;if(this.state.showNux!==u)this.setState({showNux:u});case 4:case"end":return w.stop()}},null,this)}).bind(this)().done()};r.prototype.componentDidUpdate=function(){"use strict";this.$OverlayButtonsLayer8()};r.prototype.$OverlayButtonsLayer16=function(){"use strict";this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.CREATE_THUMBNAIL)};r.prototype.render=function(){"use strict";__p&&__p();var t=this.props.enableComposerRedesign,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0;if(this.props.isRedesign)if(this.state.currentKeyframe)if(this.state.isEditingKeyframe){if(this.state.currentKeyframe[0]===0)v=i._("Drag to adjust the starting view point");else v=i._("Drag to adjust the view");x=this.$OverlayButtonsLayer14;z=i._("Done");if(!this.state.isViewportOnKeyframe){w=this.$OverlayButtonsLayer13;y=i._("Reset")}}else{v=i._("Click to remove or adjust this interest point");x=this.$OverlayButtonsLayer15;z=i._("Edit Point");B=j("140971")}else{v=i._("Click to add a point of interest at this time");x=this.$OverlayButtonsLayer10;z=i._("+ Add Point");u=true}else if(this.state.guideEnabled){if(this.state.guideKeyframes.length){x=this.$OverlayButtonsLayer12;z=i._("- Delete All")}if(this.state.currentKeyframe){w=this.$OverlayButtonsLayer11;y=i._("- Delete Point")}else{w=this.$OverlayButtonsLayer10;y=i._("+ Add Point")}}else{v=i._("Drag and scroll to set camera orientation");x=this.$OverlayButtonsLayer13;z=i._("Reset")}var C=v?c("React").createElement(c("XUIText.react"),{className:"_2w21",size:"meta1",weight:"bold"},v):null,D=!t?c("React").createElement("div",{className:"_2w20"},c("React").createElement("div",{className:"_4n8x"}),C):null,E=!t&&z?c("React").createElement(q,{className:"_3qvk",callback:x,text:z,thumbnail:B,ref:"topRightButton"}):null,F=!t&&y?c("React").createElement(q,{className:"_3qvl",callback:w,text:y,thumbnail:A}):null,G=null;if(t&&u&&E){if(this.state.showNux)c("BasicFBNux").onView(o);G=c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.topRightButton}.bind(this),shown:this.state.showNux,position:"below",alignment:"center",onCloseButtonClick:function(){c("BasicFBNux").onDismiss(o);this.setState({showNux:false})}.bind(this)},c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},p))}var H=this.props.isRedesign&&!this.state.currentKeyframe,I=this.props.isRedesign&&this.state.currentKeyframe&&!this.state.isEditingKeyframe,J=this.props.isRedesign&&this.state.currentKeyframe&&this.state.isEditingKeyframe,K=i._("Set guide point"),L=i._("Replace guide point"),M=t&&(H||I)?c("React").createElement(c("ShimButton.react"),{className:"_1sne",onClick:H?this.$OverlayButtonsLayer10:this.$OverlayButtonsLayer15},c("React").createElement(c("FlexLayout.react"),{className:"_1snf",align:"center",justify:"all"},c("React").createElement("div",{className:"_1sng"},H?K:L),c("React").createElement(c("Image.react"),{className:"_1sni",src:j("415891")}))):null,N=this.state.isMobilePreview?j("425575"):j("425576"),O=t&&J?c("React").createElement(c("Image.react"),{className:"_1snj"+(this.state.isMobilePreview?" _19y8":""),src:N}):null,P=t&&J?c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_1snk",thumbnail:j("393776"),onClick:this.$OverlayButtonsLayer14}):null;return c("React").createElement("div",{className:"_64a8"+(!this.state.guideVisible?" _4em9":"")},G,D,E,F,M,O,P)};function s(t,u,v,w){var x=arguments.length<=4||arguments[4]===undefined?false:arguments[4],y=arguments.length<=5||arguments[5]===undefined?false:arguments[5],z=arguments.length<=6||arguments[6]===undefined?false:arguments[6],A=arguments.length<=7||arguments[7]===undefined?false:arguments[7];"use strict";c("ReactDOM").render(c("React").createElement(r,{controller:t,guideEnabled:v,guideKeyframes:w,isEditingKeyframe:x,isMobilePreview:y,isRedesign:z,enableComposerRedesign:A}),u);c("destroyOnUnload")(function(){return c("ReactDOM").unmountComponentAtNode(u)})}f.exports=s}),null);
__d("ComposerVideoUploadSphericalEnhancementsSection.react",["cx","fbt","ComposerVideoUploadTooltip.react","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","React","XUICard.react","XUICardSection.react","XUIText.react","XUICheckboxInput.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=i._("Make your video appear less shaky"),m=i._("360 audio is detected automatically");j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;n.prototype.render=function(){var o=this.props.showOmnistabSection?c("React").createElement("div",{className:"_3aaf"},c("React").createElement("div",{className:"_41vn"},c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold",shade:"medium"},i._("Stabilisation")),c("React").createElement(c("ComposerVideoUploadTooltip.react"),{light:true,tooltip:l})),c("React").createElement("div",{className:"_41vo"},c("React").createElement(c("InputLabel_DEPRECATED.react"),null,c("React").createElement(c("XUICheckboxInput.react"),{disabled:!this.props.allowOmnistabToggle,checked:this.props.omnistabEnabled,onChange:this.props.onToggleEnableOmnistab}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),{className:"_2t3p"},c("React").createElement(c("XUIText.react"),{weight:"normal"},i._("Apply stabilisation to the video when it's been uploaded")))),c("React").createElement(c("XUIGrayText.react"),{size:"meta1",shade:"light"},i._("If you upload your video without stabilisation, you won't be able to add it later.")))):null,p=c("React").createElement("div",{className:"_3aag"},c("React").createElement("div",{className:"_41vn"},c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold",shade:"medium"},i._("Audio")),c("React").createElement(c("ComposerVideoUploadTooltip.react"),{light:true,tooltip:m})),c("React").createElement("div",{className:"_41vo"},c("React").createElement(c("XUIText.react"),{size:"meta1",shade:"light"},i._("If your video has 360 audio, you'll be able to hear it after the video has been posted."))));return c("React").createElement(c("XUICard.react"),{className:"_41vm"},c("React").createElement(c("XUICardSection.react"),null,o,p))};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("ComposerVideoUploadSphericalPOICarouselItem.react",["ix","cx","fbt","Image.react","React","ShimButton.react","Tooltip.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=1e3,n=60,o=60,p=o*n*m,q=n*m,r=function r(t){t=Math.ceil(t/m)*m;var u=Math.floor(t/p),v=Math.floor(t/q)%o,w=Math.floor(t/m)%n,x=u>0?""+u:"",y=u>0?":"+(v<10?"0":"")+v:""+v,z=":"+(w<10?"0":"")+w;return x+y+z};k=babelHelpers.inherits(s,c("React").PureComponent);l=k&&k.prototype;s.prototype.render=function(){__p&&__p();var t=this.props,u=t.enableComposerRedesign,v=t.isSelected,w=t.thumbnailURI,x=t.timestamp,y=t.isEditingKeyframe,z=t.isSelectedForDeletion,A=void 0;if(x===0)A=u?null:c("React").createElement(c("Tooltip.react"),{tooltip:j._("Starting view can't be deleted"),position:"above",alignH:"center",className:"_3v87"+(u?" _2q6b":"")},c("React").createElement("div",{className:"_jgd"},c("React").createElement(c("Image.react"),{src:h("129545")})));else if(z)if(u)A=c("React").createElement("div",{className:"_3v89 _2q6b"});else A=c("React").createElement("div",{className:"_jge"},c("React").createElement("div",{className:"_jgd"},c("React").createElement(c("Image.react"),{onClick:this.props.onSelectForDeletion,src:h("133788")})));else if(u)A=c("React").createElement("div",{className:"_3v8a _2q6b"});else A=c("React").createElement(c("ShimButton.react"),{onClick:this.props.onSelectForDeletion,className:"_3v8a"});var B=u?76:61,C=u?76:97,D=w?c("React").createElement(c("Image.react"),{className:v&&y?"_8e9":"",width:C,height:B,src:w}):c("React").createElement("div",{className:"_64g7"+(u?" _2q6b":"")});return c("React").createElement(c("ShimButton.react"),{className:"_3ocy"+(v?" _3od0":"")+(u?" _2q6b":"")+(this.props.timestamp===0?" _64g8":""),onClick:function(E){return this.$ComposerVideoUploadSphericalPOICarouselItem1(E,u)}.bind(this)},D,c("React").createElement("div",{className:"_1hi_"+(u?" _2q6b":"")},r(x)),A)};s.prototype.$ComposerVideoUploadSphericalPOICarouselItem1=function(event,t){event.preventDefault();if(!t)this.props.onGuideKeyframeSelected();if(t&&this.props.timestamp!==0)this.props.onSelectForDeletion()};function s(){k.apply(this,arguments)}f.exports=s}),null);
__d("ComposerVideoUploadSphericalPOICarousel.react",["ix","cx","ComposerVideoUploadSphericalPOICarouselItem.react","Image.react","Locale","React","ShimButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={itemOffsetIndex:0,justifyRight:false},n}l.prototype.$ComposerVideoUploadSphericalPOICarousel1=function(m){return function(){this.setState({itemOffsetIndex:this.state.itemOffsetIndex+m,justifyRight:m>0})}.bind(this)};l.prototype.$ComposerVideoUploadSphericalPOICarousel2=function(m,n,o,p){if(m===p-n)this.setState({itemOffsetIndex:Math.max(m,0),justifyRight:true});else if(m<o)this.setState({itemOffsetIndex:Math.max(m,0),justifyRight:false});else if(m>o+n-1)this.setState({itemOffsetIndex:Math.min(m-n+1,p-1),justifyRight:true})};l.prototype.componentWillReceiveProps=function(m){__p&&__p();var n=this.state.itemOffsetIndex,o=m.enableComposerRedesign?8:7,p=m.items,q=this.props.items,r=p.size;if(r>=q.size){var s=q.findIndex(function(u){return u.isSelected}),t=p.findIndex(function(u){return u.isSelected});if(t>=0&&t!==s)this.$ComposerVideoUploadSphericalPOICarousel2(t,o,n,r)}else if(r<this.props.items.size)if(n>m.items.size-o)this.$ComposerVideoUploadSphericalPOICarousel2(r-o,o,n,r);else if(r<o)this.$ComposerVideoUploadSphericalPOICarousel2(0,o,n,r)};l.prototype.render=function(){__p&&__p();var m=this.props,n=m.items,o=m.enableComposerRedesign,p=this.state,q=p.itemOffsetIndex,r=p.justifyRight,s=o?8:7,t=o?80:99,u=15,v=o?32:29,w=16,x=n.map(function(H,I){var J=H.thumbnailURI,K=H.timestamp,L=H.isSelected,M=H.isSelectedForDeletion;return c("React").createElement(c("ComposerVideoUploadSphericalPOICarouselItem.react"),{enableComposerRedesign:o,isSelected:L,isSelectedForDeletion:M,thumbnailURI:J,timestamp:K,key:I,onGuideKeyframeSelected:function(){return this.props.onGuideKeyframeSelected(H)}.bind(this),onSelectForDeletion:function(){return this.props.onItemSelectedForDeletion(K)}.bind(this),isEditingKeyframe:this.props.isEditingKeyframe})}.bind(this)),y=x.size,z=y>s,A=void 0,B=void 0,C=void 0,D=void 0;C=h("124201");D=h("124211");if(c("Locale").isRTL()){var E=[D,C];C=E[0];D=E[1]}var F=0;if(z){if(q>0){F++;A=c("React").createElement(c("ShimButton.react"),{className:"_5h02"+(!o?" _3wmd":""),onClick:this.$ComposerVideoUploadSphericalPOICarousel1(-1)},c("React").createElement("div",{className:"_5h03"},c("React").createElement(c("Image.react"),{src:C})))}if(q<y-s){F++;B=c("React").createElement(c("ShimButton.react"),{className:"_5h02"+(!o?" _3wme":""),onClick:this.$ComposerVideoUploadSphericalPOICarousel1(1)},c("React").createElement("div",{className:"_5h03"},c("React").createElement(c("Image.react"),{src:D})))}}var G=q*t;if(F>0)G+=G>0?r?v:u:0;if(F>1)G+=r?w:0;G*=c("Locale").isRTL()?1:-1;return c("React").createElement("div",{className:"_1kds"+(o?" _2q6b":"")},A,c("React").createElement("div",{className:"_2ojc"+(F===1?" _2ojd":"")+(F===2?" _2oje":"")+(o?" _2q6b":"")},c("React").createElement("div",{className:"_1kdt"+(o?" _2q6b":""),style:{transform:"translateX("+G+"px)"}},x.toJS())),B)};f.exports=l}),null);
__d("ComposerVideoUploadSphericalGuideSection.react",["ix","cx","fbt","ComposerVideoUploadTooltip.react","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalPOICarousel.react","React","XUIButton.react","XUICardSection.react","XUIText.react","XUIGrayText.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=j._("Delete Points"),n=j._("Direct viewers' attention to specific points in your video");k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$ComposerVideoUploadSphericalGuideSection2=function(u){if(this.$ComposerVideoUploadSphericalGuideSection1()<1)return;u.preventDefault();this.props.onPointsOfInterestRemoved()}.bind(this),q}o.prototype.render=function(){var p=this.props,q=p.keyframes,r=p.enableComposerRedesign,s=q.size-1,t=j._({"*":"Points of interest added: {number of points}"},[j.param("number of points",s,[0])]),u=this.$ComposerVideoUploadSphericalGuideSection1(),v=j._({"*":{"*":"{number of points to be deleted} of {number of points} points selected"}},[j.param("number of points to be deleted",u,[0]),j.param("number of points",s,[0])]),w=m;if(u>0)w=j._({"*":"Delete Points ({number of points to be deleted})"},[j.param("number of points to be deleted",u,[0])]);return c("React").createElement("div",{className:"_4zkp"+(r?" _61-4":"")},!r&&c("React").createElement(c("XUICardSection.react"),{className:"_4zkq"},c("React").createElement("div",{className:"_4zkr"},c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold",shade:"medium",display:"inline"},j._("Edit or remove points of interest")),c("React").createElement(c("ComposerVideoUploadTooltip.react"),{light:true,tooltip:n})),c("React").createElement(c("XUIGrayText.react"),{size:"meta1",shade:"light"},j._("Choose a thumbnail to edit the point of interest. To delete, use the checkmarks then click Delete Points.")))),c("React").createElement(c("XUICardSection.react"),{className:"_4zkt"+(r?" _61-4":"")},c("React").createElement("div",{className:"_4zku"},c("React").createElement(c("ComposerVideoUploadSphericalPOICarousel.react"),{enableComposerRedesign:r,isEditingKeyframe:this.props.isEditingKeyframe,items:q,onGuideKeyframeSelected:this.props.onGuideKeyframeSelected,onItemSelectedForDeletion:this.props.onToggleGuideKeyframeForDeletion}),r&&c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_1yxe"+(u<1?" _1yxf":""),thumbnail:u<1?h("396629"):h("402967"),onClick:this.$ComposerVideoUploadSphericalGuideSection2}))),!r&&c("React").createElement("div",{className:"_2wyg"},c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold",shade:"medium",display:"block"},t),c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_2wyh",size:"meta1"},v),c("React").createElement(c("XUIButton.react"),{label:w,disabled:u<1,use:"default",tabIndex:0,onClick:this.$ComposerVideoUploadSphericalGuideSection2}))))};o.prototype.$ComposerVideoUploadSphericalGuideSection1=function(){return this.props.keyframes.reduce(function(p,q){return p+(q.isSelectedForDeletion?1:0)},0)};f.exports=o}),null);
__d("ComposerVideoUploadSphericalControlsTab.react",["cx","ComposerVideoUploadSphericalConstants","ComposerVideoUploadSphericalVideo.react","ComposerVideoUploadSphericalEnhancementsSection.react","ComposerVideoUploadSphericalGuideSection.react","React","SimpleXUIDialog"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.componentDidUpdate=function(){if(this.props.errorMessageText){var l=this.props.errorMessageConfirmOnly?c("SimpleXUIDialog").show.bind(c("SimpleXUIDialog")):c("SimpleXUIDialog").showConfirm.bind(c("SimpleXUIDialog"));l(this.props.errorMessageText,this.props.errorMessageTitle,this.props.onAcceptErrorMessage);this.props.onClearErrorMessage()}};k.prototype.render=function(){var l=this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.PAGE_COMPOSER_V1||this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.EDIT_DIALOG_V1||this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.CROSSPOST_DIALOG_V1;return c("React").createElement("div",{className:"_9_2"+(!this.props.shown?" _2oq6":"")+(l?" _l_-":"")},c("React").createElement("div",{className:"_4zj0"+(l?" _l_-":"")+(this.props.enableComposerRedesign?" _61-4":"")},c("React").createElement(c("ComposerVideoUploadSphericalVideo.react"),{fov:this.props.fov,guideEnabled:this.props.guideEnabled,guideVisible:this.props.guideVisible,isEditingKeyframe:this.props.isEditingKeyframe,keyframes:this.props.keyframes,hotspots:this.props.hotspots,nextHotspotId:this.props.nextHotspotId,onCreateThumbnail:this.props.onCreateThumbnail,onFOVUpdate:this.props.onFOVUpdate,onGuideVisibilityUpdate:this.props.onGuideVisibilityUpdate,onHotspotAdded:this.props.onHotspotAdded,onHotspotDeleted:this.props.onHotspotDeleted,onLoadVideoError:this.props.onLoadVideoError,onLoadVideoSuccess:this.props.onLoadVideoSuccess,onPointOfInterestAdded:this.props.onPointOfInterestAdded,onPointOfInterestSaved:this.props.onPointOfInterestSaved,onPointOfInterestsCleared:this.props.onPointOfInterestsCleared,onPointOfInterestRemoved:this.props.onPointOfInterestRemoved,onPointsOfInterestRemoved:this.props.onPointsOfInterestRemoved,onViewportUpdate:this.props.onViewportUpdate,onProjectionSelected:this.props.onProjectionSelected,onStereoModeSelected:this.props.onStereoModeSelected,onToggleSpatialAudio:this.props.onToggleSpatialAudio,pitch:this.props.pitch,shouldLoadVideo:this.props.shouldLoadVideo,togglePointOfInterestEdit:this.props.togglePointOfInterestEdit,updateActiveGuideKeyframe:this.props.updateActiveGuideKeyframe,videoFile:this.props.videoFile,videoID:this.props.videoID,videoLoading:this.props.videoLoading,videoUnavailable:this.props.videoUnavailable,yaw:this.props.yaw,allowOmnistabToggle:this.props.allowOmnistabToggle,omnistabEnabled:this.props.omnistabEnabled,showOmnistabSection:this.props.showOmnistabSection,onToggleEnableOmnistab:this.props.onToggleEnableOmnistab,projection:this.props.projection,stereoMode:this.props.stereoMode,hasSpatialAudio:this.props.hasSpatialAudio,isEditing:this.props.isEditing,componentSource:this.props.componentSource,enableComposerRedesign:this.props.enableComposerRedesign,enableTextHotspots:this.props.enableTextHotspots,enableImageHotspots:this.props.enableImageHotspots}),c("React").createElement(c("ComposerVideoUploadSphericalGuideSection.react"),{enableComposerRedesign:this.props.enableComposerRedesign,fov:this.props.fov,isEditingKeyframe:this.props.isEditingKeyframe,keyframes:this.props.keyframes,onFOVUpdate:this.props.onFOVUpdate,onGuideKeyframeSelected:this.props.onGuideKeyframeSelected,onPitchUpdate:this.props.onPitchUpdate,onPointOfInterestAdded:this.props.onPointOfInterestAdded,onPointsOfInterestRemoved:this.props.onPointsOfInterestRemoved,onPointOfInterestRemoved:this.props.onPointOfInterestRemoved,onSelectThumbnail:this.props.onSelectThumbnail,onToggleGuideKeyframeForDeletion:this.props.onToggleGuideKeyframeForDeletion,onYawUpdate:this.props.onYawUpdate,pitch:this.props.pitch,yaw:this.props.yaw}),!this.props.enableComposerRedesign&&c("React").createElement(c("ComposerVideoUploadSphericalEnhancementsSection.react"),{allowOmnistabToggle:this.props.allowOmnistabToggle,omnistabEnabled:this.props.omnistabEnabled,onToggleEnableOmnistab:this.props.onToggleEnableOmnistab,showOmnistabSection:this.props.showOmnistabSection})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalVideoLoader",["cx","invariant","AsyncRequest","EventListener","SphericalVideoPlayer","VideoData","VideoPlayerController","VideoPlayerHTML5Api","VideoProjection","XVideoDataController"],(function a(b,c,d,e,f,g,h,i){__p&&__p();b.URL=b.URL||b.webkitURL;var j=function j(l){if(l&&b.URL&&b.URL.createObjectURL)return b.URL.createObjectURL(l);else return null};k.prototype.load=function(l,m,n){__p&&__p();var o=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";l||m||i(0);if(m){var p=c("XVideoDataController").getURIBuilder().setString("video_id",m).setEnum("preferred_projection",c("VideoProjection").CUBEMAP).getURI();new(c("AsyncRequest"))().setMethod("GET").setURI(p).setReadOnly(true).setOption("suppressEvaluation",true).setAllowCrossPageTransition(true).setHandler(function(r){var s=new(c("VideoData"))(JSON.parse(r.payload.responseText)),t=s.hasHD()?s.getPlayableSrcHD():s.getPlayableSrcSD();if(!t){n.onError();return}this.$ComposerVideoUploadSphericalVideoLoader1(babelHelpers["extends"]({},n,{projection:s.getProjection()||c("VideoProjection").EQUIRECTANGULAR,videoID:m,videoUrl:t}),o)}.bind(this)).setErrorHandler(n.onError).send()}else if(l){var q=j(l);if(!q){n.onError();return}this.$ComposerVideoUploadSphericalVideoLoader1(babelHelpers["extends"]({videoID:m,videoUrl:q},n),o)}};k.prototype.$ComposerVideoUploadSphericalVideoLoader1=function(l,m){"use strict";var n=l.video;n.setAttribute("src",l.videoUrl);var o=c("EventListener").listen(n,"loadeddata",function(){o.remove();this.$ComposerVideoUploadSphericalVideoLoader2(l,m)}.bind(this))};k.prototype.$ComposerVideoUploadSphericalVideoLoader2=function(l,m){"use strict";var n={initialHeading:l.initialHeading,initialPitch:l.initialPitch,fieldOfView:l.fieldOfView,projectionType:l.projection,stereoFormat:l.stereoFormat,expansionCoef:1.01},o={viewportClassName:m?"_2z6k":"_4aa0",videoID:l.videoID||"",eagerPreload:true,preventScrollDefaultAction:true,useViewportDimension:true},p=new(c("VideoPlayerController"))({apiModule:c("VideoPlayerHTML5Api"),apiConfig:{disableNativeControls:null,VideoPlayerHTML5Shaka:null,subtitlesActive:null,videoData:[{hd_src:l.videoUrl,sd_src:l.videoUrl,stream_type:"progressive"}]},disableLogging:true,should_autoplay:l.autoplay,components:[new(c("SphericalVideoPlayer"))(n,o)]},{root_element:l.root,container_element:l.root,video_element:l.video});if(p.getOption("SphericalVideoPlayer","isReady"))l.onSuccess(p);else if(p.getOption("SphericalVideoPlayer","isUnavailable"))l.onError()};function k(){"use strict"}f.exports=new k()}),null);
__d("ComposerVideoUploadSphericalVideoGuideThumbnailsLoader",["ComposerVideoUploadSphericalVideoLoader","DOM","immutable","SphericalVideoPlayerEvents"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=1e3,j=100;function k(m,n,o){__p&&__p();var p=arguments.length<=3||arguments[3]===undefined?false:arguments[3],q=arguments[4],r=arguments[5];l.call(this);this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader1=m;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader2=n;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader3=q;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader4=o;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader5=p;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6=r;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8=null;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7=null}k.prototype.setKeyframes=function(m){this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader3=m;return this};k.prototype.setProjection=function(m){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7)this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7.emit(c("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,m);else this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader4.projection=m;return this};k.prototype.setStereoMode=function(m){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7)this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7.emit(c("SphericalVideoPlayerEvents").SET_STEREO_MODE,m);else this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader4.stereoFormat=m;return this};k.prototype.reloadThumbnails=function(){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8)clearTimeout(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8);this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8=setTimeout(function(){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7)this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader9(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7);else{var m=c("DOM").create("div"),n=c("DOM").create("video",{crossOrigin:"anonymous"});c("DOM").appendContent(m,n);c("ComposerVideoUploadSphericalVideoLoader").load(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader1,this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader2,babelHelpers["extends"]({},this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader4,{root:m,video:n,onSuccess:this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader9,onError:function o(){},autoplay:false}),this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader5)}}.bind(this))};k.prototype.destroy=function(){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7)this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7.destroy()};var l=function l(){__p&&__p();this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader9=function(m){__p&&__p();var n=false;if(!this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7){this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7=m;n=true}var o=this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader3;if(o.size===0){this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8=null;return}var p=this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader5?1:2;m.setDimensions(j*p,j);var q=0,r=m.addListener("seekEnd",function(){__p&&__p();var s=o.get(q);m.setSphericalOrientation(s.yaw,s.pitch);var t=m.getOption("SphericalVideoPlayer","getScreenshotDataURL");if(m.getCurrentTimePosition()===0){m.seek(1/i);return}o=o.update(q,function(u){return u.set("thumbnailURI",t)});this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6(o);q++;if(q<o.size)m.seek(o.get(q).timestamp/i);else{r.remove();this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8=null}}.bind(this));if(n)m.once("updateMetadata",function(){m.seek(o.first().timestamp/i)});else m.seek(o.first().timestamp/i)}.bind(this)};f.exports=k}),null);
__d("DataURLVideoThumbnail",["VideoThumbnail","dataURLToBlob"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("VideoThumbnail"));i=h&&h.prototype;function j(k,l){var m=arguments.length<=2||arguments[2]===undefined?0:arguments[2];"use strict";i.constructor.call(this,null);this.$CanvasSphericalVideoThumbnail1=l;this.$CanvasSphericalVideoThumbnail2=m;this.$CanvasSphericalVideoThumbnail3=k}j.prototype.getTime=function(){"use strict";return this.$CanvasSphericalVideoThumbnail2};j.prototype.getURL=function(){"use strict";return this.$CanvasSphericalVideoThumbnail3};j.prototype.getData=function(){"use strict";return c("dataURLToBlob")(this.$CanvasSphericalVideoThumbnail3,this.$CanvasSphericalVideoThumbnail1)};f.exports=j}),null);
__d("cropDataURLToDimension",["DOM"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k){var l=c("DOM").create("canvas",{width:k.width,height:k.height}),m=l.getContext("2d");m.drawImage(i,j.x,j.y,k.width,k.height,0,0,k.width,k.height);return l.toDataURL()}f.exports=h}),null);
__d("ComposerVideoUploadSphericalControlsTabContainer.react",["fbt","ComposerVideoUploadSphericalAction","ComposerVideoUploadActions","ComposerVideoUploadSphericalConstants","ReactComposerPropsAndStoreBasedStateMixin","ComposerVideoUploadSphericalControlsTab.react","ComposerVideoUploadSphericalVideoGuideThumbnailsLoader","DataURLVideoThumbnail","DOM","ComposerVideoUploadSphericalGuideKeyframeData","immutable","React","ReactComposerContextTypes","ComposerVideoUploadSphericalStore","VideoUploadSphericalControlsAction","SphericalVideoExperiments","VideoStereoFormat","VideoUploadSphericalLogger","cropDataURLToDimension"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("immutable").List,j=c("React").PropTypes,k=[c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.CROSSPOST_DIALOG_V1,c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.CROSSPOST_DIALOG_V2,c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.EDIT_DIALOG_V1,c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.EDIT_DIALOG_V2,c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.PAGE_COMPOSER_V1,c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.PAGE_COMPOSER_V2,c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.STANDALONE,c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.UNKNOWN],l=1e3,m=h._("All of the points you've selected will be deleted. To edit your points instead, choose \"Edit Point\" when viewing a thumbnail."),n=h._("Delete points of interest?"),o="image/jpeg",p=c("React").createClass({displayName:"ComposerVideoUploadSphericalControlsTabContainer",_loggedImpression:false,_guideThumbnailsLoader:null,_enableComposerRedesign:false,_enableTextHotspots:false,_enableImageHotspots:false,_thumbnailAspectRatio:2,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ComposerVideoUploadSphericalStore"))],statics:{calculateState:function q(r,s){var t=c("ComposerVideoUploadSphericalStore").getCurrentViewport(r),u=t.pitch,v=t.yaw,w=c("ComposerVideoUploadSphericalStore").getFOV(r),x=c("ComposerVideoUploadSphericalStore").getVideoUnavailable(r),y=!c("ComposerVideoUploadSphericalStore").getVideoPlayerController(r)&&!x,z=c("ComposerVideoUploadSphericalStore").getEnableOmnistab(r),A=c("ComposerVideoUploadSphericalStore").getExpandedSections(r),B=c("ComposerVideoUploadSphericalStore").getGuideVisibility(r),C=c("ComposerVideoUploadSphericalStore").getGuideKeyframes(r),D=c("ComposerVideoUploadSphericalStore").getSphericalHotspots(r),E=c("ComposerVideoUploadSphericalStore").getNextHotspotId(r),F=c("ComposerVideoUploadSphericalStore").getErrorMessageInfo(r)||{},G=c("ComposerVideoUploadSphericalStore").getIsEditingPointOfInterest(r),H=c("ComposerVideoUploadSphericalStore").getTabVisibility(r)&&y,I=c("ComposerVideoUploadSphericalStore").getOriginalSphericalMetadata(r),J=c("ComposerVideoUploadSphericalStore").getProjection(r),K=c("ComposerVideoUploadSphericalStore").getStereoMode(r),L=c("ComposerVideoUploadSphericalStore").getHasSpatialAudio(r);return{pitch:u,yaw:v,fov:w,projection:J,stereoMode:K,hasSpatialAudio:L,videoLoading:y,videoUnavailable:x,enableOmnistab:z,expandedSections:A,guideVisible:B,keyframes:C,hotspots:D,nextHotspotId:E,errorMessageText:F.text,errorMessageTitle:F.title,errorMessageConfirmOnly:F.confirmOnly,errorMessageCallback:F.callback,isEditingKeyframe:G,shouldLoadVideo:H,sphericalMetadata:I}}},propTypes:{shown:j.bool.isRequired,showOmnistabSection:j.bool,hasOmnistabEncoding:j.bool,isEditing:j.bool,videoFile:j.object,videoID:j.string,targetID:j.string,startVisible:j.bool,componentSource:j.oneOf(k).isRequired},componentWillMount:function q(){__p&&__p();var r=this.context.composerID;c("ComposerVideoUploadSphericalAction").resetVideoPlayerController(r);if(!this.props.showOmnistabSection)c("ComposerVideoUploadSphericalAction").updateEnableOmnistab(r,false);if(this.props.startVisible)c("ComposerVideoUploadSphericalAction").updateTabVisibility(this.context.composerID,this.props.shown);var s=c("ComposerVideoUploadSphericalStore").getCurrentViewport(r);c("VideoUploadSphericalLogger").setIsRedesign(true).setIsNuxTest(c("SphericalVideoExperiments").enableComposerNuxExperiment).setTargetID(this.props.targetID?Number(this.props.targetID):null).setVideoID(this.props.videoID?Number(this.props.videoID):null).setYawDegrees(s.yaw).setPitchDegrees(s.pitch).setFieldOfView(c("ComposerVideoUploadSphericalStore").getFOV(r)).setVideoPreviewPosition(0);var t=this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.CROSSPOST_DIALOG_V1||this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.EDIT_DIALOG_V1||this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.EDIT_DIALOG_V2;this._enableComposerRedesign=c("SphericalVideoExperiments").enableComposerRedesign;this._enableTextHotspots=c("SphericalVideoExperiments").enableTextHotspots&&this._enableComposerRedesign&&!t;this._enableImageHotspots=c("SphericalVideoExperiments").enableImageHotspots&&this._enableComposerRedesign&&!t;this._thumbnailAspectRatio=this._enableComposerRedesign?1:2},componentDidMount:function q(){this._createGuideThumbnailsLoader()},componentDidUpdate:function q(r,s){__p&&__p();if(r.shown!==this.props.shown)c("ComposerVideoUploadSphericalAction").updateTabVisibility(this.context.composerID,this.props.shown);if(this.props.shown&&!this._loggedImpression){var t=c("VideoUploadSphericalControlsAction").TAB_IMPRESSION;c("VideoUploadSphericalLogger").setUserAction(t).log();this._loggedImpression=true}if(Object.keys(s.sphericalMetadata).length===0&&Object.keys(this.state.sphericalMetadata).length>0)this._createGuideThumbnailsLoader();if(this.state.projection!==s.projection||this.state.stereoMode!==s.stereoMode)this.reloadGuideThumbnails()},componentWillUnmount:function q(){var r=c("ComposerVideoUploadSphericalStore").getVideoPlayerController(this.context.composerID);if(r)r.destroy();if(this._guideThumbnailsLoader)this._guideThumbnailsLoader.destroy()},render:function q(){return c("React").createElement(c("ComposerVideoUploadSphericalControlsTab.react"),{errorMessageConfirmOnly:this.state.errorMessageConfirmOnly,errorMessageText:this.state.errorMessageText,errorMessageTitle:this.state.errorMessageTitle,expandedSections:this.state.expandedSections,fov:this.state.fov,guideEnabled:true,guideVisible:this.state.guideVisible,isEditingKeyframe:this.state.isEditingKeyframe,keyframes:this.state.keyframes,hotspots:this.state.hotspots,nextHotspotId:this.state.nextHotspotId,onAcceptErrorMessage:this.state.errorMessageCallback,onClearErrorMessage:this._onClearErrorMessage,onCollapsableHeaderClick:this._onCollapsableHeaderClick,onCreateThumbnail:this._onCreateThumbnail,onFOVUpdate:this._onFOVUpdate,onGuideKeyframeSelected:this._onGuideKeyframeSelected,onGuideVisibilityUpdate:this._onGuideVisibilityUpdate,onHotspotAdded:this._onHotspotAdded,onHotspotDeleted:this._onHotspotDeleted,onLoadVideoError:this._onLoadVideoError,onLoadVideoSuccess:this._onLoadVideoSuccess,onPitchUpdate:this._onPitchUpdate,onPointOfInterestAdded:this._onPointOfInterestAddedOrSaved,onPointOfInterestSaved:this._onPointOfInterestAddedOrSaved,onPointOfInterestsCleared:this._onPointOfInterestsCleared,onPointsOfInterestRemoved:this._onPointsOfInterestRemoved,onPointOfInterestRemoved:this._onPointOfInterestRemoved,onSelectThumbnail:this._onSelectThumbnail,onToggleEnableOmnistab:this._onToggleEnableOmnistab,onToggleGuideKeyframeForDeletion:this._updateToggleGuideKeyframeForDeletion,onViewportUpdate:this._onViewportUpdate,onYawUpdate:this._onYawUpdate,onProjectionSelected:this._onProjectionSelected,onStereoModeSelected:this._onStereoModeSelected,onToggleSpatialAudio:this._onToggleSpatialAudio,pitch:this.state.pitch,shouldLoadVideo:this.state.shouldLoadVideo,shown:this.props.shown,showOmnistabSection:!!this.props.showOmnistabSection,omnistabEnabled:this.state.enableOmnistab,allowOmnistabToggle:this._allowOmnistabToggle(),togglePointOfInterestEdit:this._togglePointOfInterestEdit,updateActiveGuideKeyframe:this._updateActiveGuideKeyframe,videoFile:this.props.videoFile,videoID:this.props.videoID,videoLoading:this.state.videoLoading,videoUnavailable:this.state.videoUnavailable,yaw:this.state.yaw,projection:this.state.projection,stereoMode:this.state.stereoMode,hasSpatialAudio:this.state.hasSpatialAudio,isEditing:!!this.props.isEditing,componentSource:this.props.componentSource,enableComposerRedesign:this._enableComposerRedesign,enableTextHotspots:this._enableTextHotspots,enableImageHotspots:this._enableImageHotspots})},_createGuideThumbnailsLoader:function q(){if(!this._guideThumbnailsLoader)this._guideThumbnailsLoader=new(c("ComposerVideoUploadSphericalVideoGuideThumbnailsLoader"))(this.props.videoFile,this.props.videoID,{initialHeading:this.state.yaw,initialPitch:this.state.pitch,fieldOfView:this.state.fov,stereoFormat:this.state.stereoMode,projection:this.state.projection},this._enableComposerRedesign,this.state.keyframes,function(r){return c("ComposerVideoUploadSphericalAction").updateGuideKeyframes(this.context.composerID,r)}.bind(this));this._guideThumbnailsLoader.setKeyframes(this.state.keyframes).reloadThumbnails()},reloadGuideThumbnails:function q(){if(this._guideThumbnailsLoader)this._guideThumbnailsLoader.setProjection(this.state.projection).setStereoMode(this.state.stereoMode).setKeyframes(this.state.keyframes).reloadThumbnails()},_allowOmnistabToggle:function q(){return(!this.state.stereoMode||this.state.stereoMode===c("VideoStereoFormat").MONO)&&(!this.props.isEditing||!!this.props.hasOmnistabEncoding)},_onClearErrorMessage:function q(){c("ComposerVideoUploadSphericalAction").updateErrorMessage(this.context.composerID,null)},_onSelectThumbnail:function q(r){var s=new(c("DataURLVideoThumbnail"))(r.thumbnailURI,o,r.timestamp);c("ComposerVideoUploadActions").updateThumbnailFromSphericalPreview(this.context.composerID,s)},_onCreateThumbnail:function q(r){var s=r(),t=c("DOM").create("img",{src:s,onload:function(){var u=t.width,v=t.height,w=(u-this._thumbnailAspectRatio*v)/2;s=c("cropDataURLToDimension")(t,{x:w,y:0},{width:v*this._thumbnailAspectRatio,height:v});var x=new(c("DataURLVideoThumbnail"))(s,o);c("ComposerVideoUploadActions").updateThumbnailFromSphericalPreview(this.context.composerID,x);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").CREATE_THUMBNAIL).log()}.bind(this)})},_onLoadVideoSuccess:function q(r){c("ComposerVideoUploadSphericalStore").addChangeListener(function(s){var t=s.composerID;if(t!=this.context.composerID)return;if(!c("ComposerVideoUploadSphericalStore").getTabVisibility(t))r.pause()}.bind(this));c("ComposerVideoUploadSphericalAction").setVideoPlayerController(this.context.composerID,r)},_onLoadVideoError:function q(){c("ComposerVideoUploadSphericalAction").setVideoUnavailable(this.context.composerID,true)},_onPitchUpdate:function q(r){this._onViewportUpdate(this.state.yaw,r)},_onYawUpdate:function q(r){this._onViewportUpdate(r,this.state.pitch)},_onViewportUpdate:function q(r,s){r=Math.round(r);s=Math.round(s);c("ComposerVideoUploadSphericalAction").updateCurrentViewport(this.context.composerID,s,r);c("VideoUploadSphericalLogger").setPitchDegrees(s).setYawDegrees(r).setUserAction(c("VideoUploadSphericalControlsAction").DRAG_VIDEO_PREVIEW).log()},_onFOVUpdate:function q(r){c("ComposerVideoUploadSphericalAction").updateFOV(this.context.composerID,r);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").SCROLL_VIDEO_PREVIEW).setFieldOfView(r).log()},_onProjectionSelected:function q(r){c("ComposerVideoUploadSphericalAction").updateProjection(this.context.composerID,r)},_onStereoModeSelected:function q(r){c("ComposerVideoUploadSphericalAction").updateStereoMode(this.context.composerID,r)},_onToggleSpatialAudio:function q(){c("ComposerVideoUploadSphericalAction").updateHasSpatialAudio(this.context.composerID,!this.state.hasSpatialAudio)},_updateActiveGuideKeyframe:function q(r){c("ComposerVideoUploadSphericalAction").updateActiveGuideKeyframe(this.context.composerID,r)},_updateToggleGuideKeyframeForDeletion:function q(r){c("ComposerVideoUploadSphericalAction").updateToggleGuideKeyframeForDeletion(this.context.composerID,r)},_onGuideKeyframeSelected:function q(r){var s=c("ComposerVideoUploadSphericalStore").getVideoPlayerController(this.context.composerID);if(!s)return;s.seek(r.timestamp/l);s.setSphericalOrientation(r.yaw,r.pitch);s.pause();c("VideoUploadSphericalLogger").setPitchDegrees(r.pitch).setYawDegrees(r.yaw).setUserAction(c("VideoUploadSphericalControlsAction").SEARCH_POINT_OF_INTEREST).log()},_addOrSavePointOfInterest:function q(r,s,t,u){var v=this.context.composerID,w=new(c("ComposerVideoUploadSphericalGuideKeyframeData"))({timestamp:r,yaw:Math.round(t),pitch:Math.round(s),thumbnailURI:u,isSelected:true});if(this.state.isEditingKeyframe)c("ComposerVideoUploadSphericalAction").updateSaveGuideKeyframe(v,w);else c("ComposerVideoUploadSphericalAction").updateAddGuideKeyframe(v,w,this._enableComposerRedesign)},_onPointOfInterestAddedOrSaved:function q(r,s,t,u){var v,w=this,x=u();if(x)(function(){var y=c("DOM").create("img",{src:x,onload:function(){var z=y.width,A=y.height,B=(z-this._thumbnailAspectRatio*A)/2;x=c("cropDataURLToDimension")(y,{x:B,y:0},{width:A*this._thumbnailAspectRatio,height:A});this._addOrSavePointOfInterest(r,s,t,x)}.bind(w)})})();else this._addOrSavePointOfInterest(r,s,t)},_onPointsOfInterestRemoved:function q(){__p&&__p();var r=this.context.composerID;if(this._enableComposerRedesign){c("ComposerVideoUploadSphericalAction").updateDeleteSelectedGuideKeyframes(r);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()}else c("ComposerVideoUploadSphericalAction").updateErrorMessage(r,{text:m,title:n,callback:function s(t){if(t){c("ComposerVideoUploadSphericalAction").updateDeleteSelectedGuideKeyframes(r);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()}},confirmOnly:false})},_onPointOfInterestRemoved:function q(r){__p&&__p();var s=this.context.composerID;if(this._enableComposerRedesign){c("ComposerVideoUploadSphericalAction").updateRemoveGuideKeyframe(s,r);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()}else c("ComposerVideoUploadSphericalAction").updateErrorMessage(s,{text:m,title:n,callback:function t(u){if(u){c("ComposerVideoUploadSphericalAction").updateRemoveGuideKeyframe(s,r);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()}},confirmOnly:false})},_onPointOfInterestsCleared:function q(){var r=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateClearGuideKeyframes(r)},_togglePointOfInterestEdit:function q(r){var s=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateIsEditingPointOfInterest(s,r)},_onGuideStateUpdate:function q(r){c("ComposerVideoUploadSphericalAction").updateGuideEnabled(this.context.composerID,r)},_onGuideVisibilityUpdate:function q(r){c("ComposerVideoUploadSphericalAction").updateGuideVisibility(this.context.composerID,r)},_onCollapsableHeaderClick:function q(r){c("ComposerVideoUploadSphericalAction").updateSectionStatus(this.context.composerID,r)},_onToggleEnableOmnistab:function q(event){c("ComposerVideoUploadSphericalAction").updateEnableOmnistab(this.context.composerID,!this.state.enableOmnistab)},_onHotspotAdded:function q(r,s){var t=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateAddHotspot(t,r,s)},_onHotspotDeleted:function q(r){var s=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateDeleteHotspot(s,r)}});f.exports=p}),null);
__d("ComposerVideoUploadSphericalFOVSlider.react",["ix","cx","fbt","Event","FBNoSelect","Image.react","React","ShimButton.react","Tooltip.react","asset","forEachObject","getElementRect"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=.001,n=10,o=j._("Zoom in or out to adjust the field of view");k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.state={isDragging:false,top:0};this.$ComposerVideoUploadSphericalFOVSlider4=10;var r=q.value!==null?parseFloat(q.value.toFixed(q.decimalPlaces)):q.min;this.state={top:this.$ComposerVideoUploadSphericalFOVSlider5(r,q.min,q.max),isDragging:false}}p.prototype.$ComposerVideoUploadSphericalFOVSlider5=function(q,r,s){return Math.min(s,Math.max(r,q))};p.prototype.$ComposerVideoUploadSphericalFOVSlider6=function(q){var r=c("getElementRect")(this.refs.sliderBox),s=this.props.horizontal?r.right-q.pageX:q.pageY-r.top;if(q.type!=="mousemove"){var t=(this.props.horizontal?r.width:r.height)*this.$ComposerVideoUploadSphericalFOVSlider7(this.state.top);if(s>=t&&s<=t+this.$ComposerVideoUploadSphericalFOVSlider4)this.$ComposerVideoUploadSphericalFOVSlider1=s-t;else this.$ComposerVideoUploadSphericalFOVSlider1=this.$ComposerVideoUploadSphericalFOVSlider4/2}var u=(s-this.$ComposerVideoUploadSphericalFOVSlider1)/(this.props.horizontal?r.width:r.height);return this.$ComposerVideoUploadSphericalFOVSlider5(u,0,1)};p.prototype.$ComposerVideoUploadSphericalFOVSlider8=function(q){var r=this.props,s=r.min,t=r.max,u=t-s;return q*u+s};p.prototype.$ComposerVideoUploadSphericalFOVSlider7=function(q){var r=this.props,s=r.min,t=r.max;return this.$ComposerVideoUploadSphericalFOVSlider5((q-s)/(t-s),0,1)};p.prototype.$ComposerVideoUploadSphericalFOVSlider9=function(q){var r=parseFloat(q.toFixed(this.props.decimalPlaces));if(Math.abs(r-this.$ComposerVideoUploadSphericalFOVSlider3)>m){this.$ComposerVideoUploadSphericalFOVSlider3=r;this.props.onChange(r)}};p.prototype.$ComposerVideoUploadSphericalFOVSlider10=function(q){if(this.state.isDragging){this.setState({isDragging:false});c("forEachObject")(this.$ComposerVideoUploadSphericalFOVSlider2,function(r){return r.remove()});if(this.props.onMouseUp)this.props.onMouseUp(q)}};p.prototype.$ComposerVideoUploadSphericalFOVSlider11=function(q){if(this.state.isDragging){var r=this.$ComposerVideoUploadSphericalFOVSlider8(this.$ComposerVideoUploadSphericalFOVSlider6(q));this.setState({top:r});this.$ComposerVideoUploadSphericalFOVSlider9(r)}};p.prototype.$ComposerVideoUploadSphericalFOVSlider12=function(q){var r=this.$ComposerVideoUploadSphericalFOVSlider8(this.$ComposerVideoUploadSphericalFOVSlider6(q));this.setState({isDragging:true,top:r});this.$ComposerVideoUploadSphericalFOVSlider9(r);this.$ComposerVideoUploadSphericalFOVSlider2=c("Event").listen(document,{mousemove:this.$ComposerVideoUploadSphericalFOVSlider11.bind(this),mouseup:this.$ComposerVideoUploadSphericalFOVSlider10.bind(this)});if(this.props.onMouseDown)this.props.onMouseDown(q)};p.prototype.$ComposerVideoUploadSphericalFOVSlider13=function(q){var r=this.state.top,s=this.$ComposerVideoUploadSphericalFOVSlider5(r-q,this.props.min,this.props.max);return function(){this.setState({top:s});this.$ComposerVideoUploadSphericalFOVSlider9(s)}.bind(this)};p.prototype.componentWillReceiveProps=function(q){this.setState({top:q.value!==null?q.value:q.min})};p.prototype.componentDidMount=function(){c("FBNoSelect").addBlockClass("_223c");this.$ComposerVideoUploadSphericalFOVSlider3=0};p.prototype.componentWillUnmount=function(){c("FBNoSelect").removeBlockClass("_223c");this.$ComposerVideoUploadSphericalFOVSlider10({})};p.prototype.render=function(){var q=this.$ComposerVideoUploadSphericalFOVSlider7(this.state.top)*100,r={top:q+"%"},s=this.props.newStyling?"#4b4f56":"white",t={background:"linear-gradient(rgba(256,256,256,0.3) "+q+"%, "+s+" "+(1-q)+"%)"};return c("React").createElement("div",{className:"_223d"+(this.props.horizontal?" _wjr":"")+(this.props.newStyling?" _gcs":"")},c("React").createElement(c("ShimButton.react"),{className:"_223e _gct",onClick:this.$ComposerVideoUploadSphericalFOVSlider13(n)},this.props.newStyling?c("React").createElement(c("Image.react"),{className:"_4qb9",src:h("438988")}):c("React").createElement("div",{className:"_gcu"},"+")),c("React").createElement("div",{className:"_223f"},c("React").createElement("div",{className:"_223c",onMouseDown:this.$ComposerVideoUploadSphericalFOVSlider12.bind(this),tabIndex:0},c("React").createElement("div",{className:"_223w"},c("React").createElement("div",{style:t,className:"_223x"})),c("React").createElement("div",{ref:"sliderBox",className:"_223y"},c("React").createElement("div",{ref:"handle",className:"_223z",style:r}))),c("React").createElement(c("Tooltip.react"),{tooltip:o,position:"left"},c("React").createElement("div",{className:"_45dj"+(this.props.horizontal?" _wjr":"")}))),c("React").createElement(c("ShimButton.react"),{className:"_223e _gcv",onClick:this.$ComposerVideoUploadSphericalFOVSlider13(-1*n)},this.props.newStyling?c("React").createElement(c("Image.react"),{className:"_4qb9",src:h("394277")}):c("React").createElement("div",{className:"_gcw"},"-")))};f.exports=p}),null);
__d("ComposerVideoUploadSphericalAddAnnotationLayer.react",["ix","cx","ComposerVideoUploadSphericalMediaToolkitButton.react","React","asset"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){"use strict";return c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_2ysg _4wni",thumbnail:h("439005"),onClick:this.props.handleAddButtonClick})};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("ComposerVideoUploadSphericalHotspotSaveNux.react",["fbt","React","XUIAmbientNUX.react","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){return c("React").createElement(c("XUIAmbientNUX.react"),{customwidth:150,contextRef:j.contextRef,position:"right",shown:j.showNux,width:"custom",onCloseButtonClick:j.handleNuxClosed},c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},h._("Click outside the annotation to save")))}f.exports=i}),null);
__d("SphericalVideoMediaToolkitAlignments",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LEFT:"left",CENTER:"center",RIGHT:"right"})}),null);
__d("SphericalVideoMediaToolkitBackgrounds",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BLACK:"black",WHITE:"white",NONE:"none"})}),null);
__d("SphericalVideoMediaToolkitColors",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BLACK:"black",BLUE:"blue",GREEN:"green",PURPLE:"purple",ROSE:"rose",WHITE:"white",YELLOW:"yellow"})}),null);
__d("SphericalVideoMediaToolkitFontSizes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SMALL:"small",MEDIUM:"medium",LARGE:"large"})}),null);
__d("SphericalVideoMediaToolkitFontWeights",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIGHT:"light",BOLD:"bold"})}),null);
__d("SphericalVideoMediaToolkitTextStyles",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ALIGNMENT:"alignment",BACKGROUND:"backgroundColor",COLOR:"color",FONT_SIZE:"fontSize",FONT_WEIGHT:"fontWeight"})}),null);
__d("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles",["SphericalVideoMediaToolkitAlignments","SphericalVideoMediaToolkitBackgrounds","SphericalVideoMediaToolkitColors","SphericalVideoMediaToolkitFontSizes","SphericalVideoMediaToolkitFontWeights","SphericalVideoMediaToolkitTextStyles","SphericalVideoHotspotTextAlignment"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;f.exports=(m={},m[c("SphericalVideoMediaToolkitTextStyles").COLOR]=(h={},h[c("SphericalVideoMediaToolkitColors").BLACK]="#000000",h[c("SphericalVideoMediaToolkitColors").BLUE]="#1C4F8C",h[c("SphericalVideoMediaToolkitColors").GREEN]="#6BCEBB",h[c("SphericalVideoMediaToolkitColors").PURPLE]="#8C72CB",h[c("SphericalVideoMediaToolkitColors").ROSE]="#F2B8AD",h[c("SphericalVideoMediaToolkitColors").WHITE]="#FFFFFF",h[c("SphericalVideoMediaToolkitColors").YELLOW]="#FCD872",h),m[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE]=(i={},i[c("SphericalVideoMediaToolkitFontSizes").SMALL]=12,i[c("SphericalVideoMediaToolkitFontSizes").MEDIUM]=16,i[c("SphericalVideoMediaToolkitFontSizes").LARGE]=20,i),m[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT]=(j={},j[c("SphericalVideoMediaToolkitAlignments").LEFT]=c("SphericalVideoHotspotTextAlignment").LEFT,j[c("SphericalVideoMediaToolkitAlignments").CENTER]=c("SphericalVideoHotspotTextAlignment").CENTER,j[c("SphericalVideoMediaToolkitAlignments").RIGHT]=c("SphericalVideoHotspotTextAlignment").RIGHT,j),m[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND]=(k={},k[c("SphericalVideoMediaToolkitBackgrounds").BLACK]="#000000",k[c("SphericalVideoMediaToolkitBackgrounds").NONE]="none",k[c("SphericalVideoMediaToolkitBackgrounds").WHITE]="#FFFFFF",k),m[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT]=(l={},l[c("SphericalVideoMediaToolkitFontWeights").LIGHT]="light",l[c("SphericalVideoMediaToolkitFontWeights").BOLD]="bold",l),m)}),null);
__d("SphericalVideoHotspotActionTrigger",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SINGLE_CLICK:"single_click"})}),null);
__d("ComposerVideoUploadSphericalMediaToolkitConstants",["fbt","SphericalVideoMediaToolkitAlignments","SphericalVideoMediaToolkitBackgrounds","SphericalVideoMediaToolkitColors","SphericalVideoMediaToolkitFontSizes","SphericalVideoMediaToolkitFontWeights","SphericalVideoMediaToolkitTextStyles","SphericalVideoHotspotActionTrigger","SphericalVideoHotspotAnimation","ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles"],(function a(b,c,d,e,f,g,h){var i=Object.freeze({NW:"NW",NE:"NE",SW:"SW",SE:"SE"});f.exports={BOX_SHADOW:"rgba(0, 0, 0, .1) 0 3px 5px",DEFAULT_ALIGNMENT:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT][c("SphericalVideoMediaToolkitAlignments").CENTER],DEFAULT_ANIMATION:c("SphericalVideoHotspotAnimation").NO_ANIM,DEFAULT_BACKGROUND_COLOR:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND][c("SphericalVideoMediaToolkitBackgrounds").WHITE],DEFAULT_COLOR:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").COLOR][c("SphericalVideoMediaToolkitColors").BLUE],DEFAULT_DURATION_MS:5e3,DEFAULT_FONT_FAMILY:"Montserrat",DEFAULT_FONT_SIZE:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE][c("SphericalVideoMediaToolkitFontSizes").MEDIUM],DEFAULT_FONT_WEIGHT:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT][c("SphericalVideoMediaToolkitFontWeights").LIGHT],DEFAULT_HEIGHT_FOR_IMAGE:50,DEFAULT_HEIGHT_FOR_TEXT:34,DEFAULT_ID:-1,DEFAULT_IMAGE_DATA:"",DEFAULT_LINE_HEIGHT:1.3,DEFAULT_LINK_ACTION_URL:"",DEFAULT_LINK_ACTION_TRIGGER:c("SphericalVideoHotspotActionTrigger").SINGLE_CLICK,DEFAULT_PADDING:8,DEFAULT_PITCH:0,DEFAULT_START_TIME:0,DEFAULT_TEXT:"",DEFAULT_WIDTH_FOR_IMAGE:50,DEFAULT_WIDTH_FOR_TEXT:200,DEFAULT_YAW:0,EDITING_BACKGROUND_COLOR:{"#000000":"rgba(0, 0, 0, .5)","#FFFFFF":"rgba(255, 255, 255, .8)",none:"rgba(255, 255, 255, .4)"},HOTSPOT_ENTRY_NUX_ID:5555,HOTSPOT_SAVE_NUX_ID:5556,IMAGE_BAR_PREVIEW_HEIGHT_PX:46,IMAGE_BAR_PREVIEW_WIDTH_PX:46,IMAGE_HOTSPOT_DEFAULT_MAX_HEIGHT_PX:100,IMAGE_HOTSPOT_DEFAULT_MAX_WIDTH_PX:100,IMAGE_HOTSPOT_MAX_FILE_SIZE:2621440,IMAGE_HOTSPOT_MAX_HEIGHT_PX:150,IMAGE_HOTSPOT_MAX_WIDTH_PX:150,IMAGE_HOTSPOT_MIN_HEIGHT_PX:25,IMAGE_HOTSPOT_MIN_WIDTH_PX:25,IMAGE_RESIZE_HANDLE_CORNERS:i,SUPPORTED_CHARS_REGEX:/^[\u0020-\u007e\u00ax-\u00ff\u0100-\u017f\u0180-\u024f\u20ac\u2018\u2019\u201c\u201d\t\n\r]*$/,SUPPORTED_IMAGE_FILE_EXTENSIONS:["png","jpg","jpeg"],TEXT_BAR_DEFAULT_ALIGNMENT:c("SphericalVideoMediaToolkitAlignments").CENTER,TEXT_BAR_DEFAULT_BACKGROUND:c("SphericalVideoMediaToolkitBackgrounds").WHITE,TEXT_BAR_DEFAULT_COLOR:c("SphericalVideoMediaToolkitColors").BLUE,TEXT_BAR_DEFAULT_FONT_SIZE:c("SphericalVideoMediaToolkitFontSizes").MEDIUM,TEXT_BAR_DEFAULT_FONT_WEIGHT:c("SphericalVideoMediaToolkitFontWeights").LIGHT,TEXTAREA_MAX_CHARS:50,TEXTAREA_MIN_ROWS:1,TEXTAREA_PLACEHOLDER:h._("Type something")}}),null);
__d("ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow.react",["cx","invariant","ComposerVideoUploadSphericalMediaToolkitConstants","React","ReactDOM","TextAreaControl"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.componentDidMount=function(){this.$ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow1||i(0);this.props.setTextareaRef(this.$ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow1);var m=new(c("TextAreaControl"))(c("ReactDOM").findDOMNode(this.$ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow1)).setAutogrow(true);m.resetHeight();this.props.handleTextareaMounted()};l.prototype.render=function(){return c("React").createElement("textarea",{className:"_2cvs",defaultValue:this.props.defaultValue,value:this.props.value,maxLength:this.props.maxLength,placeholder:this.props.placeholder,ref:function(m){return this.$ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow1=m}.bind(this),rows:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXTAREA_MIN_ROWS,onChange:this.props.onChange})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("ComposerVideoUploadSphericalMediaToolkitStyleBarImages",["ix","SphericalVideoMediaToolkitAlignments","SphericalVideoMediaToolkitBackgrounds","SphericalVideoMediaToolkitColors","SphericalVideoMediaToolkitFontSizes","SphericalVideoMediaToolkitFontWeights","SphericalVideoMediaToolkitTextStyles"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n;f.exports=(n={},n[c("SphericalVideoMediaToolkitTextStyles").COLOR]=(i={},i[c("SphericalVideoMediaToolkitColors").BLACK]=h("403017"),i[c("SphericalVideoMediaToolkitColors").BLUE]=h("403018"),i[c("SphericalVideoMediaToolkitColors").GREEN]=h("403019"),i[c("SphericalVideoMediaToolkitColors").PURPLE]=h("403020"),i[c("SphericalVideoMediaToolkitColors").ROSE]=h("403021"),i[c("SphericalVideoMediaToolkitColors").WHITE]=h("403022"),i[c("SphericalVideoMediaToolkitColors").YELLOW]=h("403023"),i),n[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE]=(j={},j[c("SphericalVideoMediaToolkitFontSizes").SMALL]=h("403024"),j[c("SphericalVideoMediaToolkitFontSizes").MEDIUM]=h("403024"),j[c("SphericalVideoMediaToolkitFontSizes").LARGE]=h("403024"),j),n[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT]=(k={},k[c("SphericalVideoMediaToolkitAlignments").LEFT]=h("403011"),k[c("SphericalVideoMediaToolkitAlignments").CENTER]=h("403010"),k[c("SphericalVideoMediaToolkitAlignments").RIGHT]=h("403012"),k),n[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND]=(l={},l[c("SphericalVideoMediaToolkitBackgrounds").BLACK]=h("403013"),l[c("SphericalVideoMediaToolkitBackgrounds").NONE]=h("403014"),l[c("SphericalVideoMediaToolkitBackgrounds").WHITE]=h("403015"),l),n[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT]=(m={},m[c("SphericalVideoMediaToolkitFontWeights").LIGHT]=h("403027"),m[c("SphericalVideoMediaToolkitFontWeights").BOLD]=h("403016"),m),n)}),null);
__d("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react",["cx","Image.react","React","ShimButton.react","ComposerVideoUploadSphericalMediaToolkitStyleBarImages"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),{className:"_27mk",onClick:function(){return this.props.handleClick(this.props.textStyleType)}.bind(this)},c("React").createElement(c("Image.react"),{className:"_qon",src:c("ComposerVideoUploadSphericalMediaToolkitStyleBarImages")[this.props.textStyleType][this.props.textStyleValue]}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBar.react",["cx","ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react","FlexLayout.react","React","SphericalVideoMediaToolkitTextStyles"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("FlexLayout.react"),{className:"_27mj",align:"center",justify:"all"},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").COLOR,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").COLOR],handleClick:this.props.handleButtonClick}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE],handleClick:this.props.handleButtonClick}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT],handleClick:this.props.handleButtonClick}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT],handleClick:this.props.handleButtonClick}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").BACKGROUND,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND],handleClick:this.props.handleButtonClick}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalMediaToolkitUtils",["fbt","invariant","FBHotspot","ComposerVideoUploadSphericalMediaToolkitConstants","SphericalVideoMediaToolkitTextStyles","React","SimpleXUIDialog","SphericalProjectionUtils","SphericalVideoHotspotType","ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j={calculateHotspotStyle:function k(l,m,n,o,p,q,r){var s=c("SphericalProjectionUtils").convert3dTo2dScaledUnique(n?r:m.yaw,n?o:m.pitch,r,o,l,q,p),t=s.x,u=s.y,v="-"+m.content.height/2+"px 0 0 -"+m.content.width/2+"px";if(m.content.type===c("SphericalVideoHotspotType").TEXT)return{background:n?c("ComposerVideoUploadSphericalMediaToolkitConstants").EDITING_BACKGROUND_COLOR[m.content.backgroundColor]:m.content.backgroundColor,boxShadow:m.content.backgroundColor==="none"?"none":c("ComposerVideoUploadSphericalMediaToolkitConstants").BOX_SHADOW,color:m.content.color,fontFamily:m.content.fontFamily,fontSize:m.content.fontSize+"px",fontWeight:m.content.fontWeight==="light"?300:700,height:m.content.height+"px",left:t+"px",lineHeight:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_LINE_HEIGHT,margin:v,textAlign:m.content.alignment,top:u+"px",width:m.content.width+"px"};else if(m.content.type===c("SphericalVideoHotspotType").IMAGE)return{height:m.content.height+"px",left:t+"px",margin:v,top:u+"px",width:m.content.width+"px"};return null},calculateImageDimensionsByMousePosition:function k(l,m,n,o,p,q,r){__p&&__p();var s=q,t=r,u=(m-o)*2,v=(n-p)*2;switch(l){case c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.NW:s-=v;t-=u;break;case c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.NE:s-=v;t+=u;break;case c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.SW:s+=v;t-=u;break;case c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.SE:s+=v;t+=u;break}return{height:s,width:t}},calculateImageMaxScaledDimensions:function k(l,m,n,o){__p&&__p();var p=void 0,q=void 0;if(l===m){p=Math.min(n,o);q=Math.min(n,o)}else if(l>m){p=n;q=m/l*n}else{q=o;p=l/m*o}return{height:p,width:q}},calculateImageMinScaledDimensions:function k(l,m,n,o){__p&&__p();var p=void 0,q=void 0;if(l===m){p=Math.max(n,o);q=Math.max(n,o)}else if(l<m){p=n;q=m/l*n}else{q=o;p=l/m*o}return{height:p,width:q}},constrainImageDimensionsToAspectRatio:function k(l,m){var n=l.height,o=l.width,p=o/n;if(p>m)n=o/m;else o=m*n;return{height:n,width:o}},constrainImageDimensionsToMinAndMax:function k(l,m,n){return{height:Math.min(Math.max(l.height,n.height),m.height),width:Math.min(Math.max(l.width,n.width),m.width)}},calculatePreviewVisibility:function k(l,m,n,o,p,q,r){if(n.startTime>l||n.endTime<=l)return false;var s=c("SphericalProjectionUtils").convert3dTo2dScaledUnique(n.yaw,n.pitch,r,o,m,q,p),t=s.x,u=s.y;return t!==-1&&u!==-1},calculateResizableImageHotspotStyle:function k(l,m,n,o){var p="-"+l/2+"px 0 0 -"+m/2+"px";return{height:l+"px",left:o/2+"px",margin:p,top:n/2+"px",width:m+"px"}},getDefaultHotspot:function k(l,m){if(l===c("SphericalVideoHotspotType").TEXT)return new(c("FBHotspot"))({pitch:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_PITCH,yaw:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_YAW,startTime:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_START_TIME,endTime:Math.min(c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_START_TIME+c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_DURATION_MS,m),content:{alignment:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ALIGNMENT,backgroundColor:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_BACKGROUND_COLOR,color:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_COLOR,fontFamily:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_FONT_FAMILY,fontSize:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_FONT_SIZE,fontWeight:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_FONT_WEIGHT,text:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_TEXT,type:c("SphericalVideoHotspotType").TEXT,animation:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ANIMATION,height:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_HEIGHT_FOR_TEXT,id:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ID,width:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_WIDTH_FOR_TEXT}});else return new(c("FBHotspot"))({pitch:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_PITCH,yaw:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_YAW,startTime:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_START_TIME,endTime:Math.min(c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_START_TIME+c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_DURATION_MS,m),content:{animation:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ANIMATION,height:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_HEIGHT_FOR_IMAGE,id:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ID,imageData:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_IMAGE_DATA,type:c("SphericalVideoHotspotType").IMAGE,width:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_WIDTH_FOR_IMAGE}})},getTextBarStyle:function k(l,m,n){return Object.keys(c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n]).find(function(o){return m.content.type===c("SphericalVideoHotspotType").TEXT&&c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][o]===m.content[n]})||l[n]},getTextBarStyles:function k(l){var m={alignment:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_ALIGNMENT,backgroundColor:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_BACKGROUND,color:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_COLOR,fontSize:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_FONT_SIZE,fontWeight:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_FONT_WEIGHT};if(!l)return m;return{alignment:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT),backgroundColor:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").BACKGROUND),color:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").COLOR),fontSize:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE),fontWeight:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT)}},showFileExtensionDialog:function k(l,m,n){var o=h._("Unsupported file extension: {file extension}.",[h.param("file extension",l)]),p=h._("Supported file extensions are {list of supported file extensions}.",[h.param("list of supported file extensions",m)]);c("SimpleXUIDialog").show(c("React").createElement("div",null,c("React").createElement("div",null,o),c("React").createElement("div",null,p)),h._("File extension not supported"),n);return},showFileUploadErrorDialog:function k(l,m){c("SimpleXUIDialog").show(h._("There was an error while uploading your file: {file name}. Please try again.",[h.param("file name",l)]),h._("Image upload error"),m);return},showImageTooLargeDialog:function k(l,m){c("SimpleXUIDialog").show(h._("We currently only support image uploads of {max size in mb} MB or less. Please try again with a smaller image file.",[h.param("max size in mb",l)]),h._("Image file too large"),m);return},showLastFrameDialog:function k(l){c("SimpleXUIDialog").show(h._("Text and image overlays cannot be added to the last frame of your video. Please add your text or image earlier in the video."),h._("End of video"),l);return},showUnsupportedCharsDialog:function k(l){c("SimpleXUIDialog").show(h._("We currently support only Latin characters in text annotations. Unsupported characters will not be displayed."),h._("Unsupported characters"),l);return},updateImageHotspotContent:function k(l,m){l.content.type===c("SphericalVideoHotspotType").IMAGE||i(0);var n=babelHelpers["extends"]({},l.content,m);return l.set("content",n)},updateTextHotspotContent:function k(l,m){l.content.type===c("SphericalVideoHotspotType").TEXT||i(0);var n=babelHelpers["extends"]({},l.content,m);return l.set("content",n)}};f.exports=j}),null);
__d("ComposerVideoUploadSphericalAnnotationEditLayer.react",["ix","cx","invariant","ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBar.react","ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow.react","FBHotspot","ComposerVideoUploadSphericalHotspotSaveNux.react","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitUtils","React","SphericalVideoHotspotType","asset"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;m.prototype.componentDidMount=function(){"use strict";if(this.props.showNux)this.props.handleNuxView()};m.prototype.render=function(){"use strict";var n=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateHotspotStyle(this.props.fov,this.props.hotspot,true,this.props.pitch,this.props.viewportHeight,this.props.viewportWidth,this.props.yaw),o=this.props.textareaDefaultValue?this.props.textareaDefaultValue:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_TEXT;this.props.hotspot.content.type===c("SphericalVideoHotspotType").TEXT||j(0);var p=o+this.props.hotspot.content.fontSize+this.props.hotspot.content.fontWeight;return c("React").createElement("div",{className:"_js1"},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBar.react"),{textStyles:this.props.textStyles,handleButtonClick:this.props.handleTextStyleButtonClick}),c("React").createElement("div",{className:"_63-t",style:n},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow.react"),{ref:function(q){return this.$ComposerVideoUploadSphericalAnnotationEditLayer1=q}.bind(this),defaultValue:o,key:p,maxLength:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXTAREA_MAX_CHARS,placeholder:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXTAREA_PLACEHOLDER,value:this.props.textareaValue,onChange:this.props.handleTextareaValueChange,handleTextareaMounted:this.props.handleTextareaMounted,setTextareaRef:this.props.setTextareaRef}),c("React").createElement(c("ComposerVideoUploadSphericalHotspotSaveNux.react"),{contextRef:function(){return this.$ComposerVideoUploadSphericalAnnotationEditLayer1}.bind(this),showNux:this.props.showNux,handleNuxClosed:this.props.handleNuxClosed})),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_2ysg",thumbnail:h("402967"),onClick:this.props.handleDeleteButtonClick}))};function m(){"use strict";k.apply(this,arguments)}f.exports=m}),null);
__d("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions",["SphericalVideoMediaToolkitAlignments","SphericalVideoMediaToolkitBackgrounds","SphericalVideoMediaToolkitColors","SphericalVideoMediaToolkitFontSizes","SphericalVideoMediaToolkitFontWeights","SphericalVideoMediaToolkitTextStyles"],(function a(b,c,d,e,f,g){"use strict";var h;f.exports=(h={},h[c("SphericalVideoMediaToolkitTextStyles").COLOR]=[c("SphericalVideoMediaToolkitColors").BLACK,c("SphericalVideoMediaToolkitColors").BLUE,c("SphericalVideoMediaToolkitColors").GREEN,c("SphericalVideoMediaToolkitColors").PURPLE,c("SphericalVideoMediaToolkitColors").ROSE,c("SphericalVideoMediaToolkitColors").WHITE,c("SphericalVideoMediaToolkitColors").YELLOW],h[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE]=[c("SphericalVideoMediaToolkitFontSizes").SMALL,c("SphericalVideoMediaToolkitFontSizes").MEDIUM,c("SphericalVideoMediaToolkitFontSizes").LARGE],h[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT]=[c("SphericalVideoMediaToolkitAlignments").LEFT,c("SphericalVideoMediaToolkitAlignments").CENTER,c("SphericalVideoMediaToolkitAlignments").RIGHT],h[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND]=[c("SphericalVideoMediaToolkitBackgrounds").BLACK,c("SphericalVideoMediaToolkitBackgrounds").WHITE,c("SphericalVideoMediaToolkitBackgrounds").NONE],h[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT]=[c("SphericalVideoMediaToolkitFontWeights").LIGHT,c("SphericalVideoMediaToolkitFontWeights").BOLD],h)}),null);
__d("ComposerVideoUploadSphericalAnnotationEditLayerContainer.react",["invariant","ComposerVideoUploadSphericalAddAnnotationLayer.react","ComposerVideoUploadSphericalAnnotationEditLayer.react","ComposerVideoUploadSphericalEvents","FBHotspot","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitUtils","React","SphericalVideoHotspotType","ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles","ComposerVideoUploadSphericalMediaToolkitStyleBarOptions","SubscriptionsHandler","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";__p&&__p();j.constructor.call(this,m);this.state={hotspot:this.props.hotspot?this.props.hotspot:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDefaultHotspot(c("SphericalVideoHotspotType").TEXT,this.props.controller.getPlaybackDuration()*k),textareaDefaultValue:this.props.hotspot&&this.props.hotspot.content.type===c("SphericalVideoHotspotType").TEXT?this.props.hotspot.content.text:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_TEXT,textStyles:c("ComposerVideoUploadSphericalMediaToolkitUtils").getTextBarStyles(this.props.hotspot)};this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer6=function(event){this.state.hotspot.content.type===c("SphericalVideoHotspotType").TEXT||h(0);var n=event.target.value;if(!c("ComposerVideoUploadSphericalMediaToolkitConstants").SUPPORTED_CHARS_REGEX.test(n)){this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer3.blur();c("ComposerVideoUploadSphericalMediaToolkitUtils").showUnsupportedCharsDialog();return}var o=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateTextHotspotContent(this.state.hotspot,{text:n,height:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer3.scrollHeight});this.setState({hotspot:o})}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer7=function(n){__p&&__p();var o=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n].indexOf(this.state.textStyles[n]),p=(o+1)%c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n].length,q=babelHelpers["extends"]({},this.state.textStyles),r=void 0;switch(n){case"alignment":var s=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=s;r={alignment:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][s]};break;case"backgroundColor":var t=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=t;r={backgroundColor:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][t]};break;case"color":var u=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=u;r={color:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][u]};break;case"fontSize":var v=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=v;r={fontSize:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][v]};break;case"fontWeight":var w=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=w;r={fontWeight:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][w]};break;default:n;throw new Error("unexpected text style type")}var x=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateTextHotspotContent(this.state.hotspot,r);x.content.type===c("SphericalVideoHotspotType").TEXT||h(0);this.setState({textStyles:q,hotspot:x,textareaDefaultValue:x.content.text})}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer8=function(n){this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer3=n}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer5=function(){var n=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateTextHotspotContent(this.state.hotspot,{height:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer3.scrollHeight});this.setState({hotspot:n})}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer1={hotspot:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDefaultHotspot(c("SphericalVideoHotspotType").TEXT,this.props.controller.getPlaybackDuration()*k),textareaDefaultValue:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_TEXT,textStyles:c("ComposerVideoUploadSphericalMediaToolkitUtils").getTextBarStyles(null)};this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer2=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer2.addSubscriptions(m.controller.addListener(c("ComposerVideoUploadSphericalEvents").MEDIA_TOOLKIT.SAVE_HOTSPOT,function(){return this.props.handleSaveHotspotEdits(this.state.hotspot)}.bind(this)));this.props.toggleEditingState(true)}l.prototype.componentWillReceiveProps=function(m){"use strict";if(!m.isEditing&&this.props.isEditing)this.setState(this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer1);if(m.hotspot&&(!this.props.hotspot||this.props.hotspot.content.id!==m.hotspot.content.id)){m.hotspot.content.type===c("SphericalVideoHotspotType").TEXT||h(0);this.setState({hotspot:m.hotspot,textareaDefaultValue:m.hotspot.content.text,textStyles:c("ComposerVideoUploadSphericalMediaToolkitUtils").getTextBarStyles(m.hotspot)})}};l.prototype.componentWillUnmount=function(){"use strict";this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer2.release()};l.prototype.render=function(){"use strict";if(!this.props.isEditing)return c("React").createElement(c("ComposerVideoUploadSphericalAddAnnotationLayer.react"),{handleAddButtonClick:function(){return this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer4(true)}.bind(this)});this.state.hotspot.content.type===c("SphericalVideoHotspotType").TEXT||h(0);var m=this.state.hotspot.content.text;return c("React").createElement(c("ComposerVideoUploadSphericalAnnotationEditLayer.react"),{fov:this.props.fov,hotspot:this.state.hotspot,pitch:this.props.pitch,showNux:this.props.showNux,textareaDefaultValue:this.state.textareaDefaultValue,textareaValue:m,textStyles:this.state.textStyles,viewportHeight:this.props.viewportHeight,viewportWidth:this.props.viewportWidth,yaw:this.props.yaw,handleDeleteButtonClick:function(){return this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer4(false)}.bind(this),handleNuxClosed:this.props.handleNuxClosed,handleNuxView:this.props.handleNuxView,handleTextareaMounted:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer5,handleTextareaValueChange:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer6,handleTextStyleButtonClick:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer7,setTextareaRef:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer8})};l.prototype.$ComposerVideoUploadSphericalAnnotationEditLayerContainer4=function(m){"use strict";if(!m)this.setState(this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer1);this.props.toggleEditingState(m)};f.exports=l}),null);
__d("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_pxk"+(!this.props.shouldCapturePointerEvents?" _py2":""),this.props.className),onMouseDown:this.props.handleMouseDown})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalImageEditLayerResizableImage.react",["cx","FBHotspot","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitUtils","React","ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react","ScaledImage.react","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={dragHandleCorner:null,hotspotHeight:this.props.hotspot.content.height,hotspotWidth:this.props.hotspot.content.width,isDragging:false,origClientX:0,origClientY:0},m}k.prototype.componentDidMount=function(){this.$ComposerVideoUploadSphericalImageEditLayerResizableImage1=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalImageEditLayerResizableImage1.addSubscriptions(this.props.controller.addListener("mouseMove",function(l){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage2(l)}.bind(this)),this.props.controller.addListener("mouseUp",function(l){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage3(l)}.bind(this)),this.props.controller.addListener("mouseLeave",function(l){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage3(l)}.bind(this)))};k.prototype.componentWillReceiveProps=function(l){if(l.hotspot.content.id!==this.props.hotspot.content.id||l.imageFileData.md5!==this.props.imageFileData.md5)this.setState({hotspotHeight:l.hotspot.content.height,hotspotWidth:l.hotspot.content.width})};k.prototype.componentWillUnmount=function(){this.$ComposerVideoUploadSphericalImageEditLayerResizableImage1.release()};k.prototype.render=function(){var l=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateResizableImageHotspotStyle(this.state.hotspotHeight,this.state.hotspotWidth,this.props.viewportHeight,this.props.viewportWidth);return c("React").createElement("div",{className:"_pwu",style:l},c("React").createElement(c("ScaledImage.react"),{className:"_pwv"+(this.state.isDragging?" _py2":""),draggable:"false",height:this.state.hotspotHeight,imageSize:{height:this.props.imageFileData.height,width:this.props.imageFileData.width},src:this.props.imageFileData.imageBinary,width:this.state.hotspotWidth}),c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react"),{className:"_pxl",shouldCapturePointerEvents:!this.state.isDragging,handleMouseDown:function(m){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage4(m,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.NW)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react"),{className:"_pxx",shouldCapturePointerEvents:!this.state.isDragging,handleMouseDown:function(m){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage4(m,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.NE)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react"),{className:"_pxm",shouldCapturePointerEvents:!this.state.isDragging,handleMouseDown:function(m){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage4(m,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.SW)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react"),{className:"_py1",shouldCapturePointerEvents:!this.state.isDragging,handleMouseDown:function(m){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage4(m,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.SE)}.bind(this)}))};k.prototype.$ComposerVideoUploadSphericalImageEditLayerResizableImage4=function(l,m){this.setState({origClientX:l.clientX,origClientY:l.clientY,isDragging:true,dragHandleCorner:m})};k.prototype.$ComposerVideoUploadSphericalImageEditLayerResizableImage2=function(l){if(!this.state.isDragging||!this.state.dragHandleCorner)return;var m=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageDimensionsByMousePosition(this.state.dragHandleCorner,l.clientX,l.clientY,this.state.origClientX,this.state.origClientY,this.props.hotspot.content.height,this.props.hotspot.content.width),n=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageMaxScaledDimensions(this.props.imageFileData.height,this.props.imageFileData.width,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MAX_HEIGHT_PX,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MAX_WIDTH_PX),o=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageMinScaledDimensions(this.props.imageFileData.height,this.props.imageFileData.width,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_HEIGHT_PX,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_WIDTH_PX);m=c("ComposerVideoUploadSphericalMediaToolkitUtils").constrainImageDimensionsToMinAndMax(m,n,o);m=c("ComposerVideoUploadSphericalMediaToolkitUtils").constrainImageDimensionsToAspectRatio(m,this.props.imageFileData.width/this.props.imageFileData.height);this.setState({hotspotHeight:m.height,hotspotWidth:m.width})};k.prototype.$ComposerVideoUploadSphericalImageEditLayerResizableImage3=function(l){if(!this.state.isDragging)return;this.props.updateHotspotDimensions(this.state.hotspotHeight,this.state.hotspotWidth);this.setState({isDragging:false})};f.exports=k}),null);
__d("ComposerVideoUploadSphericalImageEditLayer.react",["ix","cx","invariant","FBHotspot","ComposerVideoUploadSphericalHotspotSaveNux.react","ComposerVideoUploadSphericalImageEditLayerResizableImage.react","ComposerVideoUploadSphericalMediaToolkitButton.react","React","SphericalVideoHotspotType","asset","md5"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;m.prototype.componentDidMount=function(){if(this.props.showNux)this.props.handleNuxView()};m.prototype.render=function(){__p&&__p();var n=this.props,o=n.hotspot,p=n.imageBinaryToMd5,q=n.uploadedImageFileData;o.content.type===c("SphericalVideoHotspotType").IMAGE||j(0);var r=o.content.imageData,s=Object.prototype.hasOwnProperty.call(p,r)?p[r]:null,t=q.find(function(u){return u.md5===s});o.content.type===c("SphericalVideoHotspotType").IMAGE||j(0);if(!s||!t)t={height:o.content.height,imageBinary:o.content.imageData,md5:c("md5")(o.content.imageData),width:o.content.width};return c("React").createElement("div",{className:"_4ym3"},c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImage.react"),{ref:function(u){return this.$ComposerVideoUploadSphericalImageEditLayer1=u}.bind(this),controller:this.props.controller,hotspot:this.props.hotspot,imageFileData:t,viewportHeight:this.props.viewportHeight,viewportWidth:this.props.viewportWidth,updateHotspotDimensions:this.props.updateHotspotDimensions}),c("React").createElement(c("ComposerVideoUploadSphericalHotspotSaveNux.react"),{contextRef:function(){return this.$ComposerVideoUploadSphericalImageEditLayer1}.bind(this),showNux:this.props.showNux,handleNuxClosed:this.props.handleNuxClosed}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_2ysg",thumbnail:h("402967"),onClick:this.props.handleDeleteButtonClick}))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("ComposerVideoUploadSphericalImageUploadBar.react",["ix","cx","fbt","invariant","AbstractButton.react","FileInput.react","FlexLayout.react","Image.react","ComposerVideoUploadSphericalMediaToolkitConstants","ScaledImage.react","ShimButton.react","React","asset"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m;l=babelHelpers.inherits(n,c("React").PureComponent);m=l&&l.prototype;n.prototype.componentDidUpdate=function(){this.$ComposerVideoUploadSphericalImageUploadBar1||k(0);this.$ComposerVideoUploadSphericalImageUploadBar1.scrollLeft=this.$ComposerVideoUploadSphericalImageUploadBar1.scrollWidth};n.prototype.render=function(){var o=this.props.uploadedImageFileData.map(function(q){return c("React").createElement(c("ShimButton.react"),{className:"_63z0",key:q.imageBinary,onClick:function(r){r.preventDefault();this.props.handleUploadedImageClick(q)}.bind(this)},c("React").createElement(c("ScaledImage.react"),{imageSize:{height:q.height,width:q.width},className:"_63z1",height:c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_BAR_PREVIEW_HEIGHT_PX,src:q.imageBinary,width:c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_BAR_PREVIEW_WIDTH_PX}))}.bind(this)),p=c("ComposerVideoUploadSphericalMediaToolkitConstants").SUPPORTED_IMAGE_FILE_EXTENSIONS.map(function(q){return"."+q}).join(",");return c("React").createElement("div",{className:"_4ym4",ref:function(q){return this.$ComposerVideoUploadSphericalImageUploadBar1=q}.bind(this)},c("React").createElement(c("FlexLayout.react"),{className:"_63y_",align:"center",justify:"start"},o,c("React").createElement("div",{className:"_63z0",key:"uploadImageButton"},c("React").createElement(c("FileInput.react"),{accept:p,name:"uploadImageButton",onChange:function(q){return this.props.handleImageFileUpload(q.target.files[0])}.bind(this)},c("React").createElement(c("AbstractButton.react"),{className:"_4ym5",href:{url:"#"},image:c("React").createElement(c("Image.react"),{src:h("378289")}),label:j._("button for uploading image file"),labelIsHidden:true})))))};function n(){l.apply(this,arguments)}f.exports=n}),null);
__d("ComposerVideoUploadSphericalImageEditLayerContainer.react",["cx","invariant","ComposerVideoUploadSphericalEvents","FBHotspot","ComposerVideoUploadSphericalImageEditLayer.react","ComposerVideoUploadSphericalImageUploadBar.react","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitUtils","React","SphericalVideoHotspotType","SubscriptionsHandler","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.state={hotspot:this.props.hotspot||c("ComposerVideoUploadSphericalMediaToolkitUtils").getDefaultHotspot(c("SphericalVideoHotspotType").IMAGE,this.props.controller.getPlaybackDuration()*l)};this.$ComposerVideoUploadSphericalImageEditLayerContainer2=function(o){var p={height:o.height,width:o.width};if(o.height>c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_DEFAULT_MAX_HEIGHT_PX||o.width>c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_DEFAULT_MAX_WIDTH_PX)p=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageMaxScaledDimensions(o.height,o.width,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_DEFAULT_MAX_HEIGHT_PX,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_DEFAULT_MAX_WIDTH_PX);else if(o.height<c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_HEIGHT_PX||o.width<c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_WIDTH_PX)p=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageMinScaledDimensions(o.height,o.width,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_HEIGHT_PX,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_WIDTH_PX);var q=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateImageHotspotContent(this.state.hotspot,{imageData:o.imageBinary,height:p.height,width:p.width});this.setState({hotspot:q});this.props.toggleEditingState(true)}.bind(this);this.$ComposerVideoUploadSphericalImageEditLayerContainer3=function(o,p){var q=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateImageHotspotContent(this.state.hotspot,{height:o});q=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateImageHotspotContent(q,{width:p});this.setState({hotspot:q})}.bind(this);this.$ComposerVideoUploadSphericalImageEditLayerContainer1=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalImageEditLayerContainer1.addSubscriptions(n.controller.addListener(c("ComposerVideoUploadSphericalEvents").MEDIA_TOOLKIT.SAVE_HOTSPOT,function(){return this.props.handleSaveHotspotEdits(this.state.hotspot)}.bind(this)))}m.prototype.componentWillReceiveProps=function(n){if(!n.isEditing&&this.props.isEditing)this.setState({hotspot:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDefaultHotspot(c("SphericalVideoHotspotType").IMAGE,this.props.controller.getPlaybackDuration()*l)});if(n.hotspot&&(!this.props.hotspot||this.props.hotspot.content.id!==n.hotspot.content.id)){n.hotspot.content.type===c("SphericalVideoHotspotType").IMAGE||i(0);this.setState({hotspot:n.hotspot})}};m.prototype.componentWillUnmount=function(){this.$ComposerVideoUploadSphericalImageEditLayerContainer1.release()};m.prototype.render=function(){return c("React").createElement("div",{className:"_3quf"},c("React").createElement(c("ComposerVideoUploadSphericalImageUploadBar.react"),{uploadedImageFileData:this.props.uploadedImageFileData,handleImageFileUpload:this.props.handleImageFileUpload,handleUploadedImageClick:this.$ComposerVideoUploadSphericalImageEditLayerContainer2}),this.props.isEditing&&c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayer.react"),{controller:this.props.controller,fov:this.props.fov,hotspot:this.state.hotspot,imageBinaryToMd5:this.props.imageBinaryToMd5,pitch:this.props.pitch,showNux:this.props.showNux,uploadedImageFileData:this.props.uploadedImageFileData,viewportHeight:this.props.viewportHeight,viewportWidth:this.props.viewportWidth,yaw:this.props.yaw,handleDeleteButtonClick:function(){return this.props.toggleEditingState(false)}.bind(this),handleNuxClosed:this.props.handleNuxClosed,handleNuxView:this.props.handleNuxView,updateHotspotDimensions:this.$ComposerVideoUploadSphericalImageEditLayerContainer3}))};f.exports=m}),null);
__d("ComposerVideoUploadSphericalMediaToolkitDropdownOption.react",["cx","FlexLayout.react","Image.react","React","ShimButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),{className:"_46sw",onClick:this.props.onClick},c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_l-8",justify:"all"},c("React").createElement("div",{className:"_46su"},this.props.optionData.fbt),c("React").createElement(c("Image.react"),{className:"_46sv",src:this.props.optionData.thumbnail})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalMediaToolkitDropdown.react",["ix","cx","FlexLayout.react","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalMediaToolkitDropdownOption.react","React","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={dropdownOpen:false},this.$ComposerVideoUploadSphericalMediaToolkitDropdown1=function(event){event.preventDefault();this.setState({dropdownOpen:!this.state.dropdownOpen})}.bind(this),n}l.prototype.render=function(){var m=this.props.options.find(function(q){return q.optionName===this.props.selectedOptionName}.bind(this)),n=this.props.options.length>1?c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_46st",thumbnail:h("388066"),onClick:this.$ComposerVideoUploadSphericalMediaToolkitDropdown1}):null,o=m&&c("React").createElement("div",{className:"_46so"},c("React").createElement(c("FlexLayout.react"),{className:"_k1-"},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitDropdownOption.react"),{optionData:m,onClick:this.$ComposerVideoUploadSphericalMediaToolkitDropdown1}),n)),p=this.state.dropdownOpen?this.props.options.filter(function(q){return q.optionName!==this.props.selectedOptionName}.bind(this)).map(function(q){return c("React").createElement("button",{key:q.optionName,className:"_46sp",onClick:function(event){return this.$ComposerVideoUploadSphericalMediaToolkitDropdown2(event,q.optionName)}.bind(this)},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitDropdownOption.react"),{optionData:q}))}.bind(this)):null;return c("React").createElement("div",{className:"_k1z"},c("React").createElement("div",{className:"_46ss"},o,p))};l.prototype.$ComposerVideoUploadSphericalMediaToolkitDropdown2=function(event,m){this.props.handleOptionSelect(m);this.setState({dropdownOpen:false})};f.exports=l}),null);
__d("ComposerVideoUploadSphericalMediaToolkitPanelLayer.react",["ix","cx","FlexLayout.react","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalMediaToolkitDropdown.react","React","asset"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_k1y"},c("React").createElement(c("FlexLayout.react"),{align:"start",justify:"all"},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitDropdown.react"),{options:this.props.dropdownOptions,selectedOptionName:this.props.selectedMediaOption,handleOptionSelect:this.props.handleMediaOptionSelect}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_k1_",thumbnail:h("394831"),onClick:function(){return this.props.toggleMediaToolkit(false)}.bind(this)})))};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("ComposerVideoUploadSphericalHotspotPreviewElement.react",["cx","ComposerVideoUploadSphericalMediaToolkitUtils","React","ScaledImage.react","SphericalVideoHotspotType","SubscriptionsHandler","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";j.constructor.call(this,m);this.$ComposerVideoUploadSphericalHotspotPreviewElement2=function(){this.forceUpdate()}.bind(this);this.$ComposerVideoUploadSphericalHotspotPreviewElement1=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalHotspotPreviewElement1.addSubscriptions(m.controller.addListener("updateStatus",this.$ComposerVideoUploadSphericalHotspotPreviewElement2))}l.prototype.componentWillUnmount=function(){"use strict";this.$ComposerVideoUploadSphericalHotspotPreviewElement1.release()};l.prototype.render=function(){__p&&__p();var m,n=this;"use strict";var o=this.props.hotspot,p=Math.floor(this.props.controller.getCurrentTimePosition()*k),q=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculatePreviewVisibility(p,this.props.fov,o,this.props.pitch,this.props.viewportHeight,this.props.viewportWidth,this.props.yaw);if(!q)return null;var r=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateHotspotStyle(this.props.fov,o,false,this.props.pitch,this.props.viewportHeight,this.props.viewportWidth,this.props.yaw),s=null;if(o.content.type===c("SphericalVideoHotspotType").TEXT)s=c("React").createElement("div",{className:"_3h6h"},o.content.text);else if(o.content.type===c("SphericalVideoHotspotType").IMAGE)(function(){__p&&__p();var t=o.content.imageData,u=Object.prototype.hasOwnProperty.call(n.props.imageBinaryToMd5,t)?n.props.imageBinaryToMd5[t]:null,v=n.props.uploadedImageFileData.find(function(y){return y.md5===u}),w=void 0,x=void 0;if(u&&v){w=v.height;x=v.width}else{w=o.content.height;x=o.content.width}s=c("React").createElement(c("ScaledImage.react"),{className:"_2ysf",draggable:"false",height:o.content.height,imageSize:{height:w,width:x},src:t,width:o.content.width})})();return c("React").createElement("button",{className:"_1eeh",style:r,onClick:function(){return this.props.handlePreviewElementClick(o.content.id)}.bind(this)},s)};f.exports=l}),null);
__d("ComposerVideoUploadSphericalMetadataPreviewLayer.react",["cx","ComposerVideoUploadSphericalHotspotPreviewElement.react","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";var l=this.props.hotspots.hotspots.map(function(m){return c("React").createElement(c("ComposerVideoUploadSphericalHotspotPreviewElement.react"),{key:m.content.id,controller:this.props.controller,fov:this.props.fov,hotspot:m,imageBinaryToMd5:this.props.imageBinaryToMd5,pitch:this.props.pitch,uploadedImageFileData:this.props.uploadedImageFileData,viewportHeight:this.props.viewportHeight,viewportWidth:this.props.viewportWidth,yaw:this.props.yaw,handlePreviewElementClick:this.props.handlePreviewElementClick})}.bind(this));return c("React").createElement("div",{className:"_2eym"},l)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalToolkitEntryPointLayer.react",["ix","cx","fbt","BasicFBNux","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalMediaToolkitConstants","React","SphericalVideoExperiments","XUIAmbientNUX.react","XUIText.react","asset"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={showNux:c("SphericalVideoExperiments").showHotspotEntryNux},o}m.prototype.componentDidMount=function(){"use strict";if(this.state.showNux)c("BasicFBNux").onView(c("ComposerVideoUploadSphericalMediaToolkitConstants").HOTSPOT_ENTRY_NUX_ID)};m.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_341v",ref:function(n){return this.$ComposerVideoUploadSphericalToolkitEntryPointLayer1=n}.bind(this),thumbnail:h("416792"),onClick:function(){return this.props.toggleMediaToolkit(true)}.bind(this)}),c("React").createElement(c("XUIAmbientNUX.react"),{customwidth:250,contextRef:function(){return this.$ComposerVideoUploadSphericalToolkitEntryPointLayer1}.bind(this),position:"right",shown:this.state.showNux,width:"custom",onCloseButtonClick:function(){return this.$ComposerVideoUploadSphericalToolkitEntryPointLayer2()}.bind(this)},c("React").createElement(c("XUIText.react"),{size:"body2",display:"block",weight:"bold"},j._("Overlay text and images")),c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},j._("Add more detail to each frame of your video with text and images."))))};m.prototype.$ComposerVideoUploadSphericalToolkitEntryPointLayer2=function(){"use strict";this.setState({showNux:false});c("BasicFBNux").onDismiss(c("ComposerVideoUploadSphericalMediaToolkitConstants").HOTSPOT_ENTRY_NUX_ID)};f.exports=m}),null);
__d("SphericalVideoMediaToolkitOptions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ANNOTATION:"annotation",IMAGE:"image",STICKER:"sticker"})}),null);
__d("ComposerVideoUploadSphericalMediaToolkit.react",["cx","fbt","ix","BasicFBNux","ComposerVideoUploadSphericalAnnotationEditLayerContainer.react","ComposerVideoUploadSphericalEvents","ComposerVideoUploadSphericalImageEditLayerContainer.react","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitPanelLayer.react","ComposerVideoUploadSphericalMediaToolkitUtils","ComposerVideoUploadSphericalMetadataPreviewLayer.react","React","SphericalVideoExperiments","SphericalVideoHotspotType","SphericalVideoMediaToolkitOptions","ComposerVideoUploadSphericalToolkitEntryPointLayer.react","md5","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m,n=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,o=(m={},m[c("SphericalVideoMediaToolkitOptions").ANNOTATION]={fbt:i._("Text"),optionName:c("SphericalVideoMediaToolkitOptions").ANNOTATION,thumbnail:j("415898")},m[c("SphericalVideoMediaToolkitOptions").IMAGE]={fbt:i._("Images"),optionName:c("SphericalVideoMediaToolkitOptions").IMAGE,thumbnail:j("415897")},m);k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){"use strict";__p&&__p();l.constructor.call(this,q);this.state={currentEditHotspot:null,imageBinaryToMd5:{},isEditing:false,selectedMediaOption:this.props.enableTextHotspots?c("SphericalVideoMediaToolkitOptions").ANNOTATION:c("SphericalVideoMediaToolkitOptions").IMAGE,showHotspotSaveNux:c("SphericalVideoExperiments").showHotspotSaveNux,showMediaToolkitLayer:false,uploadedImageFileData:[],viewportHeight:0,viewportWidth:0};this.$ComposerVideoUploadSphericalMediaToolkit10=function(r){__p&&__p();var s=r.name.indexOf(".")!=-1?r.name.split(".").pop().toLowerCase():"";if(!c("ComposerVideoUploadSphericalMediaToolkitConstants").SUPPORTED_IMAGE_FILE_EXTENSIONS.includes(s)){c("ComposerVideoUploadSphericalMediaToolkitUtils").showFileExtensionDialog(s,c("ComposerVideoUploadSphericalMediaToolkitConstants").SUPPORTED_IMAGE_FILE_EXTENSIONS.join(", "));return}if(r.size>c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MAX_FILE_SIZE){c("ComposerVideoUploadSphericalMediaToolkitUtils").showImageTooLargeDialog(c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MAX_FILE_SIZE/1048576);return}var t=new FileReader();t.onload=function(){__p&&__p();var u=new Image(),v=String(t.result);u.src=v;var w=c("md5")(v),x=this.state.uploadedImageFileData.findIndex(function(A){return A.md5===w});if(x>-1){var y=[].concat(this.state.uploadedImageFileData),z=y[x];y.splice(x,1);y.push(z);this.setState({uploadedImageFileData:y});return}u.onload=function(){var A,B={height:u.height,imageBinary:v,md5:w,width:u.width},C=[].concat(this.state.uploadedImageFileData,[B]),D=babelHelpers["extends"]({},this.state.imageBinaryToMd5,(A={},A[v]=w,A));this.setState({uploadedImageFileData:C,imageBinaryToMd5:D})}.bind(this)}.bind(this);t.onerror=function(){c("ComposerVideoUploadSphericalMediaToolkitUtils").showFileUploadErrorDialog(t.error.name)};t.readAsDataURL(r)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit4=function(r){switch(r){case c("SphericalVideoMediaToolkitOptions").ANNOTATION:this.setState({selectedMediaOption:r});break;case c("SphericalVideoMediaToolkitOptions").IMAGE:this.setState({selectedMediaOption:r});break}this.$ComposerVideoUploadSphericalMediaToolkit9(false)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit6=function(){this.setState({showHotspotSaveNux:false});c("BasicFBNux").onDismiss(c("ComposerVideoUploadSphericalMediaToolkitConstants").HOTSPOT_SAVE_NUX_ID)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit7=function(){if(this.state.showHotspotSaveNux)c("BasicFBNux").onView(c("ComposerVideoUploadSphericalMediaToolkitConstants").HOTSPOT_SAVE_NUX_ID)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit11=function(r){__p&&__p();var s=this.props.hotspots.hotspots,t=s.findIndex(function(w){return w.content.id===r}),u=t!==-1?s[t]:null;if(u){var v=void 0;switch(u.content.type){case c("SphericalVideoHotspotType").TEXT:v=c("SphericalVideoMediaToolkitOptions").ANNOTATION;break;case c("SphericalVideoHotspotType").IMAGE:v=c("SphericalVideoMediaToolkitOptions").IMAGE;break}this.setState({currentEditHotspot:u,selectedMediaOption:v});this.$ComposerVideoUploadSphericalMediaToolkit1.setSphericalOrientation(u.yaw,u.pitch);this.$ComposerVideoUploadSphericalMediaToolkit1.seek(u.startTime/n);this.$ComposerVideoUploadSphericalMediaToolkit1.emit(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE);this.props.onViewportUpdate(u.yaw,u.pitch);this.$ComposerVideoUploadSphericalMediaToolkit5(true);this.$ComposerVideoUploadSphericalMediaToolkit9(true);this.props.onHotspotDeleted(r)}}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit8=function(r){__p&&__p();if(r.content.type===c("SphericalVideoHotspotType").TEXT&&r.content.text==="")return;if(this.$ComposerVideoUploadSphericalMediaToolkit1.getCurrentTimePosition()===this.$ComposerVideoUploadSphericalMediaToolkit1.getPlaybackDuration()){c("ComposerVideoUploadSphericalMediaToolkitUtils").showLastFrameDialog();return}var s=this.$ComposerVideoUploadSphericalMediaToolkit1.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport"),t=Math.floor(this.$ComposerVideoUploadSphericalMediaToolkit1.getCurrentTimePosition()*n),u=this.$ComposerVideoUploadSphericalMediaToolkit1.getPlaybackDuration()*n,v=r.set("pitch",Math.round(s.pitch));v=v.set("yaw",Math.round(s.yaw));v=v.set("startTime",t);v=v.set("endTime",Math.min(t+c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_DURATION_MS,u));var w=false;if(v.content.id===c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ID){if(r.content.type===c("SphericalVideoHotspotType").TEXT)v=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateTextHotspotContent(v,{id:this.props.nextId});else if(r.content.type===c("SphericalVideoHotspotType").IMAGE)v=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateImageHotspotContent(v,{id:this.props.nextId});w=true}this.props.onHotspotAdded(v,w);this.$ComposerVideoUploadSphericalMediaToolkit9(false)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit9=function(r){if(r)this.$ComposerVideoUploadSphericalMediaToolkit1.pause();else this.setState({currentEditHotspot:null});this.$ComposerVideoUploadSphericalMediaToolkit1.setOption("ComposerVideoUploadSphericalMediaToolkit","isEditingHotspot",r);this.setState({isEditing:r})}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit5=function(r){if(!r)this.$ComposerVideoUploadSphericalMediaToolkit9(false);this.props.onGuideVisibilityUpdate(!r);this.setState({showMediaToolkitLayer:r})}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit3=false;this.$ComposerVideoUploadSphericalMediaToolkit1=q.controller;this.$ComposerVideoUploadSphericalMediaToolkit1.registerOption("ComposerVideoUploadSphericalMediaToolkit","isEditingHotspot",function(){return this.$ComposerVideoUploadSphericalMediaToolkit3}.bind(this),function(r){return this.$ComposerVideoUploadSphericalMediaToolkit3=r}.bind(this))}p.prototype.componentDidMount=function(){"use strict";if(!this.$ComposerVideoUploadSphericalMediaToolkit2)return;var q=this.$ComposerVideoUploadSphericalMediaToolkit2.offsetWidth,r=this.$ComposerVideoUploadSphericalMediaToolkit2.offsetHeight;this.setState({viewportWidth:q,viewportHeight:r})};p.prototype.componentWillUnmount=function(){"use strict";this.props.onGuideVisibilityUpdate(true)};p.prototype.render=function(){"use strict";var q=this.props,r=q.enableTextHotspots,s=q.enableImageHotspots,t=[];if(r)t.push(o[c("SphericalVideoMediaToolkitOptions").ANNOTATION]);if(s)t.push(o[c("SphericalVideoMediaToolkitOptions").IMAGE]);var u=this.state.showMediaToolkitLayer?c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitPanelLayer.react"),{dropdownOptions:t,selectedMediaOption:this.state.selectedMediaOption,handleMediaOptionSelect:this.$ComposerVideoUploadSphericalMediaToolkit4,toggleMediaToolkit:this.$ComposerVideoUploadSphericalMediaToolkit5}):null,v=r&&this.state.showMediaToolkitLayer&&this.state.selectedMediaOption===c("SphericalVideoMediaToolkitOptions").ANNOTATION?c("React").createElement(c("ComposerVideoUploadSphericalAnnotationEditLayerContainer.react"),{controller:this.$ComposerVideoUploadSphericalMediaToolkit1,fov:this.props.fov,hotspot:this.state.currentEditHotspot,isEditing:this.state.isEditing,pitch:this.props.pitch,showNux:this.state.showHotspotSaveNux,viewportHeight:this.state.viewportHeight,viewportWidth:this.state.viewportWidth,yaw:this.props.yaw,handleNuxClosed:this.$ComposerVideoUploadSphericalMediaToolkit6,handleNuxView:this.$ComposerVideoUploadSphericalMediaToolkit7,handleSaveHotspotEdits:this.$ComposerVideoUploadSphericalMediaToolkit8,toggleEditingState:this.$ComposerVideoUploadSphericalMediaToolkit9}):null,w=s&&this.state.showMediaToolkitLayer&&this.state.selectedMediaOption===c("SphericalVideoMediaToolkitOptions").IMAGE?c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerContainer.react"),{controller:this.$ComposerVideoUploadSphericalMediaToolkit1,fov:this.props.fov,hotspot:this.state.currentEditHotspot,imageBinaryToMd5:this.state.imageBinaryToMd5,isEditing:this.state.isEditing,pitch:this.props.pitch,showNux:this.state.showHotspotSaveNux,uploadedImageFileData:this.state.uploadedImageFileData,viewportHeight:this.state.viewportHeight,viewportWidth:this.state.viewportWidth,yaw:this.props.yaw,handleImageFileUpload:this.$ComposerVideoUploadSphericalMediaToolkit10,handleNuxClosed:this.$ComposerVideoUploadSphericalMediaToolkit6,handleNuxView:this.$ComposerVideoUploadSphericalMediaToolkit7,handleSaveHotspotEdits:this.$ComposerVideoUploadSphericalMediaToolkit8,toggleEditingState:this.$ComposerVideoUploadSphericalMediaToolkit9}):null,x=!this.state.showMediaToolkitLayer?c("React").createElement(c("ComposerVideoUploadSphericalToolkitEntryPointLayer.react"),{toggleMediaToolkit:this.$ComposerVideoUploadSphericalMediaToolkit5}):null,y=c("React").createElement(c("ComposerVideoUploadSphericalMetadataPreviewLayer.react"),{controller:this.$ComposerVideoUploadSphericalMediaToolkit1,fov:this.props.fov,hotspots:this.props.hotspots,imageBinaryToMd5:this.state.imageBinaryToMd5,pitch:this.props.pitch,uploadedImageFileData:this.state.uploadedImageFileData,viewportHeight:this.state.viewportHeight,viewportWidth:this.state.viewportWidth,yaw:this.props.yaw,handlePreviewElementClick:this.$ComposerVideoUploadSphericalMediaToolkit11});return c("React").createElement("div",{className:"_3kfp",ref:function(z){return this.$ComposerVideoUploadSphericalMediaToolkit2=z}.bind(this)},u,v,w,x,y)};f.exports=p}),null);
__d("ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){return c("React").createElement("div",{className:"_65ep"},c("React").createElement("div",{className:"_-hw"},j.label))}f.exports=i}),null);
__d("ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu.react",["cx","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={hovered:false},this.$ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu1=function(){this.setState({hovered:true})}.bind(this),this.$ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu2=function(){this.setState({hovered:false})}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_65en",onMouseEnter:this.$ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu1,onMouseLeave:this.$ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu2},c("React").createElement(c("Image.react"),{src:this.state.hovered?this.props.buttonIconOnHover:this.props.buttonIconDefault}),c("React").createElement("div",{className:"_62or"},c("React").createElement("div",{className:"_62os"},this.props.children)))};f.exports=k}),null);
__d("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react",["ix","cx","Image.react","React","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){return c("React").createElement("a",{href:"#",className:"_65eo",onClick:k.onSelect},c("React").createElement(c("Image.react"),{src:k.isSelected?h("384999"):h("385001")}),c("React").createElement("div",{className:"_-hv"},k.label),c("React").createElement(c("Image.react"),{className:"_62op",src:k.icon}))}f.exports=j}),null);
__d("ComposerVideoUploadSphericalVideoPreviewEmbeddedControls",["ComposerVideoUploadSphericalEvents","EmbeddedVideoControls","SubscriptionsHandler","VideoUploadSphericalLogger"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();var k=arguments.length<=2||arguments[2]===undefined?false:arguments[2],l=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls4=function(m){this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls1.updateDisplayElapsedTime(m);this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls5()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls5=function(){this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls1.updatePointsOfInterestConfig(this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getPointsOfInterestConfig"))}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2=j;this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls1=new(c("EmbeddedVideoControls"))(j,i,{hideSettings:true,hideOnEvents:{autoplay:false,finish:false,pause:false},showButtons:{},pointsOfInterestConfig:j.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getPointsOfInterestConfig"),displayElapsedTime:j.getOption("VideoWithSphericalGuide","enabled"),forceVisible:k,hideGradient:k,useDarkTheme:l});this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls3=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls3.addSubscriptions(this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.addListener("VideoWithSphericalGuide/stateToggle",this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls4),this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.addListener(c("ComposerVideoUploadSphericalEvents").GUIDE.KEYFRAMES_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls5),this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.addListener(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls5),this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.addListener("updateStatus",function(m){c("VideoUploadSphericalLogger").setVideoPreviewPosition(Math.round(m.position))}))}h.prototype.destroy=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls3.release()};f.exports=h}),null);
__d("ComposerVideoUploadSphericalVideoBottomControlBar.react",["cx","fbt","ix","ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react","ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu.react","ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react","ComposerVideoUploadSphericalConstants","ComposerVideoUploadSphericalVideoPreviewEmbeddedControls","React","VideoProjection","VideoStereoFormat","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;m.prototype.componentDidMount=function(){this.$ComposerVideoUploadSphericalVideoBottomControlBar1=new(c("ComposerVideoUploadSphericalVideoPreviewEmbeddedControls"))(this.refs.controls,this.props.controller,true,true)};m.prototype.componentWillUnmount=function(){this.$ComposerVideoUploadSphericalVideoBottomControlBar1.destroy()};m.prototype.render=function(){__p&&__p();var n=this.props.hasSpatialAudio?"on":"off",o="Unknown";if(this.props.projection===c("VideoProjection").EQUIRECTANGULAR)o="Equirect";else if(this.props.projection===c("VideoProjection").CUBEMAP)o="Cubemap";var p="Unknown";if(this.props.stereoMode===c("VideoStereoFormat").MONO)p="Mono";else if(this.props.stereoMode===c("VideoStereoFormat").LEFT_RIGHT)p="Side-by-Side";else if(this.props.stereoMode===c("VideoStereoFormat").TOP_BOTTOM)p="Top-Bottom";var q=this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.STANDALONE,r=this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.STANDALONE;return c("React").createElement("div",{className:"_24a7"},c("React").createElement("div",{className:"_4uhh",ref:"controls"}),c("React").createElement("div",{className:"_4uhi"},c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu.react"),{buttonIconDefault:j("438982"),buttonIconOnHover:j("438981")},c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react"),{label:i._("360 audio is {=}",[i.param("=",c("React").createElement("span",{className:"_45ll"},i._({"off":"off","on":"on"},[i["enum"](n,{off:"off",on:"on"})])))])})),c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu.react"),{buttonIconDefault:j("428197"),buttonIconOnHover:j("428193")},q?c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378733"),isSelected:this.props.projection===c("VideoProjection").EQUIRECTANGULAR,label:i._("Equirect"),onSelect:function(){return this.props.onProjectionSelected(c("VideoProjection").EQUIRECTANGULAR)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378732"),isSelected:this.props.projection===c("VideoProjection").CUBEMAP,label:i._("Cubemap"),onSelect:function(){return this.props.onProjectionSelected(c("VideoProjection").CUBEMAP)}.bind(this)})):c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react"),{label:i._("{=} projection",[i.param("=",c("React").createElement("span",{className:"_45ll"},i._({"Equirect":"Equirect","Cubemap":"Cubemap","Unknown":"Unknown"},[i["enum"](o,{Equirect:"Equirect",Cubemap:"Cubemap",Unknown:"Unknown"})])))])}),c("React").createElement("div",{className:"_45lm"}),this.props.projection===c("VideoProjection").EQUIRECTANGULAR&&r?c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378736"),isSelected:this.props.stereoMode===c("VideoStereoFormat").MONO,label:i._("Mono"),onSelect:function(){return this.props.onStereoModeSelected(c("VideoStereoFormat").MONO)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378738"),isSelected:this.props.stereoMode===c("VideoStereoFormat").LEFT_RIGHT,label:i._("Side-by-side"),onSelect:function(){return this.props.onStereoModeSelected(c("VideoStereoFormat").LEFT_RIGHT)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378739"),isSelected:this.props.stereoMode===c("VideoStereoFormat").TOP_BOTTOM,label:i._("Top\/bottom"),onSelect:function(){return this.props.onStereoModeSelected(c("VideoStereoFormat").TOP_BOTTOM)}.bind(this)})):c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react"),{label:i._("{=} mode",[i.param("=",c("React").createElement("span",{className:"_45ll"},i._({"Mono":"Mono","Side-by-Side":"Side-by-side","Left-Right":"Left-to-right","Unknown":"Unknown"},[i["enum"](p,{Mono:"Mono","Side-by-Side":"Side-by-Side","Left-Right":"Left-Right",Unknown:"Unknown"})])))])})))))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("ComposerVideoUploadSphericalVideoIntroTextSection.react",["cx","fbt","React","ComposerVideoUploadSphericalConstants"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(k){var l=i._("Set guide points.");if(k.enableTextHotspots&&k.enableImageHotspots)l=i._("Set guide points and overlay text and images.");else if(k.enableTextHotspots)l=i._("Set guide points and overlay text.");else if(k.enableImageHotspots)l=i._("Set guide points and overlay images.");var m=" ",n=i._("Your final video will automatically pan to these parts."),o=k.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.PAGE_COMPOSER_V1||k.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.EDIT_DIALOG_V1||k.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.CROSSPOST_DIALOG_V1;return c("React").createElement("div",{className:"_16_7"},!o&&c("React").createElement("div",{className:"_2fb1 _4h--"}),c("React").createElement("div",{className:"_16_8"},i._("Direct your audience to the parts you want them to see")),c("React").createElement("div",{className:"_16_9"},l,m,n),c("React").createElement("div",{className:"_2fb1 _4h--"}))}f.exports=j}),null);
__d("findGreatestLowerBoundGuideKeyframeIndex",["BinarySearch"],(function a(b,c,d,e,f,g){var h=function h(i,j){return c("BinarySearch").greatestLowerBound(function(k){return i[k][0]},j,0,i.length,function(k,l){return k-l})};f.exports=h}),null);
__d("SphericalVideoGuideAnimation",["EventEmitter","SphericalVideoGuideAnimationConfig","easeInOutInterpolate","normalizeDeltaYaw","findGreatestLowerBoundGuideKeyframeIndex","requestAnimationFrame"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,k=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;h=babelHelpers.inherits(l,c("EventEmitter"));i=h&&h.prototype;function l(m,n,o,p,q){"use strict";__p&&__p();i.constructor.call(this);this.$SphericalVideoGuideAnimation12=function(){if(!this.$SphericalVideoGuideAnimation2||!this.$SphericalVideoGuideAnimation1||!this.$SphericalVideoGuideAnimation7()){this.$SphericalVideoGuideAnimation3=null;return}this.updateViewport();c("requestAnimationFrame")(this.$SphericalVideoGuideAnimation12)}.bind(this);this.$SphericalVideoGuideAnimation3=null;this.$SphericalVideoGuideAnimation1=false;this.$SphericalVideoGuideAnimation2=m.guideKeyframes||[];this.$SphericalVideoGuideAnimation8={yaw:m.initialHeading||0,pitch:m.initialPitch||0};this.$SphericalVideoGuideAnimation5=o;this.$SphericalVideoGuideAnimation4=n;this.$SphericalVideoGuideAnimation6=p;this.$SphericalVideoGuideAnimation7=q;if(this.$SphericalVideoGuideAnimation2)this.$SphericalVideoGuideAnimation10(0)}l.prototype.isEnabled=function(){"use strict";return this.$SphericalVideoGuideAnimation1};l.prototype.setEnabledOnResume=function(m,n){"use strict";if(!this.$SphericalVideoGuideAnimation1&&m)this.calculateKeyframeIntervalOnResume();this.setEnabled(m,n)};l.prototype.setEnabled=function(m,n){"use strict";if(this.$SphericalVideoGuideAnimation1!==m)this.emit("toggle",m,n);this.$SphericalVideoGuideAnimation1=m;this.resumeAnimation()};l.prototype.resumeAnimation=function(){"use strict";if(this.$SphericalVideoGuideAnimation1)this.$SphericalVideoGuideAnimation11()};l.prototype.setInitialViewport=function(m,n){"use strict";this.$SphericalVideoGuideAnimation8.yaw=m;this.$SphericalVideoGuideAnimation8.pitch=n};l.prototype.setKeyframes=function(m){"use strict";this.$SphericalVideoGuideAnimation2=m};l.prototype.updateViewport=function(m){"use strict";var n=this.$SphericalVideoGuideAnimation9,o=this.$SphericalVideoGuideAnimation6()*k;if(o<n.baseTime||o>n.nextTime||!!m){this.$SphericalVideoGuideAnimation10(o);n=this.$SphericalVideoGuideAnimation9}var p=c("easeInOutInterpolate")((o-n.baseTime)/n.deltaTime),q=n.deltaPitch*p+n.basePitch,r=n.deltaYaw*p+n.baseYaw;if(this.$SphericalVideoGuideAnimation1)this.$SphericalVideoGuideAnimation4(r,q)};l.prototype.$SphericalVideoGuideAnimation11=function(){"use strict";if(this.$SphericalVideoGuideAnimation3===null)this.$SphericalVideoGuideAnimation3=c("requestAnimationFrame")(this.$SphericalVideoGuideAnimation12)};l.prototype.calculateKeyframeIntervalOnResume=function(){"use strict";__p&&__p();var m=this.$SphericalVideoGuideAnimation5(),n=m.yaw,o=m.pitch,p=this.$SphericalVideoGuideAnimation6()*k,q=[p,o,n],r;if(this.$SphericalVideoGuideAnimation2.length===0)r=[Infinity,o,n];else{var s=c("findGreatestLowerBoundGuideKeyframeIndex")(this.$SphericalVideoGuideAnimation2,p);if(this.$SphericalVideoGuideAnimation2.length>s+1)if(this.$SphericalVideoGuideAnimation2[s+1][0]-p>2*j)r=[p+j,s<0?this.$SphericalVideoGuideAnimation8.pitch:this.$SphericalVideoGuideAnimation2[s][1],s<0?this.$SphericalVideoGuideAnimation8.yaw:this.$SphericalVideoGuideAnimation2[s][2]];else if(this.$SphericalVideoGuideAnimation2[s+1][0]-p>j)r=this.$SphericalVideoGuideAnimation2[s+1];else if(this.$SphericalVideoGuideAnimation2.length>s+2&&this.$SphericalVideoGuideAnimation2[s+2][0]-p<2*j)r=this.$SphericalVideoGuideAnimation2[s+2];else r=[p+j,this.$SphericalVideoGuideAnimation2[s+1][1],this.$SphericalVideoGuideAnimation2[s+1][2]];else r=[p+j,s<0?this.$SphericalVideoGuideAnimation8.pitch:this.$SphericalVideoGuideAnimation2[s][1],s<0?this.$SphericalVideoGuideAnimation8.yaw:this.$SphericalVideoGuideAnimation2[s][2]]}this.$SphericalVideoGuideAnimation13(q,r)};l.prototype.$SphericalVideoGuideAnimation10=function(m){"use strict";__p&&__p();var n,o;if(this.$SphericalVideoGuideAnimation2.length===0){n=[0,this.$SphericalVideoGuideAnimation8.pitch,this.$SphericalVideoGuideAnimation8.yaw];o=[Infinity,this.$SphericalVideoGuideAnimation8.pitch,this.$SphericalVideoGuideAnimation8.yaw]}else{var p=c("findGreatestLowerBoundGuideKeyframeIndex")(this.$SphericalVideoGuideAnimation2,m);n=p===-1?[0,this.$SphericalVideoGuideAnimation8.pitch,this.$SphericalVideoGuideAnimation8.yaw]:this.$SphericalVideoGuideAnimation2[p];if(this.$SphericalVideoGuideAnimation2.length<=p+1)o=[Infinity,n[1],n[2]];else if(this.$SphericalVideoGuideAnimation2[p+1][0]-m>j)o=[this.$SphericalVideoGuideAnimation2[p+1][0]-j,n[1],n[2]];else{o=this.$SphericalVideoGuideAnimation2[p+1];n=[this.$SphericalVideoGuideAnimation2[p+1][0]-j,n[1],n[2]]}}this.$SphericalVideoGuideAnimation13(n,o)};l.prototype.$SphericalVideoGuideAnimation13=function(m,n){"use strict";var o=function o(){return{baseTime:m[0],nextTime:n[0],deltaTime:n[0]-m[0],basePitch:m[1],deltaPitch:n[1]-m[1],baseYaw:m[2],deltaYaw:c("normalizeDeltaYaw")(n[2]-m[2])}};if(this.$SphericalVideoGuideAnimation1)this.emit("newIntervalCalculated",o());this.$SphericalVideoGuideAnimation9=o()};f.exports=l}),null);
__d("VideoWithSphericalGuide",["SphericalVideoGuideAnimation","SubscriptionsHandler","VideoPlayerLoggerEvent","Run"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){"use strict";this.$VideoWithSphericalGuide1=i;this.$VideoWithSphericalGuide2=j;this.$VideoWithSphericalGuide6=new(c("SubscriptionsHandler"))();this.$VideoWithSphericalGuide7();if(this.$VideoWithSphericalGuide1.getOption("SphericalVideoPlayer","isReady"))this.$VideoWithSphericalGuide8();else this.$VideoWithSphericalGuide6.addSubscriptions(this.$VideoWithSphericalGuide1.once("SphericalVideoPlayer/ready",function(){return this.$VideoWithSphericalGuide8()}.bind(this)))}h.prototype.$VideoWithSphericalGuide7=function(){"use strict";__p&&__p();var i=function(n,o){return this.$VideoWithSphericalGuide1.setSphericalOrientation(n,o)}.bind(this),j=function(){return this.$VideoWithSphericalGuide1.getOption("SphericalVideoPlayer","getCurrentViewport")}.bind(this),k=function(){return this.$VideoWithSphericalGuide1.isState("playing")}.bind(this),l=function(n,o){return this.$VideoWithSphericalGuide1.emit("VideoWithSphericalGuide/viewportChange",n,o)}.bind(this);this.$VideoWithSphericalGuide1.registerOption("VideoWithSphericalGuide","enabled",function(){return this.$VideoWithSphericalGuide4.isEnabled()}.bind(this));this.$VideoWithSphericalGuide1.registerOption("VideoWithSphericalGuide","auto",function(){return this.$VideoWithSphericalGuide3.isEnabled()}.bind(this));var m=function(){return this.$VideoWithSphericalGuide1.getCurrentTimePosition()}.bind(this);this.$VideoWithSphericalGuide3=new(c("SphericalVideoGuideAnimation"))(this.$VideoWithSphericalGuide2,i,j,m,k);this.$VideoWithSphericalGuide4=new(c("SphericalVideoGuideAnimation"))(this.$VideoWithSphericalGuide2,l,j,m,k);this.$VideoWithSphericalGuide5=false};h.prototype.$VideoWithSphericalGuide8=function(){"use strict";__p&&__p();this.$VideoWithSphericalGuide6.addSubscriptions(this.$VideoWithSphericalGuide1.addListener("updateViewportBegin",function(){return this.$VideoWithSphericalGuide9()}.bind(this)),this.$VideoWithSphericalGuide1.addListener("SphericalHeadingIndicator/click",function(){if(this.$VideoWithSphericalGuide4.isEnabled()&&!this.$VideoWithSphericalGuide3.isEnabled())this.setAutoEnabled(true)}.bind(this)),this.$VideoWithSphericalGuide1.addListener("seekEnd",function(){return this.$VideoWithSphericalGuide10()}.bind(this)),this.$VideoWithSphericalGuide1.addListener("stateChange",function(){if(this.$VideoWithSphericalGuide1.isState("playing"))this.$VideoWithSphericalGuide11()}.bind(this)),this.$VideoWithSphericalGuide1.addListener("SphericalVideoRecenterControl/animationStart",function(){return this.$VideoWithSphericalGuide12()}.bind(this)),this.$VideoWithSphericalGuide4.addListener("newIntervalCalculated",this.$VideoWithSphericalGuide13.bind(this)),this.$VideoWithSphericalGuide3.addListener("toggle",function(i,j){this.$VideoWithSphericalGuide1.emit("VideoWithSphericalGuide/toggle",i);var event=i?c("VideoPlayerLoggerEvent").GUIDE_ENTERED:c("VideoPlayerLoggerEvent").GUIDE_EXITED,k=j?{reason:j}:null;this.$VideoWithSphericalGuide1.logEvent(event,k)}.bind(this)));c("Run").onUnload(function(){return this.$VideoWithSphericalGuide6.release()}.bind(this));if(this.$VideoWithSphericalGuide2.guideEnabled){this.$VideoWithSphericalGuide4.setEnabled(true);this.setAutoEnabled(true,"guide_auto_entered")}};h.prototype.$VideoWithSphericalGuide12=function(){"use strict";this.$VideoWithSphericalGuide5=true};h.prototype.$VideoWithSphericalGuide13=function(i){"use strict";this.$VideoWithSphericalGuide1.emit("VideoWithSphericalGuide/intervalUpdate",i)};h.prototype.$VideoWithSphericalGuide9=function(){"use strict";var i=this.$VideoWithSphericalGuide1.once("updateViewportMove",function(){return this.setAutoEnabled(false)}.bind(this));this.$VideoWithSphericalGuide1.once("updateViewportEnd",function(){return i.remove()})};h.prototype.$VideoWithSphericalGuide10=function(){"use strict";if(this.$VideoWithSphericalGuide3.isEnabled())this.$VideoWithSphericalGuide3.updateViewport(true);if(this.$VideoWithSphericalGuide4.isEnabled())this.$VideoWithSphericalGuide4.updateViewport(true)};h.prototype.$VideoWithSphericalGuide11=function(){"use strict";if(this.$VideoWithSphericalGuide5){this.$VideoWithSphericalGuide5=false;this.$VideoWithSphericalGuide3.calculateKeyframeIntervalOnResume()}this.$VideoWithSphericalGuide3.resumeAnimation();this.$VideoWithSphericalGuide4.resumeAnimation()};h.prototype.setInitialViewport=function(i,j){"use strict";this.$VideoWithSphericalGuide3.setInitialViewport(i,j);this.$VideoWithSphericalGuide4.setInitialViewport(i,j);this.$VideoWithSphericalGuide4.updateViewport(true)};h.prototype.setEnabled=function(i){"use strict";this.$VideoWithSphericalGuide4.setEnabled(i);this.$VideoWithSphericalGuide3.setEnabledOnResume(i);this.$VideoWithSphericalGuide1.emit("VideoWithSphericalGuide/stateToggle",i)};h.prototype.setAutoEnabled=function(i,j){"use strict";this.$VideoWithSphericalGuide3.setEnabledOnResume(i,j)};h.prototype.setKeyframes=function(i){"use strict";this.$VideoWithSphericalGuide4.setKeyframes(i);this.$VideoWithSphericalGuide4.updateViewport(true);this.$VideoWithSphericalGuide3.setKeyframes(i);this.$VideoWithSphericalGuide3.calculateKeyframeIntervalOnResume()};f.exports=h}),null);
__d("ComposerVideoUploadSphericalVideoPreviewGuide",["fbt","ComposerVideoUploadSphericalGuideUtils","SimpleXUIDialog","VideoUploadSphericalControlsAction","SubscriptionsHandler","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerStates","VideoUploadSphericalLogger","VideoWithSphericalGuide","ComposerVideoUploadSphericalEvents","emptyFunction","SphericalVideoGuideAnimationConfig","findGreatestLowerBoundGuideKeyframeIndex"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,j=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,k=2e3,l=1e3;function m(n,o,p,q,r,s,t,u,v){__p&&__p();var w=arguments.length<=9||arguments[9]===undefined?c("emptyFunction"):arguments[9],x=arguments.length<=10||arguments[10]===undefined?c("emptyFunction"):arguments[10],y=arguments.length<=11||arguments[11]===undefined?c("emptyFunction"):arguments[11],z=arguments.length<=12||arguments[12]===undefined?c("emptyFunction"):arguments[12],A=arguments.length<=13||arguments[13]===undefined?false:arguments[13];"use strict";this.$ComposerVideoUploadSphericalVideoPreviewGuide21=function(C){this.$ComposerVideoUploadSphericalVideoPreviewGuide3.setInitialViewport(C.yaw,C.pitch)}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide22=function(C){this.$ComposerVideoUploadSphericalVideoPreviewGuide7=C;this.$ComposerVideoUploadSphericalVideoPreviewGuide3.setKeyframes(C);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit(c("ComposerVideoUploadSphericalEvents").GUIDE.KEYFRAMES_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewGuide19()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide23=function(C){this.$ComposerVideoUploadSphericalVideoPreviewGuide5=C;this.$ComposerVideoUploadSphericalVideoPreviewGuide3.setEnabled(C);this.$ComposerVideoUploadSphericalVideoPreviewGuide19()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide18=function(){return{onPointOfInterestSelect:this.$ComposerVideoUploadSphericalVideoPreviewGuide31,currentPointOfInterest:this.$ComposerVideoUploadSphericalVideoPreviewGuide32(),pointsOfInterest:this.$ComposerVideoUploadSphericalVideoPreviewGuide33(),showPointOfInterestTimestamps:!this.$ComposerVideoUploadSphericalVideoPreviewGuide6}}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide20=function(){if(this.$ComposerVideoUploadSphericalVideoPreviewGuide8)this.$ComposerVideoUploadSphericalVideoPreviewGuide34()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide24=function(){__p&&__p();this.$ComposerVideoUploadSphericalVideoPreviewGuide2.pause();var C=Math.floor(this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getCurrentTimePosition()*i),D=this.$ComposerVideoUploadSphericalVideoPreviewGuide2.isState(c("VideoPlayerStates").PLAYING),E=D?function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide2.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").USER))}.bind(this):null;if(C<j){if(this.$ComposerVideoUploadSphericalVideoPreviewGuide6&&C===0)return;if(D)this.$ComposerVideoUploadSphericalVideoPreviewGuide2.pause();c("ComposerVideoUploadSphericalGuideUtils").showAddPointDialog(E,this.$ComposerVideoUploadSphericalVideoPreviewGuide6);return}var F=c("findGreatestLowerBoundGuideKeyframeIndex")(this.$ComposerVideoUploadSphericalVideoPreviewGuide7,C),G=this.$ComposerVideoUploadSphericalVideoPreviewGuide7;if(G[F]&&C-G[F][0]<j||G[F+1]&&G[F+1][0]-C<j){if(this.$ComposerVideoUploadSphericalVideoPreviewGuide6&&G[F]&&G[F][0]===C)return;if(D)this.$ComposerVideoUploadSphericalVideoPreviewGuide2.pause();c("ComposerVideoUploadSphericalGuideUtils").showAddPointDialog(E,this.$ComposerVideoUploadSphericalVideoPreviewGuide6);return}var H=this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport");this.$ComposerVideoUploadSphericalVideoPreviewGuide9(C,H.pitch,H.yaw,function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("SphericalVideoPlayer","getScreenshotDataURL")}.bind(this));c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").ADD_POINT_OF_INTEREST).log()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide25=function(){this.$ComposerVideoUploadSphericalVideoPreviewGuide17=true;this.$ComposerVideoUploadSphericalVideoPreviewGuide34()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide26=function(){this.$ComposerVideoUploadSphericalVideoPreviewGuide13(true);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").EDIT_POINT_OF_INTEREST).log()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide27=function(){if(!this.$ComposerVideoUploadSphericalVideoPreviewGuide4)return;this.$ComposerVideoUploadSphericalVideoPreviewGuide11(this.$ComposerVideoUploadSphericalVideoPreviewGuide4[0]);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide28=function(event){c("SimpleXUIDialog").showConfirm(h._("All existing points of interest will be removed. Are you sure?"),h._("Warning"),function(C){if(C){c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").CLEAR_POINTS_OF_INTEREST).log();this.$ComposerVideoUploadSphericalVideoPreviewGuide12()}}.bind(this))}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide30=function(C){__p&&__p();if(this.$ComposerVideoUploadSphericalVideoPreviewGuide8&&!C){this.$ComposerVideoUploadSphericalVideoPreviewGuide8=C;this.$ComposerVideoUploadSphericalVideoPreviewGuide3.setAutoEnabled(true);if(this.$ComposerVideoUploadSphericalVideoPreviewGuide17){this.$ComposerVideoUploadSphericalVideoPreviewGuide17=false;this.$ComposerVideoUploadSphericalVideoPreviewGuide2.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").USER))}}else{this.$ComposerVideoUploadSphericalVideoPreviewGuide8=C;this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit("SphericalHeadingIndicator/click")}}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide31=function(C){var D=this.$ComposerVideoUploadSphericalVideoPreviewGuide7.find(function(G){return G[0]===C*i});if(!D)return;var E=D[1],F=D[2];this.$ComposerVideoUploadSphericalVideoPreviewGuide2.seek(C);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.setSphericalOrientation(F,E);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.pause();c("VideoUploadSphericalLogger").setPitchDegrees(E).setYawDegrees(F).setUserAction(c("VideoUploadSphericalControlsAction").SEARCH_POINT_OF_INTEREST).log()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide29=function(){this.$ComposerVideoUploadSphericalVideoPreviewGuide15(function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("SphericalVideoPlayer","getScreenshotDataURL")}.bind(this))}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide19=function(){__p&&__p();var C=this.$ComposerVideoUploadSphericalVideoPreviewGuide4;if(this.$ComposerVideoUploadSphericalVideoPreviewGuide5){var D=Math.floor(this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getCurrentTimePosition()*i),E=this.$ComposerVideoUploadSphericalVideoPreviewGuide7,F=c("findGreatestLowerBoundGuideKeyframeIndex")(E,D);if(this.$ComposerVideoUploadSphericalVideoPreviewGuide16)if(D===E[F][0])this.$ComposerVideoUploadSphericalVideoPreviewGuide4=E[F];else this.$ComposerVideoUploadSphericalVideoPreviewGuide4=null;else{var G=F+1;if(E[G]&&E[G][0]-D<=k)this.$ComposerVideoUploadSphericalVideoPreviewGuide4=E[G];else if(E[F]&&D-E[F][0]<=l)this.$ComposerVideoUploadSphericalVideoPreviewGuide4=E[F];else this.$ComposerVideoUploadSphericalVideoPreviewGuide4=null}}else this.$ComposerVideoUploadSphericalVideoPreviewGuide4=null;if(C!==this.$ComposerVideoUploadSphericalVideoPreviewGuide4){this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewGuide14(this.$ComposerVideoUploadSphericalVideoPreviewGuide4?this.$ComposerVideoUploadSphericalVideoPreviewGuide4[0]:null)}}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide2=n;this.$ComposerVideoUploadSphericalVideoPreviewGuide5=q;this.$ComposerVideoUploadSphericalVideoPreviewGuide6=r;this.$ComposerVideoUploadSphericalVideoPreviewGuide7=s;this.$ComposerVideoUploadSphericalVideoPreviewGuide9=t;this.$ComposerVideoUploadSphericalVideoPreviewGuide11=u;this.$ComposerVideoUploadSphericalVideoPreviewGuide12=v;this.$ComposerVideoUploadSphericalVideoPreviewGuide13=w;this.$ComposerVideoUploadSphericalVideoPreviewGuide10=x;this.$ComposerVideoUploadSphericalVideoPreviewGuide14=y;this.$ComposerVideoUploadSphericalVideoPreviewGuide15=z;this.$ComposerVideoUploadSphericalVideoPreviewGuide16=A;this.$ComposerVideoUploadSphericalVideoPreviewGuide17=false;this.$ComposerVideoUploadSphericalVideoPreviewGuide1=new(c("SubscriptionsHandler"))();var B={initialHeading:o,initialPitch:p,guideEnabled:q,guideKeyframes:s};this.$ComposerVideoUploadSphericalVideoPreviewGuide3=new(c("VideoWithSphericalGuide"))(this.$ComposerVideoUploadSphericalVideoPreviewGuide2,B);this.$ComposerVideoUploadSphericalVideoPreviewGuide4=null;this.$ComposerVideoUploadSphericalVideoPreviewGuide8=false;this.$ComposerVideoUploadSphericalVideoPreviewGuide2.registerOption("ComposerVideoUploadSphericalVideoPreviewGuide","getPointsOfInterestConfig",this.$ComposerVideoUploadSphericalVideoPreviewGuide18);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.registerOption("ComposerVideoUploadSphericalVideoPreviewGuide","getCurrentPointOfInterest",function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide4}.bind(this));this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit(c("ComposerVideoUploadSphericalEvents").GUIDE.KEYFRAMES_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewGuide1.addSubscriptions(this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener("updateStatus",this.$ComposerVideoUploadSphericalVideoPreviewGuide19),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener("seekRequested",this.$ComposerVideoUploadSphericalVideoPreviewGuide20),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener("playRequested",this.$ComposerVideoUploadSphericalVideoPreviewGuide20),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.INITAL_VIEWPORT_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewGuide21),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewGuide22),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_STATE_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewGuide23),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.ADD_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide24),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.SAVE_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide25),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.EDIT_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide26),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.REMOVE_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide27),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.CLEAR_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide28),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.CREATE_THUMBNAIL,this.$ComposerVideoUploadSphericalVideoPreviewGuide29),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewGuide30))}m.prototype.$ComposerVideoUploadSphericalVideoPreviewGuide33=function(){"use strict";return this.$ComposerVideoUploadSphericalVideoPreviewGuide5?this.$ComposerVideoUploadSphericalVideoPreviewGuide7.map(function(n){return n[0]/i}):[]};m.prototype.$ComposerVideoUploadSphericalVideoPreviewGuide32=function(){"use strict";return this.$ComposerVideoUploadSphericalVideoPreviewGuide5&&this.$ComposerVideoUploadSphericalVideoPreviewGuide4?this.$ComposerVideoUploadSphericalVideoPreviewGuide4[0]/i:null};m.prototype.$ComposerVideoUploadSphericalVideoPreviewGuide34=function(){"use strict";if(!this.$ComposerVideoUploadSphericalVideoPreviewGuide4)return;var n=this.$ComposerVideoUploadSphericalVideoPreviewGuide4[0],o=this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport");this.$ComposerVideoUploadSphericalVideoPreviewGuide10(n,o.pitch,o.yaw,function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("SphericalVideoPlayer","getScreenshotDataURL")}.bind(this));c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").SAVE_EDITS).setPitchDegrees(o.pitch).setYawDegrees(o.yaw).log()};m.prototype.destroy=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewGuide1.release()};f.exports=m}),null);
__d("ComposerVideoUploadSphericalVideoPreviewPOIIndicator",["cx","ComposerVideoUploadSphericalEvents","CSS","DOM","DOMDimensions","SubscriptionsHandler","SphericalProjectionUtils"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(k,l){__p&&__p();var m=arguments.length<=2||arguments[2]===undefined?false:arguments[2],n=arguments.length<=3||arguments[3]===undefined?false:arguments[3],o=arguments.length<=4||arguments[4]===undefined?true:arguments[4];"use strict";j.call(this);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1=k;this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator2=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator3=this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getCurrentPointOfInterest");this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator6=n;this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator8=o;this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator2.addSubscriptions(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator9),this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator10),this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.FIELD_OF_VIEW_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator10),this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator11),this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_VISIBILITY_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator12));this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4=c("DOM").create("div",{className:"_13ds"+(m?" _3c8f":"")+(n?" _3c8g":""),onclick:this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator13});c("DOM").appendContent(l,this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator5=c("DOMDimensions").getElementDimensions(l);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator14()}i.prototype.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator14=function(){"use strict";if(!this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator3||!this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator8)c("CSS").hide(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4);else c("CSS").show(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4)};i.prototype.destroy=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator2.release()};var j=function j(){__p&&__p();this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator11=function(k){__p&&__p();if(!this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator6&&k){this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.once("SphericalVideoRecenterControl/animationEnd",function(){return this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator6=k}.bind(this));this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator7=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator7.addSubscriptions(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener("updateViewportBegin",function(){return c("CSS").addClass(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4,"_3c8g")}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener("updateViewportEnd",function(){return c("CSS").removeClass(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4,"_3c8g")}.bind(this)))}else{this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator6=k;if(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator7){this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator7.release();this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator7=null}}}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator9=function(){this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator3=this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getCurrentPointOfInterest");this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator14();this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator10()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator10=function(){__p&&__p();if(!this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator3)return;var k=this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator3,l=this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator5,m=l.width,n=l.height;if(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator6){this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4.style.left=m/2+"px";this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4.style.top=n/2+"px";return}var o=this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport"),p=k[2],q=k[1],r=o.yaw,s=o.pitch,t=this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentFieldOfView"),u=c("SphericalProjectionUtils").convert3dTo2dOnScreen(p,q,r,s,t,m,n),v=u.x,w=u.y;this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4.style.left=v+"px";this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4.style.top=w+"px"}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator13=function(){if(!this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator3)return;this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.emit("SphericalHeadingIndicator/click");this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.pause()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator12=function(k){this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator8=k;if(!k)c("CSS").hide(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4);else c("CSS").show(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4)}.bind(this)};f.exports=i}),null);
__d("ComposerVideoUploadSphericalVideoPreviewSpinner",["cx","React","ReactDOM","VideoSpinner","XUISpinner.react","destroyOnUnload"],(function a(b,c,d,e,f,g,h){function i(j,k){"use strict";c("ReactDOM").render(c("React").createElement(c("XUISpinner.react"),{size:"large",className:"_hes"}),k);this.$ComposerVideoUploadSphericalVideoPreviewSpinner1=new(c("VideoSpinner"))(j,k);c("destroyOnUnload")(function(){return c("ReactDOM").unmountComponentAtNode(k)})}f.exports=i}),null);
__d("normalizeYaw",[],(function a(b,c,d,e,f,g){function h(i){var j=arguments.length<=1||arguments[1]===undefined?false:arguments[1],k=j?Math.PI:180,l=k*2;return i>=0?(i+k)%l-k:(i-k)%l+k}f.exports=h}),null);
__d("ComposerVideoUploadSphericalVideoPreviewViewportControl",["ComposerVideoUploadSphericalEvents","SphericalVideoPlayerEvents","SubscriptionsHandler","VideoPlayerStates","VideoPlayerReasonTransitionHelper","VideoPlayerReason","normalizeYaw"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l,m,n){"use strict";__p&&__p();this.$ComposerVideoUploadSphericalVideoPreviewViewportControl13=function(){if(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.getOption("ComposerVideoUploadSphericalMediaToolkit","isEditingHotspot")){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.emit(c("ComposerVideoUploadSphericalEvents").MEDIA_TOOLKIT.SAVE_HOTSPOT);return}if(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.isState(c("VideoPlayerStates").PLAYING))this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.pause();else this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").USER))}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl8=function(o,p){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3.yaw=c("normalizeYaw")(o);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3.pitch=p;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.emit(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl11()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl9=function(o){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4=o;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.emit(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.FIELD_OF_VIEW_UPDATE)}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl10=function(o){if(!o.deltaY)return;var p=Math.log(Math.max(Math.E,Math.abs(o.deltaY))),q=o.deltaY>0?p:-p,r=Math.max(40,Math.min(90,Math.round(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4+q)));this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.setSphericalFieldOfView(r);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl12()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1=i;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3={yaw:j,pitch:k};this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4=l;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5=0;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl6=m;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl7=n;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.registerOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport",function(){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3}.bind(this));this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.registerOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentFieldOfView",function(){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4}.bind(this));this.$ComposerVideoUploadSphericalVideoPreviewViewportControl2=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalVideoPreviewViewportControl2.addSubscriptions(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("viewportChange",this.$ComposerVideoUploadSphericalVideoPreviewViewportControl8),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener(c("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,this.$ComposerVideoUploadSphericalVideoPreviewViewportControl9),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("wheelScroll",this.$ComposerVideoUploadSphericalVideoPreviewViewportControl10),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("updateViewportBegin",function(){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5++}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("updateViewportEnd",function(){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5--;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl11()}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("SphericalVideoRecenterControl/animationStart",function(){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5++}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("SphericalVideoRecenterControl/animationEnd",function(){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5--;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl11()}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("VideoWithSphericalGuide/stateToggle",function(o){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl11();this.$ComposerVideoUploadSphericalVideoPreviewViewportControl12()}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.FIELD_OF_VIEW_UPDATE,function(o){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.setSphericalFieldOfView(o)}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("clickVideo",this.$ComposerVideoUploadSphericalVideoPreviewViewportControl13))}h.prototype.$ComposerVideoUploadSphericalVideoPreviewViewportControl11=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewViewportControl6(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3.yaw,this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3.pitch,!!this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5)};h.prototype.$ComposerVideoUploadSphericalVideoPreviewViewportControl12=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewViewportControl7(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4)};h.prototype.destroy=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewViewportControl2.release()};f.exports=h}),null);
__d("ComposerVideoUploadSphericalVideoTopControlBar.react",["ix","cx","fbt","ComposerVideoUploadSphericalFOVSlider.react","FlexLayout.react","Image.react","React","VideoComposerDialogRadioButton.react","XUIButton.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=40,n=90;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;o.prototype.render=function(){var p=this.props.showOmnistabSection?c("React").createElement("div",{className:"_39qi"},c("React").createElement("div",{className:"_39qj"},c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:this.props.omnistabEnabled,className:"_39qk",label:c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_2l_h",justify:"all"},j._("Stabilise"),c("React").createElement(c("Image.react"),{className:"_2l_q",src:h("438994")})),onSelect:function(event){if(this.props.allowOmnistabToggle)this.props.onToggleEnableOmnistab(event);event.preventDefault()}.bind(this)}))):null,q=c("React").createElement("div",{className:"_39qi"},c("React").createElement("div",{className:"_39qm"},c("React").createElement(c("XUIButton.react"),{className:"_39qq _3k95"+(this.props.isMobilePreview?" _39qr":""),onClick:function(s){return this.$ComposerVideoUploadSphericalVideoTopControlBar1(s,true)}.bind(this),image:c("React").createElement(c("Image.react"),{src:this.props.isMobilePreview?h("438996"):h("407248")}),label:""}),c("React").createElement(c("XUIButton.react"),{className:"_39qq _3k96"+(!this.props.isMobilePreview?" _39qr":""),onClick:function(s){return this.$ComposerVideoUploadSphericalVideoTopControlBar1(s,false)}.bind(this),image:c("React").createElement(c("Image.react"),{src:this.props.isMobilePreview?h("438985"):h("438986")}),label:""}))),r=c("React").createElement(c("ComposerVideoUploadSphericalFOVSlider.react"),{decimalPlaces:0,min:m,max:n,value:this.props.fov,onChange:function(s){return this.props.onFOVUpdate(s)}.bind(this),horizontal:true,newStyling:true});return c("React").createElement("div",{className:"_39qs"},p,q,r)};o.prototype.$ComposerVideoUploadSphericalVideoTopControlBar1=function(event,p){event.preventDefault();this.props.onToggleIsMobilePreview(p)};function o(){k.apply(this,arguments)}f.exports=o}),null);
__d("ComposerVideoUploadSphericalVideo.react",["cx","fbt","ix","ComposerVideoUploadSphericalVideoBottomControlBar.react","ComposerVideoUploadSphericalVideoLoader","ComposerVideoUploadSphericalVideoTopControlBar.react","ComposerVideoUploadSphericalEvents","DOM","ComposerVideoUploadSphericalVideoPreviewEmbeddedControls","ComposerVideoUploadSphericalFOVSlider.react","ComposerVideoUploadSphericalVideoPreviewGuide","Image.react","ComposerVideoUploadSphericalVideoIntroTextSection.react","ComposerVideoUploadSphericalMediaToolkit.react","ComposerVideoUploadSphericalVideoPreviewOverlayButtons","ComposerVideoUploadSphericalVideoPreviewPOIIndicator","React","SphericalVideoPlayerEvents","SphericalVideoRecenterControl","ComposerVideoUploadSphericalVideoPreviewSpinner","VideoPlayerStates","VideoSphericalHeadingIndicator","ComposerVideoUploadSphericalVideoPreviewViewportControl","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=40,n=90;k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(p){"use strict";__p&&__p();l.constructor.call(this,p);this.state={controller:null,isMobilePreview:true};this.$ComposerVideoUploadSphericalVideo11=function(q){__p&&__p();var r=this.props.yaw,s=this.props.pitch,t=this.props.fov,u=this.props.guideEnabled,v=this.props.keyframes.map(function(x){return x.getLegacyParams()}).toJS();if(!this.props.enableComposerRedesign)this.$ComposerVideoUploadSphericalVideo12(function(x){this.$ComposerVideoUploadSphericalVideo3=new(c("ComposerVideoUploadSphericalVideoPreviewEmbeddedControls"))(x,q,this.props.enableComposerRedesign)}.bind(this),function(x){this.$ComposerVideoUploadSphericalVideo5=new(c("ComposerVideoUploadSphericalVideoPreviewPOIIndicator"))(q,x,true,this.props.isEditingKeyframe,this.props.guideVisible)}.bind(this));this.$ComposerVideoUploadSphericalVideo12(function(x){this.$ComposerVideoUploadSphericalVideo2=new(c("VideoSphericalHeadingIndicator"))(q,x,0,0,t,true)}.bind(this),function(x){this.$ComposerVideoUploadSphericalVideo4=new(c("ComposerVideoUploadSphericalVideoPreviewSpinner"))(q,x)}.bind(this),function(x){this.$ComposerVideoUploadSphericalVideo6=new(c("ComposerVideoUploadSphericalVideoPreviewOverlayButtons"))(q,x,u,v,this.props.isEditingKeyframe,this.state.isMobilePreview,true,this.props.enableComposerRedesign)}.bind(this));this.$ComposerVideoUploadSphericalVideo7=new(c("SphericalVideoRecenterControl"))(q,r,s);this.$ComposerVideoUploadSphericalVideo8=new(c("ComposerVideoUploadSphericalVideoPreviewViewportControl"))(q,r,s,t,this.props.onViewportUpdate,this.props.onFOVUpdate);this.$ComposerVideoUploadSphericalVideo9=new(c("ComposerVideoUploadSphericalVideoPreviewGuide"))(q,r,s,u,this.props.enableComposerRedesign,v,this.props.onPointOfInterestAdded,this.props.onPointOfInterestRemoved,this.props.onPointOfInterestsCleared,this.props.togglePointOfInterestEdit,this.props.onPointOfInterestSaved,this.props.updateActiveGuideKeyframe,this.props.onCreateThumbnail,true);this.props.onLoadVideoSuccess(q);this.setState({controller:q});var w=q.addListener("stateChange",function(){if(q.isState(c("VideoPlayerStates").DESTROYED)){w.remove();this.componentWillUnmount();this.setState({controller:null})}}.bind(this))}.bind(this);this.$ComposerVideoUploadSphericalVideo14=function(q){this.setState({isMobilePreview:q});if(this.state.controller)this.state.controller.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.MOBILE_PREVIEW_UPDATE,q)}.bind(this);this.$ComposerVideoUploadSphericalVideo10=function(){if(this.props.shouldLoadVideo){c("ComposerVideoUploadSphericalVideoLoader").load(this.props.videoFile,this.props.videoID,{initialHeading:this.props.yaw,initialPitch:this.props.pitch,fieldOfView:this.props.fov,stereoFormat:this.props.stereoMode,projection:this.props.projection,root:this.refs.container,video:this.refs.video,onSuccess:this.$ComposerVideoUploadSphericalVideo11,onError:this.props.onLoadVideoError,autoplay:true},this.props.enableComposerRedesign);this.$ComposerVideoUploadSphericalVideo10=c("emptyFunction")}}.bind(this)}o.prototype.componentWillUnmount=function(){"use strict";this.$ComposerVideoUploadSphericalVideo3&&this.$ComposerVideoUploadSphericalVideo3.destroy();this.$ComposerVideoUploadSphericalVideo7&&this.$ComposerVideoUploadSphericalVideo7.destroy();this.$ComposerVideoUploadSphericalVideo8&&this.$ComposerVideoUploadSphericalVideo8.destroy();this.$ComposerVideoUploadSphericalVideo5&&this.$ComposerVideoUploadSphericalVideo5.destroy();this.$ComposerVideoUploadSphericalVideo9&&this.$ComposerVideoUploadSphericalVideo9.destroy()};o.prototype.componentDidMount=function(){"use strict";this.$ComposerVideoUploadSphericalVideo10()};o.prototype.componentDidUpdate=function(p){"use strict";__p&&__p();var q=this.state.controller;if(!q){this.$ComposerVideoUploadSphericalVideo10();return}if(this.props.guideEnabled!==p.guideEnabled)q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_STATE_UPDATE,this.props.guideEnabled);if(this.props.guideVisible!==p.guideVisible)q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_VISIBILITY_UPDATE,this.props.guideVisible);if(this.props.fov!==p.fov)q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.FIELD_OF_VIEW_UPDATE,this.props.fov);if(!this.props.keyframes.equals(p.keyframes))q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,this.props.keyframes.map(function(r){return r.getLegacyParams()}).toJS());if(this.props.isEditingKeyframe!==p.isEditingKeyframe)q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.props.isEditingKeyframe);if(this.props.projection!==p.projection)q.emit(c("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,this.props.projection);if(this.props.stereoMode!==p.stereoMode)q.emit(c("SphericalVideoPlayerEvents").SET_STEREO_MODE,this.props.stereoMode)};o.prototype.$ComposerVideoUploadSphericalVideo12=function(){"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];q.forEach(function(s){var t=c("DOM").create("div",{className:"_4jd4"+(this.props.enableComposerRedesign?" _251a":"")});c("DOM").insertAfter(this.refs.video,t);s(t)}.bind(this))};o.prototype.$ComposerVideoUploadSphericalVideo13=function(p){"use strict";return n-p+m};o.prototype.render=function(){"use strict";__p&&__p();var p=this.props,q=p.enableComposerRedesign,r=p.enableTextHotspots,s=p.enableImageHotspots,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0;if(this.props.videoLoading)t=c("React").createElement("div",{className:"_3u_t"},c("React").createElement("div",{className:"_3u_u"},i._("Loading video preview...")));else if(this.props.videoUnavailable)t=c("React").createElement("div",{className:"_3u_t"},c("React").createElement("div",{className:"_3u_u"},i._("Video preview unavailable")));else{if(q){if(this.state.isMobilePreview)t=[c("React").createElement(c("Image.react"),{key:"phone-image",className:"_4ncu"+(!this.state.isMobilePreview?" _4nfs":""),src:j("415900")}),c("React").createElement("div",{key:"left",className:"_4nft _4nfu"+(!this.state.isMobilePreview?" _4nfs":"")}),c("React").createElement("div",{key:"right",className:"_4nft _4ngc"+(!this.state.isMobilePreview?" _4nfs":"")})]}else t=[c("React").createElement("div",{key:"left",className:"_29zb _29zc"}),c("React").createElement("div",{key:"right",className:"_29zb _29zd"})];if(q&&this.state.controller){u=c("React").createElement(c("ComposerVideoUploadSphericalVideoTopControlBar.react"),{allowOmnistabToggle:this.props.allowOmnistabToggle,omnistabEnabled:this.props.omnistabEnabled,showOmnistabSection:this.props.showOmnistabSection,onToggleEnableOmnistab:this.props.onToggleEnableOmnistab,onToggleIsMobilePreview:this.$ComposerVideoUploadSphericalVideo14,isMobilePreview:this.state.isMobilePreview,fov:this.props.fov,onFOVUpdate:this.props.onFOVUpdate});v=c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBar.react"),{controller:this.state.controller,projection:this.props.projection,stereoMode:this.props.stereoMode,hasSpatialAudio:this.props.hasSpatialAudio,onProjectionSelected:this.props.onProjectionSelected,onStereoModeSelected:this.props.onStereoModeSelected,onToggleSpatialAudio:this.props.onToggleSpatialAudio,isEditing:this.props.isEditing,componentSource:this.props.componentSource});if(r||s)x=c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkit.react"),{controller:this.state.controller,enableImageHotspots:this.props.enableImageHotspots,enableTextHotspots:this.props.enableTextHotspots,fov:this.props.fov,hotspots:this.props.hotspots,nextId:this.props.nextHotspotId,pitch:this.props.pitch,yaw:this.props.yaw,onGuideVisibilityUpdate:this.props.onGuideVisibilityUpdate,onHotspotAdded:this.props.onHotspotAdded,onHotspotDeleted:this.props.onHotspotDeleted,onViewportUpdate:this.props.onViewportUpdate});y=c("React").createElement(c("ComposerVideoUploadSphericalVideoIntroTextSection.react"),{componentSource:this.props.componentSource,enableImageHotspots:this.props.enableImageHotspots,enableTextHotspots:this.props.enableTextHotspots})}else w=c("React").createElement(c("ComposerVideoUploadSphericalFOVSlider.react"),{decimalPlaces:0,min:m,max:n,value:this.props.fov,onChange:function(z){return this.props.onFOVUpdate(z)}.bind(this)})}return c("React").createElement("div",{ref:"root",className:"_4jd5"+(q&&this.state.controller?" _251a":"")},y,u,c("React").createElement("div",{className:"_251b"+(q?" _251a":"")},w,c("React").createElement("div",{ref:"container",className:"_4jd6"+(this.state.isMobilePreview?" _251f":"")},c("React").createElement("video",{ref:"video",crossOrigin:"anonymous",className:"_4jd7"}),t,x)),v)};f.exports=o}),null);
__d("PageActionURLHandlerType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ASYNC_DIALOG:"async-dialog",ASYNC_POST:"async-post",DIALOG:"dialog",DIALOG_POST:"dialog-post",LINK_OUT:"link-out"})}),null);
__d("PageActionBarActionSelector.react",["ix","fbt","ContextualDialogArrow","Image.react","PageActionURLHandlerType","PopoverMenu.react","React","ReactXUIMenu","URI","XUIButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("ReactXUIMenu").Item,k=function k(m){return c("React").createElement(c("ReactXUIMenu"),null,m.actions.map(function(n){if(!n.url||!n.label||!n.label.text)return null;var o=c("PageActionURLHandlerType")[n.url_handler_type]||null,p=n.url;if(o==="async-dialog"||o==="async-post"||o==="dialog")p=new(c("URI"))(n.url).getUnqualifiedURI().toString();return c("React").createElement(j,{href:p,key:n.label.text,rel:o},n.label.text)}))},l=function l(m){if(m.actions.length==0)return null;return c("React").createElement(c("PopoverMenu.react"),{alignh:"right",layerBehaviors:[c("ContextualDialogArrow")],menu:k(m)},c("React").createElement(c("XUIButton.react"),{haschevron:false,image:c("React").createElement(c("Image.react"),{src:h("127000")}),label:i._("More"),labelIsHidden:true,size:"large"}))};f.exports=l}),null);
__d("PageActionContainer.react",["invariant","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=j.action.ReactComponent;if(!k)return null;return c("React").createElement(k,j)};f.exports=i}),null);
__d("XLoggedOutInlineLoginDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/logged_out_inline_modal/content/",{redirect_uri:{type:"String"}})}),null);
__d("PageActionInlineLoginWrapper.react",["AsyncRequest","React","XLoggedOutInlineLoginDialogController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={loginPromptCreated:false},this.$PageActionInlineLoginWrapper2=function(p){if(this.props.loggedOutSEOEnabled){p.stopPropagation();this.$PageActionInlineLoginWrapper3()}}.bind(this),l}j.prototype.$PageActionInlineLoginWrapper3=function(){if(this.$PageActionInlineLoginWrapper1)this.$PageActionInlineLoginWrapper4(this.$PageActionInlineLoginWrapper1)};j.prototype.$PageActionInlineLoginWrapper4=function(k){if(!this.state.loginPromptCreated){this.$PageActionInlineLoginWrapper5(k);this.setState({loginPromptCreated:true})}};j.prototype.$PageActionInlineLoginWrapper5=function(k){var l=c("XLoggedOutInlineLoginDialogController").getURIBuilder().setString("redirect_uri",this.props.next).getURI();new(c("AsyncRequest"))().setURI(l).setMethod("POST").setRelativeTo(k).send()};j.prototype.render=function(){return c("React").createElement("div",{onClickCapture:this.$PageActionInlineLoginWrapper2,ref:function(k){return this.$PageActionInlineLoginWrapper1=k}.bind(this)},this.props.children)};f.exports=j}),null);
__d("PageActionOpenURLAsyncDialog.react",["cx","AsyncDialog","AsyncRequest","React","URI","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=j.action,l=k.label,m=k.url,n=k.hideButtonText;if(l===null||m===null)return null;return c("React").createElement(c("XUIButton.react"),{className:"_rfh",image:j.image,label:l.text,labelIsHidden:n,onClick:function o(){return c("AsyncDialog").send(new(c("AsyncRequest"))(new(c("URI"))(m).getUnqualifiedURI()))},size:j.size})};f.exports=i}),null);
__d("PageActionOpenURLAsyncPost.react",["cx","AsyncRequest","React","URI","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=j.action,l=k.label,m=k.url;if(l===null||m===null)return null;return c("React").createElement(c("XUIButton.react"),{className:"_rfh",image:j.image,label:l.text,onClick:function n(){return new(c("AsyncRequest"))(new(c("URI"))(m).getUnqualifiedURI()).send()},size:j.size})};f.exports=i}),null);
__d("PageActionOpenURLLinkOut.react",["cx","React","Tooltip","XUIButton.react","goURI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=14,j=function j(k){var l=k.action,m=l.label,n=l.url;if(m===null||n===null)return null;var o=c("React").createElement(c("XUIButton.react"),{className:"_rfh",image:k.image,label:m.text,onClick:function p(){return c("goURI")(n)},size:k.size});if(m.text.length>=i)o=c("React").cloneElement(o,c("Tooltip").propsFor(m.text));return o};f.exports=j}),null);
__d("PageCTAAction.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){var j=i.ReactComponent,k=i.call_to_action,l=i.cta_config,m=i.foodAndDrinkLoggingParams,n=i.should_auto_open,o=i.surface;return c("React").createElement(j,babelHelpers["extends"]({},i,{cta:{id:k?k.id:null,label:l&&l.label||k&&k.label||null,type:l&&l.cta_type||k&&k.cta_type||null},extraProps:{foodAndDrinkLoggingParams:m,shouldAutoOpen:Boolean(n)},page:{id:i.page.id},surface:o}))};f.exports=h}),null);
__d("PagesMessengerLinkConfirmationDialog.react",["ix","cx","fbt","Image.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=494;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{shown:this.props.shown,onToggle:function(o){return!o&&this.props.onDismiss}.bind(this),width:m},c("React").createElement(c("XUIDialogBody.react"),{className:"_3-95 _3pa-"},c("React").createElement(c("Image.react"),{className:"_3-97 _3-8x",src:"/images/pages/linkshare/checkmark.png"}),c("React").createElement(c("XUIText.react"),{size:"header3",display:"block"},j._("The Messenger link has been copied.")),c("React").createElement(c("XUIText.react"),{className:"_3-8y",display:"block",size:"header4"},j._("The Messenger link has been copied to your clipboard. Any person who clicks this link will be able to initiate a conversation with your Page."))),c("React").createElement(c("XUIDialogFooter.react"),{className:"_3pa_",fullbleedborder:"true",leftContent:c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_1-vn _3-8_",src:h("126379")}),c("React").createElement(c("XUIGrayText.react"),null,this.props.url))},c("React").createElement(c("XUIDialogButton.react"),{use:"confirm",label:j._("Done"),onClick:this.props.onDismiss})))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("XPagesOnlineIndicatorAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/messaging/show_online_indicator/",{page_id:{type:"FBID",required:true}})}),null);
__d("PagesMessageButton.react",["cx","fbt","ix","AsyncRequest","ChatOpenTabEventLogger","Clipboard","ContextualDialogArrow","ContextualLayerUpdateOnScroll","FantaTabActions","Image.react","InlineBlock.react","MenuSeparator.react","MercuryIDs","MessagingSourceEnum","PagesBlueMessageButtonQE","PagesEventObserver","PagesEventType","PagesMessengerLinkConfirmationDialog.react","PopoverMenu.react","PopoverMenuShowOnHover","React","ReactXUIMenu","XBasicFBNuxDismissController","XPagesOnlineIndicatorAsyncController","XUIAmbientNUX.react","XUIButton.react","XUIPopoverButton.react","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item,n=3997,o=j("114247"),p=j("127062");k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(r){__p&&__p();l.constructor.call(this,r);this.$PagesMessageButton1=function(event){var s=this.props.pageID,t=c("MercuryIDs").getThreadIDFromUserID(s);c("FantaTabActions").openTab(t,[this.props.settings.ref]);c("ChatOpenTabEventLogger").logUserClickOpen(this.props.settings.ref,s)}.bind(this);this.$PagesMessageButton6=function(event){var s=this.props.settings.adminSettings&&this.props.settings.adminSettings.messengerLinkURI;if(!s)return;c("Clipboard").copy(s);this.setState({linkDialogShown:true});c("PagesEventObserver").notify(c("PagesEventType").SHARED_MESSAGE_LINK_COPY,this.props.pageID,{source:c("MessagingSourceEnum").PAGES_MESSAGE_SHORTLINK})}.bind(this);this.$PagesMessageButton7=function(){this.setState({linkDialogShown:false})}.bind(this);this.$PagesMessageButton9=function(){this.setState({nuxDismissed:true})}.bind(this);this.$PagesMessageButton10=function(){this.setState({messengerLinkNUXDismissed:true});var s=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",n).getURI();new(c("AsyncRequest"))().setURI(s).send()}.bind(this);this.state={isOnline:false,linkDialogShown:false,messengerLinkNUXDismissed:false,nuxDismissed:false}}q.prototype.componentWillMount=function(){var r=c("XPagesOnlineIndicatorAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI();new(c("AsyncRequest"))().setURI(r).setHandler(function(s){var t=s.payload;this.setState({isOnline:t.showOnlneIndicator})}.bind(this)).send()};q.getButtonSize=function(r){return c("XUIButton.react").getButtonSize(r)};q.prototype.componentDidMount=function(){c("PagesEventObserver").notify(c("PagesEventType").MESSAGES_BUTTON_RENDER,this.props.pageID,{source:"refresh",logged_out:!this.props.settings.isLoggedIn,ref:this.props.settings.ref})};q.prototype.render=function(){__p&&__p();if(!this.props.settings.isLoggedIn)return null;var r=false;if(c("PagesBlueMessageButtonQE").showBlueSecondaryButton)r=true;var s=i._("Message");if(!this.props.settings.adminSettings)if(this.props.className)s=i._("Send Message");else if(this.props.settings.label)s=i._("{settings_label}",[i.param("settings_label",this.props.settings.label)]);var t=this.props.settings.adminSettings?c("React").createElement(c("XUIPopoverButton.react"),{className:c("joinClasses")(this.props.className,"_p8f"),image:c("React").createElement(c("Image.react"),{src:p}),label:s,onClick:this.$PagesMessageButton1,ref:"messageButton",size:this.props.size,"data-testid":"page-message-button"}):c("React").createElement(c("XUIButton.react"),{className:c("joinClasses")(this.props.className,"_p8f"),image:r?c("React").createElement(c("Image.react"),{src:this.props.className?null:o}):c("React").createElement(c("Image.react"),{src:this.props.className?null:p}),imageRight:this.$PagesMessageButton2(),label:s,onClick:this.$PagesMessageButton1,ref:"messageButton",size:this.props.size,use:r?"confirm":"default","data-testid":"page-message-button"});if(this.props.settings.adminSettings)t=c("React").createElement(c("PopoverMenu.react"),{className:c("joinClasses")(this.props.className,"_3u42"),alignh:"right",menu:this.$PagesMessageButton3(),behaviors:[c("PopoverMenuShowOnHover")],layerBehaviors:[c("ContextualDialogArrow")]},t,this.$PagesMessageButton4());return c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:"_3u43 _p8r"},t,this.$PagesMessageButton5())};q.prototype.$PagesMessageButton2=function(){if(!this.state.isOnline)return null;return c("React").createElement("span",{className:"_ljx"},c("React").createElement(c("Image.react"),{src:j("311942")}))};q.prototype.$PagesMessageButton3=function(){if(!this.props.settings.adminSettings)return null;var r=null;if(this.props.settings.adminSettings.messengerLinkURI)r=c("React").createElement(m,{onclick:this.$PagesMessageButton6},i._("Copy Messenger Link"));return c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(m,{href:this.props.settings.adminSettings.inboxURI},i._("View Messages")),this.props.settings.adminSettings.messengerLinkURI?c("React").createElement(c("MenuSeparator.react"),null):null,r)};q.prototype.$PagesMessageButton4=function(){var r=this.props.settings.adminSettings&&this.props.settings.adminSettings.messengerLinkURI;if(!r)return null;return c("React").createElement(c("PagesMessengerLinkConfirmationDialog.react"),{onDismiss:this.$PagesMessageButton7,shown:this.state.linkDialogShown,url:r})};q.prototype.$PagesMessageButton5=function(){if(this.props.settings.adminSettings&&this.props.settings.adminSettings.showMessengerLinkNUX)return this.$PagesMessageButton8();if(!this.props.settings.showNUX)return null;var r=this.props.pageCategory==="WORKPLACE_BOT"?i._("Send a message to this Bot."):i._("Send a message to this Page.");return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"center",behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.messageButton}.bind(this),onCloseButtonClick:this.$PagesMessageButton9,position:"below",shown:!this.state.nuxDismissed,width:"auto"},r)};q.prototype.$PagesMessageButton8=function(){if(!this.props.settings.adminSettings||!this.props.settings.adminSettings.showMessengerLinkNUX)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"right",autofocus:false,behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.messageButton}.bind(this),onCloseButtonClick:this.$PagesMessageButton10,position:"below",shown:!this.state.messengerLinkNUXDismissed,width:"wide"},i._("You can now share a direct link that makes it easy for people to message your Page."))};f.exports=q}),null);
__d("PageMessageAction.react",["MessengerDiscoveryEntryPoint","PagesMessageButton.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.action;return c("React").createElement(c("PagesMessageButton.react"),{className:this.props.className,icon:this.props.icon,pageID:k.page.id,pageCategory:k.page.category_type,settings:{adminSettings:k.admin_inbox_url?{inboxURI:k.admin_inbox_url,messengerLinkURI:k.admin_messenger_link_url,showMessengerLinkNUX:k.admin_show_messenger_link_nux}:null,isLoggedIn:true,ref:c("MessengerDiscoveryEntryPoint").FB_PAGE_SECONDARY_MESSAGE_BUTTON,showNUX:k.show_nux,label:k.label.text},size:this.props.size})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("XSavedForLaterDashboardController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/saved/",{collection_token:{type:"String"},tag_filter:{type:"String"},cref:{type:"Int"},suggestion_dialog:{type:"Int"},cursor:{type:"String"},notif_id:{type:"Int"},dashboard_section:{type:"Enum",enumType:1},cref_name:{type:"String"},a_type:{type:"String"},search_token:{type:"String"},list_id:{type:"Int"},tab:{type:"Enum",enumType:1}})}),null);
__d("PageSaveAction.react",["ix","fbt","ContextualDialogArrow","Image.react","PageActionOpenURLAsyncPost.react","PageActionURLHandlerType","PopoverMenu.react","PopoverMenuShowOnHover","React","ReactXUIMenu","URI","XSavedForLaterDashboardController","XUIPopoverButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("ReactXUIMenu").Item,k=function k(l){var m=l.action,n=m.url,o=m.url_handler_type,p=m.page;if(!p.has_viewer_saved)return c("React").createElement(c("PageActionOpenURLAsyncPost.react"),babelHelpers["extends"]({},l,{image:c("React").createElement(c("Image.react"),{src:h("127260")})}));var q=c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(j,{href:new(c("URI"))(n).getUnqualifiedURI(),key:"unsave",rel:c("PageActionURLHandlerType")[o]||null},i._("Unsave")),c("React").createElement(j,{href:c("XSavedForLaterDashboardController").getURIBuilder().getURI(),key:"view_saved"},i._("View saved items")));return c("React").createElement(c("PopoverMenu.react"),{behaviors:[c("PopoverMenuShowOnHover")],layerBehaviors:[c("ContextualDialogArrow")],menu:q},c("React").createElement(c("XUIPopoverButton.react"),{image:c("React").createElement(c("Image.react"),{src:h("116046")}),label:i._("Saved"),size:"large"}))};f.exports=k}),null);
__d("PageSharePageAction.react",["ix","Image.react","PageActionOpenURLAsyncDialog.react","React","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){return c("React").createElement(c("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},j,{image:c("React").createElement(c("Image.react"),{src:h("128367")})}))};f.exports=i}),null);
__d("PageSimpleActionWithURL.react",["Image.react","PageActionOpenURLAsyncDialog.react","PageActionOpenURLAsyncPost.react","PageActionOpenURLLinkOut.react","React","idx"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){var j,k,l=(j=i)!=null?(j=j.action)!=null?j.url_handler_type:j:j,m=(k=i)!=null?(k=k.action)!=null?(k=k.icon)!=null?(k=k.icon_image)!=null?k.uri:k:k:k:k,n=m?c("React").createElement(c("Image.react"),{height:16,width:16,src:m}):null;switch(l){case"ASYNC_DIALOG":return c("React").createElement(c("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},i,{image:n}));case"ASYNC_POST":return c("React").createElement(c("PageActionOpenURLAsyncPost.react"),babelHelpers["extends"]({},i,{image:n}));default:return c("React").createElement(c("PageActionOpenURLLinkOut.react"),babelHelpers["extends"]({},i,{image:n}))}};f.exports=h}),null);
__d("PagesHeaderFollowButton.react",["ix","cx","fbt","BasicFBNux","ContextualDialogArrow","Image.react","Link.react","PageGetNotificationUtil","PagesButton.react","PagesLikeFollowHelper","PagesProfileTestID","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","ProfileSubFollowStatus","React","ReactXUIMenu","SnoozedProfileTypedLogger","XUIAmbientNUX.react","XUIButton.react","XUIMenuSeparator.react","XUIPopoverButton.react","XUIText.react","asset","fbglyph","gkx","uuid"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").SelectableMenu,n=c("ReactXUIMenu").Item,o=4225,p=5571;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.$PagesHeaderFollowButton8=function(){if(this.props.snoozeStatus)new(c("SnoozedProfileTypedLogger"))().setEvent("cancel_end_snooze").setItemObjID(this.props.pageID).setSessionID(this.$PagesHeaderFollowButton1).log()}.bind(this),this.$PagesHeaderFollowButton9=function(event){if(c("gkx")("AT6MZ5ZRlgEf2bedgEASGvEyincZq_XgZfJwcwy3igqhf5fj66SPxd6pMonVxdKGDaP3Od_7h5-NJvaBAZG_FXVSf_YksT8mBoQ9IjuJhoInkw"))c("PagesLikeFollowHelper").onFollowChangeWithTrackingData(event.target,this.props.pageID,true,this.props.followLocation);else c("PagesLikeFollowHelper").onFollowChange(this.props.pageID,true,this.props.followLocation);if(this.props.shouldShowFollowPrivacyNux){this.setState({privacyNuxShown:true});c("BasicFBNux").onView(o)}}.bind(this),this.$PagesHeaderFollowButton11=function(event){if(c("gkx")("AT6MZ5ZRlgEf2bedgEASGvEyincZq_XgZfJwcwy3igqhf5fj66SPxd6pMonVxdKGDaP3Od_7h5-NJvaBAZG_FXVSf_YksT8mBoQ9IjuJhoInkw"))c("PagesLikeFollowHelper").onFollowChangeWithTrackingData(event.target,this.props.pageID,false,this.props.followLocation);else c("PagesLikeFollowHelper").onFollowChange(this.props.pageID,false,this.props.followLocation)}.bind(this),s}q.getButtonSize=function(r){return c("XUIButton.react").getButtonSize(r)};q.prototype.componentWillMount=function(){this.$PagesHeaderFollowButton1=c("uuid")();if(this.props.shouldShowFollowButtonNux===true)c("BasicFBNux").onView(p);this.setState({privacyNuxShown:false,followButtonNuxShown:this.props.shouldShowFollowButtonNux})};q.prototype.componentWillUnmount=function(){this.$PagesHeaderFollowButton1=null};q.prototype.render=function(){__p&&__p();if(!this.props.followAllowed)return null;var r=void 0,s=void 0;if(this.props.snoozeStatus){r=this.$PagesHeaderFollowButton2();s=this.$PagesHeaderFollowButton3();new(c("SnoozedProfileTypedLogger"))().setEvent("profile_visit").setItemObjID(this.props.pageID).setSessionID(this.$PagesHeaderFollowButton1).log()}else{if(!this.props.followStatus)return this.$PagesHeaderFollowButton4();else if(this.props.disableDropdown)return this.$PagesHeaderFollowButton5();r=this.$PagesHeaderFollowButton6();s=this.$PagesHeaderFollowButton7()}var t=c("React").createElement(c("PopoverMenu.react"),{alignh:"right",behaviors:[c("PopoverMenuOverlappingBorder"),c("PopoverMenuShowOnHover")],layerBehaviors:[c("ContextualDialogArrow")],menu:c("React").createElement(m,{className:"_4bje"+(this.props.snoozeStatus?" _3qn5":""),multiple:true},s),onHide:this.$PagesHeaderFollowButton8},r);if(this.props.asPrimaryButton==="true")return c("React").createElement("div",{className:"_6534"},t);return t};q.prototype.$PagesHeaderFollowButton4=function(){if(this.props.blueFollowButton)return c("React").createElement(c("PagesButton.react"),{color:"fbblue",image:c("React").createElement(c("Image.react"),{className:"ctaButtonIcon",src:h("114929")}),label:c("React").createElement("span",{className:"blueButtonLabel"},j._("Follow")),onClick:this.$PagesHeaderFollowButton9});if(this.props.asPrimaryButton==="true")return c("React").createElement("span",{className:"_6534 uiContextualLayerParent"},c("React").createElement(c("XUIButton.react"),{"data-testid":this.props.origin+c("PagesProfileTestID").FOLLOW_BUTTON_ID,image:c("React").createElement(c("Image.react"),{src:h("114929")}),label:j._("Follow"),onClick:this.$PagesHeaderFollowButton9,ref:"followButton",size:"large",use:"confirm"}),this.$PagesHeaderFollowButton10());return c("React").createElement(c("XUIButton.react"),{"data-testid":this.props.origin+c("PagesProfileTestID").FOLLOW_BUTTON_ID,image:c("React").createElement(c("Image.react"),{src:h("127712")}),label:j._("Follow"),onClick:this.$PagesHeaderFollowButton9,size:this.props.size})};q.prototype.$PagesHeaderFollowButton5=function(){if(this.props.blueFollowButton)return c("React").createElement(c("PagesButton.react"),{color:"fbblue",image:c("React").createElement(c("Image.react"),{className:"ctaButtonIcon",src:h("114932")}),label:c("React").createElement("span",{className:"blueButtonLabel"},j._("Following")),onClick:this.$PagesHeaderFollowButton11});return c("React").createElement(c("XUIButton.react"),{image:c("React").createElement(c("Image.react"),{src:h("116498")}),label:j._("Following"),onClick:this.$PagesHeaderFollowButton11,size:this.props.size})};q.prototype.$PagesHeaderFollowButton6=function(){if(this.props.asPrimaryButton==="true")return c("React").createElement("div",null,c("React").createElement(c("XUIPopoverButton.react"),{"data-testid":this.props.origin+c("PagesProfileTestID").FOLLOWED_BUTTON_ID,image:c("React").createElement(c("Image.react"),{src:h("116533")}),label:j._("Following"),ref:"followedButton",size:"large"}),this.renderLayers());return c("React").createElement("div",null,c("React").createElement(c("XUIPopoverButton.react"),{"data-testid":this.props.origin+c("PagesProfileTestID").FOLLOWED_BUTTON_ID,image:c("React").createElement(c("Image.react"),{src:h("116498")}),label:j._("Following"),ref:"followedButton",size:this.props.size}),this.renderLayers())};q.prototype.$PagesHeaderFollowButton2=function(){return c("React").createElement("div",null,c("React").createElement(c("XUIPopoverButton.react"),{className:this.props.origin==="hovercard"?"_29kr":"",image:c("React").createElement(c("Image.react"),{src:h("396312")}),label:(this.props.snoozeData||{}).stateText,ref:"snoozedButton",size:this.props.size}))};q.prototype.renderLayers=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.followedButton}.bind(this),shown:this.state.privacyNuxShown,position:"right",onCloseButtonClick:function(){return this.$PagesHeaderFollowButton12()}.bind(this),key:"ambientNUX"},j._("You can control who can see the people, Pages and lists you follow {hyperlink for help center}.",[j.param("hyperlink for help center",c("React").createElement(c("Link.react"),{href:"/ajax/timeline/friends/edit_dialog.php",rel:"dialog"},j._("here")))]))};q.prototype.$PagesHeaderFollowButton12=function(){this.setState({privacyNuxShown:false});c("BasicFBNux").onDismiss(o)};q.prototype.$PagesHeaderFollowButton10=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.followButton}.bind(this),onCloseButtonClick:function(){return this.$PagesHeaderFollowButton13()}.bind(this),position:"below",shown:this.state.followButtonNuxShown,key:"ambientNUX"},c("React").createElement(c("Image.react"),{className:"_2tv4",src:h("418478")}),c("React").createElement("div",{className:"_2tv5"},j._("Follow this show to get new episodes in your watchlist on Facebook Watch.")))};q.prototype.$PagesHeaderFollowButton13=function(){this.setState({followButtonNuxShown:false});c("BasicFBNux").onDismiss(p)};q.prototype.$PagesHeaderFollowButton3=function(){return[c("React").createElement(n,{className:"_10it",key:"Unsnooze."+this.props.pageID,onclick:function(){c("PagesLikeFollowHelper").onSnoozeChange(this.props.pageID,false);new(c("SnoozedProfileTypedLogger"))().setEvent("end_snooze").setItemObjID(this.props.pageID).setSessionID(this.$PagesHeaderFollowButton1).log()}.bind(this)},c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},(this.props.snoozeData||{}).actionText),c("React").createElement(c("XUIText.react"),{size:"meta1",className:"_34kz"},(this.props.snoozeData||{}).timeLeftText))]};q.prototype.$PagesHeaderFollowButton7=function(){var r=c("PageGetNotificationUtil").isNotifStatusOn(this.props.notifStatus);return[c("React").createElement(n,{"data-testid":c("PagesProfileTestID").UNFOLLOW_PAGE_ITEM,key:"Unfollow."+this.props.pageID,onclick:this.$PagesHeaderFollowButton11},j._("Unfollow this Page")),c("React").createElement(c("XUIMenuSeparator.react"),{key:"follow_seperator"}),c("PagesLikeFollowHelper").newsfeedTitleMenuItem(this.props.pageID),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").SEE_FIRST,this.props.newsFeedStatus),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").REGULAR_FOLLOW,this.props.newsFeedStatus),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").UNFOLLOW,this.props.newsFeedStatus),c("PagesLikeFollowHelper").notificationTitleMenuItem(this.props.pageID),c("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,true,r,this.props.notifStatus),c("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,false,!r,this.props.notifStatus)]};f.exports=q}),null);
__d("PagesHeaderFollowButtonContainer.react",["FluxContainer","PageNewsFeedStore","PagesFollowStore","PagesGetNotificationStore","PagesHeaderFollowButton.react","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","PagesLikeStore","PagesSnoozeStore","React","XUIButton.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getButtonSize=function(k){return c("XUIButton.react").getButtonSize(k)};j.getStores=function(){return[c("PagesLikeStore"),c("PagesFollowStore"),c("PagesSnoozeStore"),c("PageNewsFeedStore"),c("PagesGetNotificationStore")]};j.calculateState=function(k,l){var m=c("PagesLikeStore").getState(),n=c("PagesFollowStore").getState(),o=c("PagesSnoozeStore").getState()[l.pageID]||{},p=c("PagesGetNotificationStore").getState(),q=c("PageNewsFeedStore").getState(),r={pageID:l.pageID,pageName:l.pageName,actorID:l.actorID,followAllowed:l.followAllowed,followLocation:l.followLocation,newsFeedStatus:q[l.pageID],disableDropdown:l.disableDropdown,shouldShowFollowPrivacyNux:l.shouldShowFollowPrivacyNux,likeStatus:m[l.pageID],followStatus:n[l.pageID],snoozeStatus:o.status,snoozeData:o.data,notifStatus:babelHelpers["extends"]({},p[l.pageID]),origin:l.origin,size:l.size,showUnpublishPageDialog:l.showUnpublishPageDialog,blueFollowButton:l.blueFollowButton,asPrimaryButton:l.asPrimaryButton,shouldShowFollowButtonNux:l.shouldShowFollowButtonNux};return r};j.prototype.componentWillMount=function(){c("PagesLikeFollowNotifDispatcher").explicitlyRegisterStores([c("PagesLikeStore"),c("PagesFollowStore"),c("PagesSnoozeStore"),c("PageNewsFeedStore"),c("PagesGetNotificationStore")]);c("PagesLikeFollowNotifDispatcher").dispatch({data:this.props,type:c("PagesLikeFollowNotifActions").INIT_DATA})};j.prototype.render=function(){return c("React").createElement(c("PagesHeaderFollowButton.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("PageLiveVideoNotifSettingType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EXPLICIT:"on",INFERRED:"inferred",UNSUBSCRIBE:"off"})}),null);
__d("PagesHeaderGamesNotificationButton.react",["ix","cx","fbt","ContextualDialogArrow","Image.react","PageGetNotificationUtil","PageLikeButton","PageLiveVideoNotifSettingType","PagesLikeFollowHelper","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","ProfileSubFollowStatus","React","ReactXUIMenu","XUIButton.react","XUIMenuSeparator.react","XUIPopoverButton.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").SelectableMenu,n=c("ReactXUIMenu").Item,o=j._("Get Notifications");function p(s){return c("React").createElement(c("XUIButton.react"),{image:c("React").createElement(c("Image.react"),{src:h("478005")}),label:o,onClick:s.onFollowClick,size:"large"})}function q(){return c("React").createElement(c("XUIPopoverButton.react"),{image:c("React").createElement(c("Image.react"),{src:h("477998")}),label:o,size:"large"})}k=babelHelpers.inherits(r,c("React").PureComponent);l=k&&k.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=l.constructor).call.apply(s,[this].concat(v)),this.$PagesHeaderGamesNotificationButton1=function(event){c("PageLikeButton").doLikeAction(event.target,this.props.pageID,this.props.origin,this.props.actorID);c("PagesLikeFollowNotifDispatcher").dispatch({data:{pageID:this.props.pageID,state:c("PageLiveVideoNotifSettingType").EXPLICIT,type:"live_video"},type:c("PagesLikeFollowNotifActions").NOTIF_CHANGE})}.bind(this),this.$PagesHeaderGamesNotificationButton2=function(event){c("PageLikeButton").doUnlikeAction(event,this.props.pageID,this.props.origin,this.props.actorID)}.bind(this),t}r.prototype.$PagesHeaderGamesNotificationButton3=function(){var s=c("PageGetNotificationUtil").isNotifStatusOn(this.props.notifStatus);return[c("React").createElement(n,{key:"Unfollow."+this.props.pageID,onclick:this.$PagesHeaderGamesNotificationButton2},j._("Stop Receiving Notifications")),c("React").createElement(c("XUIMenuSeparator.react"),{key:"follow_seperator"}),c("PagesLikeFollowHelper").newsfeedTitleMenuItem(this.props.pageID),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").SEE_FIRST,this.props.newsFeedStatus),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").REGULAR_FOLLOW,this.props.newsFeedStatus),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").UNFOLLOW,this.props.newsFeedStatus),c("PagesLikeFollowHelper").notificationTitleMenuItem(this.props.pageID),c("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,true,s,this.props.notifStatus),c("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,false,!s,this.props.notifStatus)]};r.prototype.render=function(){return this.props.isSubscribed?c("React").createElement(c("PopoverMenu.react"),{alignh:"right",behaviors:[c("PopoverMenuOverlappingBorder"),c("PopoverMenuShowOnHover")],layerBehaviors:[c("ContextualDialogArrow")],menu:c("React").createElement(m,{className:"_4bje",multiple:true},this.$PagesHeaderGamesNotificationButton3())},c("React").createElement(q,null)):c("React").createElement(p,{onFollowClick:this.$PagesHeaderGamesNotificationButton1})};f.exports=r}),null);
__d("PagesHeaderGamesNotificationContainer.react",["FluxContainer","PageNewsFeedStore","PagesFollowStore","PagesGetNotificationStore","PagesHeaderGamesNotificationButton.react","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","PagesLikeStore","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("PagesFollowStore"),c("PagesGetNotificationStore"),c("PagesLikeStore"),c("PageNewsFeedStore")]};j.calculateState=function(k,l){var m=c("PagesLikeStore").getState(),n=c("PagesFollowStore").getState();return{actorID:l.actorID,followLocation:l.followLocation,isSubscribed:m[l.pageID]||n[l.pageID],newsFeedStatus:c("PageNewsFeedStore").getState()[l.pageID],notifStatus:babelHelpers["extends"]({},c("PagesGetNotificationStore").getState()[l.pageID]),origin:l.origin,pageID:l.pageID}};j.prototype.componentWillMount=function(){c("PagesLikeFollowNotifDispatcher").explicitlyRegisterStores([c("PagesFollowStore"),c("PagesGetNotificationStore"),c("PagesLikeStore"),c("PageNewsFeedStore")]);c("PagesLikeFollowNotifDispatcher").dispatch({data:this.props,type:c("PagesLikeFollowNotifActions").INIT_DATA})};j.prototype.render=function(){return c("React").createElement(c("PagesHeaderGamesNotificationButton.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("PagesActionBarChannel.react",["cx","PageActionBarActionSelector.react","PageActionContainer.react","PageActionInlineLoginWrapper.react","PageCallToActionRef","PageCTAAction.react","PagesHeaderFollowButtonContainer.react","PagesHeaderGamesNotificationContainer.react","PagesHeaderLikeButtonContainer.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(j){return c("React").createElement("div",{className:"_51xa _5hgz"},j.customActionsData.slice(0,j.numberOfActionBarButtons).map(function(k,l){switch(k.__typename){case"PageLikeAction":return c("React").createElement(c("PagesHeaderLikeButtonContainer.react"),babelHelpers["extends"]({},j.likeFollowData,{hideButtonText:j.hideButtonText,key:k.__typename+l,size:"large"}));case"PageFollowAction":return c("React").createElement(c("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},j.likeFollowData,{asPrimaryButton:"false",key:k.__typename+l,size:"large"}));case"PageGetGamesNotificationAction":return c("React").createElement(c("PagesHeaderGamesNotificationContainer.react"),babelHelpers["extends"]({},j.likeFollowData,{key:k.__typename+l,size:"large"}));case"PageCTAAction":return c("React").createElement(c("PageCTAAction.react"),babelHelpers["extends"]({},k,{className:"_rfh",key:k.__typename+l,surface:c("PageCallToActionRef").PAGES_ACTION_BAR_CHANNEL}));default:k.hideButtonText=j.hideButtonText;return c("React").createElement(c("PageActionContainer.react"),{action:k,className:"_rfh _17q_",key:k.__typename+l,size:"large"})}}).map(function(k,l){return j.next&&j.loggedOutSEOEnabled?c("React").createElement(c("PageActionInlineLoginWrapper.react"),{key:l,loggedOutSEOEnabled:j.loggedOutSEOEnabled,next:j.next},k):k}),c("React").createElement(c("PageActionBarActionSelector.react"),{actions:j.customActionsData.slice(j.numberOfActionBarButtons)}))};f.exports=i}),null);
__d("PagesHeaderDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("PagesHeaderPayloadType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTIONS_UNIT_DATA:"actions_unit_data",COVER_PHOTO_CANCEL:"cover_photo_cancel",COVER_PHOTO_DATA:"cover_photo_data",COVER_VIDEO_DATA:"cover_video_data",COVER_VIDEO_UPLOAD_START:"cover_video_upload_start",COVER_VIDEO_UPLOAD_PROGRESSING:"cover_video_upload_progressing",COVER_VIDEO_UPLOAD_DONE:"cover_video_upload_done",COVER_VIDEO_ENCODE_PROGRESSING:"cover_video_encode_progressing",COVER_VIDEO_ENCODE_DONE:"cover_video_encode_done",COVER_VIDEO_PREVIEW:"cover_video_preview",COVER_VIDEO_PUBLISHING:"cover_video_publishing",COVER_VIDEO_PUBLISHED:"cover_video_published",COVER_VIDEO_CANCELLED:"cover_video_cancelled",PROFILE_PICTURE_DATA:"profile_picture_data"})}),null);
__d("PagesActionsUnitStore",["FluxReduceStore","PagesHeaderDispatcher","PagesHeaderPayloadType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{callToAction:null,likeFollowData:null,messageData:null,moreMenuItemConfigs:[],pageID:"0",customActionsData:[],numberOfActionBarButtons:3,primaryFollowButtonInBar:false,hideButtonText:false}};j.prototype.reduce=function(k,l){switch(l.type){case c("PagesHeaderPayloadType").ACTIONS_UNIT_DATA:return babelHelpers["extends"]({},k,l.data)}return k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesHeaderDispatcher"))}),null);
__d("PagesActionBarChannelContainer.react",["FluxContainer","PagesActionBarChannel.react","PagesActionsUnitStore","PagesHeaderDispatcher","PagesHeaderFollowButtonContainer.react","PagesHeaderPayloadType","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("PagesActionsUnitStore")]};j.calculateState=function(){return c("PagesActionsUnitStore").getState()};j.prototype.componentWillMount=function(){c("PagesHeaderDispatcher").explicitlyRegisterStore(c("PagesActionsUnitStore"));c("PagesHeaderDispatcher").dispatch({data:this.props,type:c("PagesHeaderPayloadType").ACTIONS_UNIT_DATA})};j.prototype.render=function(){return c("React").createElement("div",null,this.state.primaryFollowButtonInBar?c("React").createElement(c("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},this.state.likeFollowData,{asPrimaryButton:"true"})):null,c("React").createElement(c("PagesActionBarChannel.react"),this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("PagesPrimaryButtonsActionChannel.react",["cx","Layout.react","MessengerDiscoveryEntryPoint","PageActionContainer.react","PageActionInlineLoginWrapper.react","PageCallToActionRef","PageCTAAction.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("Layout.react").Column,j=c("Layout.react").FillColumn,k=function k(l){var m=l.primaryButtons,n=m[0],o=m[1];if(!n)return null;return c("React").createElement(c("Layout.react"),{className:"_2iar"},c("React").createElement(j,null,n.__typename==="PageCTAAction"?c("React").createElement(c("PageActionInlineLoginWrapper.react"),{loggedOutSEOEnabled:l.loggedOutSEOEnabled,next:l.next},c("React").createElement(c("PageCTAAction.react"),babelHelpers["extends"]({},n,{className:(o?"_147q":"")+" _604m",entrypoint:c("MessengerDiscoveryEntryPoint").FB_PAGE_PRIMARY_MESSAGE_BUTTON,surface:c("PageCallToActionRef").PAGES_ACTIONS_UNIT_SURFACE}))):c("React").createElement(c("PageActionInlineLoginWrapper.react"),{loggedOutSEOEnabled:l.loggedOutSEOEnabled,next:l.next},c("React").createElement(c("PageActionContainer.react"),{action:n,className:(!o?"_xah":"")+(!o?" _2ias":"")+(!o?" _2-sm":"")+(!o?" _1olk":""),size:"large"}))),o?c("React").createElement(i,{className:"_3-9b"},c("React").createElement(c("PageActionInlineLoginWrapper.react"),{loggedOutSEOEnabled:l.loggedOutSEOEnabled,next:l.next},c("React").createElement(c("PageActionContainer.react"),{action:o,size:"large"}))):null)};f.exports=k}),null);
__d("XPagesMessagePageOwnerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/send_page_message/",{message:{type:"String",required:true},page_id:{type:"String",required:true}})}),null);
__d("PageContentTabMessageOwnerDialog",["fbt","cx","AbstractTextArea.react","AsyncRequest","LayerFadeOnHide","PageContentTabSuccessDialog.react","PageContentTabSuccessDialogTimer","React","ReactDOM","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XPagesMessagePageOwnerController","nullthrows"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes,m=5,n=c("PageContentTabSuccessDialogTimer").TIME_IN_MS;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var q,r;"use strict";for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={messageText:null,isSendingMessage:false},this.$PageContentTabMessageOwnerDialogComponent1=null,this.$PageContentTabMessageOwnerDialogComponent2=null,this.$PageContentTabMessageOwnerDialogComponent3=function(){if(this.$PageContentTabMessageOwnerDialogComponent2)this.setState({messageText:this.$PageContentTabMessageOwnerDialogComponent2.getValue()})}.bind(this),this.$PageContentTabMessageOwnerDialogComponent4=function(){this.setState({isSendingMessage:true});var v=c("XPagesMessagePageOwnerController").getURIBuilder().setString("message",c("nullthrows")(this.$PageContentTabMessageOwnerDialogComponent2).getValue()).setString("page_id",c("nullthrows")(this.props.pageID)).getURI();new(c("AsyncRequest"))().setURI(v).setHandler(function(w){var x=w.getPayload().threadID;this.setState({isSendingMessage:false,messageText:null});if(this.props.onMessageThreadInitiated)this.props.onMessageThreadInitiated(x)}.bind(this)).setErrorHandler(function(){this.setState({isSendingMessage:false})}.bind(this)).setFinallyHandler(function(w){this.props.callbackParent(true)}.bind(this)).send()}.bind(this),r}o.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},shown:true,width:500},c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement("div",null,h._("Message to"),"\xa0",this.props.username)),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("AbstractTextArea.react"),{autoFocus:true,className:"_3k3a",disabled:this.state.isSendingMessage,ref:function(q){return this.$PageContentTabMessageOwnerDialogComponent2=q}.bind(this),onChange:this.$PageContentTabMessageOwnerDialogComponent3,placeholder:h._("Send a message to {Account Name}",[h.param("Account Name",this.props.username)]),rows:m})),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:this.state.isSendingMessage||this.state.messageText==null||this.state.messageText.trim().length===0,label:h._("Send Message"),onClick:this.$PageContentTabMessageOwnerDialogComponent4,use:"confirm"})))};o.propTypes={existingThreadID:l.string,username:l.string,callbackParent:l.func,onChatThreadOpen:l.func,onMessageThreadInitiated:l.func};var p={onChildChanged:function q(r){if(r===true)this.hideWithSuccessMessage("Message Sent!")},show:function q(r,s){if(!this._container)this._container=document.createElement("div");c("ReactDOM").render(c("React").createElement(o,{username:r,pageID:s,callbackParent:function(t){return this.onChildChanged(t)}.bind(this)}),this._container)},hide:function q(){if(!this._container)return;this.destroy()},hideWithSuccessMessage:function q(r){if(!this._container)return;c("ReactDOM").render(c("React").createElement(c("PageContentTabSuccessDialog.react"),{successLabel:r}),this._container);setTimeout(this.destroy.bind(this),n)},destroy:function q(){c("ReactDOM").unmountComponentAtNode(this._container);this._container=null}};f.exports=p}),null);
__d("PagesCoverCameraButton.react",["cx","fbt","PageNuxIDEnum","PageNuxSurfaceEnum","PagesNuxFrameworkHelper","PagesProfileTestID","React","XUIAmbientNUX.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={showCoverSlideshowMenuOptionNux:false,showOnTourBadgeMenuOptionNux:false,cameraButtonRef:null},this.$PagesCoverCameraButton1=function(r){if(r===null)return;this.setState({cameraButtonRef:r})}.bind(this),this.$PagesCoverCameraButton2=function(){return this.state.cameraButtonRef}.bind(this),this.$PagesCoverCameraButton3=function(){if(this.state.showCoverSlideshowMenuOptionNux)c("PagesNuxFrameworkHelper").closeNux(c("PageNuxIDEnum").WWW_COVER_SLIDESHOW_MENU_OPTION_NUX,c("PageNuxSurfaceEnum").PAGE_TIMELINE);else if(this.state.showOnTourBadgeMenuOptionNux)c("PagesNuxFrameworkHelper").closeNux(c("PageNuxIDEnum").WWW_COVER_ON_TOUR_BADGE_MENU_OPTION_NUX,c("PageNuxSurfaceEnum").PAGE_TIMELINE);this.setState({showCoverSlideshowMenuOptionNux:false,showOnTourBadgeMenuOptionNux:false})}.bind(this),n}l.prototype.componentDidMount=function(){if(this.props.shouldShowCoverSlideshowMenuOptionNux)c("PagesNuxFrameworkHelper").registerNux(c("PageNuxIDEnum").WWW_COVER_SLIDESHOW_MENU_OPTION_NUX,c("PageNuxSurfaceEnum").PAGE_TIMELINE,function(){return this.setState({showCoverSlideshowMenuOptionNux:true})}.bind(this));else if(this.props.shouldshowOnTourBadgeMenuOptionNux)c("PagesNuxFrameworkHelper").registerNux(c("PageNuxIDEnum").WWW_COVER_ON_TOUR_BADGE_MENU_OPTION_NUX,c("PageNuxSurfaceEnum").PAGE_TIMELINE,function(){return this.setState({showOnTourBadgeMenuOptionNux:true})}.bind(this))};l.prototype.$PagesCoverCameraButton4=function(){if(this.state.showOnTourBadgeMenuOptionNux)return i._("Show tour info");return i._("New! Cover Slideshow")};l.prototype.$PagesCoverCameraButton5=function(){if(this.state.showOnTourBadgeMenuOptionNux)return i._("Add the name and dates of your tour on your Page's cover photo, video or slideshow.");return i._("Show people who visit your Page even more of what's important to you with a cover slideshow. Select Create Slideshow in the cover photo area to get started.")};l.prototype.render=function(){return c("React").createElement("div",{className:"_3oj-","data-testid":c("PagesProfileTestID").COVER_PHOTO_EDIT_MENU,ref:this.$PagesCoverCameraButton1},c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"center",contextRef:this.$PagesCoverCameraButton2,onCloseButtonClick:this.$PagesCoverCameraButton3,position:"right",shown:(this.state.showCoverSlideshowMenuOptionNux||this.state.showOnTourBadgeMenuOptionNux)&&!!this.state.cameraButtonRef,width:"normal"},c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold"},this.$PagesCoverCameraButton4()),this.$PagesCoverCameraButton5())),c("React").createElement("div",{className:"_3oj_"+(this.props.expanded?" _3ok0":"")},c("React").createElement("div",{className:"_3ok1"},c("React").createElement("div",{className:"_4eqf _4eqi"})),c("React").createElement("div",{className:"_3ok2"},c("React").createElement("span",{className:"_3ok3"},this.props.label))))};f.exports=l}),null);
__d("PagesCoverAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LOADING:"loading",NEW_COVER_DATA:"new_cover_data",COVER_REMOVING:"cover_removing",PHOTO_UPLOADING:"photo_uploading",PHOTO_PREVIEWING:"photo_previewing",PHOTO_SAVING:"photo_saving",PHOTO_SAVED:"photo_saved",PHOTO_CANCEL:"photo_cancel",PHOTO_REMOVED:"photo_removed",VIDEO_START_UPLOAD:"video_start_upload",VIDEO_UPLOADING:"video_uploading",VIDEO_ENCODING:"video_encoding",VIDEO_PREVIEWING:"video_previewing",VIDEO_CHOOSING_THUMBNAIL:"video_choosing_thumbnail",VIDEO_PUBLISHING:"video_publishing",VIDEO_PUBLISHED:"video_published",VIDEO_CANCELLING:"video_cancelling",SLIDESHOW_EDIT:"slideshow_edit",SLIDESHOW_DISPLAY:"slideshow_display",SLIDESHOW_PHOTO_PREVIEWING:"slideshow_photo_previewing",SLIDESHOW_CHANGE_CAROUSEL_INDEX:"slideshow_change_carousel_index",SLIDESHOW_PHOTO_UPLOADING:"slideshow_photo_uploading",SLIDESHOW_ITEM_REPOSITIONED:"slideshow_item_repositioned",SLIDESHOW_PHOTO_REMOVED:"slideshow_photo_removed",SLIDESHOW_EDITING_CANCELLED:"slideshow_editing_cancelled",SLIDESHOW_SAVING:"slideshow_saving",SLIDESHOW_CHANGE_ORDER:"slideshow_change_order",SLIDESHOW_NUX_TOUR_ELEMENT_LOADED:"slideshow_nux_tour_element_loaded",SLIDESHOW_NUX_TOUR_FINISHED:"slideshow_nux_tour_finished",SLIDESHOW_TOGGLE_CONTENT_SWITCHER:"slideshow_toggle_content_switcher",SLIDESHOW_PREFILLED_PHOTO_LOADED:"slideshow_prefilled_photo_loaded",SLIDESHOW_CLICK_CANCEL_BUTTON:"slideshow_click_cancel_button",LIVE_VIDEO_ENABLE:"live_video_enable",LIVE_VIDEO_DISABLE:"live_video_disable",ON_TOUR_BADGE_UPDATED:"on_tour_badge_updated"})}),null);
__d("EventTourBadgeEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NO_TOUR:"no_tour",TOUR_BADGE_HIDDEN:"tour_badge_hidden",TOUR_BADGE_SHOWN:"tour_badge_shown"})}),null);
__d("PagesCoverDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("PagesCoverType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COVER_PHOTO:"cover_photo",COVER_SLIDESHOW:"cover_slideshow",COVER_TRAILER:"cover_trailer",COVER_VIDEO:"cover_video",COVER_LIVE_VIDEO:"cover_live_video",NO_COVER:"no_cover",LOADING:"loading"})}),null);
__d("PagesCoverCoreStore",["EventTourBadgeEnum","FluxReduceStore","PagesCoverAction","PagesCoverDispatcher","PagesCoverType","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{canViewerEditProfile:false,currentCoverType:c("PagesCoverType").COVER_PHOTO,hasCoverSet:false,futureCoverType:null,shouldShowEditMenuForAdmins:true,shouldShowLoadingOverlay:false,eventTourBadgeInfo:{tourID:null,title:null,subtitle:null,eventTourBadgeStatus:c("EventTourBadgeEnum").NO_TOUR,shouldShowNux:false}}};j.prototype.getEventTourBadgeInfo=function(){return this.getState().eventTourBadgeInfo};j.prototype.reduce=function(k,l){__p&&__p();var m,n=null;switch(l.type){case c("PagesCoverAction").NEW_COVER_DATA:var o=(m=l.data)!=null?m.coreData:m;n=babelHelpers["extends"]({},o);break;case c("PagesCoverAction").PHOTO_SAVED:case c("PagesCoverAction").PHOTO_REMOVED:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:true});break;case c("PagesCoverAction").PHOTO_UPLOADING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,shouldShowLoadingOverlay:k.currentCoverType!==c("PagesCoverType").COVER_PHOTO});break;case c("PagesCoverAction").PHOTO_PREVIEWING:n=babelHelpers["extends"]({},k,{futureCoverType:k.currentCoverType!==c("PagesCoverType").COVER_PHOTO?c("PagesCoverType").COVER_PHOTO:null,shouldShowEditMenuForAdmins:false,shouldShowLoadingOverlay:false});break;case c("PagesCoverAction").PHOTO_SAVING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,currentCoverType:c("PagesCoverType").LOADING});break;case c("PagesCoverAction").VIDEO_START_UPLOAD:n=babelHelpers["extends"]({},k,{futureCoverType:c("PagesCoverType").COVER_VIDEO,shouldShowEditMenuForAdmins:false});break;case c("PagesCoverAction").VIDEO_UPLOADING:case c("PagesCoverAction").VIDEO_ENCODING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false});break;case c("PagesCoverAction").VIDEO_CHOOSING_THUMBNAIL:n=babelHelpers["extends"]({},k);break;case c("PagesCoverAction").VIDEO_PUBLISHING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,currentCoverType:c("PagesCoverType").LOADING});break;case c("PagesCoverAction").VIDEO_PREVIEWING:n=babelHelpers["extends"]({},k,{futureCoverType:c("PagesCoverType").COVER_VIDEO,shouldShowEditMenuForAdmins:false});break;case c("PagesCoverAction").PHOTO_CANCEL:case c("PagesCoverAction").VIDEO_CANCELLING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,shouldShowLoadingOverlay:true});break;case c("PagesCoverAction").VIDEO_PUBLISHED:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:true});break;case c("PagesCoverAction").SLIDESHOW_EDIT:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,futureCoverType:k.currentCoverType!==c("PagesCoverType").COVER_SLIDESHOW?c("PagesCoverType").COVER_SLIDESHOW:null});break;case c("PagesCoverAction").SLIDESHOW_DISPLAY:case c("PagesCoverAction").SLIDESHOW_EDITING_CANCELLED:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:true,futureCoverType:null});break;case c("PagesCoverAction").COVER_REMOVING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,shouldShowLoadingOverlay:true});break;case c("PagesCoverAction").ON_TOUR_BADGE_UPDATED:n=babelHelpers["extends"]({},k,{eventTourBadgeInfo:l.data,shouldShowLoadingOverlay:false});break;case c("PagesCoverAction").LOADING:n=babelHelpers["extends"]({},k,{shouldShowLoadingOverlay:true});break}return n||k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesCoverDispatcher"))}),null);
__d("XPagesCoverRemoveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_remove/",{page_id:{type:"FBID"}})}),null);
__d("PagesCoverRemoveCoverConfirmationDialog.react",["fbt","AsyncRequest","PagesCoverAction","PagesCoverDispatcher","PagesProfileTestID","React","XPagesCoverRemoveAsyncController","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogConfirmButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=445;i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$PagesCoverRemoveCoverConfirmationDialog1=function(){var s=c("XPagesCoverRemoveAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(s).setData({page_id:this.props.pageID}).send();this.props.onToggle(false);c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").COVER_REMOVING})}.bind(this),o}m.prototype.render=function(){if(!this.props.shown)return null;return c("React").createElement(c("XUIDialog.react"),{onToggle:this.props.onToggle,shown:true,width:l},c("React").createElement(c("XUIDialogTitle.react"),null,h._("Remove cover?")),c("React").createElement(c("XUIDialogBody.react"),null,h._("Are you sure that you want to remove this cover?")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogConfirmButton.react"),{"data-testid":c("PagesProfileTestID").COVER_PHOTO_REMOVE_CONFIRM_BUTTON,onClick:this.$PagesCoverRemoveCoverConfirmationDialog1,use:"confirm"})))};m.propTypes={coreData:k.object.isRequired,onToggle:k.func.isRequired,pageID:k.string.isRequired,shown:k.bool.isRequired};f.exports=m}),null);
__d("PagesCoverSlideshowActionCreator",["fbt","PagesCoverAction","PagesCoverDispatcher","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","SimpleXUIDialog","XUIDialogButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=-1,j={enterEditMode:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_EDIT});c("PagesLogger").log(l,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_edit"})},changeCurrentIndex:function k(l,m){if(i===m)return;c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_CHANGE_CAROUSEL_INDEX,data:{currentIndex:m}});c("PagesLogger").log(l,c("PagesLoggerEventEnum").SCROLL,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW);i=m},reorderSlideshowItems:function k(l,m,n){if(l!==m)c("PagesLogger").log(n,c("PagesLoggerEventEnum").DRAG,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"reorder_slideshow_items"});c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_CHANGE_ORDER,data:{fromIndex:l,toIndex:m}})},onPhotoUploading:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_PHOTO_UPLOADING,data:{uploadingIndex:l}})},onItemRepositioned:function k(l,m,n){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_ITEM_REPOSITIONED,data:{itemRepositionedIndex:n}})},onPhotoRemoved:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_PHOTO_REMOVED,data:{removedIndex:l}})},confirmCancel:function k(){c("SimpleXUIDialog").showEx(h._("If you go back, your changes won't be saved."),h._("Leave Slideshow?"),c("React").createElement("div",null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:h._("Leave Slideshow"),onClick:j.onEditingCancelled,use:"default"}),c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:h._("Cancel"),use:"confirm"})))},onEditingCancelled:function k(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_EDITING_CANCELLED})},onSlideshowSaving:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_SAVING});c("PagesLogger").log(l,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_save"})},onNUXTourElementLoaded:function k(l,m,n,o){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_NUX_TOUR_ELEMENT_LOADED,data:{context:l,step:m,description:n,position:o}})},onNUXTourFinished:function k(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_NUX_TOUR_FINISHED})},toggleContentOptimizer:function k(l,m){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_TOGGLE_CONTENT_SWITCHER,data:m});c("PagesLogger").log(l,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_content_optimizer"})},loadPrefilledItems:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_PREFILLED_PHOTO_LOADED,data:{prefilledItems:l}})}};f.exports=j}),null);
__d("XPagesCoverVideoDataController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_data/",{video_id:{type:"FBID",required:true},supports_html5_video:{type:"Bool",defaultValue:true},include_thumbnails:{type:"Bool",defaultValue:false}})}),null);
__d("CoverVideoUtil",["Promise","AsyncRequest","CoverVideoOffsetType","VideoData","XPagesCoverVideoDataController","isHTML5VideoImplementationUnavailable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={fetchCoverVideoData:function i(j){__p&&__p();var k=arguments.length<=1||arguments[1]===undefined?false:arguments[1];return new(c("Promise"))(function(l,m){var n=c("XPagesCoverVideoDataController").getURIBuilder().setFBID("video_id",j).setBool("supports_html5_video",!c("isHTML5VideoImplementationUnavailable")(true)).setBool("include_thumbnails",k).getURI();new(c("AsyncRequest"))(n).setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(o){var p=o.payload,q=p.offset_type,r=p.offset_value,s=p.playable_duration_in_sec,t=p.video_data,u=p.thumbnails,v=p.hasVisibleStatus,w=p.isStatusOK;if(q===c("CoverVideoOffsetType").VERTICAL||q===c("CoverVideoOffsetType").HORIZONTAL){var x=q===c("CoverVideoOffsetType").HORIZONTAL?"horizontal":"vertical";l({offsetType:x,offsetValue:r,playableDurationInSec:s,videoData:new(c("VideoData"))(t),thumbnails:u,hasVisibleStatus:v,isStatusOK:w})}else m(new Error("Cover video data are unavailable."))}).setErrorHandler(m).send()})}};f.exports=h}),null);
__d("PagesCoverVideoConstant",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";var i={PREVIEW_TIP_FOR_CREATION:c("React").createElement("div",null,c("React").createElement("div",null,h._("Your video was added but won't be public until you publish it.")),c("React").createElement("div",null,h._("You can drag the video that is currently being displayed to reposition it."))),PREVIEW_TIP_FOR_EDITING:c("React").createElement("div",null,c("React").createElement("div",null,h._("Your video won't be public until you publish it.")),c("React").createElement("div",null,h._("You can drag the video that is currently being displayed to reposition it."))),TRY_UPLOAD_AGAIN_TITLE:h._("Try uploading again"),TRY_UPLOAD_AGAIN_BODY:h._("The video couldn't be uploaded. Please try again."),CANCEL_DIALOG_TITLE:h._("Cancel video upload?"),CANCEL_DIALOG_BODY:h._("If you cancel, this video will be deleted and your Page will revert to the previous cover photo or video."),CANCEL_DIALOG_CANCEL_UPLOAD_BUTTON_LABEL:h._("Cancel Upload"),CANCEL_DIALOG_NOT_NOW_BUTTON_LABEL:h._("Not Now"),EDUCATIONAL_ERROR_DIALOG_TITLE:h._("Video not uploaded")};f.exports=i}),null);
__d("XPagesCoverReloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_reload/",{page_id:{type:"FBID",required:true}})}),null);
__d("XPagesCoverVideoPublishController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_publish/",{})}),null);
__d("XPagesCoverVideoRollbackAndDeleteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_rollback_and_delete/",{page_id:{type:"FBID",required:true},video_id:{type:"FBID",required:true}})}),null);
__d("PagesCoverVideoActionCreator",["ix","cx","fbt","AsyncRequest","CoverVideoUtil","ErrorDialog","Image.react","PagesCoverAction","PagesCoverDispatcher","PagesCoverVideoConstant","React","ReactDOM","Set","SimpleXUIDialog","XPagesCoverReloadController","XPagesCoverVideoPublishController","XPagesCoverVideoRollbackAndDeleteController","XUIDialogButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=Object.freeze({INVALID_DURATION:"invalid_duration",INVALID_DIMENSION:"invalid_dimension"}),l={validateCoverVideoMetadata:function m(n,o,p,q,r,s,t){__p&&__p();if(!o){p();l.showGeneralErrorDialog();return false}var u=c("ReactDOM").findDOMNode(o);if(!u||!(u instanceof HTMLVideoElement)){p();l.showGeneralErrorDialog();return false}var v=u.videoWidth,w=u.videoHeight;if(v===0&&w===0)return true;var x=l.validateCoverVideoWithErrorDialog(n,u.duration,q,r,u.videoWidth,u.videoHeight,s,t);if(!x)p();return x},showCoverVideoUploadUI:function m(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_START_UPLOAD})},uploadStarted:function m(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_UPLOADING,data:{progress:0}})},uploadProgressed:function m(n,o){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_UPLOADING,data:{progress:Math.round(n)}})},encodeStarted:function m(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_ENCODING,data:{progress:0}})},encodeProgressed:function m(n){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_ENCODING,data:{progress:Math.round(n)}})},encodeFinished:function m(n,o,p,q,r,s){__p&&__p();c("CoverVideoUtil").fetchCoverVideoData(o).then(function(t){__p&&__p();var u=t.playableDurationInSec,v=t.videoData;if(!u||!v){l.rollbackAndDeleteVideoWithGeneralErrorDialog(n,o);return}var w=v.getOriginalWidth(),x=v.getOriginalHeight(),y=l.validateCoverVideoWithErrorDialog(n,u,p,q,w,x,r,s);if(!y){l.rollbackAndDeleteVideo(n,o);return}c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_PREVIEWING,data:{futureVideoID:o,pageID:n,isFromRepositon:false}})}).done()},validateCoverVideoWithErrorDialog:function m(n,o,p,q,r,s,t,u){__p&&__p();var v=new(c("Set"))(),w=1;if(r<t-w||s<u-w)v.add(k.INVALID_DIMENSION);if(o<p-w||o>q+w)v.add(k.INVALID_DURATION);if(v.size>0){l.showValidationErrorDialog(n,v,p,q,t,u);return false}return true},chooseThumbnail:function m(n,o,p,q,r,s){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_CHOOSING_THUMBNAIL,data:{futureVideoID:n,pageID:o,offsetType:p,offsetValue:q,containerHeight:r,containerWidth:s}})},editCoverVideo:function m(n,o){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_PREVIEWING,data:{futureVideoID:o,pageID:n,isFromReposition:true}})},showGeneralErrorDialog:function m(){c("SimpleXUIDialog").show(c("React").createElement("div",null,j._("The video couldn't be uploaded. Please try again.")),c("PagesCoverVideoConstant").EDUCATIONAL_ERROR_DIALOG_TITLE)},showValidationErrorDialog:function m(n,o,p,q,r,s){var t=j._("Please edit the video and try again."),u=!o.has(k.INVALID_DURATION)?c("React").createElement(c("Image.react"),{src:h("119371")}):c("React").createElement(c("Image.react"),{src:h("117758")}),v=j._("Cover videos should be {minimal duration of cover video required}-{duration of current video} seconds.",[j.param("minimal duration of cover video required",p),j.param("duration of current video",q)]),w=!o.has(k.INVALID_DIMENSION)?c("React").createElement(c("Image.react"),{src:h("119371")}):c("React").createElement(c("Image.react"),{src:h("117758")}),x=j._("Cover videos should be at least {minimal requirement of width} x {minimal requirement of height} pixels. The recommended size is 820 x 462 pixels.",[j.param("minimal requirement of width",r),j.param("minimal requirement of height",s)]),y=c("React").createElement("div",null,c("React").createElement("div",null,t),c("React").createElement("div",{className:"_31ms"},c("React").createElement("div",{className:"_wsz"},u),c("React").createElement("div",{className:"_wsz"+(o.has(k.INVALID_DURATION)?" _wt3":"")},v)),c("React").createElement("div",{className:"_31ms"},c("React").createElement("div",{className:"_wsz"},w),c("React").createElement("div",{className:"_wsz"+(o.has(k.INVALID_DIMENSION)?" _wt3":"")},x)));c("SimpleXUIDialog").show(y,c("PagesCoverVideoConstant").EDUCATIONAL_ERROR_DIALOG_TITLE)},confirmPublishingVideo:function m(n,o,p,q,r,s){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_PUBLISHING});var t=c("XPagesCoverVideoPublishController").getURIBuilder().getURI(),u={page_id:n,video_id:o,preferred_thumbnail_id:s,offset_type:p,offset_value:q,should_cover_video_loop:r};new(c("AsyncRequest"))().setURI(t).setMethod("POST").setData(u).setErrorHandler(function(){l.rollbackAndDeleteVideoWithGeneralErrorDialog(n,o)}).send()},cancelNewUploadingWithConfirmationDialog:function m(n,o){c("SimpleXUIDialog").showEx(c("PagesCoverVideoConstant").CANCEL_DIALOG_BODY,c("PagesCoverVideoConstant").CANCEL_DIALOG_TITLE,c("React").createElement("div",null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:c("PagesCoverVideoConstant").CANCEL_DIALOG_CANCEL_UPLOAD_BUTTON_LABEL,onClick:function p(){return l.rollbackAndDeleteVideo(n,o)}}),c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:c("PagesCoverVideoConstant").CANCEL_DIALOG_NOT_NOW_BUTTON_LABEL,use:"confirm"})))},rollbackAndDeleteVideoWithGeneralErrorDialog:function m(n,o){c("SimpleXUIDialog").show(c("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_BODY,c("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_TITLE,function(){l.rollbackAndDeleteVideo(n,o)})},reloadCoverWithErrorDialog:function m(n,o){var p=o.error_description,q=o.error_summary,r=!q?c("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_TITLE:q,s=!p?c("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_BODY:p;c("ErrorDialog").show(r,s,function(){l.reloadCover(n)})},reloadCover:function m(n){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_CANCELLING});var o=c("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",n).getURI();new(c("AsyncRequest"))(o).send()},rollbackAndDeleteVideo:function m(n,o){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_CANCELLING});var p=c("XPagesCoverVideoRollbackAndDeleteController").getURIBuilder().setFBID("page_id",n).setFBID("video_id",o).getURI();new(c("AsyncRequest"))(p).send()}};f.exports=l}),null);
__d("PagesCoverVideoHoverableVideoComponent.react",["cx","React","VideoComponentPlayButton.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerLoggerSource","VideoPlayerOrigins"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$PagesCoverVideoHoverableVideoComponent1=function(){this.props.onMouseEnter&&this.props.onMouseEnter(this.props.videoID)}.bind(this),this.$PagesCoverVideoHoverableVideoComponent2=function(){this.props.onMouseLeave&&this.props.onMouseLeave(this.props.videoID)}.bind(this),this.$PagesCoverVideoHoverableVideoComponent3=function(){this.props.onVideoClick&&this.props.onVideoClick(this.props.videoID)}.bind(this),this.$PagesCoverVideoHoverableVideoComponent5=function(){return c("VideoDataContainer.react").renderSpinner(this.props.width,this.props.height)}.bind(this),n}l.prototype.$PagesCoverVideoHoverableVideoComponent4=function(m){this.props.onRefLoaded&&this.props.onRefLoaded(this.props.videoID,m)};l.prototype.render=function(){return c("React").createElement("span",{className:"_bt-"+(this.props.isSelected?" _bu0":""),key:this.props.videoID,onMouseEnter:this.$PagesCoverVideoHoverableVideoComponent1,onMouseLeave:this.$PagesCoverVideoHoverableVideoComponent2,role:"link",tabIndex:0},c("React").createElement(c("VideoDataContainer.react"),{renderLoading:this.$PagesCoverVideoHoverableVideoComponent5,videoID:this.props.videoID},c("React").createElement(c("VideoPlayer.react"),{disableClickPlayPause:true,height:this.props.height,onVideoClick:this.$PagesCoverVideoHoverableVideoComponent3,playerOrigin:c("VideoPlayerOrigins").PAGE_TIMELINE,subOrigin:c("VideoPlayerLoggerSource").PAGES_COVER_HOVER,ref:this.props.onRefLoaded,videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:this.props.width},c("React").createElement(c("VideoComponentPlayButton.react"),null))))};l.propTypes={videoID:k.string.isRequired,onMouseEnter:k.func.isRequired,onMouseLeave:k.func.isRequired,onVideoClick:k.func.isRequired,onRefLoaded:k.func.isRequired,isSelected:k.bool.isRequired,width:k.number.isRequired,height:k.number.isRequired};f.exports=l}),null);
__d("PagesCoverVideoSelectionComponent.react",["cx","Map","PagesCoverVideoHoverableVideoComponent.react","React","VideoPlayer.react","VideoPlayerReason"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=176,l=Math.round(k*9/16);i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(n){__p&&__p();j.constructor.call(this,n);this.$PagesCoverVideoSelectionComponent2=function(o){if(o===this.state.selectedVideoID)return;var p=this.state.selectedVideoID;if(p){var q=this.$PagesCoverVideoSelectionComponent1.get(p);q&&q.pause(c("VideoPlayerReason").USER)}this.setState({selectedVideoID:o});this.props&&this.props.onVideoSelected(o)}.bind(this);this.$PagesCoverVideoSelectionComponent3=function(o){var p=this.$PagesCoverVideoSelectionComponent1.get(o);p&&p.play(c("VideoPlayerReason").HOVER)}.bind(this);this.$PagesCoverVideoSelectionComponent4=function(o){var p=this.$PagesCoverVideoSelectionComponent1.get(o);p&&p.pause(c("VideoPlayerReason").HOVER)}.bind(this);this.$PagesCoverVideoSelectionComponent5=function(o,p){if(p&&p.vpc)this.$PagesCoverVideoSelectionComponent1.set(o,p.vpc)}.bind(this);this.state={selectedVideoID:null};this.$PagesCoverVideoSelectionComponent1=new(c("Map"))()}m.prototype.render=function(){var n=this.props.videoIDs;if(!n||n.length===0)return null;var o=n.map(function(p){return c("React").createElement(c("PagesCoverVideoHoverableVideoComponent.react"),{height:l,isSelected:p===this.state.selectedVideoID,key:p,onMouseEnter:this.$PagesCoverVideoSelectionComponent3,onMouseLeave:this.$PagesCoverVideoSelectionComponent4,onRefLoaded:this.$PagesCoverVideoSelectionComponent5,onVideoClick:this.$PagesCoverVideoSelectionComponent2,videoID:p,width:k})}.bind(this));return c("React").createElement("div",{className:"_4yfa"},o)};f.exports=m}),null);
__d("XPagesCoverVideoFetchController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_fetch/",{page_id:{type:"FBID",required:true},count:{type:"Int",required:true},cursor:{type:"String"}})}),null);
__d("PagesCoverVideoBrowserDialog.react",["cx","fbt","AsyncRequest","LayerFadeOnHide","LoadingDialog.react","PagesCoverVideoSelectionComponent.react","React","ScrollableArea.react","XPagesCoverVideoFetchController","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogConfirmButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUISpinner.react","nullthrows"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=3,m=176,n=8,o=Math.round(m*9/16),p=(m+2*n)*l+3*n,q=9,r=o*3;j=babelHelpers.inherits(s,c("React").PureComponent);k=j&&j.prototype;function s(t){__p&&__p();k.constructor.call(this,t);this.$PagesCoverVideoBrowserDialog1=function(){if(!this.state.hasMore||!this.state.hasEligibleVideos||this.state.isLoading)return;var u=c("XPagesCoverVideoFetchController").getURIBuilder().setFBID("page_id",this.props.pageID).setInt("count",q).setString("cursor",this.state.cursor).getURI();new(c("AsyncRequest"))(u).setHandler(this.$PagesCoverVideoBrowserDialog2).send();this.setState({isLoading:true})}.bind(this);this.$PagesCoverVideoBrowserDialog2=function(u){var v=u.payload;if(!v)return;this.setState({videoIDs:this.state.videoIDs.concat(v.videoIDs),cursor:v.cursor,hasMore:v.hasMore,hasEligibleVideos:v.hasEligibleVideos,isLoading:false})}.bind(this);this.$PagesCoverVideoBrowserDialog3=function(u){this.setState({selectedVideoID:u})}.bind(this);this.$PagesCoverVideoBrowserDialog4=function(){var u=this.props.onConfirm;u&&u(c("nullthrows")(this.state.selectedVideoID))}.bind(this);this.state={videoIDs:[],selectedVideoID:null,cursor:"",hasMore:true,hasEligibleVideos:true,isLoading:false}}s.prototype.componentDidMount=function(){this.$PagesCoverVideoBrowserDialog1()};s.prototype.render=function(){if(!this.props.dialogShown)return null;if(this.state.videoIDs.length===0&&this.state.hasMore&&this.state.hasEligibleVideos)return c("React").createElement(c("LoadingDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.props.onToggle});if(!this.state.hasEligibleVideos)return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.props.onToggle,shown:this.props.dialogShown,titleID:"pages-cover-video-browser-dialog",width:p},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Choose from my videos")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",null,i._("None of the videos in your library qualify as cover videos. Videos must be between 20 and 90 seconds and at least 820 x 312 pixels. The recommended size is 820 x 462 pixels. Please upload a different video and try again."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm"})));var t=!this.state.hasMore?null:c("React").createElement("div",{className:"_4yfc"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.props.onToggle,shown:this.props.dialogShown,titleID:"pages-cover-video-browser-dialog",width:p},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Choose from my videos")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("ScrollableArea.react"),{fade:false,height:r,onEndReached:this.$PagesCoverVideoBrowserDialog1,width:p},c("React").createElement(c("PagesCoverVideoSelectionComponent.react"),{onVideoSelected:this.$PagesCoverVideoBrowserDialog3,videoIDs:this.state.videoIDs}),t)),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogConfirmButton.react"),{action:"confirm",disabled:!this.state.selectedVideoID,onClick:this.$PagesCoverVideoBrowserDialog4,use:"confirm"})))};f.exports=s}),null);
__d("PagesLiveCoverVideoActionCreator",["PagesCoverAction","PagesCoverDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h={onLiveCoverVideoEnabled:function i(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").LIVE_VIDEO_ENABLE})},onLiveCoverVideoDisable:function i(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").LIVE_VIDEO_DISABLE})}};f.exports=h}),null);
__d("PagesVideoUploader.react",["cx","invariant","Arbiter","ChannelConstants","CoverVideoUtil","EventListener","FileInput.react","React","SubscriptionsHandler","VideoUploadConfig","VideoUploader","VideoUploadFile","VideoUploadProgressBar"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=b.URL||b.webkitURL||{};j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.reset=function(){this.$PagesVideoUploader1.reset();this.$PagesVideoUploader3=0;this.$PagesVideoUploader4.release();this.$PagesVideoUploader4=new(c("SubscriptionsHandler"))();this.$PagesVideoUploader5=false;this.props.videoUploaderRef&&this.props.videoUploaderRef(null);clearInterval(this.$PagesVideoUploader6);clearTimeout(this.$PagesVideoUploader7)}.bind(this);this.$PagesVideoUploader8=function(event){__p&&__p();var o=event.target,p=c("VideoUploadFile").getExtensionFromFileInput(o);if(!c("VideoUploadConfig").videoExtensions[p]||p==="gif"||!(o instanceof HTMLInputElement)){this.props.onChange&&this.props.onChange(event,false);return}var q=o.files[0];q||i(0);this.reset();var r=this.$PagesVideoUploader1,s=this.$PagesVideoUploader2;this.$PagesVideoUploader4.addSubscriptions(r.subscribe("upload-started",this.$PagesVideoUploader9),r.subscribe("upload-progressed",this.$PagesVideoUploader10),r.subscribe("upload-finished",this.$PagesVideoUploader11),r.subscribe("post-finished",this.$PagesVideoUploader12),r.subscribe("upload-failed",this.$PagesVideoUploader13),r.subscribe("post-failed",this.$PagesVideoUploader14),c("EventListener").listen(s,"loadedmetadata",this.$PagesVideoUploader15),c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("video_encode"),this.$PagesVideoUploader16));var t=l.createObjectURL(q);this.setState({selectedFileURL:t});this.$PagesVideoUploader1.upload(c("VideoUploadFile").fromFileInput(o));this.props.onChange&&this.props.onChange(event,true)}.bind(this);this.$PagesVideoUploader9=function(){this.props.onUploadStarted&&this.props.onUploadStarted()}.bind(this);this.$PagesVideoUploader15=function(o){var p=o.target,q=this.props.onVideoMetadataLoaded;q&&q(p,this.reset)}.bind(this);this.$PagesVideoUploader10=function(event,o){var p=c("VideoUploadProgressBar").computeProgress(o.start_offset,o.sent_bytes,o.file_size,0,0),q=this.props.onUploadProgressed;q&&q(Math.round(p),o)}.bind(this);this.$PagesVideoUploader11=function(event,o){__p&&__p();var p=this.props.onUploadFinished;p&&p(o);var q=this.$PagesVideoUploader1;if(!q)return;if(this.props.autoEncode){var r=this.props.getCustomPostData;if(r){var s=r();q.post(s)}else q.post({})}else{var t=this.props.onManualPost;t||i(0);t(q)}}.bind(this);this.$PagesVideoUploader12=function(event,o){this.props.onPostFinished&&this.props.onPostFinished(o);this.$PagesVideoUploader17(o.video_id);this.$PagesVideoUploader1.reset()}.bind(this);this.$PagesVideoUploader13=function(event,o){this.props.onUploadFailed&&this.props.onUploadFailed(o);this.reset()}.bind(this);this.$PagesVideoUploader14=function(event,o){this.props.onPostFailed&&this.props.onPostFailed(o);this.reset()}.bind(this);this.$PagesVideoUploader16=function(o,p){__p&&__p();var q=p.obj.videoID.toString();if(p.obj.stage==="finish"){this.props.onEncodeFinished&&this.props.onEncodeFinished(q);this.reset()}else{this.$PagesVideoUploader3=Math.max(this.$PagesVideoUploader3,p.obj.progress);if(!this.$PagesVideoUploader5){var r=this.props.onEncodeStarted;r&&r(this.$PagesVideoUploader3);this.$PagesVideoUploader5=true}else this.props.onEncodeProgressed&&this.props.onEncodeProgressed(this.$PagesVideoUploader3);this.$PagesVideoUploader17(p.obj.videoID.toString())}}.bind(this);this.state={selectedFileURL:null};this.$PagesVideoUploader1=new(c("VideoUploader"))(n.videoUploaderInitParams);this.$PagesVideoUploader3=0;this.$PagesVideoUploader4=new(c("SubscriptionsHandler"))();this.$PagesVideoUploader5=false}m.prototype.$PagesVideoUploader17=function(n){clearInterval(this.$PagesVideoUploader6);clearTimeout(this.$PagesVideoUploader7);this.$PagesVideoUploader7=setTimeout(function(){this.$PagesVideoUploader6=setInterval(function(){c("CoverVideoUtil").fetchCoverVideoData(n).then(function(o){if(o.hasVisibleStatus){this.props.onEncodeFinished&&this.props.onEncodeFinished(n);this.reset()}}.bind(this)).done()}.bind(this),5e3)}.bind(this),10*1e3)};m.prototype.render=function(){var n=["video/*","video/mp4"],o=this.props.extraAccept;if(Array.isArray(o))n.concat(o);else if(o)n.push(o);return c("React").createElement("div",null,c("React").createElement(c("FileInput.react"),{accept:n,display:"inline-block",name:"simple_video_uploader",onChange:this.$PagesVideoUploader8,ref:function(p){this.props.fileInputRef&&this.props.fileInputRef(p)}.bind(this)},c("React").createElement("a",{className:this.props.labelClassName,href:"#"},this.props.label)),c("React").createElement("video",{className:"hidden_elem",ref:function(p){this.$PagesVideoUploader2=p;this.props.videoPlayerRef&&this.props.videoPlayerRef(p)}.bind(this),src:this.state.selectedFileURL}))};m.defaultProps={autoEncode:true};f.exports=m}),null);
__d("PhotoBrowserDialogEndpointType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EVENT_COVER:0,GROUP_COVER:1,TIMELINE_COVER:2,PROFILE_PICTURE:3,PAGE_PICTURE:4,LINK_ALBUM:5,LIFE_EVENT:6,ATTACHMENT_EDITOR:7,EDITOR_IMPORT:8,EDITOR_SAVE:9,PAGE_COVER:10,MAP_COMPOSER:12,YEAR_IN_REVIEW:13,FAMILY_TAG_PROFILE:14,FAMILY_TAG_COVER:15,FUNDRAISER_COVER:17,FEATURED_PHOTO:18,ORIGIN_STORY:19,PAGES_COVER_JS:20,FRAME_COMPOSER:21,ALBUM_COVER:22,PAGES_COVER_SLIDESHOW_JS:23,FUNDRAISER_COVER_THEMES:24,FUNDRAISER_COVER_NONPROFIT:25,FUNDRAISER_COVER_PERSON:26})}),null);
__d("PhotoBrowserDialogPhotoGeneratorType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PROFILE:0,PAGE:1,FRIENDSHIP:2,EVENT:3,GROUP:4,TAGGED:5,SYNCED:6,LINKABLE_ALBUMS:8,RECENT:9,LAST_ONE_YEAR:10,SCRAPBOOK:11,FUNDRAISER_PAGE:12,ORIGIN_STORY:13,ALBUM:14,PROFILE_CHANNEL:15,COLLAGE:16,COVER_ARTWORK:17,FUNDRAISER_COVER_THEMES:18,FUNDRAISER_NONPROFIT_PAGE:19,FUNDRAISER_SUGGESTED_FOR_PERSON:20})}),null);
__d("XEventTourBadgeOnPagesCoverController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/events/tour/badge/",{page_id:{type:"FBID",required:true},tour_ids:{type:"FBIDSet"},enable:{type:"Bool",defaultValue:false},entry_point:{type:"Enum",defaultValue:"page_cover",enumType:1}})}),null);
__d("XPagesCoverLiveVideoToggleAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_live_video_toggle/",{})}),null);
__d("XPagesCoverVideoUploaderController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_upload/",{page_id:{type:"FBID",required:true}})}),null);
__d("XPhotoBrowserDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/photo_browser_dialog/",{album_id:{type:"Int"},cursor:{type:"String"},data:{type:"String",defaultValue:""},display:{type:"Enum",defaultValue:2,enumType:0},endpoint:{type:"Enum",required:true,enumType:0},generator:{type:"Enum",required:true,enumType:0},id:{type:"Int",required:true},member_id:{type:"Int"},ajaxify_links:{type:"Bool",defaultValue:true},include_photo_uri:{type:"Bool",defaultValue:false},__asyncDialog:{type:"Int"}})}),null);
__d("PagesCoverEditMenu.react",["ix","cx","fbt","invariant","ActorURI","AsyncRequest","ContextualDialogArrow","EventTourBadgeEnum","FileInput.react","FileInputUploader","Image.react","PagesCoverAction","PagesCoverCameraButton.react","PagesCoverDispatcher","PagesCoverSlideshowActionCreator","PagesCoverType","PagesCoverVideoActionCreator","PagesCoverVideoBrowserDialog.react","PagesLiveCoverVideoActionCreator","PagesProfileTestID","PhotoBrowserDialogEndpointType","PhotoBrowserDialogPhotoGeneratorType","PopoverMenu.react","React","ReactDOM","ReactXUIMenu","PagesVideoUploader.react","SimpleXUIDialog","XEventTourBadgeOnPagesCoverController","XPagesCoverPhotoUploadAsyncController","XPhotoBrowserDialogController","XPagesCoverLiveVideoToggleAsyncController","XPagesCoverVideoUploaderController","PagesCoverRemoveCoverConfirmationDialog.react","fbglyph","idx"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("ReactXUIMenu").Item;l=babelHelpers.inherits(o,c("React").PureComponent);m=l&&l.prototype;function o(p){__p&&__p();m.constructor.call(this,p);this.$PagesCoverEditMenu8=function(){this.setState({showCoverVideoBrowserDialog:true})}.bind(this);this.$PagesCoverEditMenu9=function(){this.setState({showCoverVideoBrowserDialog:false})}.bind(this);this.$PagesCoverEditMenu10=function(q){this.setState({showRemoveCoverConfirmationDialog:q})}.bind(this);this.$PagesCoverEditMenu11=function(q){c("PagesCoverVideoActionCreator").editCoverVideo(this.props.pageID,q);this.setState({showCoverVideoBrowserDialog:false})}.bind(this);this.$PagesCoverEditMenu12=function(q){this.$PagesCoverEditMenu2=q}.bind(this);this.$PagesCoverEditMenu13=function(q,r){var s,t,u,v,w=(s=this.props)!=null?(s=s.coverData)!=null?(s=s.cover_video)!=null?s.minPlayableDurationInSec:s:s:s,x=(t=this.props)!=null?(t=t.coverData)!=null?(t=t.cover_video)!=null?t.maxPlayableDurationInSec:t:t:t,y=(u=this.props)!=null?(u=u.coverData)!=null?(u=u.cover_video)!=null?u.containerWidth:u:u:u,z=(v=this.props)!=null?(v=v.coverData)!=null?(v=v.cover_video)!=null?v.containerHeight:v:v:v;!!w&&!!x&&!!y&&!!z||k(0);var A=c("PagesCoverVideoActionCreator").validateCoverVideoMetadata(this.props.pageID,q,r,w,x,y,z);if(A)c("PagesCoverVideoActionCreator").showCoverVideoUploadUI()}.bind(this);this.$PagesCoverEditMenu14=function(q){var r,s,t,u,v=(r=this.props)!=null?(r=r.coverData)!=null?(r=r.cover_video)!=null?r.minPlayableDurationInSec:r:r:r,w=(s=this.props)!=null?(s=s.coverData)!=null?(s=s.cover_video)!=null?s.maxPlayableDurationInSec:s:s:s,x=(t=this.props)!=null?(t=t.coverData)!=null?(t=t.cover_video)!=null?t.containerWidth:t:t:t,y=(u=this.props)!=null?(u=u.coverData)!=null?(u=u.cover_video)!=null?u.containerHeight:u:u:u;!!v&&!!w&&!!x&&!!y||k(0);c("PagesCoverVideoActionCreator").encodeFinished(this.props.pageID,q,v,w,x,y)}.bind(this);this.$PagesCoverEditMenu17=function(q){c("PagesCoverVideoActionCreator").reloadCoverWithErrorDialog(this.props.pageID,q)}.bind(this);this.$PagesCoverEditMenu18=function(){__p&&__p();var q=this.props.coverData.cover_live_video;!!q||k(0);var r=!q.isEnabled?j._("Show Your Live Video as Your Cover Photo"):j._("Don't Show Your Live Video as Your Cover Photo"),s=!q.isEnabled?j._("The next time you go live, your broadcast will appear at the top of your Page. It will automatically be replaced by your most recent live video."):j._("The next time you go live, your broadcast will no longer appear at the top of your Page.");c("SimpleXUIDialog").showConfirm(s,r,function(t){if(!t)return;var u=c("XPagesCoverLiveVideoToggleAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))(u).setMethod("POST").setData({page_id:this.props.pageID,is_enabled:!q.isEnabled}).setHandler(function(v){var w=v.payload;if(w)c("PagesLiveCoverVideoActionCreator").onLiveCoverVideoEnabled();else c("PagesLiveCoverVideoActionCreator").onLiveCoverVideoDisable()}).send()}.bind(this))}.bind(this);this.$PagesCoverEditMenu20=function(){c("PagesCoverSlideshowActionCreator").enterEditMode(this.props.pageID)}.bind(this);this.$PagesCoverEditMenu26=function(){this.setState({showRemoveCoverConfirmationDialog:true})}.bind(this);this.$PagesCoverEditMenu23=function(){var q=this.props.coreData.currentCoverType;if(q===c("PagesCoverType").COVER_PHOTO)c("PagesCoverDispatcher").dispatch({data:{isPreviewMode:true},type:c("PagesCoverAction").PHOTO_PREVIEWING});else if(q===c("PagesCoverType").COVER_VIDEO){var r,s=(r=this.props)!=null?(r=r.coverData)!=null?(r=r.cover_video)!=null?r.videoID:r:r:r;if(s)c("PagesCoverVideoActionCreator").editCoverVideo(this.props.pageID,s)}}.bind(this);this.$PagesCoverEditMenu16=function(event,q){if(q)return;var r=c("ActorURI").create(c("XPagesCoverPhotoUploadAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI(),this.props.pageID);new(c("FileInputUploader"))(c("ReactDOM").findDOMNode(this.$PagesCoverEditMenu2)).setURI(r).setAllowCrossOrigin(true).send();c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").PHOTO_UPLOADING})}.bind(this);this.$PagesCoverEditMenu25=function(){var q=this.props.coreData.eventTourBadgeInfo.eventTourBadgeStatus;if(q===c("EventTourBadgeEnum").NO_TOUR)return;var r=c("XEventTourBadgeOnPagesCoverController").getURIBuilder().setFBID("page_id",this.props.pageID).setBool("enable",q===c("EventTourBadgeEnum").TOUR_BADGE_HIDDEN).getURI();new(c("AsyncRequest"))(r).setHandler(function(s){if(s.payload)c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").ON_TOUR_BADGE_UPDATED,data:s.payload})}).send();c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").LOADING})}.bind(this);this.$PagesCoverEditMenu1=null;this.$PagesCoverEditMenu2=null;this.state={showRemoveCoverConfirmationDialog:false,showCoverVideoBrowserDialog:false,videoUploaderInitParams:null}}o.prototype.componentDidMount=function(){if(this.props.coreData.canViewerEditProfile)this.$PagesCoverEditMenu3()};o.prototype.componentWillReceiveProps=function(p){if(p.coreData.hasCoverSet!==this.props.coreData.hasCoverSet)this.$PagesCoverEditMenu1=null;if(p.coreData.canViewerEditProfile!==this.props.coreData.canViewerEditProfile)this.$PagesCoverEditMenu3()};o.prototype.$PagesCoverEditMenu3=function(){var p=c("ActorURI").create(c("XPagesCoverVideoUploaderController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI(),this.props.pageID);new(c("AsyncRequest"))(p).setHandler(function(q){this.setState({videoUploaderInitParams:q.payload.video_uploader_params})}.bind(this)).send()};o.prototype.$PagesCoverEditMenu4=function(){return!!this.props.coreData.hasCoverSet};o.prototype.$PagesCoverEditMenu5=function(){if(!this.$PagesCoverEditMenu4())return j._("Add a Cover");return j._("Change Cover")};o.prototype.$PagesCoverEditMenu6=function(){if(!this.props.coverData.cover_photo.pageHasPhotos)return null;var p=c("XPhotoBrowserDialogController").getURIBuilder().setEnum("endpoint",c("PhotoBrowserDialogEndpointType").PAGES_COVER_JS).setEnum("generator",c("PhotoBrowserDialogPhotoGeneratorType").PAGE).setString("data","pages_cover_photo").setInt("id",this.props.pageID).getURI();return c("React").createElement(n,{href:p,rel:"dialog"},j._("Choose from photos"))};o.prototype.$PagesCoverEditMenu7=function(){var p,q=!!((p=this.props)!=null?(p=p.coverData)!=null?(p=p.cover_video)!=null?p.shouldShowChooseFromCoverVideoMenu:p:p:p);if(!q)return null;return c("React").createElement(n,{onclick:this.$PagesCoverEditMenu8},j._("Choose from videos"))};o.prototype.$PagesCoverEditMenu15=function(){var p,q,r,s,t=this.state.videoUploaderInitParams;if(!t)return null;var u=j._("Upload photo\/video"),v=(p=this.props)!=null?(p=p.coverData)!=null?(p=p.cover_video)!=null?p.minPlayableDurationInSec:p:p:p,w=(q=this.props)!=null?(q=q.coverData)!=null?(q=q.cover_video)!=null?q.maxPlayableDurationInSec:q:q:q,x=(r=this.props)!=null?(r=r.coverData)!=null?(r=r.cover_video)!=null?r.containerWidth:r:r:r,y=(s=this.props)!=null?(s=s.coverData)!=null?(s=s.cover_video)!=null?s.containerHeight:s:s:s;if(!v||!w||!x||!y)return null;return c("React").createElement(n,{renderas:"label"},c("React").createElement(c("PagesVideoUploader.react"),{"data-testid":c("PagesProfileTestID").COVER_PHOTO_UPLOAD_MENU_ITEM,extraAccept:"image/*",fileInputRef:this.$PagesCoverEditMenu12,label:u,labelClassName:"_3ihw",onChange:this.$PagesCoverEditMenu16,onEncodeFinished:this.$PagesCoverEditMenu14,onEncodeProgressed:c("PagesCoverVideoActionCreator").encodeProgressed,onEncodeStarted:c("PagesCoverVideoActionCreator").encodeStarted,onPostFailed:this.$PagesCoverEditMenu17,onUploadFailed:this.$PagesCoverEditMenu17,onUploadProgressed:c("PagesCoverVideoActionCreator").uploadProgressed,onUploadStarted:c("PagesCoverVideoActionCreator").uploadStarted,onVideoMetadataLoaded:this.$PagesCoverEditMenu13,videoUploaderInitParams:t}))};o.prototype.$PagesCoverEditMenu19=function(){var p=this.props.coverData.cover_live_video;if(!p.canEnable)return null;var q=!p.isEnabled?j._("Show Live Video"):j._("Don't Show Live Video");return c("React").createElement(n,{onClick:this.$PagesCoverEditMenu18},q)};o.prototype.$PagesCoverEditMenu21=function(){var p,q=(p=this.props)!=null?(p=p.coverData)!=null?p.cover_slideshow:p:p;if(!q||!q.isCoverSlideshowEnabled)return null;var r=q.shouldShowMenuNux?c("React").createElement(c("Image.react"),{src:h("115777"),style:{verticalAlign:"middle"}}):null,s=this.props.coreData.currentCoverType===c("PagesCoverType").COVER_SLIDESHOW?j._("Edit Slideshow"):j._("Create slideshow");return c("React").createElement(n,{onclick:this.$PagesCoverEditMenu20},s,r)};o.prototype.$PagesCoverEditMenu22=function(){var p,q=(p=this.props.coverData)!=null?(p=p.cover_video)!=null?p.isFromParentPage:p:p;if(!this.$PagesCoverEditMenu4()||this.props.coreData.currentCoverType===c("PagesCoverType").COVER_VIDEO&&q||this.props.coreData.currentCoverType===c("PagesCoverType").COVER_SLIDESHOW)return null;return c("React").createElement(n,{onclick:this.$PagesCoverEditMenu23},j._("Reposition"))};o.prototype.$PagesCoverEditMenu24=function(){switch(this.props.coreData.eventTourBadgeInfo.eventTourBadgeStatus){case c("EventTourBadgeEnum").TOUR_BADGE_HIDDEN:return c("React").createElement(n,{onclick:this.$PagesCoverEditMenu25},j._("Show tour info"));case c("EventTourBadgeEnum").TOUR_BADGE_SHOWN:return c("React").createElement(n,{onclick:this.$PagesCoverEditMenu25},j._("Hide tour info"));default:return null}};o.prototype.$PagesCoverEditMenu27=function(){var p,q=(p=this.props.coverData)!=null?(p=p.cover_video)!=null?p.isFromParentPage:p:p;if(!this.$PagesCoverEditMenu4()||this.props.coreData.currentCoverType===c("PagesCoverType").COVER_VIDEO&&q)return null;return c("React").createElement(n,{"data-testid":c("PagesProfileTestID").COVER_PHOTO_REMOVE_MENU_ITEM,onclick:this.$PagesCoverEditMenu26},j._("Remove"))};o.prototype.render=function(){if(!this.props.coreData.canViewerEditProfile||!this.state.videoUploaderInitParams)return null;var p=c("React").createElement(c("ReactXUIMenu"),null,this.$PagesCoverEditMenu6(),this.$PagesCoverEditMenu7(),this.$PagesCoverEditMenu15(),this.$PagesCoverEditMenu19(),this.$PagesCoverEditMenu21(),this.$PagesCoverEditMenu22(),this.$PagesCoverEditMenu24(),this.$PagesCoverEditMenu27());return c("React").createElement(c("PopoverMenu.react"),{className:"_3ihv"+(!this.props.coreData.shouldShowEditMenuForAdmins?" hidden_elem":""),layerBehaviors:[c("ContextualDialogArrow")],menu:p,position:"below"},c("React").createElement(c("PagesCoverCameraButton.react"),{expanded:!this.$PagesCoverEditMenu4(),label:this.$PagesCoverEditMenu5(),shouldShowCoverSlideshowMenuOptionNux:this.props.coverData.cover_slideshow.isCoverSlideshowEnabled&&this.props.coverData.cover_slideshow.shouldShowMenuNux&&this.props.coreData.currentCoverType!==c("PagesCoverType").COVER_SLIDESHOW,shouldshowOnTourBadgeMenuOptionNux:this.props.coreData.eventTourBadgeInfo.shouldShowNux}),c("React").createElement(c("PagesCoverRemoveCoverConfirmationDialog.react"),{coreData:this.props.coreData,onToggle:this.$PagesCoverEditMenu10,pageID:this.props.pageID,shown:this.state.showRemoveCoverConfirmationDialog}),c("React").createElement(c("PagesCoverVideoBrowserDialog.react"),{dialogShown:this.state.showCoverVideoBrowserDialog,onConfirm:this.$PagesCoverEditMenu11,onToggle:this.$PagesCoverEditMenu9,pageID:this.props.pageID}))};f.exports=o}),null);
__d("PagesCoverPhotoStore",["FluxReduceStore","PagesCoverAction","PagesCoverDispatcher","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{coverPhotoData:{focus:{height:0,width:0},id:"0",original:{height:0,width:0},uri:null},isEditable:false,isLoading:true,isPreviewMode:false,isOverlayEnabled:false,pageDescription:null,pageHasPhotos:false,pageID:"0",pagePrimaryButton:null,renderedHeight:0,renderedWidth:0}};j.prototype.reduce=function(k,l){__p&&__p();var m,n=null;switch(l.type){case c("PagesCoverAction").NEW_COVER_DATA:var o=(m=l.data)!=null?(m=m.coverData)!=null?m.cover_photo:m:m;if(o!==null)n=babelHelpers["extends"]({},o,{isLoading:false,isPreviewMode:false});break;case c("PagesCoverAction").PHOTO_SAVED:case c("PagesCoverAction").PHOTO_REMOVED:n=babelHelpers["extends"]({},k,l.data,{isLoading:false,isPreviewMode:false});break;case c("PagesCoverAction").PHOTO_UPLOADING:case c("PagesCoverAction").COVER_REMOVING:n=babelHelpers["extends"]({},k,{isPreviewMode:false});break;case c("PagesCoverAction").PHOTO_PREVIEWING:n=babelHelpers["extends"]({},k,l.data,{isLoading:false,isPreviewMode:true});break;case c("PagesCoverAction").PHOTO_SAVING:n=babelHelpers["extends"]({},k,l.data,{isLoading:true,isPreviewMode:false});break}return n||k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesCoverDispatcher"))}),null);
__d("XPagesCoverSlideshowFetchPrefilledPhotosAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_slideshow/prefilled_photos/",{page_id:{type:"FBID",required:true}})}),null);
__d("PagesCoverSlideshowStore",["fbt","AsyncRequest","FluxReduceStore","immutable","PagesCoverAction","PagesCoverDispatcher","PagesCoverSlideshowActionCreator","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","SimpleXUIDialog","XPagesCoverSlideshowFetchPrefilledPhotosAsyncController","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m={pageID:0,isCoverSlideshowEnabled:false,items:[],isEditMode:false,maxNumberOfPhotosInSlideshow:0,currentIndex:0,thumbnailHeight:0,thumbnailWidth:0,showLoadingScreen:false,hasPendingChanges:false,nuxTourSteps:[],shouldShowNUXTour:false,isContentOptimizerOn:false,shouldShowLoadingScreenOnPickerPlaceholder:false,shouldShowMenuNux:false};i=babelHelpers.inherits(n,c("immutable").Record(m));j=i&&i.prototype;function n(){i.apply(this,arguments)}k=babelHelpers.inherits(o,c("FluxReduceStore"));l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$PagesCoverSlideshowStore6=new Set(),q}o.prototype.getInitialState=function(){return new n()};o.prototype.getCurrentState=function(){return{pageID:this.getState().get("pageID"),isCoverSlideshowEnabled:this.getState().get("isCoverSlideshowEnabled"),items:this.getState().get("items"),isEditMode:this.getState().get("isEditMode"),maxNumberOfPhotosInSlideshow:this.getState().get("maxNumberOfPhotosInSlideshow"),currentIndex:this.getState().get("currentIndex"),thumbnailHeight:this.getState().get("thumbnailHeight"),thumbnailWidth:this.getState().get("thumbnailWidth"),showLoadingScreen:this.getState().get("showLoadingScreen"),hasPendingChanges:this.getState().get("hasPendingChanges"),nuxTourSteps:this.getState().get("nuxTourSteps"),shouldShowNUXTour:this.getState().get("shouldShowNUXTour"),isContentOptimizerOn:this.getState().get("isContentOptimizerOn"),shouldShowLoadingScreenOnPickerPlaceholder:this.getState().get("shouldShowLoadingScreenOnPickerPlaceholder"),shouldShowMenuNux:this.getState().get("shouldShowMenuNux")}};o.prototype.$PagesCoverSlideshowStore7=function(){if(this.$PagesCoverSlideshowStore3===undefined||this.$PagesCoverSlideshowStore3===null){var p=c("XPagesCoverSlideshowFetchPrefilledPhotosAsyncController").getURIBuilder().setFBID("page_id",this.getState().get("pageID")).getURI();new(c("AsyncRequest"))().setURI(p).setHandler(function(q){c("PagesCoverSlideshowActionCreator").loadPrefilledItems(q.payload)}).send();return null}else return this.$PagesCoverSlideshowStore3};o.prototype.$PagesCoverSlideshowStore8=function(p,q,r){__p&&__p();var s=null;if(r<p.length)s=p.map(function(u,v){return r===v?q:u});else{s=Array.from(p);s.push(q);s}var t=s.map(function(u){return u.carouselData.coverPhotoData.id});if(s.length===new Set(t).size)return s;c("SimpleXUIDialog").show(h._("This photo has already been selected. Please try picking a different photo."),h._("Duplicated Photo"));return p};o.prototype.$PagesCoverSlideshowStore9=function(p,q,r){var s=Array.from(p);if(q===r)return p;var t=s.splice(q,1);s.splice(r,0,t[0]);return s};o.prototype.$PagesCoverSlideshowStore10=function(p,q){if(p<0)return 0;if(p>=q)return Math.max(q-1,0);return p};o.prototype.reduce=function(p,q){__p&&__p();var r,s=null,t=null,u=p.get("items"),v=p.get("currentIndex");switch(q.type){case c("PagesCoverAction").NEW_COVER_DATA:var w=(r=q.data)!=null?(r=r.coverData)!=null?r.cover_slideshow:r:r;if(w){p=p.set("items",w.items);p=p.set("isCoverSlideshowEnabled",w.isCoverSlideshowEnabled);p=p.set("maxNumberOfPhotosInSlideshow",w.maxNumberOfPhotosInSlideshow);p=p.set("thumbnailHeight",w.thumbnailHeight);p=p.set("thumbnailWidth",w.thumbnailWidth);this.$PagesCoverSlideshowStore1=Array.from(w.items);this.$PagesCoverSlideshowStore6.clear();p=p.set("isEditMode",false);p=p.set("showLoadingScreen",false);p=p.set("hasPendingChanges",false);p=p.set("shouldShowNUXTour",w.shouldShowNUXTour);p=p.set("isContentOptimizerOn",w.isContentOptimizerOn);p=p.set("shouldShowMenuNux",w.shouldShowMenuNux)}var x=q.data.pageID;if(x)p=p.set("pageID",x);break;case c("PagesCoverAction").SLIDESHOW_EDIT:p=p.set("isEditMode",true);break;case c("PagesCoverAction").SLIDESHOW_DISPLAY:p=p.set("isEditMode",false);break;case c("PagesCoverAction").SLIDESHOW_PHOTO_PREVIEWING:if(q.data){var y=q.data,z=y.itemData,A=y.slideshowPreviewItemIndex;s=this.$PagesCoverSlideshowStore8(u,z,A);p=p.set("items",s);p=p.set("hasPendingChanges",true);p=p.set("isContentOptimizerOn",false)}p=p.set("shouldShowLoadingScreenOnPickerPlaceholder",false);break;case c("PagesCoverAction").SLIDESHOW_PHOTO_UPLOADING:var B=q.data.uploadingIndex;if(B<u.length){t=babelHelpers["extends"]({},u[B],{shouldShowLoadingIndicator:true});s=this.$PagesCoverSlideshowStore8(u,t,B);p=p.set("items",s)}else p=p.set("shouldShowLoadingScreenOnPickerPlaceholder",true);p=p.set("hasPendingChanges",true);break;case c("PagesCoverAction").SLIDESHOW_CHANGE_CAROUSEL_INDEX:p=p.set("currentIndex",this.$PagesCoverSlideshowStore10(q.data.currentIndex,p.get("items").length));break;case c("PagesCoverAction").SLIDESHOW_ITEM_REPOSITIONED:var C=q.data.itemRepositionedIndex;if(!this.$PagesCoverSlideshowStore6.has(C)){this.$PagesCoverSlideshowStore6.add(C);c("PagesLogger").log(p.get("pageID"),c("PagesLoggerEventEnum").DRAG,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"reposition_slideshow_item"});p=p.set("hasPendingChanges",true)}break;case c("PagesCoverAction").SLIDESHOW_PHOTO_REMOVED:var D=q.data.removedIndex;s=Array.from(u);s.splice(D,1);p=p.set("items",s);p=p.set("hasPendingChanges",true);p=p.set("isContentOptimizerOn",false);if(v>D||v>=s.length)p=p.set("currentIndex",this.$PagesCoverSlideshowStore10(v-1,s.length));break;case c("PagesCoverAction").SLIDESHOW_EDITING_CANCELLED:s=Array.from(this.$PagesCoverSlideshowStore1);p=p.set("items",s);p=p.set("isEditMode",false);p=p.set("hasPendingChanges",false);p=p.set("currentIndex",this.$PagesCoverSlideshowStore10(Math.min(s.length-1,v),s.length));this.$PagesCoverSlideshowStore6.clear();break;case c("PagesCoverAction").SLIDESHOW_SAVING:p=p.set("isEditMode",false);p=p.set("showLoadingScreen",true);p=p.set("hasPendingChanges",false);break;case c("PagesCoverAction").SLIDESHOW_CHANGE_ORDER:var E=q.data,F=E.fromIndex,G=E.toIndex;s=this.$PagesCoverSlideshowStore9(u,F,G);p=p.set("items",s);p=p.set("hasPendingChanges",true);p=p.set("currentIndex",this.$PagesCoverSlideshowStore10(G,s.length));p=p.set("isContentOptimizerOn",false);break;case c("PagesCoverAction").SLIDESHOW_NUX_TOUR_ELEMENT_LOADED:if(p.get("shouldShowNUXTour")){var H=q.data,I=H.context,J=H.step,K=H.description,L=H.position;if(this.$PagesCoverSlideshowStore4===undefined||this.$PagesCoverSlideshowStore4===null)this.$PagesCoverSlideshowStore4=[];if(this.$PagesCoverSlideshowStore5===undefined||this.$PagesCoverSlideshowStore5===null)this.$PagesCoverSlideshowStore5=new Set();if(!this.$PagesCoverSlideshowStore5.has(J)){this.$PagesCoverSlideshowStore4.splice(J,0,{context:I,description:K,position:L});this.$PagesCoverSlideshowStore5.add(J);p=p.set("nuxTourSteps",this.$PagesCoverSlideshowStore4)}}break;case c("PagesCoverAction").SLIDESHOW_NUX_TOUR_FINISHED:p=p.set("shouldShowNUXTour",false);break;case c("PagesCoverAction").SLIDESHOW_TOGGLE_CONTENT_SWITCHER:var M=!!q.data;if(M){this.$PagesCoverSlideshowStore2=p.get("items");s=this.$PagesCoverSlideshowStore7();if(s!==null)p=p.set("items",s)}else if(this.$PagesCoverSlideshowStore2===undefined||this.$PagesCoverSlideshowStore2===null)this.$PagesCoverSlideshowStore2=p.get("items");else p=p.set("items",this.$PagesCoverSlideshowStore2);p=p.set("isContentOptimizerOn",M);p=p.set("hasPendingChanges",true);break;case c("PagesCoverAction").SLIDESHOW_PREFILLED_PHOTO_LOADED:var N=q.data.prefilledItems;this.$PagesCoverSlideshowStore3=N;p=p.set("items",N);break;default:return p}return p};f.exports=new o(c("PagesCoverDispatcher"))}),null);
__d("PagesCoverTrailerState",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({WATCH_TRAILER:"watch_trailer",RESUME_EPISODE:"resume_episode",LATEST_EPISODE:"latest_episode",LIVE_VIDEO:"live_video"})}),null);
__d("PagesCoverTrailerStore",["FluxReduceStore","PagesCoverAction","PagesCoverDispatcher","PagesCoverTrailerState","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{showsData:{title:""},viewerCoverTrailerState:c("PagesCoverTrailerState").WATCH_TRAILER,isAdmin:false,isShowPageNewCover:false}};j.prototype.reduce=function(k,l){var m,n=null;switch(l.type){case c("PagesCoverAction").NEW_COVER_DATA:var o=(m=l.data)!=null?(m=m.coverData)!=null?m.cover_trailer:m:m;if(o!==null){n=babelHelpers["extends"]({},o);this.$PagesCoverTrailerStore1=n}break}return n||k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesCoverDispatcher"))}),null);
__d("PagesCoverVideoStore",["CoverVideoStatus","FluxReduceStore","PagesCoverAction","PagesCoverDispatcher","VideoPlayerOrigins","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{status:c("CoverVideoStatus").PUBLISHED,isViewerAdmin:false,shouldShowChooseFromCoverVideoMenu:false,isFromParentPage:false,isParentLocationPage:false,shouldCoverVideoLoop:false}};j.prototype.reduce=function(k,l){__p&&__p();var m,n=null;switch(l.type){case c("PagesCoverAction").NEW_COVER_DATA:this.$PagesCoverVideoStore1=l.data.pageID;var o=(m=l.data)!=null?(m=m.coverData)!=null?m.cover_video:m:m;if(o)n=babelHelpers["extends"]({},k,o,{playerOrigin:c("VideoPlayerOrigins").PAGE_TIMELINE});break;case c("PagesCoverAction").VIDEO_START_UPLOAD:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").UPLOADING,progress:0});break;case c("PagesCoverAction").VIDEO_UPLOADING:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").UPLOADING,progress:l.data.progress});break;case c("PagesCoverAction").VIDEO_ENCODING:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").ENCODING,progress:l.data.progress});break;case c("PagesCoverAction").VIDEO_PREVIEWING:n=babelHelpers["extends"]({},k,l.data,{status:c("CoverVideoStatus").PREVIEWING});break;case c("PagesCoverAction").VIDEO_CHOOSING_THUMBNAIL:n=babelHelpers["extends"]({},k,l.data,{status:c("CoverVideoStatus").CHOOSING_THUMBNAIL});break;case c("PagesCoverAction").VIDEO_PUBLISHING:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").PUBLISHING});break;case c("PagesCoverAction").VIDEO_PUBLISHED:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").PUBLISHED},l.data);break;case c("PagesCoverAction").VIDEO_CANCELLING:default:n=k}return n||k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesCoverDispatcher"))}),null);
__d("PageOnTourOverlay.react",["cx","EventActionContext","EventsActionsLogger","EventTourBadgeEnum","FBJSON","Link.react","PagesCoverCoreStore","React","XEventsTourPermalinkController","XUIText.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){var k=c("PagesCoverCoreStore").getEventTourBadgeInfo(),l=k.tourID,m=k.title,n=k.subtitle,o=k.eventTourBadgeStatus;if(o!==c("EventTourBadgeEnum").TOUR_BADGE_SHOWN||l===null||m===null)return null;var p=c("EventActionContext").toString(c("EventActionContext").addActionHistoryEntry(c("EventActionContext").getNewActionContext(),{surface:c("EventsActionsLogger").Surface.PAGE,mechanism:c("EventsActionsLogger").Mechanism.PAGE_COVER_AREA,extra_data:c("FBJSON").stringify({tourID:l})})),q=c("XEventsTourPermalinkController").getURIBuilder().setFBID("tour_id",l).setString("acontext",p).getURI(),r="_ncd";if(j.className)r=c("joinClasses")(r,j.className);return c("React").createElement("div",{className:r},c("React").createElement(c("Link.react"),{href:q},c("React").createElement(c("XUIText.react"),{className:"_4yv7",color:"white",size:"header1"},m)),c("React").createElement("br",null),c("React").createElement(c("XUIText.react"),{className:"_nce _4yv7",size:"header3"},n))}f.exports=i}),null);
__d("PagesCoverLoadingScreen.react",["cx","CenteredContainer.react","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"})),l=j.height,m=j.width;if(l&&m)return c("React").createElement("div",{style:{height:l,width:m}},k);return c("React").createElement("div",{className:"_2rc-"},k)};f.exports=i}),null);
__d("XPagesCoverOverlayEditAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_overlay_edit/",{})}),null);
__d("XPagesCoverOverlayRemoveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_overlay_remove/",{})}),null);
__d("PagesCoverOverlay.react",["ix","cx","fbt","AsyncRequest","Image.react","LayerFadeOnHide","PageCallToActionRef","PageCTAAction.react","PagesEventObserver","PagesEventType","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","ShimButton.react","SimpleNUXMessage","SimpleNUXMessageTypes","XPagesCoverOverlayEditAsyncController","XPagesCoverOverlayRemoveAsyncController","XUIAmbientNUX.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=100;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){__p&&__p();l.constructor.call(this,o);this.$PagesCoverOverlay7=function(p){var q=p.target;if(q instanceof HTMLTextAreaElement&&q.value.length<=m)this.setState({newDescription:q.value})}.bind(this);this.$PagesCoverOverlay11=function(){this.setState({isEditing:true,shouldShowNUX:false});return}.bind(this);this.$PagesCoverOverlay9=function(){this.setState({isEditing:false,newDescription:this.state.currentDescription||""})}.bind(this);this.$PagesCoverOverlay10=function(){__p&&__p();var p=null,q=null;if(!this.state.newDescription){p=c("XPagesCoverOverlayRemoveAsyncController").getURIBuilder().getURI();q=true}else{p=c("XPagesCoverOverlayEditAsyncController").getURIBuilder().getURI();q=this.state.newDescription}new(c("AsyncRequest"))().setURI(p).setData({page_id:this.props.pageID,description:q}).setHandler(function(r){if(r.payload.description!==null)this.setState({isEditing:false,newDescription:r.payload.description||"",currentDescription:r.payload.description})}.bind(this)).send()}.bind(this);this.$PagesCoverOverlay13=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").PAGES_COVER_DESCRIPTION_CREATION_NUX);this.setState({shouldShowNUX:false})}.bind(this);this.state={isEditing:false,newDescription:this.props.description||"",currentDescription:this.props.description,shouldShowNUX:false}}n.prototype.componentDidMount=function(){if(this.$PagesCoverOverlay1())this.setState({shouldShowNUX:true})};n.prototype.componentWillReceiveProps=function(o){if(this.props.description===o.description)return;this.setState({newDescription:o.description||"",currentDescription:o.description})};n.prototype.render=function(){var o=this.props.description,p=!!o||this.$PagesCoverOverlay2();if(!p&&!this.props.isEditable)return null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_4i3o"}),c("React").createElement("div",{className:"_4i3n"},this.$PagesCoverOverlay3(),this.$PagesCoverOverlay4(),this.$PagesCoverOverlay5(),this.$PagesCoverOverlay6()))};n.prototype.$PagesCoverOverlay3=function(){if(this.state.isEditing||!this.state.currentDescription)return null;c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").PAGE_COVER_DESCRIPTION,c("PageCallToActionRef").PAGES_COVER_AREA_SURFACE);c("PagesEventObserver").notify(c("PagesEventType").COVER_AREA_DESCRIPTION_IMPRESSION,this.props.pageID);var o=this.$PagesCoverOverlay2();return c("React").createElement("div",{className:"_4i46"+(o?" _4i47":"")+(!o?" _4i4d":"")},c("React").createElement(c("XUIText.react"),null,this.state.currentDescription))};n.prototype.$PagesCoverOverlay4=function(){if(this.$PagesCoverOverlay2()){c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").PAGE_COVER_CTA_BUTTON,c("PageCallToActionRef").PAGES_COVER_AREA_SURFACE);c("PagesEventObserver").notify(c("PagesEventType").COVER_AREA_CTA_IMPRESSION,this.props.pageID);return c("React").createElement(c("PageCTAAction.react"),babelHelpers["extends"]({},this.props.primaryButton,{className:"_1kp2 _4i44 _291t",surface:c("PageCallToActionRef").PAGES_COVER_AREA_SURFACE}))}return null};n.prototype.$PagesCoverOverlay5=function(){if(!this.props.isEditable||!this.state.isEditing)return null;var o=this.$PagesCoverOverlay2();return c("React").createElement("div",null,c("React").createElement("textarea",{ref:function p(q){q&&q.focus()},className:"_4i4e"+(o?" _4i47":"")+(!o?" _4i4d":""),maxLines:"3",value:this.state.newDescription,onChange:this.$PagesCoverOverlay7,onKeyDown:this.$PagesCoverOverlay8}))};n.prototype.$PagesCoverOverlay6=function(){if(!this.props.isEditable||this.props.isPreviewMode||this.props.isLoading)return null;if(this.state.isEditing)return c("React").createElement("div",null,c("React").createElement("div",{className:"_4i4f"},c("React").createElement("div",{className:"_4i4g"},c("React").createElement(c("XUIText.react"),null,j._("{current_char_num}\/{max_char_num}",[j.param("current_char_num",this.state.newDescription.length),j.param("max_char_num",m)])))),c("React").createElement("div",{className:"_4i4p"},c("React").createElement(c("ShimButton.react"),{className:"_4i4r",onClick:this.$PagesCoverOverlay9},c("React").createElement(c("Image.react"),{src:h("127524")})),c("React").createElement(c("ShimButton.react"),{className:"_4i4r",onClick:this.$PagesCoverOverlay10},c("React").createElement(c("Image.react"),{src:h("114570")}))));return c("React").createElement(c("ShimButton.react"),{className:"_4i4p",onClick:this.$PagesCoverOverlay11},c("React").createElement("div",{className:"_4i4r"},c("React").createElement(c("Image.react"),{src:h("115342")})),c("React").createElement("div",{className:"_4i4s",ref:"coverEditButton"},c("React").createElement(c("XUIText.react"),null,j._("Edit"))),this.$PagesCoverOverlay12())};n.prototype.$PagesCoverOverlay8=function(o){if(o.keyCode==13)o.preventDefault()};n.prototype.$PagesCoverOverlay2=function(){return!!this.props.primaryButton&&this.props.primaryButton.__typename==="PageCTAAction"};n.prototype.$PagesCoverOverlay12=function(){var o=c("React").createElement("div",{className:"_308b"},j._("Make it easy for people to see what's important and take action on your Page. You can edit or remove this new description anytime, and it won't affect other descriptions on your Page."));return c("React").createElement(c("XUIAmbientNUX.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},contextRef:function(){return this.refs.coverEditButton}.bind(this),onCloseButtonClick:this.$PagesCoverOverlay13,position:"above",alignment:"right",shown:this.state.shouldShowNUX},o)};n.prototype.$PagesCoverOverlay1=function(){if(this.props.isEditable)return!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").PAGES_COVER_DESCRIPTION_CREATION_NUX);return false};f.exports=n}),null);
__d("XPhotoPermalinkController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/{vanity}/photos/{?set_token}/{photo_id}/",{photo_id:{type:"Int"},set_token:{type:"String"},type:{type:"Enum",defaultValue:3,enumType:0},link_share:{type:"String"},subject:{type:"Int"},object_id:{type:"Int"},opaque_cursor:{type:"String"},legacy_user_id:{type:"Int"},legacy_photo_id:{type:"Int"},video_id:{type:"Int"},comment_id:{type:"Int"},notif_t:{type:"String"},is_notification_preview:{type:"Bool",defaultValue:false},force_theater:{type:"Bool",defaultValue:false},story_token:{type:"String"},vanity:{type:"String"},reply_comment_id:{type:"Int"}})}),null);
__d("PagesCoverPhotoLink.react",["cx","Link.react","React","XPhotoPermalinkController"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){if(j.coverPhotoData.uri===null||j.isLoading||j.isPreviewMode)return c("React").Children.only(j.children);return c("React").createElement(c("Link.react"),{className:"_5q-4",href:c("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",j.coverPhotoData.id).setString("vanity",j.pageID).getURI(),rel:"theater"},j.children)};f.exports=i}),null);
__d("XPagesCoverPhotoSaveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_photo_save/",{focus_x:{type:"Float",required:true},focus_y:{type:"Float",required:true},page_id:{type:"FBID",required:true},photo_id:{type:"FBID",required:true}})}),null);
__d("PagesCoverPhoto.react",["cx","ActorURI","AsyncRequest","PagesCoverAction","PagesCoverDispatcher","PagesCoverOverlay.react","PagesCoverPhotoLink.react","ProfileHeaderCoverPhoto.react","React","XPagesCoverPhotoSaveAsyncController","XPagesCoverReloadController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){if(!this.$PagesCoverPhoto1()&&!this.props.isEditable)return null;return c("React").createElement("div",{className:"_2g7o"},c("React").createElement(c("PagesCoverPhotoLink.react"),this.props,c("React").createElement("div",null,c("React").createElement(c("ProfileHeaderCoverPhoto.react"),{coverPhotoData:this.props.coverPhotoData,emptyCover:this.$PagesCoverPhoto2(),height:this.props.renderedHeight,isLoading:this.props.isLoading,previewCancelHandler:this.$PagesCoverPhoto3.bind(this),previewMode:this.props.isPreviewMode,previewSaveHandler:this.$PagesCoverPhoto4.bind(this),ref:"coverPhoto",width:this.props.renderedWidth}))),this.props.isOverlayEnabled?c("React").createElement(c("PagesCoverOverlay.react"),{pageID:this.props.pageID,primaryButton:this.props.pagePrimaryButton,description:this.props.pageDescription,isEditable:this.props.isEditable,isPreviewMode:this.props.isPreviewMode,isLoading:this.props.isLoading}):null)};k.prototype.$PagesCoverPhoto1=function(){return this.props.coverPhotoData.uri!==null};k.prototype.$PagesCoverPhoto2=function(){return c("React").createElement("div",{className:"_5_yy _44oa"})};k.prototype.$PagesCoverPhoto3=function(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").PHOTO_CANCEL});new(c("AsyncRequest"))().setURI(c("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI()).send()};k.prototype.$PagesCoverPhoto4=function(){var l=this.refs.coverPhoto.getDimensions().getRect().center;c("PagesCoverDispatcher").dispatch({data:{coverPhotoData:babelHelpers["extends"]({},this.props.coverPhotoData,{focus:{height:l.y,width:l.x}})},type:c("PagesCoverAction").PHOTO_SAVING});new(c("AsyncRequest"))().setURI(c("ActorURI").create(c("XPagesCoverPhotoSaveAsyncController").getURIBuilder().setFloat("focus_x",l.x).setFloat("focus_y",l.y).setFBID("page_id",this.props.pageID).setFBID("photo_id",this.props.coverPhotoData.id).getURI(),this.props.pageID)).send()};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("PagesCoverSlideshowButtonGroup.react",["cx","fbt","PagesCoverSlideshowActionCreator","React","SimpleXUIDialog","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$PagesCoverSlideshowButtonGroup1=function(){if(this.props.items.length===0)c("SimpleXUIDialog").show(i._("To save your slideshow, first add photos. To delete your cover photo, return to your Page and select Remove in the cover area."),i._("Slideshow Not Saved"));else if(this.$PagesCoverSlideshowButtonGroup2())c("SimpleXUIDialog").show(i._("You can't save duplicated photos in your slideshow."),i._("Duplicated Photo"));else{this.props.onSave();c("PagesCoverSlideshowActionCreator").onSlideshowSaving(this.props.pageID)}}.bind(this),o}m.prototype.$PagesCoverSlideshowButtonGroup2=function(){var n=this.props.items.map(function(o){return o.carouselData.coverPhotoData.id});return new Set(n).size!==n.length};m.prototype.render=function(){if(!this.props.isEditMode)return null;return c("React").createElement("span",{className:"_34p_"},c("React").createElement(c("XUIButton.react"),{disabled:!this.props.hasPendingChanges,label:i._("Cancel"),onClick:c("PagesCoverSlideshowActionCreator").confirmCancel,use:"default"}),c("React").createElement(c("XUIButton.react"),{disabled:!this.props.hasPendingChanges,label:i._("Save"),onClick:this.$PagesCoverSlideshowButtonGroup1,use:"confirm"}))};m.propTypes={pageID:l.string.isRequired,isEditMode:l.bool.isRequired,items:l.array.isRequired,onSave:l.func.isRequired,hasPendingChanges:l.bool.isRequired};f.exports=m}),null);
__d("PagesCoverSlideshowItemLoadingScreen.react",["cx","CenteredContainer.react","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){if(!j.shown)return null;return c("React").createElement(c("CenteredContainer.react"),{className:"_4g6t",fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}))}f.exports=i}),null);
__d("XPagesCoverSlideshowSaveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_slideshow/save/",{page_id:{type:"FBID"},photo_id_vector:{type:"FBIDVector"},focus_x_vector:{type:"FloatVector"},focus_y_vector:{type:"FloatVector"},is_content_optimizer_on:{type:"Bool",defaultValue:false}})}),null);
__d("PagesCoverSlideshowCarousel.react",["ix","cx","invariant","AsyncRequest","Image.react","Link.react","PagesCoverSlideshowActionCreator","PagesCoverSlideshowButtonGroup.react","PagesCoverSlideshowItemLoadingScreen.react","ProfileHeaderCoverPhoto.react","React","XPagesCoverSlideshowSaveAsyncController","XPhotoPermalinkController","XUICarousel.react","XUICarouselArrow.react","XUICarouselItem.react","XUICarouselLinks.react","emptyFunction","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n={focus:{height:0,width:0},id:"0",original:{height:0,width:0},uri:null},o=820,p=312;k=babelHelpers.inherits(q,c("React").PureComponent);l=k&&k.prototype;function q(r){__p&&__p();l.constructor.call(this,r);this.state={showCarouselDotsIndicator:false};this.$PagesCoverSlideshowCarousel4=function(s){this.$PagesCoverSlideshowCarousel1=s;if(this.$PagesCoverSlideshowCarousel1){this.$PagesCoverSlideshowCarousel2=this.$PagesCoverSlideshowCarousel1.subscribe(["animation_start"],function(t,u){if(t==="animation_start")c("PagesCoverSlideshowActionCreator").changeCurrentIndex(this.props.pageID,u)}.bind(this));this.setState({showCarouselDotsIndicator:true})}}.bind(this);this.$PagesCoverSlideshowCarousel7=function(){__p&&__p();var s=[],t=[],u=[];for(var v=0;v<this.props.items.length;v++){var w=this.props.items[v],x=w.carouselData.coverPhotoData.id,y=this.$PagesCoverSlideshowCarousel3.get(x);!!y||j(0);var z=y.getDimensions().getRect().center;s.push(x);t.push(z.x);u.push(z.y)}var A=c("XPagesCoverSlideshowSaveAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(A).setData({page_id:this.props.pageID,photo_id_vector:s,focus_x_vector:t,focus_y_vector:u,is_content_optimizer_on:this.props.isContentOptimizerOn}).send()}.bind(this);this.$PagesCoverSlideshowCarousel3=new Map()}q.prototype.componentWillReceiveProps=function(r){if(this.$PagesCoverSlideshowCarousel1&&r.currentIndex!==this.props.currentIndex)this.$PagesCoverSlideshowCarousel1.setIndex(r.currentIndex)};q.prototype.componentWillUnmount=function(){if(this.$PagesCoverSlideshowCarousel1&&this.$PagesCoverSlideshowCarousel2)this.$PagesCoverSlideshowCarousel1.unsubscribe(this.$PagesCoverSlideshowCarousel2)};q.prototype.$PagesCoverSlideshowCarousel5=function(){if(!this.$PagesCoverSlideshowCarousel1||!this.state.showCarouselDotsIndicator)return null;return c("React").createElement(c("XUICarouselLinks.react"),{carousel:this.$PagesCoverSlideshowCarousel1,className:"_2yih"})};q.prototype.$PagesCoverSlideshowCarousel6=function(r,s){if(!s)return;this.$PagesCoverSlideshowCarousel3.set(r,s)};q.prototype.render=function(){var r=c("React").createElement(c("XUICarouselArrow.react"),{className:"_3-9a"},c("React").createElement(c("Image.react"),{src:h("114591")})),s=c("React").createElement(c("XUICarouselArrow.react"),{className:"_3-90"},c("React").createElement(c("Image.react"),{src:h("114601")})),t=this.props.items.map(function(u,v){var w=u.carouselData,x=c("React").createElement(c("ProfileHeaderCoverPhoto.react"),{coverPhotoData:w.coverPhotoData,height:w.renderedHeight,hideDefaultButtons:true,isLoading:w.isLoading,onMove:c("PagesCoverSlideshowActionCreator").onItemRepositioned,previewCancelHandler:c("emptyFunction"),previewMode:this.props.isEditMode,previewSaveHandler:c("emptyFunction"),ref:function(y){return this.$PagesCoverSlideshowCarousel6(w.coverPhotoData.id,y)}.bind(this),width:w.renderedWidth});if(!this.props.isEditMode)x=c("React").createElement(c("Link.react"),{className:"_5q-4",href:c("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",w.coverPhotoData.id).setString("vanity",this.props.pageID).setString("set_token","p."+w.coverPhotoData.id).getURI(),rel:"theater"},x);return c("React").createElement(c("XUICarouselItem.react"),{className:"_626d",key:w.coverPhotoData.id},x,c("React").createElement(c("PagesCoverSlideshowItemLoadingScreen.react"),{shown:!!u.shouldShowLoadingIndicator}))}.bind(this));if(t.length===0)t.push(c("React").createElement(c("XUICarouselItem.react"),{className:"_626d",key:"empty_cover_photo_placeholder"},c("React").createElement(c("ProfileHeaderCoverPhoto.react"),{coverPhotoData:n,emptyCover:c("React").createElement("div",{className:"_5_yy _44oa"}),height:p,hideDefaultButtons:true,isLoading:false,previewCancelHandler:c("emptyFunction"),previewMode:false,previewSaveHandler:c("emptyFunction"),width:o})));return c("React").createElement("div",null,c("React").createElement(c("XUICarousel.react"),{arrows:[r,s],initialAutoplay:false,initialIndex:this.props.currentIndex,ref:this.$PagesCoverSlideshowCarousel4,resizeViewport:"fixed",viewportHeight:p,wrapAround:true},t),this.$PagesCoverSlideshowCarousel5(),c("React").createElement(c("PagesCoverSlideshowButtonGroup.react"),babelHelpers["extends"]({},this.props,{onSave:this.$PagesCoverSlideshowCarousel7})))};q.propTypes={items:m.array.isRequired,maxNumberOfPhotosInSlideshow:m.number.isRequired,photoPreviewData:m.object,currentIndex:m.number.isRequired,isEditMode:m.bool.isRequired,hasPendingChanges:m.bool.isRequired,isContentOptimizerOn:m.bool.isRequired};f.exports=q}),null);
__d("PagesCoverSlideshowItemEditMenu.react",["cx","fbt","ActorURI","ContextualDialogArrow","FileInput.react","FileInputUploader","PagesCoverSlideshowActionCreator","ReactXUIMenu","PhotoBrowserDialogEndpointType","PhotoBrowserDialogPhotoGeneratorType","PopoverMenu.react","React","XPhotoBrowserDialogController","ReactDOM","XPagesCoverPhotoUploadAsyncController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("ReactXUIMenu").Item,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$PagesCoverSlideshowItemEditMenu2=function(t){this.$PagesCoverSlideshowItemEditMenu1=t}.bind(this),this.$PagesCoverSlideshowItemEditMenu3=function(){var t=c("ActorURI").create(c("XPagesCoverPhotoUploadAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).setString("ref","pages_cover_slideshow_ref").setInt("index",this.props.index).getURI(),this.props.pageID),u=c("ReactDOM").findDOMNode(this.$PagesCoverSlideshowItemEditMenu1);new(c("FileInputUploader"))(u).setURI(t).setAllowCrossOrigin(true).send();c("PagesCoverSlideshowActionCreator").onPhotoUploading(this.props.index)}.bind(this),this.$PagesCoverSlideshowItemEditMenu4=function(){c("PagesCoverSlideshowActionCreator").onPhotoRemoved(this.props.index)}.bind(this),p}n.prototype.componentDidMount=function(){if(this.props.index!==0)return;var o=c("ReactDOM").findDOMNode(this);if(!(o instanceof Element)||!this.props.hasItem)return;c("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(o,2,i._("To choose your slideshow manually, add a new photo or choose an existing one. Slideshow images must be at least 820 pixels wide and 312 pixels tall."),"below")};n.prototype.$PagesCoverSlideshowItemEditMenu5=function(){var o=c("XPhotoBrowserDialogController").getURIBuilder().setEnum("endpoint",c("PhotoBrowserDialogEndpointType").PAGES_COVER_SLIDESHOW_JS).setEnum("generator",c("PhotoBrowserDialogPhotoGeneratorType").PAGE).setString("data","pages_cover_photo").setInt("id",this.props.pageID).setString("data",""+this.props.index).getURI();return c("React").createElement(l,{href:o,rel:"dialog"},i._("Choose from photos"))};n.prototype.$PagesCoverSlideshowItemEditMenu6=function(){return c("React").createElement(l,{renderas:"label"},c("React").createElement(c("FileInput.react"),{accept:"image/*",display:"inline-block",name:"pages_cover_slideshow_photo_uploader",onChange:this.$PagesCoverSlideshowItemEditMenu3,ref:this.$PagesCoverSlideshowItemEditMenu2},c("React").createElement("a",{className:"_2ojv",href:"#"},i._("Upload Photo"))))};n.prototype.$PagesCoverSlideshowItemEditMenu7=function(){if(!this.props.hasItem)return null;return c("React").createElement(l,{onClick:this.$PagesCoverSlideshowItemEditMenu4},i._("Remove"))};n.prototype.$PagesCoverSlideshowItemEditMenu8=function(){return c("React").createElement(c("ReactXUIMenu"),null,this.$PagesCoverSlideshowItemEditMenu5(),this.$PagesCoverSlideshowItemEditMenu6(),this.$PagesCoverSlideshowItemEditMenu7())};n.prototype.render=function(){return c("React").createElement(c("PopoverMenu.react"),{layerBehaviors:[c("ContextualDialogArrow")],menu:this.$PagesCoverSlideshowItemEditMenu8(),position:"below"},this.props.icon)};n.propTypes={index:m.number.isRequired,pageID:m.string.isRequired,icon:m.object.isRequired,hasItem:m.bool.isRequired};f.exports=n}),null);
__d("PagesCoverSlideshowPlaceholder.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){return c("React").createElement("div",{className:"_2aou",key:"placeholder"},c("React").createElement("div",{className:"_2ap1",style:{height:j.thumbnailHeight,width:j.thumbnailWidth}}))}f.exports=i}),null);
__d("PagesCoverSlideshowPlaceholderWithPicker.react",["ix","cx","fbt","CenteredContainer.react","Image.react","Link.react","PagesCoverSlideshowActionCreator","PagesCoverSlideshowItemEditMenu.react","React","ReactDOM","XUISpinner.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").PureComponent);l=k&&k.prototype;n.prototype.$PagesCoverSlideshowPlaceholderWithPicker1=function(){if(this.props.shouldShowLoadingScreenOnPickerPlaceholder)return null;var o=c("React").createElement(c("CenteredContainer.react"),{className:"_30i-",style:{height:this.props.thumbnailHeight,width:this.props.thumbnailWidth},vertical:true},c("React").createElement(c("Image.react"),{src:h("123419")}));return c("React").createElement(c("PagesCoverSlideshowItemEditMenu.react"),{hasItem:false,icon:o,index:this.props.index,pageID:this.props.pageID})};n.prototype.$PagesCoverSlideshowPlaceholderWithPicker2=function(){if(!this.props.shouldShowLoadingScreenOnPickerPlaceholder)return null;return c("React").createElement(c("CenteredContainer.react"),{className:"_30i-",style:{height:this.props.thumbnailHeight,width:this.props.thumbnailWidth},vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}))};n.prototype.render=function(){return c("React").createElement("div",{className:"_2aou",key:"picker"},c("React").createElement(c("Link.react"),null,this.$PagesCoverSlideshowPlaceholderWithPicker1(),this.$PagesCoverSlideshowPlaceholderWithPicker2()))};function n(){k.apply(this,arguments)}n.propTypes={index:m.number.isRequired,pageID:m.string.isRequired,thumbnailHeight:m.number.isRequired,thumbnailWidth:m.number.isRequired,shouldShowLoadingScreenOnPickerPlaceholder:m.bool.isRequired};f.exports=n}),null);
__d("PagesCoverSlideshowThumbnailItem.react",["cx","BackgroundImage.react","Link.react","PagesCoverSlideshowActionCreator","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$PagesCoverSlideshowThumbnailItem1=function(){c("PagesCoverSlideshowActionCreator").changeCurrentIndex(this.props.pageID,this.props.index)}.bind(this),n}l.prototype.render=function(){return c("React").createElement("div",{className:"_2aou",key:this.props.thumbnailURI},c("React").createElement(c("Link.react"),{onClick:this.$PagesCoverSlideshowThumbnailItem1},c("React").createElement(c("BackgroundImage.react"),{alt:"pages_cover_photo_thumbnail",backgroundSize:"cover",className:this.props.isCurrent?"_4bou":"",height:this.props.thumbnailHeight,src:this.props.thumbnailURI,width:this.props.thumbnailWidth})))};l.propTypes={index:k.number.isRequired,isCurrent:k.bool.isRequired,pageID:k.string.isRequired,thumbnailWidth:k.number.isRequired,thumbnailHeight:k.number.isRequired,thumbnailURI:k.string.isRequired};f.exports=l}),null);
__d("PagesCoverSlideshowEditBar.react",["ix","cx","fbt","invariant","FBCircularGlyph.react","FBDraggableBar.react","FBDraggableItem.react","FBToggleSwitch.react","PagesCoverSlideshowActionCreator","PagesCoverSlideshowItemEditMenu.react","PagesCoverSlideshowPlaceholder.react","PagesCoverSlideshowPlaceholderWithPicker.react","PagesCoverSlideshowThumbnailItem.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes;l=babelHelpers.inherits(o,c("React").PureComponent);m=l&&l.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.$PagesCoverSlideshowEditBar3=function(u){u||u===0||k(0);c("PagesCoverSlideshowActionCreator").changeCurrentIndex(this.props.pageID,u)}.bind(this),this.$PagesCoverSlideshowEditBar4=function(u){c("PagesCoverSlideshowActionCreator").toggleContentOptimizer(this.props.pageID,u)}.bind(this),this.$PagesCoverSlideshowEditBar5=function(u,v){c("PagesCoverSlideshowActionCreator").reorderSlideshowItems(u,v,this.props.pageID)}.bind(this),q}o.prototype.$PagesCoverSlideshowEditBar1=function(p){if(!p)return;c("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(p,1,j._("You can rearrange the order of your slideshow by dragging the photos to the position where you want them."),"below")};o.prototype.$PagesCoverSlideshowEditBar2=function(p){if(!p)return;c("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(p,4,j._("To help get you started, we've chosen photos based on what performs well. If you let Facebook choose your slideshow, the photos may update based on your Page activity."),"left")};o.prototype.render=function(){__p&&__p();if(!this.props.isEditMode)return null;var p=this.props.items.map(function(t,s){var u=t.thumbnailData;return c("React").createElement(c("FBDraggableItem.react"),{index:s,key:u.thumbnailURI,onGrab:this.$PagesCoverSlideshowEditBar3},c("React").createElement(c("PagesCoverSlideshowThumbnailItem.react"),babelHelpers["extends"]({index:s,isCurrent:s===this.props.currentIndex,pageID:this.props.pageID},u)),c("React").createElement("div",{className:"_37bb"},c("React").createElement(c("PagesCoverSlideshowItemEditMenu.react"),babelHelpers["extends"]({},u,{hasItem:true,icon:c("React").createElement(c("FBCircularGlyph.react"),{circleSize:18,className:"_4boy",glyph:h("113738")}),index:s,pageID:this.props.pageID}))))}.bind(this)),q=[],r=this.props.maxNumberOfPhotosInSlideshow-p.length;if(r>0)q.push(c("React").createElement(c("PagesCoverSlideshowPlaceholderWithPicker.react"),{index:p.length,key:"pages_cover_slideshow_picker",pageID:this.props.pageID,shouldShowLoadingScreenOnPickerPlaceholder:this.props.shouldShowLoadingScreenOnPickerPlaceholder,thumbnailHeight:this.props.thumbnailHeight,thumbnailWidth:this.props.thumbnailWidth}));var s=p.length+q.length;while(q.length<r){q.push(c("React").createElement(c("PagesCoverSlideshowPlaceholder.react"),{key:"pages_cover_slideshow_placeholder"+s,thumbnailHeight:this.props.thumbnailHeight,thumbnailWidth:this.props.thumbnailWidth}));s++}return c("React").createElement("div",{ref:this.$PagesCoverSlideshowEditBar1},c("React").createElement("div",{className:"_3rgb"},j._("Choose photos that you'd like to feature in your cover slideshow"),c("React").createElement("span",{className:"_3rgc",ref:this.$PagesCoverSlideshowEditBar2},c("React").createElement("span",{className:"_3-8s"},j._("Let Facebook Choose Photos")),c("React").createElement(c("FBToggleSwitch.react"),{animate:true,checked:this.props.isContentOptimizerOn,onToggle:this.$PagesCoverSlideshowEditBar4,tooltip:j._("Facebook can select photos for you based on what performs well. These photos may update based on your Page activity. To create your own slideshow, add or edit photos.")}))),c("React").createElement("div",{className:"_3rgd"},c("React").createElement(c("FBDraggableBar.react"),{onReorder:this.$PagesCoverSlideshowEditBar5},p),q))};o.propTypes={pageID:n.string.isRequired,items:n.array.isRequired,isEditMode:n.bool.isRequired,maxNumberOfPhotosInSlideshow:n.number.isRequired,currentIndex:n.number.isRequired,thumbnailHeight:n.number.isRequired,thumbnailWidth:n.number.isRequired,isContentOptimizerOn:n.bool.isRequired,shouldShowLoadingScreenOnPickerPlaceholder:n.bool.isRequired};f.exports=o}),null);
__d("PagesCoverSlideshowNUXTour.react",["AdsBlueTipTour.react","BasicFBNux","LayerFadeOnShow","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.prototype.$PagesCoverSlideshowNUXTour1=function(){c("BasicFBNux").onDismiss(5385)};k.prototype.$PagesCoverSlideshowNUXTour2=function(l){if(!l)return;c("BasicFBNux").onView(5385)};k.prototype.render=function(){if(this.props.steps.length===0||!this.props.shown)return null;var l=this.props.steps.map(function(m){return{content:m.description,context:m.context,position:m.position}});return c("React").createElement(c("AdsBlueTipTour.react"),{behaviors:{LayerFadeOnShow:c("LayerFadeOnShow")},highlightContext:false,onComplete:this.$PagesCoverSlideshowNUXTour1,onXOut:this.$PagesCoverSlideshowNUXTour1,ref:this.$PagesCoverSlideshowNUXTour2,steps:l})};function k(){h.apply(this,arguments)}k.propTypes={shown:j.bool.isRequired,steps:j.array.isRequired};f.exports=k}),null);
__d("PagesCoverSlideshow.react",["cx","PagesCoverSlideshowActionCreator","PagesCoverSlideshowCarousel.react","PagesCoverSlideshowEditBar.react","PagesCoverSlideshowItemLoadingScreen.react","PagesCoverSlideshowNUXTour.react","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$PagesCoverSlideshow1=function(){if(this.props.hasPendingChanges)c("PagesCoverSlideshowActionCreator").confirmCancel();else c("PagesCoverSlideshowActionCreator").onEditingCancelled()}.bind(this),n}l.prototype.componentDidMount=function(){if(!this.props.isEditMode)c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW)};l.prototype.render=function(){if(!this.props.isCoverSlideshowEnabled)return null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_626c"},c("React").createElement(c("PagesCoverSlideshowEditBar.react"),this.props),c("React").createElement(c("PagesCoverSlideshowCarousel.react"),this.props),c("React").createElement(c("PagesCoverSlideshowNUXTour.react"),{shown:this.props.shouldShowNUXTour&&this.props.isEditMode,steps:this.props.nuxTourSteps}),c("React").createElement(c("PagesCoverSlideshowItemLoadingScreen.react"),{shown:this.props.showLoadingScreen})),c("React").createElement("div",{className:this.props.isEditMode?"_i5t":"",onClick:this.$PagesCoverSlideshow1,role:"link",tabIndex:0}))};l.propTypes={pageID:k.string.isRequired,isCoverSlideshowEnabled:k.bool.isRequired,hasPendingChanges:k.bool.isRequired,shouldShowNUXTour:k.bool.isRequired,nuxTourSteps:k.array.isRequired,showLoadingScreen:k.bool.isRequired,isEditMode:k.bool.isRequired};f.exports=l}),null);
__d("PagesCoverVideoPlayer.react",["Bootloader","CoverVideoUtil","OnVisible.react","PagesEventObserver","PagesEventType","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","ReactDOM","SubscriptionsHandler","TahoeVariables","URI","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentWithLoopingPlayback.react","VideoPlayer.react","VideoPlayerLoggerSource","VideoPlayerReason"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=-100;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(l){__p&&__p();i.constructor.call(this,l);this.$PagesCoverVideoPlayer5=function(){var m=this.$PagesCoverVideoPlayer2;if(!m.vpc.isState("playing")&&!m.vpc.isState("finished"))m.vpc.play(c("VideoPlayerReason").PAGE_VISIBILITY)}.bind(this);this.$PagesCoverVideoPlayer6=function(){var m=this.$PagesCoverVideoPlayer2;if(m.vpc.isState("playing"))m.vpc.pause(c("VideoPlayerReason").PAGE_VISIBILITY)}.bind(this);this.state={offsetType:null,offsetValue:null,videoData:null};this.$PagesCoverVideoPlayer1=new(c("SubscriptionsHandler"))()}k.prototype.componentDidMount=function(){if(this.props.videoID)c("CoverVideoUtil").fetchCoverVideoData(this.props.videoID).then(function(l){return this.setState(babelHelpers["extends"]({},l))}.bind(this)).done()};k.prototype.shouldComponentUpdate=function(l,m){var n=m.videoData;return!!n&&n.getVideoID()===l.videoID};k.prototype.componentWillReceiveProps=function(l){if(l.videoID&&this.props.videoID!==l.videoID)c("CoverVideoUtil").fetchCoverVideoData(l.videoID).then(function(m){return this.setState(babelHelpers["extends"]({},m))}.bind(this)).done()};k.prototype.componentWillUnmount=function(){this.$PagesCoverVideoPlayer1.release()};k.prototype.$PagesCoverVideoPlayer3=function(){c("PagesEventObserver").notify(c("PagesEventType").COVER_VIDEO_CLICK,this.props.pageID,{video_id:this.props.videoID});c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").PAGES_COVER_VIDEO,"page_header",["Pages","Pages: Engagement","pages web + m-site","pages surface"],{video_id:this.props.videoID})};k.prototype.$PagesCoverVideoPlayer4=function(){c("PagesEventObserver").notify(c("PagesEventType").COVER_VIDEO_IMPRESSION,this.props.pageID,{video_id:this.props.videoID});c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").PAGES_COVER_VIDEO,"page_header",["Pages","Pages: Engagement","pages web + m-site","pages surface"],{video_id:this.props.videoID})};k.prototype.render=function(){__p&&__p();var l=this.state,m=l.offsetType,n=l.offsetValue,o=l.videoData;if(m===null||n===null||!o)return null;var p=this.props.shouldHideSoundControl?null:c("React").createElement(c("VideoComponentEmbeddedControls.react"),{hidePlaybackControl:false,hidePlaybackScrubber:true,hideRemainingTime:true,showFullscreenButton:false,showSettingsButton:false}),q=this.props.shouldCoverVideoLoop?c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),{infiniteLooping:true}):null;this.$PagesCoverVideoPlayer4();return c("React").createElement(c("OnVisible.react"),{buffer:j,onHidden:this.$PagesCoverVideoPlayer6,onVisible:this.$PagesCoverVideoPlayer5},c("React").createElement(c("VideoPlayer.react"),{allowCrossPageTransition:true,autoplay:true,forceHD:true,height:this.props.containerHeight,offsetType:m,offsetValue:n,onVideoClick:function(){__p&&__p();var r=this.props,s=r.videoLinkData,t=r.playerOrigin;if(!s)return;if(this.$PagesCoverVideoPlayer2&&this.$PagesCoverVideoPlayer2.vpc&&!this.$PagesCoverVideoPlayer2.vpc.isState("playing"))return;var u=s.channelCaller;if(c("TahoeVariables").useTahoe)c("Bootloader").loadModules(["TahoeController"],function(v){v.openFromVideoLink(new(c("URI"))(s.href),{channelID:s.channelID,caller:u,origin:t})},"PagesCoverVideoPlayer.react");else c("Bootloader").loadModules(["VideoChannelHandleLink"],function(v){v.openChannel(s.channelID,u,o.getVideoID())},"PagesCoverVideoPlayer.react");this.$PagesCoverVideoPlayer3()}.bind(this),playerOrigin:this.props.playerOrigin,subOrigin:c("VideoPlayerLoggerSource").PAGES_COVER,ref:function(r){var s=c("ReactDOM").findDOMNode(r);if(!(s&&s instanceof Element))return;this.$PagesCoverVideoPlayer2=r;r.vpc&&r.vpc.setAllowCrossPageTransition(true)}.bind(this),startMuted:true,videoData:o,width:this.props.containerWidth},p,q,c("React").createElement(c("VideoComponentPlayButton.react"),{alsoVisibleWhen:"finished"})))};f.exports=k}),null);
__d("PagesLiveCoverVideo.react",["React","VideoComponentContextMenu.react","VideoComponentCover.react","VideoComponentDebugOverlay.react","VideoComponentEmbeddedControls.react","VideoComponentErrorOverlay.react","VideoComponentLiveEndScreen.react","VideoComponentLiveInterruptedScreen.react","VideoComponentLiveVideoIndicator.react","VideoComponentPlayButton.react","VideoComponentStreamingReactionTray.react","VideoComponentVolumeStorage.react","VideoComponentWithFallbackMode.react","VideoComponentWithLiveBroadcast.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerOrigins"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("VideoDataContainer.react"),{videoID:this.props.videoID},c("React").createElement(c("VideoPlayer.react"),{autoplay:true,height:this.props.renderedHeight,playerOrigin:c("VideoPlayerOrigins").INTERN,startMuted:true,videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER},c("React").createElement(c("VideoComponentEmbeddedControls.react"),{showSettingsButton:true}),c("React").createElement(c("VideoComponentWithLiveBroadcast.react"),null),c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentCover.react"),null),c("React").createElement(c("VideoComponentLiveVideoIndicator.react"),null),c("React").createElement(c("VideoComponentDebugOverlay.react"),null),c("React").createElement(c("VideoComponentContextMenu.react"),null),c("React").createElement(c("VideoComponentLiveInterruptedScreen.react"),null),c("React").createElement(c("VideoComponentLiveEndScreen.react"),null),c("React").createElement(c("VideoComponentStreamingReactionTray.react"),null),c("React").createElement(c("VideoComponentVolumeStorage.react"),null),c("React").createElement(c("VideoComponentWithFallbackMode.react"),null),c("React").createElement(c("VideoComponentErrorOverlay.react"),null)))};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("VideoComponentShowmarkOverlay.react",["ix","cx","fbt","AbstractButton.react","AsyncRequest","Image.react","Layout.react","PopoverMenu.react","React","ReactXUIMenu","ShowCreationFlowStep","ShowsCreationLoggerUtils","VideoShowsLogoUploadDialog.react","XPagesCoverReloadController","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("Layout.react").Column,n=c("Layout.react").FillColumn,o=c("ReactXUIMenu").Item;k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){__p&&__p();l.constructor.call(this,q);this.$VideoComponentShowmarkOverlay1=function(){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOWMARK_CHANGE_CLICK,this.props.pageID);this.setState({showEditShowMarkDialog:true})}.bind(this);this.$VideoComponentShowmarkOverlay2=function(){this.setState({showEditShowMarkDialog:false})}.bind(this);this.$VideoComponentShowmarkOverlay3=function(){new(c("AsyncRequest"))().setURI(c("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI()).send();this.$VideoComponentShowmarkOverlay2()}.bind(this);this.state={showEditShowMarkDialog:false}}p.prototype.$VideoComponentShowmarkOverlay4=function(){return c("React").createElement(c("Image.react"),{className:"_1o-v",src:this.props.showmarkURL})};p.prototype.$VideoComponentShowmarkOverlay5=function(){if(!this.props.isAdmin)return null;var q=c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(o,{onClick:this.$VideoComponentShowmarkOverlay1},j._("Change showmark"))),r=c("React").createElement(c("Image.react"),{src:h("115342")}),s=j._("Edit Showmark");return c("React").createElement("div",null,this.state.showEditShowMarkDialog?c("React").createElement(c("VideoShowsLogoUploadDialog.react"),{existingLogoUrl:this.props.showmarkUploadPreviewURL,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePic:this.props.pageProfilePic,hideDialog:this.$VideoComponentShowmarkOverlay2,onSuccess:this.$VideoComponentShowmarkOverlay3}):null,c("React").createElement("div",{className:"_2210"},c("React").createElement(c("PopoverMenu.react"),{menu:q,position:"below"},c("React").createElement(c("AbstractButton.react"),{className:"_2212",image:r,label:s,labelIsHidden:true,ref:"button",type:"button"}))))};p.prototype.render=function(){return c("React").createElement(c("Layout.react"),{className:"_2213"},c("React").createElement(m,null,this.$VideoComponentShowmarkOverlay4()),c("React").createElement(n,null,this.$VideoComponentShowmarkOverlay5()))};f.exports=p}),null);
__d("VideoComponentShowsViewers.react",["cx","fbt","FacepileRounded.react","intlSummarizeNumber","React","VideoComponent","VideoPlayerStates"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=30;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.state={vpc:null}}m.prototype.enable=function(n){this.setState({vpc:n})};m.prototype.disable=function(){};m.prototype.$VideoComponentShowsViewers1=function(n){var o=n.map(function(p){return{image_src:"https://graph.facebook.com/"+p+"/picture?height="+l*2+"&width="+l*2,name:""}});return c("React").createElement(c("FacepileRounded.react"),{direction:"descending",className:(!this.props.data.isShowPageNewCover?"_1kox":"")+(this.props.data.isShowPageNewCover?" _66j-":""),imageSize:l,profiles:o})};m.prototype.render=function(){if(!this.props.data||!this.props.data.showsFollowerData)return null;var n=this.props.data.showsFollowerData,o=n.friendList,p=n.friendCount,q=n.followerCount,r=this.state.vpc&&this.state.vpc.getState()===c("VideoPlayerStates").PLAYING,s=o==null||o.length===0?null:this.$VideoComponentShowsViewers1(o),t=p===0?c("React").createElement("span",{className:"_1koz"},i._({"*":"{fan_count} followers","_1":"1 follower"},[i.plural(q,"fan_count",c("intlSummarizeNumber")(q))])):c("React").createElement("span",{className:(!this.props.data.isShowPageNewCover?"_1koz":"")+(this.props.data.isShowPageNewCover?" _66j_":"")},i._({"*":{"*":"{fan_count} followers including {friend_count} friends","_1":"{fan_count} followers including 1 friend"},"_1":{"*":"1 follower including {friend_count} friends","_1":"1 follower including 1 friend"}},[i.plural(q,"fan_count",c("intlSummarizeNumber")(q)),i.plural(p,"friend_count",c("intlSummarizeNumber")(p))]));return c("React").createElement("div",{className:(!this.props.data.isShowPageNewCover?"_1ko-":"")+(this.props.data.isShowPageNewCover?" _4yj4":"")+(this.props.hideOnPlay?" _s0r":"")+(this.props.hideOnPlay&&r?" _s0s":"")},s,t)};f.exports=c("VideoComponent").createContainer(m,{observedVpcEvents:["stateChange"]})}),null);
__d("VideoShowsMetadataBlock.react",["cx","fbt","LineClamp.react","React","VideoComponentShowmarkOverlay.react","VideoComponentShowsViewers.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m)}l.prototype.$VideoShowsMetadataBlock1=function(){var m=this.props.data.showsData,n=m.showmarkURL,o=m.showmarkUploadPreviewURL,p=m.title,q=m.profilePic;if(!n||!o)return null;return c("React").createElement(c("VideoComponentShowmarkOverlay.react"),{showmarkURL:n.toString(),showmarkUploadPreviewURL:o.toString(),pageID:this.props.pageID,pageName:p,pageProfilePic:q,isAdmin:false})};l.prototype.render=function(){var m=this.props.data,n=m.showsData,o=n?n.showDescription:null;return c("React").createElement("div",{className:"_66ev"},this.$VideoShowsMetadataBlock1(),c("React").createElement("div",null,c("React").createElement("span",{className:"_2xn9"},i._("SHOW TRAILER")),c("React").createElement(c("LineClamp.react"),{fitHeightToShorterText:true,lineHeight:18,lines:4,className:"_39rp"},o),c("React").createElement(c("VideoComponentShowsViewers.react"),{data:m,hideOnPlay:false})))};l.defaultProps={renderedHeight:461.25,renderedWidth:820};f.exports=l}),null);
__d("VideoComponentShowsTrailerOverlay.react",["ix","cx","fbt","ComposerEntryPointRef","ComposerXVideoUploadDialogController","ContextualDialogArrow","formatDurationSeconds","FileInput.react","Image.react","LeftRight.react","LineClamp.react","OptimisticVideoProgressBar.react","PagesCoverTrailerState","ProgressBar.react","PopoverMenu.react","ShowCreationFlowStep","ShowsCreationLoggerUtils","React","ReactXUIMenu","VideoComponent","VideoComponentShowmarkOverlay.react","VideoPlayerStates","XUIOverlayButton.react","fbglyph","joinClasses","DateConsts"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item,n=c("DateConsts").MS_PER_SEC;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){__p&&__p();l.constructor.call(this,p);this.$VideoComponentShowsTrailerOverlay4=function(){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_UPLOAD_NEW_CLICKED,this.props.pageID)}.bind(this);this.$VideoComponentShowsTrailerOverlay5=function(){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_UPLOAD_NEW_FILE_SELECTED,this.props.pageID);var q=this.refs.fileInput;if(!q)return;var r=q.getFileInput();c("ComposerXVideoUploadDialogController").showDialog({targetID:this.props.pageID,fileInput:r,composerEntryPointRef:c("ComposerEntryPointRef").PAGE_TRAILER})}.bind(this);this.state={vpc:null}}o.prototype.enable=function(p){this.setState({vpc:p})};o.prototype.disable=function(){};o.prototype.$VideoComponentShowsTrailerOverlay1=function(){var p=this.props.data.showsData,q=p.showmarkURL,r=p.showmarkUploadPreviewURL,s=p.title,t=p.profilePic;if(!q||!r)return null;return c("React").createElement(c("VideoComponentShowmarkOverlay.react"),{showmarkURL:q.toString(),showmarkUploadPreviewURL:r.toString(),pageID:this.props.pageID,pageName:s,pageProfilePic:t,isAdmin:this.props.isAdmin})};o.prototype.$VideoComponentShowsTrailerOverlay2=function(){var p=this.props.data.viewerCoverTrailerState;switch(p){case c("PagesCoverTrailerState").RESUME_EPISODE:return j._("Continue watching");case c("PagesCoverTrailerState").LATEST_EPISODE:return j._("Latest episode");case c("PagesCoverTrailerState").WATCH_TRAILER:return j._("Trailer")}return null};o.prototype.$VideoComponentShowsTrailerOverlay3=function(){var p=this.props.data,q=p.showsVideoData,r=p.viewerCoverTrailerState,s=r===c("PagesCoverTrailerState").WATCH_TRAILER,t=q?q.title:null;return c("React").createElement("div",{className:"_39rm"},this.$VideoComponentShowsTrailerOverlay1(),s?null:[c("React").createElement("div",{className:"_39ro",key:"title"},c("React").createElement(c("LineClamp.react"),{lines:2},t)),c("React").createElement("div",{className:"_39rn",key:"header"},this.$VideoComponentShowsTrailerOverlay2())])};o.prototype.$VideoComponentShowsTrailerOverlay6=function(){if(!this.props.isAdmin)return null;var p=c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(m,{renderas:"label"},c("React").createElement(c("FileInput.react"),{accept:"video/mp4, video/quicktime, video/*",ref:"fileInput",onClick:this.$VideoComponentShowsTrailerOverlay4,onChange:this.$VideoComponentShowsTrailerOverlay5},c("React").createElement("a",{style:{color:"inherit",textDecoration:"none"}},j._("Upload new video")))));return c("React").createElement("div",{className:"_20kk"},c("React").createElement(c("PopoverMenu.react"),{layerBehaviors:[c("ContextualDialogArrow")],menu:p,position:"below"},c("React").createElement(c("XUIOverlayButton.react"),{className:"_20kl",image:c("React").createElement(c("Image.react"),{src:h("125727")}),label:j._("Change Trailer"),href:"#"})))};o.prototype.$VideoComponentShowsTrailerOverlay7=function(p){var q=c("React").createElement(c("Image.react"),{className:"_39rl",src:h("125848")});return c("React").createElement("div",{className:"_39rs"},q,c("React").createElement("span",{className:"_39rt"},c("formatDurationSeconds")(p/n)))};o.prototype.$VideoComponentShowsTrailerOverlay8=function(){var p=this.props.data,q=p.showsVideoData,r=p.viewerCoverTrailerState,s=q?q.duration:100,t=q?q.startTimestamp:40;return r===c("PagesCoverTrailerState").RESUME_EPISODE&&s&&t?c("React").createElement("div",{className:"_tn4"},c("React").createElement(c("ProgressBar.react"),{className:"_df_",max:s,min:0,value:t})):null};o.prototype.render=function(){var p=this.state.vpc&&this.state.vpc.getState()===c("VideoPlayerStates").PLAYING,q=this.props.isTrailer&&(!this.state.vpc||this.state.vpc.getState()===c("VideoPlayerStates").READY);return c("React").createElement("div",{className:c("joinClasses")("_39s3"+(!this.props.isTrailer&&p?" _s0s":"")+(q?" _31ye":""),this.props.className)},c("React").createElement("div",{className:"_39s4"}),c("React").createElement("div",{className:"_1fth"}),this.props.uploadedVideoData?c("React").createElement("div",{className:"_20km"},c("React").createElement(c("OptimisticVideoProgressBar.react"),{videoID:this.props.uploadedVideoData.videoID,videoAssetID:this.props.uploadedVideoData.videoAssetID,width:this.props.width,onReadyEvent:"pageTrailerVideoEncode/complete"})):null,c("React").createElement("div",{className:this.props.uploadedVideoData!=null?"hidden_elem":""},c("React").createElement(c("LeftRight.react"),{className:"_20kn _1fti"},c("React").createElement("div",{className:"_39s5"},this.$VideoComponentShowsTrailerOverlay3()),this.$VideoComponentShowsTrailerOverlay6())),this.$VideoComponentShowsTrailerOverlay8())};f.exports=c("VideoComponent").createContainer(o,{observedVpcEvents:["stateChange"]})}),null);
__d("VideoComponentShowsVideoLink.react",["cx","fbt","React","VideoComponent","VideoLink.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.enable=function(m){};l.prototype.disable=function(){};l.prototype.render=function(){var m=i._("Play Episode");return c("React").createElement(c("VideoLink.react"),babelHelpers["extends"]({onClick:this.props.onClick,useTahoe:true},this.props.data),c("React").createElement("div",{className:"_1hvs"},c("React").createElement("i",{className:"_3htz _1jto"+(!this.props.hideButton?" _bsl":"")},c("React").createElement("input",{"aria-label":m,type:"button",className:"_yak"}))))};function l(){j.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(l)}),null);
__d("VideoShowsAdminAddTrailer.react",["ix","cx","fbt","ComposerEntryPointRef","ComposerXVideoUploadDialogController","FileInput.react","Image.react","OptimisticVideoProgressBar.react","React","AbstractButton.react","Text.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n);this.$VideoShowsAdminAddTrailer1=function(){var o=this.refs.fileInput;if(!o)return;var p=o.getFileInput();c("ComposerXVideoUploadDialogController").showDialog({targetID:this.props.pageID,fileInput:p,composerEntryPointRef:c("ComposerEntryPointRef").PAGE_TRAILER})}.bind(this)}m.prototype.render=function(){if(!this.props.isAdmin)return null;return c("React").createElement("div",{style:{width:this.props.width,height:this.props.height},className:"_1ew_ _5-9f"},c("React").createElement("div",{className:"_5-9g"},c("React").createElement("div",{className:"_4xv5"},c("React").createElement(c("Image.react"),{className:"_4xv6",src:h("122642")})),c("React").createElement(c("Text.react"),{className:"_5-9h",style:{fontSize:16,fontWeight:"600",color:"white"}},j._("Introduce your show with a trailer")),c("React").createElement(c("Text.react"),{className:"_40em"},j._("Your trailer is a 16:9 video that is used to promote your show across Facebook. It should be less than 2 minutes 30 seconds long.")),c("React").createElement(c("Text.react"),{className:"_40em _3-8w"},j._("Your trailer and most recent episodes will play in this space.")),this.props.uploadedVideoData?null:c("React").createElement(c("FileInput.react"),{accept:"video/mp4, video/quicktime, video/*",ref:"fileInput",onChange:this.$VideoShowsAdminAddTrailer1},c("React").createElement(c("AbstractButton.react"),{className:"_5-9j",label:j._("Add Trailer"),href:"#"})),this.props.uploadedVideoData?c("React").createElement(c("OptimisticVideoProgressBar.react"),{videoID:this.props.uploadedVideoData.videoID,videoAssetID:this.props.uploadedVideoData.videoAssetID,width:this.props.width,onReadyEvent:"pageTrailerVideoEncode/complete"}):null))};f.exports=m}),null);
__d("VideoShowsTrailer.react",["cx","Arbiter","AsyncRequest","ComposerEntryPointRef","Map","OnVisible.react","PagesCoverTrailerState","PagesEventObserver","PagesEventType","React","ShowCreationFlowStep","ShowsCreationLoggerUtils","VideoComponentEmbeddedControls.react","VideoComponentShowsVideoLink.react","VideoComponentShowsViewers.react","VideoComponentShowsTrailerOverlay.react","VideoComponentWithLoopingPlayback.react","VideoComponentCover.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerOrigins","VideoPlayerReason","VideoShowsAdminAddTrailer.react","XPagesCoverReloadController","DateConsts","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("DateConsts").MS_PER_SEC,l=-100;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(n){__p&&__p();j.constructor.call(this,n);this.$VideoShowsTrailer1=null;this.$VideoShowsTrailer2=null;this.$VideoShowsTrailer3=null;this.$VideoShowsTrailer4=false;this.$VideoShowsTrailer6=function(){var o=this.refs.player;if(o&&o.vpc.isState("playing")){this.$VideoShowsTrailer4=true;o.vpc.pause(c("VideoPlayerReason").PAGE_VISIBILITY)}}.bind(this);this.$VideoShowsTrailer7=function(){if(!this.$VideoShowsTrailer4)return;this.$VideoShowsTrailer4=false;var o=this.refs.player;o.vpc.play(c("VideoPlayerReason").PAGE_VISIBILITY)}.bind(this);this.$VideoShowsTrailer8=function(){this.$VideoShowsTrailer5("COVER_TRAILER_CLICK")}.bind(this);this.$VideoShowsTrailer9=function(){return c("VideoDataContainer.react").renderSpinner(this.props.renderedWidth,this.props.renderedHeight)}.bind(this);this.state={uploadedVideoData:null}}m.prototype.componentDidMount=function(){__p&&__p();this.$VideoShowsTrailer5("COVER_TRAILER_IMPRESSION");this.$VideoShowsTrailer1=c("Arbiter").subscribe("videoUpload/complete",function(n,o){var p=c("ComposerEntryPointRef").PAGE_TRAILER+"_"+this.props.pageID;if(o.originalComposerID==p){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_UPLOADED,this.props.pageID,new(c("Map"))([["video_id",o.videoID]]));this.setState({uploadedVideoData:o})}}.bind(this));this.$VideoShowsTrailer2=c("Arbiter").subscribe("pageTrailerVideoEncode/complete",function(n,o){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_ENCODE_SUCCESS,this.props.pageID,new(c("Map"))([["video_id",o.videoID]]));new(c("AsyncRequest"))().setURI(c("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI()).setHandler(function(p){this.setState({uploadedVideoData:null})}.bind(this)).send()}.bind(this));this.$VideoShowsTrailer3=c("Arbiter").subscribe("videoUpload/cancel",function(n,o){var p=c("ComposerEntryPointRef").PAGE_TRAILER+"_"+this.props.pageID;if(o.composerID==p)c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_UPLOAD_CANCELLED,this.props.pageID)}.bind(this))};m.prototype.componentWillUnmount=function(){if(this.$VideoShowsTrailer1)c("Arbiter").unsubscribe(this.$VideoShowsTrailer1);if(this.$VideoShowsTrailer2)c("Arbiter").unsubscribe(this.$VideoShowsTrailer2);if(this.$VideoShowsTrailer3)c("Arbiter").unsubscribe(this.$VideoShowsTrailer3)};m.prototype.$VideoShowsTrailer5=function(n){var o,p,q=this.props.data;if(!q)return;var r=(o=q)!=null?(o=o.showsVideoData)!=null?o.videoID:o:o,s=(p=q)!=null?(p=p.showsVideoData)!=null?p.startTimestamp:p:p;c("PagesEventObserver").notify(c("PagesEventType")[n],this.props.pageID,{videoID:r,startTimestamp:s,viewerCoverTrailerState:q.viewerCoverTrailerState})};m.prototype.$VideoShowsTrailer10=function(){return this.props.data!=null&&this.props.data.viewerCoverTrailerState===c("PagesCoverTrailerState").WATCH_TRAILER};m.prototype.$VideoShowsTrailer11=function(){return this.$VideoShowsTrailer10()?c("React").createElement(c("VideoComponentEmbeddedControls.react"),{hidePlaybackControl:true,hideRemainingTime:true,showFullscreenButton:false,showSettingsButton:false}):null};m.prototype.render=function(){var n=this.props.data;if(!n)return null;var o=n.showsVideoData,p=n.videoLinkData,q=n.isAdmin;if(!o||!p)return c("React").createElement(c("VideoShowsAdminAddTrailer.react"),{isAdmin:q,uploadedVideoData:this.state.uploadedVideoData,width:this.props.renderedWidth,height:this.props.renderedHeight,pageID:this.props.pageID});var r=o.startTimestamp?o.startTimestamp/k:0;return c("React").createElement(c("OnVisible.react"),{className:"_28pj",buffer:l,onHidden:this.$VideoShowsTrailer6,onVisible:this.$VideoShowsTrailer7},c("React").createElement(c("VideoDataContainer.react"),{key:o.videoID,videoID:o.videoID,renderLoading:this.$VideoShowsTrailer9},c("React").createElement(c("VideoPlayer.react"),{allowCrossPageTransition:true,autoplay:this.$VideoShowsTrailer10(),forceHD:true,height:this.props.renderedHeight,offsetType:"vertical",playerOrigin:c("VideoPlayerOrigins").PAGE_TIMELINE,playerSuborigin:"page_header",ref:"player",startMuted:true,startTimestamp:r,videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:this.props.renderedWidth},c("React").createElement(c("VideoComponentCover.react"),{hiddenAfterFinish:true,showWhileBuffering:true}),n.isShowPageNewCover?null:c("React").createElement(c("VideoComponentShowsTrailerOverlay.react"),{data:n,isAdmin:q,isTrailer:this.$VideoShowsTrailer10(),pageID:this.props.pageID,uploadedVideoData:this.state.uploadedVideoData,width:this.props.renderedWidth}),n.isShowPageNewCover?null:c("React").createElement(c("VideoComponentShowsViewers.react"),{data:n,hideOnPlay:!this.$VideoShowsTrailer10()}),c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),{forceLooping:true}),c("React").createElement(c("VideoComponentShowsVideoLink.react"),{data:n.videoLinkData,hideButton:this.$VideoShowsTrailer10(),onClick:this.$VideoShowsTrailer8}),this.$VideoShowsTrailer11())))};m.defaultProps={renderedHeight:461.25,renderedWidth:820};f.exports=m}),null);
__d("PagesCurrentCoverComponent.react",["cx","PageOnTourOverlay.react","PagesCoverLoadingScreen.react","PagesCoverPhoto.react","PagesCoverSlideshow.react","PagesCoverType","PagesCoverVideoPlayer.react","PagesLiveCoverVideo.react","React","VideoShowsMetadataBlock.react","VideoShowsTrailer.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){__p&&__p();var k=null,l=null;switch(j.currentCoverType){case c("PagesCoverType").LOADING:k=c("React").createElement(c("PagesCoverLoadingScreen.react"),null);break;case c("PagesCoverType").COVER_LIVE_VIDEO:var m=j.coverData.cover_live_video,n=m.videoID,o=m.renderedHeight;if(n){k=c("React").createElement(c("PagesLiveCoverVideo.react"),{renderedHeight:o,videoID:n});l="_3wu6"}break;case c("PagesCoverType").COVER_TRAILER:if(j.coverData.cover_trailer.isShowPageNewCover)k=c("React").createElement("div",null,c("React").createElement("div",{className:"_66et"},c("React").createElement(c("VideoShowsMetadataBlock.react"),{data:j.coverData.cover_trailer,pageID:j.pageID})),c("React").createElement("div",null,c("React").createElement("div",{className:"_66eu"}),c("React").createElement(c("VideoShowsTrailer.react"),{data:j.coverData.cover_trailer,pageID:j.pageID,renderedHeight:336,renderedWidth:598})));else k=c("React").createElement(c("VideoShowsTrailer.react"),{data:j.coverData.cover_trailer,pageID:j.pageID});l="_3wu6";break;case c("PagesCoverType").COVER_VIDEO:k=c("React").createElement(c("PagesCoverVideoPlayer.react"),j.coverData.cover_video);l="_3wu6";break;case c("PagesCoverType").COVER_SLIDESHOW:k=c("React").createElement(c("PagesCoverSlideshow.react"),babelHelpers["extends"]({pageID:j.pageID},j.coverData.cover_slideshow));l="_668x";break;case c("PagesCoverType").COVER_PHOTO:default:k=c("React").createElement(c("PagesCoverPhoto.react"),j.coverData.cover_photo)}return c("React").createElement("div",null,k,c("React").createElement(c("PageOnTourOverlay.react"),{className:l}))}f.exports=i}),null);
__d("PagesCoverVideoPreviewActionBar.react",["cx","React","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){return c("React").createElement("div",{className:"_2roy"},!j.leftElement?null:c("React").createElement("div",{className:"_1iaz"},j.leftElement),c("React").createElement("div",{className:"_1ia-"},c("React").createElement("span",{className:"_1ia_"},c("React").createElement(c("XUIButton.react"),{className:"_3-90",label:j.cancelButtonLabel,onClick:j.onCancelClick}),c("React").createElement(c("XUIButton.react"),{label:j.confirmButtonLabel,onClick:j.onConfirmClick,use:"confirm"}))))};f.exports=i}),null);
__d("PagesCoverVideoRepositionIndicator.react",["ix","cx","fbt","Image.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=function k(l){if(!l.shown)return null;return c("React").createElement("div",{className:"_1ge3"},c("React").createElement("div",{className:"_1geb"},c("React").createElement(c("Image.react"),{className:"_4l6j",src:h("114322")}),c("React").createElement("span",{className:"_4l6j"},j._("Drag to Reposition"))))};f.exports=k}),null);
__d("PagesCoverVideoPreview.react",["ix","cx","fbt","invariant","CenteredContainer.react","CoverVideoOffsetType","CoverVideoStatus","CoverVideoUtil","Image.react","PagesCoverVideoActionCreator","PagesCoverVideoPreviewActionBar.react","PagesCoverVideoRepositionIndicator.react","PagesCoverVideoConstant","React","XUISpinner.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=-1;l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(p){__p&&__p();m.constructor.call(this,p);this.$PagesCoverVideoPreview7=function(q){if(this.state.offsetType===c("CoverVideoOffsetType").HORIZONTAL)this.$PagesCoverVideoPreview4=q.screenX;else if(this.state.offsetType===c("CoverVideoOffsetType").VERTICAL)this.$PagesCoverVideoPreview4=q.screenY;else k(0);this.$PagesCoverVideoPreview2=true}.bind(this);this.$PagesCoverVideoPreview8=function(q){__p&&__p();if(!this.$PagesCoverVideoPreview2)return;this.$PagesCoverVideoPreview4!==n||k(0);var r=0;if(this.state.offsetType===c("CoverVideoOffsetType").HORIZONTAL)r=q.screenX-this.$PagesCoverVideoPreview4;else if(this.state.offsetType===c("CoverVideoOffsetType").VERTICAL)r=q.screenY-this.$PagesCoverVideoPreview4;else k(0);var s=this.$PagesCoverVideoPreview1+r;if(s>0||s<this.state.minOffsetValue)return;this.$PagesCoverVideoPreview5=true;this.setState({offsetValue:s})}.bind(this);this.$PagesCoverVideoPreview9=function(q){this.$PagesCoverVideoPreview2=false;this.$PagesCoverVideoPreview4=n;this.$PagesCoverVideoPreview1=this.state.offsetValue}.bind(this);this.$PagesCoverVideoPreview10=function(q){this.$PagesCoverVideoPreview2=false;this.$PagesCoverVideoPreview4=-1;this.$PagesCoverVideoPreview1=this.state.offsetValue}.bind(this);this.$PagesCoverVideoPreview11=function(){var q=this.props,r=q.futureVideoID,s=q.pageID,t=q.isFromReposition;if(t&&s)c("PagesCoverVideoActionCreator").reloadCover(s);else if(r&&s)c("PagesCoverVideoActionCreator").cancelNewUploadingWithConfirmationDialog(s,r)}.bind(this);this.$PagesCoverVideoPreview12=function(){var q=this.props,r=q.futureVideoID,s=q.pageID;if(r&&s){var t=this.props,u=t.containerWidth,v=t.containerHeight;u&&v||k(0);c("PagesCoverVideoActionCreator").chooseThumbnail(r,s,this.state.offsetType,this.state.offsetValue,v,u)}else if(r&&s)c("PagesCoverVideoActionCreator").confirmPublishingVideo(s,r,this.state.offsetType,this.state.offsetValue,this.props.shouldCoverVideoLoop)}.bind(this);this.state={minOffsetValue:0,offsetType:c("CoverVideoOffsetType").VERTICAL,offsetValue:0,videoData:null,videoNewSize:0};this.$PagesCoverVideoPreview1=0;this.$PagesCoverVideoPreview2=false;this.$PagesCoverVideoPreview4=n;this.$PagesCoverVideoPreview5=false}o.prototype.componentDidMount=function(){__p&&__p();if(!this.props.futureVideoID)return;this.$PagesCoverVideoPreview3=true;c("CoverVideoUtil").fetchCoverVideoData(this.props.futureVideoID).then(function(p){if(!this.$PagesCoverVideoPreview3)return;var q=p.offsetValue,r=p.videoData;r||k(0);var s=this.$PagesCoverVideoPreview6(r),t=s.minOffsetValue,u=s.offsetType,v=s.videoNewSize;this.setState({minOffsetValue:t,offsetType:u,offsetValue:q||0,videoData:r,videoNewSize:v})}.bind(this)).done()};o.prototype.componentWillUnmount=function(){this.$PagesCoverVideoPreview3=false};o.prototype.$PagesCoverVideoPreview6=function(p){__p&&__p();var q=this.props,r=q.containerWidth,s=q.containerHeight;r&&s||k(0);var t=r/s,u=p.getAspectRatio(),v=null,w=null,x=null;if(u>t){v=c("CoverVideoOffsetType").HORIZONTAL;w=s;x=r-Math.floor(p.getOriginalWidth()*(s/p.getOriginalHeight()))}else{v=c("CoverVideoOffsetType").VERTICAL;w=r;x=s-Math.floor(p.getOriginalHeight()*(r/p.getOriginalWidth()))}return{minOffsetValue:x,offsetType:v,videoNewSize:w}};o.prototype.$PagesCoverVideoPreview13=function(){if(this.props.status!==c("CoverVideoStatus").PREVIEWING)return null;var p=j._("Cancel"),q=j._("Next"),r=!this.props.isParentLocationPage?null:j._("Your video will appear as the cover on this Page and in any other locations associated with this Page."),s=!this.props.isFromReposition?c("React").createElement("div",null,c("React").createElement("span",{className:"_2roz"},c("React").createElement(c("Image.react"),{src:h("115129")})),c("React").createElement("span",{className:"_2ro-"},c("PagesCoverVideoConstant").PREVIEW_TIP_FOR_CREATION,r)):c("React").createElement("div",null,c("React").createElement("span",{className:"_2roz"},c("React").createElement(c("Image.react"),{src:h("115129")})),c("React").createElement("span",{className:"_2ro-"},c("PagesCoverVideoConstant").PREVIEW_TIP_FOR_EDITING,r));return c("React").createElement(c("PagesCoverVideoPreviewActionBar.react"),{cancelButtonLabel:p,confirmButtonLabel:q,onCancelClick:this.$PagesCoverVideoPreview11,onConfirmClick:this.$PagesCoverVideoPreview12,leftElement:s})};o.prototype.$PagesCoverVideoPreview14=function(){return c("React").createElement(c("CenteredContainer.react"),{className:"_4fkc",fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}))};o.prototype.render=function(){__p&&__p();if(!this.state.videoData)return this.$PagesCoverVideoPreview14();var p=this.props,q=p.containerWidth,r=p.containerHeight;q&&r||k(0);this.props.status===c("CoverVideoStatus").PREVIEWING||this.props.status===c("CoverVideoStatus").PUBLISHING||k(0);var s=this.state.videoData.getRawData().hd_src;if(!s)return null;var t=this.state.offsetType===c("CoverVideoOffsetType").HORIZONTAL?this.state.videoNewSize:null,u=this.state.offsetType===c("CoverVideoOffsetType").VERTICAL?this.state.videoNewSize:null,v=this.state.offsetType===c("CoverVideoOffsetType").VERTICAL?this.state.offsetValue:0,w=this.state.offsetType===c("CoverVideoOffsetType").HORIZONTAL?this.state.offsetValue:0;return c("React").createElement("div",{style:{cursor:"move",height:r,overflow:"hidden",position:"relative",width:q}},c("React").createElement("video",{autoPlay:true,height:t,loop:this.props.shouldCoverVideoLoop,onMouseDown:this.$PagesCoverVideoPreview7,onMouseLeave:this.$PagesCoverVideoPreview10,onMouseMove:this.$PagesCoverVideoPreview8,onMouseUp:this.$PagesCoverVideoPreview9,src:s,style:{position:"absolute",top:v,left:w},width:u}),c("React").createElement(c("PagesCoverVideoRepositionIndicator.react"),{shown:!this.$PagesCoverVideoPreview5}),this.$PagesCoverVideoPreview13())};f.exports=o}),null);
__d("PagesCoverVideoProgressOverlay.react",["cx","fbt","invariant","CoverVideoStatus","ProgressBar.react","React"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=function k(l){if(l.status!==c("CoverVideoStatus").UPLOADING&&l.status!==c("CoverVideoStatus").ENCODING)return null;l.progress===0||l.progress||j(0);var m=null;if(l.status===c("CoverVideoStatus").UPLOADING)m=i._("VIDEO UPLOADING {percentage (0-100) of uploading progress}\u0025",[i.param("percentage (0-100) of uploading progress",l.progress)]);else if(l.status===c("CoverVideoStatus").ENCODING)m=i._("VIDEO ENCODING {percentage (0-100) of encoding progress}\u0025",[i.param("percentage (0-100) of encoding progress",l.progress)]);return c("React").createElement("div",{className:"_2grf"},c("React").createElement("div",{className:"_2grg"},c("React").createElement(c("ProgressBar.react"),{isRounded:true,size:"small",value:l.progress}),c("React").createElement("div",{className:"_2grh"},m)))};f.exports=k}),null);
__d("PagesCoverVideoThumbnailPicker.react",["cx","fbt","ix","CenteredContainer.react","CoverVideoOffsetType","CoverVideoUtil","FBToggleSwitch.react","Image.react","PagesCoverVideoActionCreator","PagesCoverVideoPreviewActionBar.react","React","SimpleXUIDialog","XUICarousel.react","XUICarouselAnimator","XUICarouselArrow.react","XUICarouselItem.react","XUISpinner.react","emptyFunction","nullthrows"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){__p&&__p();l.constructor.call(this,n);this.$PagesCoverVideoThumbnailPicker4=function(){var o=this.state.thumbnails.length;if(o===0)return;var p=(this.state.currentThumbnailIndex-1+o)%o;this.setState({currentThumbnailIndex:p});this.$PagesCoverVideoThumbnailPicker1&&this.$PagesCoverVideoThumbnailPicker1.prev()}.bind(this);this.$PagesCoverVideoThumbnailPicker5=function(){var o=this.state.thumbnails.length;if(o===0)return;var p=(this.state.currentThumbnailIndex+1+o)%o;this.setState({currentThumbnailIndex:p});this.$PagesCoverVideoThumbnailPicker1&&this.$PagesCoverVideoThumbnailPicker1.next()}.bind(this);this.$PagesCoverVideoThumbnailPicker8=function(){var o=this.props,p=o.futureVideoID,q=o.pageID;c("PagesCoverVideoActionCreator").editCoverVideo(c("nullthrows")(q),c("nullthrows")(p))}.bind(this);this.$PagesCoverVideoThumbnailPicker9=function(){if(this.state.isStatusOK){this.$PagesCoverVideoThumbnailPicker10();return}c("SimpleXUIDialog").showConfirm(i._("This video has not been published yet. If you choose it as your cover video, it will be published for people to watch."),i._("Publish cover video?"),this.$PagesCoverVideoThumbnailPicker11,{confirmBtnTxt:i._("Publish")})}.bind(this);this.$PagesCoverVideoThumbnailPicker11=function(o){if(o)this.$PagesCoverVideoThumbnailPicker10()}.bind(this);this.$PagesCoverVideoThumbnailPicker12=function(){var o=this.state.shouldCoverVideoLoop;this.setState({shouldCoverVideoLoop:!o})}.bind(this);this.$PagesCoverVideoThumbnailPicker2()}m.prototype.$PagesCoverVideoThumbnailPicker2=function(){this.state={thumbnails:[],currentThumbnailIndex:0,animator:new(c("XUICarouselAnimator"))({type:"horizontal"}),shouldCoverVideoLoop:this.props.shouldCoverVideoLoop,isStatusOK:false}};m.prototype.componentWillMount=function(){c("CoverVideoUtil").fetchCoverVideoData(c("nullthrows")(this.props.futureVideoID),true).then(function(n){this.setState({thumbnails:n.thumbnails,isStatusOK:n.isStatusOK})}.bind(this)).done()};m.prototype.$PagesCoverVideoThumbnailPicker3=function(){return c("React").createElement(c("CenteredContainer.react"),{className:"_yd2",fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}))};m.prototype.$PagesCoverVideoThumbnailPicker6=function(){if(this.state.thumbnails.length===0)return null;return c("React").createElement("div",{className:"_4hmf"},i._({"*":"{the index of the current thumbnail}\/{the total number of thumbnails} thumbnails","_1":"{the index of the current thumbnail}\/{the total number of thumbnails} thumbnail"},[i.param("the index of the current thumbnail",this.state.currentThumbnailIndex+1),i.param("the total number of thumbnails",this.state.thumbnails.length),i.plural(this.state.thumbnails.length)]))};m.prototype.$PagesCoverVideoThumbnailPicker7=function(){__p&&__p();if(this.state.thumbnails.length===0)return null;var n=null,o=null,p=0,q=0;if(this.props.offsetType===c("CoverVideoOffsetType").VERTICAL){o=this.props.containerWidth;p=this.props.offsetValue}else{n=this.props.containerHeight;q=this.props.offsetValue}var r=this.state.thumbnails.map(function(u){return c("React").createElement(c("XUICarouselItem.react"),{key:u.id},c("React").createElement("div",{style:{height:this.props.containerHeight,position:"relative",textAlign:"center",width:this.props.containerWidth}},c("React").createElement(c("Image.react"),{style:{left:q,position:"absolute",top:p},height:n,src:u.url,width:o})))}.bind(this)),s=c("React").createElement(c("XUICarouselArrow.react"),{onClick:this.$PagesCoverVideoThumbnailPicker4},c("React").createElement(c("Image.react"),{alt:i._("Previous"),src:j("101565")})),t=c("React").createElement(c("XUICarouselArrow.react"),{onClick:this.$PagesCoverVideoThumbnailPicker5},c("React").createElement(c("Image.react"),{alt:i._("Next"),src:j("101566")}));return c("React").createElement(c("XUICarousel.react"),{animator:this.state.animator,arrows:[s,t],initialAutoplay:false,initialIndex:0,onItemClick:c("emptyFunction"),ref:function(u){return this.$PagesCoverVideoThumbnailPicker1=u}.bind(this),resizeViewport:"fixed",style:{height:this.props.containerHeight,width:this.props.containerWidth,position:"absolute"},wrapAround:true},r)};m.prototype.$PagesCoverVideoThumbnailPicker10=function(){var n=this.props,o=n.futureVideoID,p=n.pageID,q=n.offsetType,r=n.offsetValue,s=this.state,t=s.thumbnails,u=s.currentThumbnailIndex,v=s.shouldCoverVideoLoop,w=t[u].id;c("PagesCoverVideoActionCreator").confirmPublishingVideo(c("nullthrows")(p),c("nullthrows")(o),c("nullthrows")(q),c("nullthrows")(r),c("nullthrows")(v),w)};m.prototype.$PagesCoverVideoThumbnailPicker13=function(){var n=i._("Back"),o=i._("Publish"),p=c("React").createElement("div",{className:"_d-g"},c("React").createElement("span",{className:"_d-h"},c("React").createElement(c("FBToggleSwitch.react"),{checked:this.state.shouldCoverVideoLoop,onToggle:this.$PagesCoverVideoThumbnailPicker12})),c("React").createElement("span",{className:"_d-i"},i._("Automatically replay video in a loop")));return c("React").createElement(c("PagesCoverVideoPreviewActionBar.react"),{cancelButtonLabel:n,confirmButtonLabel:o,onCancelClick:this.$PagesCoverVideoThumbnailPicker8,onConfirmClick:this.$PagesCoverVideoThumbnailPicker9,leftElement:p})};m.prototype.render=function(){if(this.state.thumbnails.length===0)return this.$PagesCoverVideoThumbnailPicker3();return c("React").createElement("div",{className:"_5_lp",style:{height:this.props.containerHeight,width:this.props.containerWidth}},this.$PagesCoverVideoThumbnailPicker6(),this.$PagesCoverVideoThumbnailPicker7(),this.$PagesCoverVideoThumbnailPicker13())};f.exports=m}),null);
__d("PagesCoverVideoCreator.react",["cx","PagesCoverVideoProgressOverlay.react","PagesCoverVideoPreview.react","PagesCoverVideoThumbnailPicker.react","CoverVideoStatus","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(j){__p&&__p();var k=null;switch(j.status){case c("CoverVideoStatus").UPLOADING:case c("CoverVideoStatus").ENCODING:k=c("React").createElement(c("PagesCoverVideoProgressOverlay.react"),j);break;case c("CoverVideoStatus").PREVIEWING:k=c("React").createElement(c("PagesCoverVideoPreview.react"),j);break;case c("CoverVideoStatus").CHOOSING_THUMBNAIL:k=c("React").createElement(c("PagesCoverVideoThumbnailPicker.react"),j);break;default:return null}var l=j.containerWidth,m=j.containerHeight;if(l!=null&&m!=null)return c("React").createElement("div",{style:{height:m,position:"relative",width:l}},k);return c("React").createElement("div",{className:"_5-qd"},k)};f.exports=i}),null);
__d("PagesFutureCoverComponent.react",["cx","PagesCoverPhoto.react","PagesCoverSlideshow.react","PagesCoverType","PagesCoverVideoCreator.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){__p&&__p();if(j.coreData.currentCoverType===c("PagesCoverType").LOADING||!j.coreData.futureCoverType)return null;var k=null;switch(j.coreData.futureCoverType){case c("PagesCoverType").COVER_PHOTO:k=c("React").createElement(c("PagesCoverPhoto.react"),j.coverData.cover_photo);break;case c("PagesCoverType").COVER_VIDEO:k=c("React").createElement(c("PagesCoverVideoCreator.react"),j.coverData.cover_video);break;case c("PagesCoverType").COVER_SLIDESHOW:var l=j.coverData.cover_slideshow,m=l.currentIndex,n=l.isContentOptimizerOn,o=l.isCoverSlideshowEnabled,p=l.isEditMode,q=l.items,r=l.maxNumberOfPhotosInSlideshow,s=l.nuxTourSteps,t=l.pageID,u=l.shouldShowLoadingScreenOnPickerPlaceholder,v=l.shouldShowNUXTour,w=l.showLoadingScreen,x=l.thumbnailHeight,y=l.thumbnailWidth,z=l.shouldShowMenuNux;k=c("React").createElement(c("PagesCoverSlideshow.react"),{currentIndex:m,hasPendingChanges:true,isContentOptimizerOn:n,isCoverSlideshowEnabled:o,isEditMode:p,items:q,maxNumberOfPhotosInSlideshow:r,nuxTourSteps:s,pageID:t,shouldShowLoadingScreenOnPickerPlaceholder:u,shouldShowMenuNux:z,shouldShowNUXTour:v,showLoadingScreen:w,thumbnailHeight:x,thumbnailWidth:y});break}if(!k)return null;return c("React").createElement("div",{className:"_32bq"},k)}f.exports=i}),null);
__d("PagesLiveCoverVideoStore",["FluxReduceStore","immutable","PagesCoverAction","PagesCoverDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={videoID:null,canEnable:false,isEnabled:false,renderedWidth:812};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){switch(p.type){case c("PagesCoverAction").NEW_COVER_DATA:var q=p.data.coverData.cover_live_video;o=new m(q);return o;case c("PagesCoverAction").LIVE_VIDEO_ENABLE:o=o.set("isEnabled",true);return o;case c("PagesCoverAction").LIVE_VIDEO_DISABLE:o=o.set("isEnabled",false);return o;default:return o}};function n(){j.apply(this,arguments)}f.exports=new n(c("PagesCoverDispatcher"))}),null);
__d("PagesCoverContainer.react",["cx","CenteredContainer.react","FluxContainer","PagesCoverAction","PagesCoverCoreStore","PagesCoverDispatcher","PagesCoverEditMenu.react","PagesCoverPhotoStore","PagesCoverSlideshowStore","PagesCoverTrailerStore","PagesCoverVideoStore","PagesCurrentCoverComponent.react","PagesFutureCoverComponent.react","PagesLiveCoverVideoStore","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.getStores=function(){return[c("PagesCoverCoreStore"),c("PagesLiveCoverVideoStore"),c("PagesCoverPhotoStore"),c("PagesCoverSlideshowStore"),c("PagesCoverTrailerStore"),c("PagesCoverVideoStore")]};l.calculateState=function(){return{coreData:c("PagesCoverCoreStore").getState(),coverData:{cover_live_video:c("PagesLiveCoverVideoStore").getState(),cover_photo:c("PagesCoverPhotoStore").getState(),cover_slideshow:c("PagesCoverSlideshowStore").getCurrentState(),cover_trailer:c("PagesCoverTrailerStore").getState(),cover_video:c("PagesCoverVideoStore").getState()}}};l.prototype.componentWillMount=function(){c("PagesCoverDispatcher").explicitlyRegisterStores([c("PagesCoverCoreStore"),c("PagesLiveCoverVideoStore"),c("PagesCoverPhotoStore"),c("PagesCoverVideoStore"),c("PagesCoverTrailerStore"),c("PagesCoverSlideshowStore")])};l.prototype.componentDidMount=function(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").NEW_COVER_DATA,data:this.props})};l.prototype.render=function(){if(!this.state.coreData.hasCoverSet&&!this.state.coreData.canViewerEditProfile)return null;var m=!this.state.coreData.shouldShowLoadingOverlay?null:c("React").createElement("div",{className:"_b1w"},c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"})));return c("React").createElement("div",{className:"_5_yy"},c("React").createElement(c("PagesCurrentCoverComponent.react"),{coverData:this.state.coverData,currentCoverType:this.state.coreData.currentCoverType,pageID:this.props.pageID}),c("React").createElement(c("PagesFutureCoverComponent.react"),{coreData:this.state.coreData,coverData:this.state.coverData,pageID:this.props.pageID}),c("React").createElement(c("PagesCoverEditMenu.react"),babelHelpers["extends"]({pageID:this.props.pageID},this.state)),m)};function l(){i.apply(this,arguments)}l.propTypes={pageID:k.string.isRequired};f.exports=c("FluxContainer").create(l)}),null);
__d("PagesProfilePictureLink.react",["cx","fbt","Link.react","React","VideoData","XPhotoPermalinkController","XVideoPermalinkController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=function j(k){var l=k.children,m=k.loading,n=k.photoSourcePageID,o=k.photoID,p=k.videoData,q=p!==null?new(c("VideoData"))(p).getVideoID():null;if(o===null&&q===null||m)return c("React").Children.only(l);var r=null;if(q!==null)r=c("XVideoPermalinkController").getURIBuilder().setString("vanity",n).setInt("video_id",q).getURI();else r=c("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",o).setString("vanity",n).getURI();return c("React").createElement(c("Link.react"),{"aria-label":i._("Profile picture"),className:"_2dgj",href:r,rel:"theater"},k.children)};f.exports=j}),null);
__d("PagesProfilePicture.react",["cx","invariant","Image.react","PagesCoverType","PagesProfilePictureLink.react","ProfileHeaderSpinner.react","React","VideoData"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_qa1"},c("React").createElement(c("PagesProfilePictureLink.react"),this.props,this.$PagesProfilePicture1()),c("React").createElement(c("ProfileHeaderSpinner.react"),{shown:this.props.loading}),this.$PagesProfilePicture2())};l.prototype.$PagesProfilePicture1=function(){if(this.props.videoData&&this.props.currentCoverType!==c("PagesCoverType").COVER_VIDEO){var m=new(c("VideoData"))(this.props.videoData);return c("React").createElement("video",{autoPlay:true,className:"_4jhq"+(this.props.loading?" _179t":""),height:this.props.size,loop:true,muted:true,poster:this.props.uri,src:m.getPlayableSrcSD(),width:this.props.size})}return c("React").createElement(c("Image.react"),{className:"_4jhq"+(this.props.loading?" _179t":""),height:this.props.size,src:this.props.uri,width:this.props.size})};l.prototype.$PagesProfilePicture2=function(){if(!this.props.editable||this.props.loading)return null;var m=this.props.modules.PagesProfilePictureEditMenu;m!=null||i(0);return c("React").createElement(m,this.props)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("PagesProfilePictureStore",["FluxReduceStore","PagesCoverType","PagesHeaderDispatcher","PagesHeaderPayloadType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{currentCoverType:c("PagesCoverType").COVER_PHOTO,editable:false,loading:false,modules:{PagesProfilePictureEditMenu:null},pageHasPhotos:false,pageID:"0",photoID:null,photoIsSquare:true,photoSourcePageID:"0",size:0,uri:null,videoData:null}};j.prototype.reduce=function(k,l){switch(l.type){case c("PagesHeaderPayloadType").PROFILE_PICTURE_DATA:return babelHelpers["extends"]({},k,l.data)}return k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesHeaderDispatcher"))}),null);
__d("PagesProfilePictureContainer.react",["FluxContainer","PagesHeaderDispatcher","PagesHeaderPayloadType","PagesProfilePicture.react","PagesProfilePictureStore","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("PagesProfilePictureStore")]};j.calculateState=function(){return c("PagesProfilePictureStore").getState()};j.prototype.componentWillMount=function(){c("PagesHeaderDispatcher").explicitlyRegisterStore(c("PagesProfilePictureStore"));c("PagesHeaderDispatcher").dispatch({data:this.props,type:c("PagesHeaderPayloadType").PROFILE_PICTURE_DATA})};j.prototype.render=function(){return c("React").createElement(c("PagesProfilePicture.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("PagesUsername.react",["ix","cx","fbt","BootloadedComponent.react","ChatOpenTabEventLogger","FantaTabActions","Image.react","JSResource","Link.react","LoadingDialog.react","MercuryIDs","PageContentTabMessageOwnerDialog","React","TooltipLink.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n);this.state={showDialog:false}}m.prototype.render=function(){__p&&__p();var n=this.props.username;if(n!=null)return this.props.isMessagingEnabled?c("React").createElement(c("TooltipLink.react"),{className:"_2wmb",href:"#",onClick:this.$PagesUsername1(),position:"below",tooltip:this.$PagesUsername2(n)},c("React").createElement("span",null,c("React").createElement(c("Image.react"),{className:"_3mj1",src:h("123858")}),"@"+n)):c("React").createElement(c("TooltipLink.react"),{className:"_2wmb",href:"#",position:"below",tooltip:this.$PagesUsername2(n)},"@"+n);if(!this.props.editable)return null;var o=null;if(this.state.showDialog)o=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("PageUsernameEditDialog.react").__setRef("PagesUsername.react"),bootloadPlaceholder:c("React").createElement(c("LoadingDialog.react"),null),existingUsername:n,pageID:this.props.pageID,pageName:this.props.name,profilePictureSrc:this.props.usernameEditDialogProfilePictureURI,onDialogToggle:function(p){this.setState({showDialog:p})}.bind(this)});return c("React").createElement("div",null,c("React").createElement(c("Link.react"),{className:"_2wmb",onClick:function(){this.setState({showDialog:true})}.bind(this)},j._("Create Page \u0040username")),o)};m.prototype.$PagesUsername2=function(n){if(this.props.editable&&!this.props.isMessagingEnabled)return j._("People can search for {username of a Page} to find your Page easily. You can change your \u0040username in the Page Info section.",[j.param("username of a Page","@"+n)]);return this.props.isMessagingEnabled&&this.props.editable?j._("Send {username of a Page} a message.",[j.param("username of a Page","@"+n)]):j._("Search for {username of a Page} on Facebook or in Messenger to find this Page easily.",[j.param("username of a Page","@"+n)])};m.prototype.$PagesUsername1=function(){__p&&__p();var n=this.props.isMessagingEnabled&&!this.props.showModal,o=this.props.isMessagingEnabled&&this.props.showModal;if(o)return function(event){c("PageContentTabMessageOwnerDialog").show(this.props.name,this.props.pageID)}.bind(this);else if(n)return function(event){var p=c("MercuryIDs").getThreadIDFromUserID(this.props.pageID);c("FantaTabActions").openTab(p);c("ChatOpenTabEventLogger").logUserClickOpen("page_username",this.props.pageID)}.bind(this);return null};f.exports=m}),null);
__d("EntityPageLayoutDockingElement",["DockingElement","EntityPageDockingElementController"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("DockingElement"));i=h&&h.prototype;j.prototype.register=function(){c("EntityPageDockingElementController").register(this.__queryDOM.bind(this),this.__updateWithCache.bind(this))};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("EntityPageRenderer",["ReactDOM","ReactRenderer","XUISubNavigationLoader"],(function a(b,c,d,e,f,g){var h={constructAndRenderComponent:function i(j,k,l,m){c("XUISubNavigationLoader").onLeave(function(){c("ReactDOM").unmountComponentAtNode(l)});return c("ReactRenderer").constructAndRenderComponentAcrossTransitions(j,k,l,m)}};f.exports=h}),null);